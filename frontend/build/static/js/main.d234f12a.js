/*! For license information please see main.d234f12a.js.LICENSE.txt */
(()=>{var e={4:(e,t,n)=>{"use strict";var i=n(853),r=n(43),o=n(950);function s(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function a(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)}function l(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(4098&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function c(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function u(e){if(l(e)!==e)throw Error(s(188))}function h(e){var t=e.tag;if(5===t||26===t||27===t||6===t)return e;for(e=e.child;null!==e;){if(null!==(t=h(e)))return t;e=e.sibling}return null}var d=Object.assign,p=Symbol.for("react.element"),f=Symbol.for("react.transitional.element"),m=Symbol.for("react.portal"),g=Symbol.for("react.fragment"),v=Symbol.for("react.strict_mode"),y=Symbol.for("react.profiler"),x=Symbol.for("react.provider"),b=Symbol.for("react.consumer"),w=Symbol.for("react.context"),_=Symbol.for("react.forward_ref"),S=Symbol.for("react.suspense"),M=Symbol.for("react.suspense_list"),E=Symbol.for("react.memo"),T=Symbol.for("react.lazy");Symbol.for("react.scope");var A=Symbol.for("react.activity");Symbol.for("react.legacy_hidden"),Symbol.for("react.tracing_marker");var C=Symbol.for("react.memo_cache_sentinel");Symbol.for("react.view_transition");var R=Symbol.iterator;function L(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=R&&e[R]||e["@@iterator"])?e:null}var P=Symbol.for("react.client.reference");function N(e){if(null==e)return null;if("function"===typeof e)return e.$$typeof===P?null:e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case g:return"Fragment";case y:return"Profiler";case v:return"StrictMode";case S:return"Suspense";case M:return"SuspenseList";case A:return"Activity"}if("object"===typeof e)switch(e.$$typeof){case m:return"Portal";case w:return(e.displayName||"Context")+".Provider";case b:return(e._context.displayName||"Context")+".Consumer";case _:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case E:return null!==(t=e.displayName||null)?t:N(e.type)||"Memo";case T:t=e._payload,e=e._init;try{return N(e(t))}catch(n){}}return null}var k=Array.isArray,O=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,D=o.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,j={pending:!1,data:null,method:null,action:null},F=[],I=-1;function z(e){return{current:e}}function B(e){0>I||(e.current=F[I],F[I]=null,I--)}function U(e,t){I++,F[I]=e.current,e.current=t}var H=z(null),G=z(null),V=z(null),W=z(null);function q(e,t){switch(U(V,t),U(G,e),U(H,null),t.nodeType){case 9:case 11:e=(e=t.documentElement)&&(e=e.namespaceURI)?rh(e):0;break;default:if(e=t.tagName,t=t.namespaceURI)e=oh(t=rh(t),e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}B(H),U(H,e)}function X(){B(H),B(G),B(V)}function Y(e){null!==e.memoizedState&&U(W,e);var t=H.current,n=oh(t,e.type);t!==n&&(U(G,e),U(H,n))}function J(e){G.current===e&&(B(H),B(G)),W.current===e&&(B(W),Yh._currentValue=j)}var Z=Object.prototype.hasOwnProperty,K=i.unstable_scheduleCallback,Q=i.unstable_cancelCallback,$=i.unstable_shouldYield,ee=i.unstable_requestPaint,te=i.unstable_now,ne=i.unstable_getCurrentPriorityLevel,ie=i.unstable_ImmediatePriority,re=i.unstable_UserBlockingPriority,oe=i.unstable_NormalPriority,se=i.unstable_LowPriority,ae=i.unstable_IdlePriority,le=i.log,ce=i.unstable_setDisableYieldValue,ue=null,he=null;function de(e){if("function"===typeof le&&ce(e),he&&"function"===typeof he.setStrictMode)try{he.setStrictMode(ue,e)}catch(t){}}var pe=Math.clz32?Math.clz32:function(e){return 0===(e>>>=0)?32:31-(fe(e)/me|0)|0},fe=Math.log,me=Math.LN2;var ge=256,ve=4194304;function ye(e){var t=42&e;if(0!==t)return t;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194048&e;case 4194304:case 8388608:case 16777216:case 33554432:return 62914560&e;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function xe(e,t,n){var i=e.pendingLanes;if(0===i)return 0;var r=0,o=e.suspendedLanes,s=e.pingedLanes;e=e.warmLanes;var a=134217727&i;return 0!==a?0!==(i=a&~o)?r=ye(i):0!==(s&=a)?r=ye(s):n||0!==(n=a&~e)&&(r=ye(n)):0!==(a=i&~o)?r=ye(a):0!==s?r=ye(s):n||0!==(n=i&~e)&&(r=ye(n)),0===r?0:0!==t&&t!==r&&0===(t&o)&&((o=r&-r)>=(n=t&-t)||32===o&&0!==(4194048&n))?t:r}function be(e,t){return 0===(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&t)}function we(e,t){switch(e){case 1:case 2:case 4:case 8:case 64:return t+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return-1}}function _e(){var e=ge;return 0===(4194048&(ge<<=1))&&(ge=256),e}function Se(){var e=ve;return 0===(62914560&(ve<<=1))&&(ve=4194304),e}function Me(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function Ee(e,t){e.pendingLanes|=t,268435456!==t&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function Te(e,t,n){e.pendingLanes|=t,e.suspendedLanes&=~t;var i=31-pe(t);e.entangledLanes|=t,e.entanglements[i]=1073741824|e.entanglements[i]|4194090&n}function Ae(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var i=31-pe(n),r=1<<i;r&t|e[i]&t&&(e[i]|=t),n&=~r}}function Ce(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function Re(e){return 2<(e&=-e)?8<e?0!==(134217727&e)?32:268435456:8:2}function Le(){var e=D.p;return 0!==e?e:void 0===(e=window.event)?32:cd(e.type)}var Pe=Math.random().toString(36).slice(2),Ne="__reactFiber$"+Pe,ke="__reactProps$"+Pe,Oe="__reactContainer$"+Pe,De="__reactEvents$"+Pe,je="__reactListeners$"+Pe,Fe="__reactHandles$"+Pe,Ie="__reactResources$"+Pe,ze="__reactMarker$"+Pe;function Be(e){delete e[Ne],delete e[ke],delete e[De],delete e[je],delete e[Fe]}function Ue(e){var t=e[Ne];if(t)return t;for(var n=e.parentNode;n;){if(t=n[Oe]||n[Ne]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=xh(e);null!==e;){if(n=e[Ne])return n;e=xh(e)}return t}n=(e=n).parentNode}return null}function He(e){if(e=e[Ne]||e[Oe]){var t=e.tag;if(5===t||6===t||13===t||26===t||27===t||3===t)return e}return null}function Ge(e){var t=e.tag;if(5===t||26===t||27===t||6===t)return e.stateNode;throw Error(s(33))}function Ve(e){var t=e[Ie];return t||(t=e[Ie]={hoistableStyles:new Map,hoistableScripts:new Map}),t}function We(e){e[ze]=!0}var qe=new Set,Xe={};function Ye(e,t){Je(e,t),Je(e+"Capture",t)}function Je(e,t){for(Xe[e]=t,e=0;e<t.length;e++)qe.add(t[e])}var Ze,Ke,Qe=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),$e={},et={};function tt(e,t,n){if(r=t,Z.call(et,r)||!Z.call($e,r)&&(Qe.test(r)?et[r]=!0:($e[r]=!0,0)))if(null===n)e.removeAttribute(t);else{switch(typeof n){case"undefined":case"function":case"symbol":return void e.removeAttribute(t);case"boolean":var i=t.toLowerCase().slice(0,5);if("data-"!==i&&"aria-"!==i)return void e.removeAttribute(t)}e.setAttribute(t,""+n)}var r}function nt(e,t,n){if(null===n)e.removeAttribute(t);else{switch(typeof n){case"undefined":case"function":case"symbol":case"boolean":return void e.removeAttribute(t)}e.setAttribute(t,""+n)}}function it(e,t,n,i){if(null===i)e.removeAttribute(n);else{switch(typeof i){case"undefined":case"function":case"symbol":case"boolean":return void e.removeAttribute(n)}e.setAttributeNS(t,n,""+i)}}function rt(e){if(void 0===Ze)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);Ze=t&&t[1]||"",Ke=-1<n.stack.indexOf("\n    at")?" (<anonymous>)":-1<n.stack.indexOf("@")?"@unknown:0:0":""}return"\n"+Ze+e+Ke}var ot=!1;function st(e,t){if(!e||ot)return"";ot=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var i={DetermineComponentFrameRoot:function(){try{if(t){var n=function(){throw Error()};if(Object.defineProperty(n.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(n,[])}catch(r){var i=r}Reflect.construct(e,[],n)}else{try{n.call()}catch(o){i=o}e.call(n.prototype)}}else{try{throw Error()}catch(s){i=s}(n=e())&&"function"===typeof n.catch&&n.catch((function(){}))}}catch(a){if(a&&i&&"string"===typeof a.stack)return[a.stack,i.stack]}return[null,null]}};i.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var r=Object.getOwnPropertyDescriptor(i.DetermineComponentFrameRoot,"name");r&&r.configurable&&Object.defineProperty(i.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var o=i.DetermineComponentFrameRoot(),s=o[0],a=o[1];if(s&&a){var l=s.split("\n"),c=a.split("\n");for(r=i=0;i<l.length&&!l[i].includes("DetermineComponentFrameRoot");)i++;for(;r<c.length&&!c[r].includes("DetermineComponentFrameRoot");)r++;if(i===l.length||r===c.length)for(i=l.length-1,r=c.length-1;1<=i&&0<=r&&l[i]!==c[r];)r--;for(;1<=i&&0<=r;i--,r--)if(l[i]!==c[r]){if(1!==i||1!==r)do{if(i--,0>--r||l[i]!==c[r]){var u="\n"+l[i].replace(" at new "," at ");return e.displayName&&u.includes("<anonymous>")&&(u=u.replace("<anonymous>",e.displayName)),u}}while(1<=i&&0<=r);break}}}finally{ot=!1,Error.prepareStackTrace=n}return(n=e?e.displayName||e.name:"")?rt(n):""}function at(e){switch(e.tag){case 26:case 27:case 5:return rt(e.type);case 16:return rt("Lazy");case 13:return rt("Suspense");case 19:return rt("SuspenseList");case 0:case 15:return st(e.type,!1);case 11:return st(e.type.render,!1);case 1:return st(e.type,!0);case 31:return rt("Activity");default:return""}}function lt(e){try{var t="";do{t+=at(e),e=e.return}while(e);return t}catch(n){return"\nError generating stack: "+n.message+"\n"+n.stack}}function ct(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}function ut(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function ht(e){e._valueTracker||(e._valueTracker=function(e){var t=ut(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),i=""+e[t];if(!e.hasOwnProperty(t)&&"undefined"!==typeof n&&"function"===typeof n.get&&"function"===typeof n.set){var r=n.get,o=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return r.call(this)},set:function(e){i=""+e,o.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return i},setValue:function(e){i=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function dt(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),i="";return e&&(i=ut(e)?e.checked?"true":"false":e.value),(e=i)!==n&&(t.setValue(e),!0)}function pt(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}var ft=/[\n"\\]/g;function mt(e){return e.replace(ft,(function(e){return"\\"+e.charCodeAt(0).toString(16)+" "}))}function gt(e,t,n,i,r,o,s,a){e.name="",null!=s&&"function"!==typeof s&&"symbol"!==typeof s&&"boolean"!==typeof s?e.type=s:e.removeAttribute("type"),null!=t?"number"===s?(0===t&&""===e.value||e.value!=t)&&(e.value=""+ct(t)):e.value!==""+ct(t)&&(e.value=""+ct(t)):"submit"!==s&&"reset"!==s||e.removeAttribute("value"),null!=t?yt(e,s,ct(t)):null!=n?yt(e,s,ct(n)):null!=i&&e.removeAttribute("value"),null==r&&null!=o&&(e.defaultChecked=!!o),null!=r&&(e.checked=r&&"function"!==typeof r&&"symbol"!==typeof r),null!=a&&"function"!==typeof a&&"symbol"!==typeof a&&"boolean"!==typeof a?e.name=""+ct(a):e.removeAttribute("name")}function vt(e,t,n,i,r,o,s,a){if(null!=o&&"function"!==typeof o&&"symbol"!==typeof o&&"boolean"!==typeof o&&(e.type=o),null!=t||null!=n){if(!("submit"!==o&&"reset"!==o||void 0!==t&&null!==t))return;n=null!=n?""+ct(n):"",t=null!=t?""+ct(t):n,a||t===e.value||(e.value=t),e.defaultValue=t}i="function"!==typeof(i=null!=i?i:r)&&"symbol"!==typeof i&&!!i,e.checked=a?e.checked:!!i,e.defaultChecked=!!i,null!=s&&"function"!==typeof s&&"symbol"!==typeof s&&"boolean"!==typeof s&&(e.name=s)}function yt(e,t,n){"number"===t&&pt(e.ownerDocument)===e||e.defaultValue===""+n||(e.defaultValue=""+n)}function xt(e,t,n,i){if(e=e.options,t){t={};for(var r=0;r<n.length;r++)t["$"+n[r]]=!0;for(n=0;n<e.length;n++)r=t.hasOwnProperty("$"+e[n].value),e[n].selected!==r&&(e[n].selected=r),r&&i&&(e[n].defaultSelected=!0)}else{for(n=""+ct(n),t=null,r=0;r<e.length;r++){if(e[r].value===n)return e[r].selected=!0,void(i&&(e[r].defaultSelected=!0));null!==t||e[r].disabled||(t=e[r])}null!==t&&(t.selected=!0)}}function bt(e,t,n){null==t||((t=""+ct(t))!==e.value&&(e.value=t),null!=n)?e.defaultValue=null!=n?""+ct(n):"":e.defaultValue!==t&&(e.defaultValue=t)}function wt(e,t,n,i){if(null==t){if(null!=i){if(null!=n)throw Error(s(92));if(k(i)){if(1<i.length)throw Error(s(93));i=i[0]}n=i}null==n&&(n=""),t=n}n=ct(t),e.defaultValue=n,(i=e.textContent)===n&&""!==i&&null!==i&&(e.value=i)}function _t(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var St=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Mt(e,t,n){var i=0===t.indexOf("--");null==n||"boolean"===typeof n||""===n?i?e.setProperty(t,""):"float"===t?e.cssFloat="":e[t]="":i?e.setProperty(t,n):"number"!==typeof n||0===n||St.has(t)?"float"===t?e.cssFloat=n:e[t]=(""+n).trim():e[t]=n+"px"}function Et(e,t,n){if(null!=t&&"object"!==typeof t)throw Error(s(62));if(e=e.style,null!=n){for(var i in n)!n.hasOwnProperty(i)||null!=t&&t.hasOwnProperty(i)||(0===i.indexOf("--")?e.setProperty(i,""):"float"===i?e.cssFloat="":e[i]="");for(var r in t)i=t[r],t.hasOwnProperty(r)&&n[r]!==i&&Mt(e,r,i)}else for(var o in t)t.hasOwnProperty(o)&&Mt(e,o,t[o])}function Tt(e){if(-1===e.indexOf("-"))return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var At=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Ct=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Rt(e){return Ct.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}var Lt=null;function Pt(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var Nt=null,kt=null;function Ot(e){var t=He(e);if(t&&(e=t.stateNode)){var n=e[ke]||null;e:switch(e=t.stateNode,t.type){case"input":if(gt(e,n.value,n.defaultValue,n.defaultValue,n.checked,n.defaultChecked,n.type,n.name),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll('input[name="'+mt(""+t)+'"][type="radio"]'),t=0;t<n.length;t++){var i=n[t];if(i!==e&&i.form===e.form){var r=i[ke]||null;if(!r)throw Error(s(90));gt(i,r.value,r.defaultValue,r.defaultValue,r.checked,r.defaultChecked,r.type,r.name)}}for(t=0;t<n.length;t++)(i=n[t]).form===e.form&&dt(i)}break e;case"textarea":bt(e,n.value,n.defaultValue);break e;case"select":null!=(t=n.value)&&xt(e,!!n.multiple,t,!1)}}}var Dt=!1;function jt(e,t,n){if(Dt)return e(t,n);Dt=!0;try{return e(t)}finally{if(Dt=!1,(null!==Nt||null!==kt)&&(Uc(),Nt&&(t=Nt,e=kt,kt=Nt=null,Ot(t),e)))for(t=0;t<e.length;t++)Ot(e[t])}}function Ft(e,t){var n=e.stateNode;if(null===n)return null;var i=n[ke]||null;if(null===i)return null;n=i[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(i=!i.disabled)||(i=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!i;break e;default:e=!1}if(e)return null;if(n&&"function"!==typeof n)throw Error(s(231,t,typeof n));return n}var It=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),zt=!1;if(It)try{var Bt={};Object.defineProperty(Bt,"passive",{get:function(){zt=!0}}),window.addEventListener("test",Bt,Bt),window.removeEventListener("test",Bt,Bt)}catch(kd){zt=!1}var Ut=null,Ht=null,Gt=null;function Vt(){if(Gt)return Gt;var e,t,n=Ht,i=n.length,r="value"in Ut?Ut.value:Ut.textContent,o=r.length;for(e=0;e<i&&n[e]===r[e];e++);var s=i-e;for(t=1;t<=s&&n[i-t]===r[o-t];t++);return Gt=r.slice(e,1<t?1-t:void 0)}function Wt(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function qt(){return!0}function Xt(){return!1}function Yt(e){function t(t,n,i,r,o){for(var s in this._reactName=t,this._targetInst=i,this.type=n,this.nativeEvent=r,this.target=o,this.currentTarget=null,e)e.hasOwnProperty(s)&&(t=e[s],this[s]=t?t(r):r[s]);return this.isDefaultPrevented=(null!=r.defaultPrevented?r.defaultPrevented:!1===r.returnValue)?qt:Xt,this.isPropagationStopped=Xt,this}return d(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=qt)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=qt)},persist:function(){},isPersistent:qt}),t}var Jt,Zt,Kt,Qt={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},$t=Yt(Qt),en=d({},Qt,{view:0,detail:0}),tn=Yt(en),nn=d({},en,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:fn,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Kt&&(Kt&&"mousemove"===e.type?(Jt=e.screenX-Kt.screenX,Zt=e.screenY-Kt.screenY):Zt=Jt=0,Kt=e),Jt)},movementY:function(e){return"movementY"in e?e.movementY:Zt}}),rn=Yt(nn),on=Yt(d({},nn,{dataTransfer:0})),sn=Yt(d({},en,{relatedTarget:0})),an=Yt(d({},Qt,{animationName:0,elapsedTime:0,pseudoElement:0})),ln=Yt(d({},Qt,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}})),cn=Yt(d({},Qt,{data:0})),un={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},hn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},dn={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function pn(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=dn[e])&&!!t[e]}function fn(){return pn}var mn=Yt(d({},en,{key:function(e){if(e.key){var t=un[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=Wt(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?hn[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:fn,charCode:function(e){return"keypress"===e.type?Wt(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?Wt(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}})),gn=Yt(d({},nn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),vn=Yt(d({},en,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:fn})),yn=Yt(d({},Qt,{propertyName:0,elapsedTime:0,pseudoElement:0})),xn=Yt(d({},nn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0})),bn=Yt(d({},Qt,{newState:0,oldState:0})),wn=[9,13,27,32],_n=It&&"CompositionEvent"in window,Sn=null;It&&"documentMode"in document&&(Sn=document.documentMode);var Mn=It&&"TextEvent"in window&&!Sn,En=It&&(!_n||Sn&&8<Sn&&11>=Sn),Tn=String.fromCharCode(32),An=!1;function Cn(e,t){switch(e){case"keyup":return-1!==wn.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Rn(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var Ln=!1;var Pn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Nn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!Pn[e.type]:"textarea"===t}function kn(e,t,n,i){Nt?kt?kt.push(i):kt=[i]:Nt=i,0<(t=Vu(t,"onChange")).length&&(n=new $t("onChange","change",null,n,i),e.push({event:n,listeners:t}))}var On=null,Dn=null;function jn(e){ju(e,0)}function Fn(e){if(dt(Ge(e)))return e}function In(e,t){if("change"===e)return t}var zn=!1;if(It){var Bn;if(It){var Un="oninput"in document;if(!Un){var Hn=document.createElement("div");Hn.setAttribute("oninput","return;"),Un="function"===typeof Hn.oninput}Bn=Un}else Bn=!1;zn=Bn&&(!document.documentMode||9<document.documentMode)}function Gn(){On&&(On.detachEvent("onpropertychange",Vn),Dn=On=null)}function Vn(e){if("value"===e.propertyName&&Fn(Dn)){var t=[];kn(t,Dn,e,Pt(e)),jt(jn,t)}}function Wn(e,t,n){"focusin"===e?(Gn(),Dn=n,(On=t).attachEvent("onpropertychange",Vn)):"focusout"===e&&Gn()}function qn(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return Fn(Dn)}function Xn(e,t){if("click"===e)return Fn(t)}function Yn(e,t){if("input"===e||"change"===e)return Fn(t)}var Jn="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t};function Zn(e,t){if(Jn(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),i=Object.keys(t);if(n.length!==i.length)return!1;for(i=0;i<n.length;i++){var r=n[i];if(!Z.call(t,r)||!Jn(e[r],t[r]))return!1}return!0}function Kn(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Qn(e,t){var n,i=Kn(e);for(e=0;i;){if(3===i.nodeType){if(n=e+i.textContent.length,e<=t&&n>=t)return{node:i,offset:t-e};e=n}e:{for(;i;){if(i.nextSibling){i=i.nextSibling;break e}i=i.parentNode}i=void 0}i=Kn(i)}}function $n(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?$n(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function ei(e){for(var t=pt((e=null!=e&&null!=e.ownerDocument&&null!=e.ownerDocument.defaultView?e.ownerDocument.defaultView:window).document);t instanceof e.HTMLIFrameElement;){try{var n="string"===typeof t.contentWindow.location.href}catch(i){n=!1}if(!n)break;t=pt((e=t.contentWindow).document)}return t}function ti(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}var ni=It&&"documentMode"in document&&11>=document.documentMode,ii=null,ri=null,oi=null,si=!1;function ai(e,t,n){var i=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;si||null==ii||ii!==pt(i)||("selectionStart"in(i=ii)&&ti(i)?i={start:i.selectionStart,end:i.selectionEnd}:i={anchorNode:(i=(i.ownerDocument&&i.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:i.anchorOffset,focusNode:i.focusNode,focusOffset:i.focusOffset},oi&&Zn(oi,i)||(oi=i,0<(i=Vu(ri,"onSelect")).length&&(t=new $t("onSelect","select",null,t,n),e.push({event:t,listeners:i}),t.target=ii)))}function li(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var ci={animationend:li("Animation","AnimationEnd"),animationiteration:li("Animation","AnimationIteration"),animationstart:li("Animation","AnimationStart"),transitionrun:li("Transition","TransitionRun"),transitionstart:li("Transition","TransitionStart"),transitioncancel:li("Transition","TransitionCancel"),transitionend:li("Transition","TransitionEnd")},ui={},hi={};function di(e){if(ui[e])return ui[e];if(!ci[e])return e;var t,n=ci[e];for(t in n)if(n.hasOwnProperty(t)&&t in hi)return ui[e]=n[t];return e}It&&(hi=document.createElement("div").style,"AnimationEvent"in window||(delete ci.animationend.animation,delete ci.animationiteration.animation,delete ci.animationstart.animation),"TransitionEvent"in window||delete ci.transitionend.transition);var pi=di("animationend"),fi=di("animationiteration"),mi=di("animationstart"),gi=di("transitionrun"),vi=di("transitionstart"),yi=di("transitioncancel"),xi=di("transitionend"),bi=new Map,wi="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function _i(e,t){bi.set(e,t),Ye(t,[e])}wi.push("scrollEnd");var Si=new WeakMap;function Mi(e,t){if("object"===typeof e&&null!==e){var n=Si.get(e);return void 0!==n?n:(t={value:e,source:t,stack:lt(t)},Si.set(e,t),t)}return{value:e,source:t,stack:lt(t)}}var Ei=[],Ti=0,Ai=0;function Ci(){for(var e=Ti,t=Ai=Ti=0;t<e;){var n=Ei[t];Ei[t++]=null;var i=Ei[t];Ei[t++]=null;var r=Ei[t];Ei[t++]=null;var o=Ei[t];if(Ei[t++]=null,null!==i&&null!==r){var s=i.pending;null===s?r.next=r:(r.next=s.next,s.next=r),i.pending=r}0!==o&&Ni(n,r,o)}}function Ri(e,t,n,i){Ei[Ti++]=e,Ei[Ti++]=t,Ei[Ti++]=n,Ei[Ti++]=i,Ai|=i,e.lanes|=i,null!==(e=e.alternate)&&(e.lanes|=i)}function Li(e,t,n,i){return Ri(e,t,n,i),ki(e)}function Pi(e,t){return Ri(e,null,null,t),ki(e)}function Ni(e,t,n){e.lanes|=n;var i=e.alternate;null!==i&&(i.lanes|=n);for(var r=!1,o=e.return;null!==o;)o.childLanes|=n,null!==(i=o.alternate)&&(i.childLanes|=n),22===o.tag&&(null===(e=o.stateNode)||1&e._visibility||(r=!0)),e=o,o=o.return;return 3===e.tag?(o=e.stateNode,r&&null!==t&&(r=31-pe(n),null===(i=(e=o.hiddenUpdates)[r])?e[r]=[t]:i.push(t),t.lane=536870912|n),o):null}function ki(e){if(50<Nc)throw Nc=0,kc=null,Error(s(185));for(var t=e.return;null!==t;)t=(e=t).return;return 3===e.tag?e.stateNode:null}var Oi={};function Di(e,t,n,i){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=i,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function ji(e,t,n,i){return new Di(e,t,n,i)}function Fi(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Ii(e,t){var n=e.alternate;return null===n?((n=ji(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=65011712&e.flags,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n.refCleanup=e.refCleanup,n}function zi(e,t){e.flags&=65011714;var n=e.alternate;return null===n?(e.childLanes=0,e.lanes=t,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=n.childLanes,e.lanes=n.lanes,e.child=n.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=n.memoizedProps,e.memoizedState=n.memoizedState,e.updateQueue=n.updateQueue,e.type=n.type,t=n.dependencies,e.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext}),e}function Bi(e,t,n,i,r,o){var a=0;if(i=e,"function"===typeof e)Fi(e)&&(a=1);else if("string"===typeof e)a=function(e,t,n){if(1===n||null!=t.itemProp)return!1;switch(e){case"meta":case"title":return!0;case"style":if("string"!==typeof t.precedence||"string"!==typeof t.href||""===t.href)break;return!0;case"link":if("string"!==typeof t.rel||"string"!==typeof t.href||""===t.href||t.onLoad||t.onError)break;return"stylesheet"!==t.rel||(e=t.disabled,"string"===typeof t.precedence&&null==e);case"script":if(t.async&&"function"!==typeof t.async&&"symbol"!==typeof t.async&&!t.onLoad&&!t.onError&&t.src&&"string"===typeof t.src)return!0}return!1}(e,n,H.current)?26:"html"===e||"head"===e||"body"===e?27:5;else e:switch(e){case A:return(e=ji(31,n,t,r)).elementType=A,e.lanes=o,e;case g:return Ui(n.children,r,o,t);case v:a=8,r|=24;break;case y:return(e=ji(12,n,t,2|r)).elementType=y,e.lanes=o,e;case S:return(e=ji(13,n,t,r)).elementType=S,e.lanes=o,e;case M:return(e=ji(19,n,t,r)).elementType=M,e.lanes=o,e;default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case x:case w:a=10;break e;case b:a=9;break e;case _:a=11;break e;case E:a=14;break e;case T:a=16,i=null;break e}a=29,n=Error(s(130,null===e?"null":typeof e,"")),i=null}return(t=ji(a,n,t,r)).elementType=e,t.type=i,t.lanes=o,t}function Ui(e,t,n,i){return(e=ji(7,e,i,t)).lanes=n,e}function Hi(e,t,n){return(e=ji(6,e,null,t)).lanes=n,e}function Gi(e,t,n){return(t=ji(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}var Vi=[],Wi=0,qi=null,Xi=0,Yi=[],Ji=0,Zi=null,Ki=1,Qi="";function $i(e,t){Vi[Wi++]=Xi,Vi[Wi++]=qi,qi=e,Xi=t}function er(e,t,n){Yi[Ji++]=Ki,Yi[Ji++]=Qi,Yi[Ji++]=Zi,Zi=e;var i=Ki;e=Qi;var r=32-pe(i)-1;i&=~(1<<r),n+=1;var o=32-pe(t)+r;if(30<o){var s=r-r%5;o=(i&(1<<s)-1).toString(32),i>>=s,r-=s,Ki=1<<32-pe(t)+r|n<<r|i,Qi=o+e}else Ki=1<<o|n<<r|i,Qi=e}function tr(e){null!==e.return&&($i(e,1),er(e,1,0))}function nr(e){for(;e===qi;)qi=Vi[--Wi],Vi[Wi]=null,Xi=Vi[--Wi],Vi[Wi]=null;for(;e===Zi;)Zi=Yi[--Ji],Yi[Ji]=null,Qi=Yi[--Ji],Yi[Ji]=null,Ki=Yi[--Ji],Yi[Ji]=null}var ir=null,rr=null,or=!1,sr=null,ar=!1,lr=Error(s(519));function cr(e){throw mr(Mi(Error(s(418,"")),e)),lr}function ur(e){var t=e.stateNode,n=e.type,i=e.memoizedProps;switch(t[Ne]=e,t[ke]=i,n){case"dialog":Fu("cancel",t),Fu("close",t);break;case"iframe":case"object":case"embed":Fu("load",t);break;case"video":case"audio":for(n=0;n<Ou.length;n++)Fu(Ou[n],t);break;case"source":Fu("error",t);break;case"img":case"image":case"link":Fu("error",t),Fu("load",t);break;case"details":Fu("toggle",t);break;case"input":Fu("invalid",t),vt(t,i.value,i.defaultValue,i.checked,i.defaultChecked,i.type,i.name,!0),ht(t);break;case"select":Fu("invalid",t);break;case"textarea":Fu("invalid",t),wt(t,i.value,i.defaultValue,i.children),ht(t)}"string"!==typeof(n=i.children)&&"number"!==typeof n&&"bigint"!==typeof n||t.textContent===""+n||!0===i.suppressHydrationWarning||Zu(t.textContent,n)?(null!=i.popover&&(Fu("beforetoggle",t),Fu("toggle",t)),null!=i.onScroll&&Fu("scroll",t),null!=i.onScrollEnd&&Fu("scrollend",t),null!=i.onClick&&(t.onclick=Ku),t=!0):t=!1,t||cr(e)}function hr(e){for(ir=e.return;ir;)switch(ir.tag){case 5:case 13:return void(ar=!1);case 27:case 3:return void(ar=!0);default:ir=ir.return}}function dr(e){if(e!==ir)return!1;if(!or)return hr(e),or=!0,!1;var t,n=e.tag;if((t=3!==n&&27!==n)&&((t=5===n)&&(t=!("form"!==(t=e.type)&&"button"!==t)||sh(e.type,e.memoizedProps)),t=!t),t&&rr&&cr(e),hr(e),13===n){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(s(317));e:{for(e=e.nextSibling,n=0;e;){if(8===e.nodeType)if("/$"===(t=e.data)){if(0===n){rr=vh(e.nextSibling);break e}n--}else"$"!==t&&"$!"!==t&&"$?"!==t||n++;e=e.nextSibling}rr=null}}else 27===n?(n=rr,ph(e.type)?(e=yh,yh=null,rr=e):rr=n):rr=ir?vh(e.stateNode.nextSibling):null;return!0}function pr(){rr=ir=null,or=!1}function fr(){var e=sr;return null!==e&&(null===xc?xc=e:xc.push.apply(xc,e),sr=null),e}function mr(e){null===sr?sr=[e]:sr.push(e)}var gr=z(null),vr=null,yr=null;function xr(e,t,n){U(gr,t._currentValue),t._currentValue=n}function br(e){e._currentValue=gr.current,B(gr)}function wr(e,t,n){for(;null!==e;){var i=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==i&&(i.childLanes|=t)):null!==i&&(i.childLanes&t)!==t&&(i.childLanes|=t),e===n)break;e=e.return}}function _r(e,t,n,i){var r=e.child;for(null!==r&&(r.return=e);null!==r;){var o=r.dependencies;if(null!==o){var a=r.child;o=o.firstContext;e:for(;null!==o;){var l=o;o=r;for(var c=0;c<t.length;c++)if(l.context===t[c]){o.lanes|=n,null!==(l=o.alternate)&&(l.lanes|=n),wr(o.return,n,e),i||(a=null);break e}o=l.next}}else if(18===r.tag){if(null===(a=r.return))throw Error(s(341));a.lanes|=n,null!==(o=a.alternate)&&(o.lanes|=n),wr(a,n,e),a=null}else a=r.child;if(null!==a)a.return=r;else for(a=r;null!==a;){if(a===e){a=null;break}if(null!==(r=a.sibling)){r.return=a.return,a=r;break}a=a.return}r=a}}function Sr(e,t,n,i){e=null;for(var r=t,o=!1;null!==r;){if(!o)if(0!==(524288&r.flags))o=!0;else if(0!==(262144&r.flags))break;if(10===r.tag){var a=r.alternate;if(null===a)throw Error(s(387));if(null!==(a=a.memoizedProps)){var l=r.type;Jn(r.pendingProps.value,a.value)||(null!==e?e.push(l):e=[l])}}else if(r===W.current){if(null===(a=r.alternate))throw Error(s(387));a.memoizedState.memoizedState!==r.memoizedState.memoizedState&&(null!==e?e.push(Yh):e=[Yh])}r=r.return}null!==e&&_r(t,e,n,i),t.flags|=262144}function Mr(e){for(e=e.firstContext;null!==e;){if(!Jn(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function Er(e){vr=e,yr=null,null!==(e=e.dependencies)&&(e.firstContext=null)}function Tr(e){return Cr(vr,e)}function Ar(e,t){return null===vr&&Er(e),Cr(e,t)}function Cr(e,t){var n=t._currentValue;if(t={context:t,memoizedValue:n,next:null},null===yr){if(null===e)throw Error(s(308));yr=t,e.dependencies={lanes:0,firstContext:t},e.flags|=524288}else yr=yr.next=t;return n}var Rr="undefined"!==typeof AbortController?AbortController:function(){var e=[],t=this.signal={aborted:!1,addEventListener:function(t,n){e.push(n)}};this.abort=function(){t.aborted=!0,e.forEach((function(e){return e()}))}},Lr=i.unstable_scheduleCallback,Pr=i.unstable_NormalPriority,Nr={$$typeof:w,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function kr(){return{controller:new Rr,data:new Map,refCount:0}}function Or(e){e.refCount--,0===e.refCount&&Lr(Pr,(function(){e.controller.abort()}))}var Dr=null,jr=0,Fr=0,Ir=null;function zr(){if(0===--jr&&null!==Dr){null!==Ir&&(Ir.status="fulfilled");var e=Dr;Dr=null,Fr=0,Ir=null;for(var t=0;t<e.length;t++)(0,e[t])()}}var Br=O.S;O.S=function(e,t){"object"===typeof t&&null!==t&&"function"===typeof t.then&&function(e,t){if(null===Dr){var n=Dr=[];jr=0,Fr=Ru(),Ir={status:"pending",value:void 0,then:function(e){n.push(e)}}}jr++,t.then(zr,zr)}(0,t),null!==Br&&Br(e,t)};var Ur=z(null);function Hr(){var e=Ur.current;return null!==e?e:ic.pooledCache}function Gr(e,t){U(Ur,null===t?Ur.current:t.pool)}function Vr(){var e=Hr();return null===e?null:{parent:Nr._currentValue,pool:e}}var Wr=Error(s(460)),qr=Error(s(474)),Xr=Error(s(542)),Yr={then:function(){}};function Jr(e){return"fulfilled"===(e=e.status)||"rejected"===e}function Zr(){}function Kr(e,t,n){switch(void 0===(n=e[n])?e.push(t):n!==t&&(t.then(Zr,Zr),t=n),t.status){case"fulfilled":return t.value;case"rejected":throw eo(e=t.reason),e;default:if("string"===typeof t.status)t.then(Zr,Zr);else{if(null!==(e=ic)&&100<e.shellSuspendCounter)throw Error(s(482));(e=t).status="pending",e.then((function(e){if("pending"===t.status){var n=t;n.status="fulfilled",n.value=e}}),(function(e){if("pending"===t.status){var n=t;n.status="rejected",n.reason=e}}))}switch(t.status){case"fulfilled":return t.value;case"rejected":throw eo(e=t.reason),e}throw Qr=t,Wr}}var Qr=null;function $r(){if(null===Qr)throw Error(s(459));var e=Qr;return Qr=null,e}function eo(e){if(e===Wr||e===Xr)throw Error(s(483))}var to=!1;function no(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function io(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function ro(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function oo(e,t,n){var i=e.updateQueue;if(null===i)return null;if(i=i.shared,0!==(2&nc)){var r=i.pending;return null===r?t.next=t:(t.next=r.next,r.next=t),i.pending=t,t=ki(e),Ni(e,null,n),t}return Ri(e,i,t,n),ki(e)}function so(e,t,n){if(null!==(t=t.updateQueue)&&(t=t.shared,0!==(4194048&n))){var i=t.lanes;n|=i&=e.pendingLanes,t.lanes=n,Ae(e,n)}}function ao(e,t){var n=e.updateQueue,i=e.alternate;if(null!==i&&n===(i=i.updateQueue)){var r=null,o=null;if(null!==(n=n.firstBaseUpdate)){do{var s={lane:n.lane,tag:n.tag,payload:n.payload,callback:null,next:null};null===o?r=o=s:o=o.next=s,n=n.next}while(null!==n);null===o?r=o=t:o=o.next=t}else r=o=t;return n={baseState:i.baseState,firstBaseUpdate:r,lastBaseUpdate:o,shared:i.shared,callbacks:i.callbacks},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}var lo=!1;function co(){if(lo){if(null!==Ir)throw Ir}}function uo(e,t,n,i){lo=!1;var r=e.updateQueue;to=!1;var o=r.firstBaseUpdate,s=r.lastBaseUpdate,a=r.shared.pending;if(null!==a){r.shared.pending=null;var l=a,c=l.next;l.next=null,null===s?o=c:s.next=c,s=l;var u=e.alternate;null!==u&&((a=(u=u.updateQueue).lastBaseUpdate)!==s&&(null===a?u.firstBaseUpdate=c:a.next=c,u.lastBaseUpdate=l))}if(null!==o){var h=r.baseState;for(s=0,u=c=l=null,a=o;;){var p=-536870913&a.lane,f=p!==a.lane;if(f?(oc&p)===p:(i&p)===p){0!==p&&p===Fr&&(lo=!0),null!==u&&(u=u.next={lane:0,tag:a.tag,payload:a.payload,callback:null,next:null});e:{var m=e,g=a;p=t;var v=n;switch(g.tag){case 1:if("function"===typeof(m=g.payload)){h=m.call(v,h,p);break e}h=m;break e;case 3:m.flags=-65537&m.flags|128;case 0:if(null===(p="function"===typeof(m=g.payload)?m.call(v,h,p):m)||void 0===p)break e;h=d({},h,p);break e;case 2:to=!0}}null!==(p=a.callback)&&(e.flags|=64,f&&(e.flags|=8192),null===(f=r.callbacks)?r.callbacks=[p]:f.push(p))}else f={lane:p,tag:a.tag,payload:a.payload,callback:a.callback,next:null},null===u?(c=u=f,l=h):u=u.next=f,s|=p;if(null===(a=a.next)){if(null===(a=r.shared.pending))break;a=(f=a).next,f.next=null,r.lastBaseUpdate=f,r.shared.pending=null}}null===u&&(l=h),r.baseState=l,r.firstBaseUpdate=c,r.lastBaseUpdate=u,null===o&&(r.shared.lanes=0),pc|=s,e.lanes=s,e.memoizedState=h}}function ho(e,t){if("function"!==typeof e)throw Error(s(191,e));e.call(t)}function po(e,t){var n=e.callbacks;if(null!==n)for(e.callbacks=null,e=0;e<n.length;e++)ho(n[e],t)}var fo=z(null),mo=z(0);function go(e,t){U(mo,e=hc),U(fo,t),hc=e|t.baseLanes}function vo(){U(mo,hc),U(fo,fo.current)}function yo(){hc=mo.current,B(fo),B(mo)}var xo=0,bo=null,wo=null,_o=null,So=!1,Mo=!1,Eo=!1,To=0,Ao=0,Co=null,Ro=0;function Lo(){throw Error(s(321))}function Po(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!Jn(e[n],t[n]))return!1;return!0}function No(e,t,n,i,r,o){return xo=o,bo=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,O.H=null===e||null===e.memoizedState?qs:Xs,Eo=!1,o=n(i,r),Eo=!1,Mo&&(o=Oo(t,n,i,r)),ko(e),o}function ko(e){O.H=Ws;var t=null!==wo&&null!==wo.next;if(xo=0,_o=wo=bo=null,So=!1,Ao=0,Co=null,t)throw Error(s(300));null===e||Aa||null!==(e=e.dependencies)&&Mr(e)&&(Aa=!0)}function Oo(e,t,n,i){bo=e;var r=0;do{if(Mo&&(Co=null),Ao=0,Mo=!1,25<=r)throw Error(s(301));if(r+=1,_o=wo=null,null!=e.updateQueue){var o=e.updateQueue;o.lastEffect=null,o.events=null,o.stores=null,null!=o.memoCache&&(o.memoCache.index=0)}O.H=Ys,o=t(n,i)}while(Mo);return o}function Do(){var e=O.H,t=e.useState()[0];return t="function"===typeof t.then?Uo(t):t,e=e.useState()[0],(null!==wo?wo.memoizedState:null)!==e&&(bo.flags|=1024),t}function jo(){var e=0!==To;return To=0,e}function Fo(e,t,n){t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~n}function Io(e){if(So){for(e=e.memoizedState;null!==e;){var t=e.queue;null!==t&&(t.pending=null),e=e.next}So=!1}xo=0,_o=wo=bo=null,Mo=!1,Ao=To=0,Co=null}function zo(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===_o?bo.memoizedState=_o=e:_o=_o.next=e,_o}function Bo(){if(null===wo){var e=bo.alternate;e=null!==e?e.memoizedState:null}else e=wo.next;var t=null===_o?bo.memoizedState:_o.next;if(null!==t)_o=t,wo=e;else{if(null===e){if(null===bo.alternate)throw Error(s(467));throw Error(s(310))}e={memoizedState:(wo=e).memoizedState,baseState:wo.baseState,baseQueue:wo.baseQueue,queue:wo.queue,next:null},null===_o?bo.memoizedState=_o=e:_o=_o.next=e}return _o}function Uo(e){var t=Ao;return Ao+=1,null===Co&&(Co=[]),e=Kr(Co,e,t),t=bo,null===(null===_o?t.memoizedState:_o.next)&&(t=t.alternate,O.H=null===t||null===t.memoizedState?qs:Xs),e}function Ho(e){if(null!==e&&"object"===typeof e){if("function"===typeof e.then)return Uo(e);if(e.$$typeof===w)return Tr(e)}throw Error(s(438,String(e)))}function Go(e){var t=null,n=bo.updateQueue;if(null!==n&&(t=n.memoCache),null==t){var i=bo.alternate;null!==i&&(null!==(i=i.updateQueue)&&(null!=(i=i.memoCache)&&(t={data:i.data.map((function(e){return e.slice()})),index:0})))}if(null==t&&(t={data:[],index:0}),null===n&&(n={lastEffect:null,events:null,stores:null,memoCache:null},bo.updateQueue=n),n.memoCache=t,void 0===(n=t.data[t.index]))for(n=t.data[t.index]=Array(e),i=0;i<e;i++)n[i]=C;return t.index++,n}function Vo(e,t){return"function"===typeof t?t(e):t}function Wo(e){return qo(Bo(),wo,e)}function qo(e,t,n){var i=e.queue;if(null===i)throw Error(s(311));i.lastRenderedReducer=n;var r=e.baseQueue,o=i.pending;if(null!==o){if(null!==r){var a=r.next;r.next=o.next,o.next=a}t.baseQueue=r=o,i.pending=null}if(o=e.baseState,null===r)e.memoizedState=o;else{var l=a=null,c=null,u=t=r.next,h=!1;do{var d=-536870913&u.lane;if(d!==u.lane?(oc&d)===d:(xo&d)===d){var p=u.revertLane;if(0===p)null!==c&&(c=c.next={lane:0,revertLane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),d===Fr&&(h=!0);else{if((xo&p)===p){u=u.next,p===Fr&&(h=!0);continue}d={lane:0,revertLane:u.revertLane,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null},null===c?(l=c=d,a=o):c=c.next=d,bo.lanes|=p,pc|=p}d=u.action,Eo&&n(o,d),o=u.hasEagerState?u.eagerState:n(o,d)}else p={lane:d,revertLane:u.revertLane,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null},null===c?(l=c=p,a=o):c=c.next=p,bo.lanes|=d,pc|=d;u=u.next}while(null!==u&&u!==t);if(null===c?a=o:c.next=l,!Jn(o,e.memoizedState)&&(Aa=!0,h&&null!==(n=Ir)))throw n;e.memoizedState=o,e.baseState=a,e.baseQueue=c,i.lastRenderedState=o}return null===r&&(i.lanes=0),[e.memoizedState,i.dispatch]}function Xo(e){var t=Bo(),n=t.queue;if(null===n)throw Error(s(311));n.lastRenderedReducer=e;var i=n.dispatch,r=n.pending,o=t.memoizedState;if(null!==r){n.pending=null;var a=r=r.next;do{o=e(o,a.action),a=a.next}while(a!==r);Jn(o,t.memoizedState)||(Aa=!0),t.memoizedState=o,null===t.baseQueue&&(t.baseState=o),n.lastRenderedState=o}return[o,i]}function Yo(e,t,n){var i=bo,r=Bo(),o=or;if(o){if(void 0===n)throw Error(s(407));n=n()}else n=t();var a=!Jn((wo||r).memoizedState,n);if(a&&(r.memoizedState=n,Aa=!0),r=r.queue,vs(2048,8,Ko.bind(null,i,r,e),[e]),r.getSnapshot!==t||a||null!==_o&&1&_o.memoizedState.tag){if(i.flags|=2048,fs(9,{destroy:void 0,resource:void 0},Zo.bind(null,i,r,n,t),null),null===ic)throw Error(s(349));o||0!==(124&xo)||Jo(i,t,n)}return n}function Jo(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},null===(t=bo.updateQueue)?(t={lastEffect:null,events:null,stores:null,memoCache:null},bo.updateQueue=t,t.stores=[e]):null===(n=t.stores)?t.stores=[e]:n.push(e)}function Zo(e,t,n,i){t.value=n,t.getSnapshot=i,Qo(t)&&$o(e)}function Ko(e,t,n){return n((function(){Qo(t)&&$o(e)}))}function Qo(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!Jn(e,n)}catch(i){return!0}}function $o(e){var t=Pi(e,2);null!==t&&jc(t,e,2)}function es(e){var t=zo();if("function"===typeof e){var n=e;if(e=n(),Eo){de(!0);try{n()}finally{de(!1)}}}return t.memoizedState=t.baseState=e,t.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Vo,lastRenderedState:e},t}function ts(e,t,n,i){return e.baseState=n,qo(e,wo,"function"===typeof i?i:Vo)}function ns(e,t,n,i,r){if(Hs(e))throw Error(s(485));if(null!==(e=t.action)){var o={payload:r,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(e){o.listeners.push(e)}};null!==O.T?n(!0):o.isTransition=!1,i(o),null===(n=t.pending)?(o.next=t.pending=o,is(t,o)):(o.next=n.next,t.pending=n.next=o)}}function is(e,t){var n=t.action,i=t.payload,r=e.state;if(t.isTransition){var o=O.T,s={};O.T=s;try{var a=n(r,i),l=O.S;null!==l&&l(s,a),rs(e,t,a)}catch(c){ss(e,t,c)}finally{O.T=o}}else try{rs(e,t,o=n(r,i))}catch(u){ss(e,t,u)}}function rs(e,t,n){null!==n&&"object"===typeof n&&"function"===typeof n.then?n.then((function(n){os(e,t,n)}),(function(n){return ss(e,t,n)})):os(e,t,n)}function os(e,t,n){t.status="fulfilled",t.value=n,as(t),e.state=n,null!==(t=e.pending)&&((n=t.next)===t?e.pending=null:(n=n.next,t.next=n,is(e,n)))}function ss(e,t,n){var i=e.pending;if(e.pending=null,null!==i){i=i.next;do{t.status="rejected",t.reason=n,as(t),t=t.next}while(t!==i)}e.action=null}function as(e){e=e.listeners;for(var t=0;t<e.length;t++)(0,e[t])()}function ls(e,t){return t}function cs(e,t){if(or){var n=ic.formState;if(null!==n){e:{var i=bo;if(or){if(rr){t:{for(var r=rr,o=ar;8!==r.nodeType;){if(!o){r=null;break t}if(null===(r=vh(r.nextSibling))){r=null;break t}}r="F!"===(o=r.data)||"F"===o?r:null}if(r){rr=vh(r.nextSibling),i="F!"===r.data;break e}}cr(i)}i=!1}i&&(t=n[0])}}return(n=zo()).memoizedState=n.baseState=t,i={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ls,lastRenderedState:t},n.queue=i,n=zs.bind(null,bo,i),i.dispatch=n,i=es(!1),o=Us.bind(null,bo,!1,i.queue),r={state:t,dispatch:null,action:e,pending:null},(i=zo()).queue=r,n=ns.bind(null,bo,r,o,n),r.dispatch=n,i.memoizedState=e,[t,n,!1]}function us(e){return hs(Bo(),wo,e)}function hs(e,t,n){if(t=qo(e,t,ls)[0],e=Wo(Vo)[0],"object"===typeof t&&null!==t&&"function"===typeof t.then)try{var i=Uo(t)}catch(s){if(s===Wr)throw Xr;throw s}else i=t;var r=(t=Bo()).queue,o=r.dispatch;return n!==t.memoizedState&&(bo.flags|=2048,fs(9,{destroy:void 0,resource:void 0},ds.bind(null,r,n),null)),[i,o,e]}function ds(e,t){e.action=t}function ps(e){var t=Bo(),n=wo;if(null!==n)return hs(t,n,e);Bo(),t=t.memoizedState;var i=(n=Bo()).queue.dispatch;return n.memoizedState=e,[t,i,!1]}function fs(e,t,n,i){return e={tag:e,create:n,deps:i,inst:t,next:null},null===(t=bo.updateQueue)&&(t={lastEffect:null,events:null,stores:null,memoCache:null},bo.updateQueue=t),null===(n=t.lastEffect)?t.lastEffect=e.next=e:(i=n.next,n.next=e,e.next=i,t.lastEffect=e),e}function ms(){return Bo().memoizedState}function gs(e,t,n,i){var r=zo();i=void 0===i?null:i,bo.flags|=e,r.memoizedState=fs(1|t,{destroy:void 0,resource:void 0},n,i)}function vs(e,t,n,i){var r=Bo();i=void 0===i?null:i;var o=r.memoizedState.inst;null!==wo&&null!==i&&Po(i,wo.memoizedState.deps)?r.memoizedState=fs(t,o,n,i):(bo.flags|=e,r.memoizedState=fs(1|t,o,n,i))}function ys(e,t){gs(8390656,8,e,t)}function xs(e,t){vs(2048,8,e,t)}function bs(e,t){return vs(4,2,e,t)}function ws(e,t){return vs(4,4,e,t)}function _s(e,t){if("function"===typeof t){e=e();var n=t(e);return function(){"function"===typeof n?n():t(null)}}if(null!==t&&void 0!==t)return e=e(),t.current=e,function(){t.current=null}}function Ss(e,t,n){n=null!==n&&void 0!==n?n.concat([e]):null,vs(4,4,_s.bind(null,t,e),n)}function Ms(){}function Es(e,t){var n=Bo();t=void 0===t?null:t;var i=n.memoizedState;return null!==t&&Po(t,i[1])?i[0]:(n.memoizedState=[e,t],e)}function Ts(e,t){var n=Bo();t=void 0===t?null:t;var i=n.memoizedState;if(null!==t&&Po(t,i[1]))return i[0];if(i=e(),Eo){de(!0);try{e()}finally{de(!1)}}return n.memoizedState=[i,t],i}function As(e,t,n){return void 0===n||0!==(1073741824&xo)?e.memoizedState=t:(e.memoizedState=n,e=Dc(),bo.lanes|=e,pc|=e,n)}function Cs(e,t,n,i){return Jn(n,t)?n:null!==fo.current?(e=As(e,n,i),Jn(e,t)||(Aa=!0),e):0===(42&xo)?(Aa=!0,e.memoizedState=n):(e=Dc(),bo.lanes|=e,pc|=e,t)}function Rs(e,t,n,i,r){var o=D.p;D.p=0!==o&&8>o?o:8;var s=O.T,a={};O.T=a,Us(e,!1,t,n);try{var l=r(),c=O.S;if(null!==c&&c(a,l),null!==l&&"object"===typeof l&&"function"===typeof l.then)Bs(e,t,function(e,t){var n=[],i={status:"pending",value:null,reason:null,then:function(e){n.push(e)}};return e.then((function(){i.status="fulfilled",i.value=t;for(var e=0;e<n.length;e++)(0,n[e])(t)}),(function(e){for(i.status="rejected",i.reason=e,e=0;e<n.length;e++)(0,n[e])(void 0)})),i}(l,i),Oc());else Bs(e,t,i,Oc())}catch(u){Bs(e,t,{then:function(){},status:"rejected",reason:u},Oc())}finally{D.p=o,O.T=s}}function Ls(){}function Ps(e,t,n,i){if(5!==e.tag)throw Error(s(476));var r=Ns(e).queue;Rs(e,r,t,j,null===n?Ls:function(){return ks(e),n(i)})}function Ns(e){var t=e.memoizedState;if(null!==t)return t;var n={};return(t={memoizedState:j,baseState:j,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Vo,lastRenderedState:j},next:null}).next={memoizedState:n,baseState:n,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Vo,lastRenderedState:n},next:null},e.memoizedState=t,null!==(e=e.alternate)&&(e.memoizedState=t),t}function ks(e){Bs(e,Ns(e).next.queue,{},Oc())}function Os(){return Tr(Yh)}function Ds(){return Bo().memoizedState}function js(){return Bo().memoizedState}function Fs(e){for(var t=e.return;null!==t;){switch(t.tag){case 24:case 3:var n=Oc(),i=oo(t,e=ro(n),n);return null!==i&&(jc(i,t,n),so(i,t,n)),t={cache:kr()},void(e.payload=t)}t=t.return}}function Is(e,t,n){var i=Oc();n={lane:i,revertLane:0,action:n,hasEagerState:!1,eagerState:null,next:null},Hs(e)?Gs(t,n):null!==(n=Li(e,t,n,i))&&(jc(n,e,i),Vs(n,t,i))}function zs(e,t,n){Bs(e,t,n,Oc())}function Bs(e,t,n,i){var r={lane:i,revertLane:0,action:n,hasEagerState:!1,eagerState:null,next:null};if(Hs(e))Gs(t,r);else{var o=e.alternate;if(0===e.lanes&&(null===o||0===o.lanes)&&null!==(o=t.lastRenderedReducer))try{var s=t.lastRenderedState,a=o(s,n);if(r.hasEagerState=!0,r.eagerState=a,Jn(a,s))return Ri(e,t,r,0),null===ic&&Ci(),!1}catch(l){}if(null!==(n=Li(e,t,r,i)))return jc(n,e,i),Vs(n,t,i),!0}return!1}function Us(e,t,n,i){if(i={lane:2,revertLane:Ru(),action:i,hasEagerState:!1,eagerState:null,next:null},Hs(e)){if(t)throw Error(s(479))}else null!==(t=Li(e,n,i,2))&&jc(t,e,2)}function Hs(e){var t=e.alternate;return e===bo||null!==t&&t===bo}function Gs(e,t){Mo=So=!0;var n=e.pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function Vs(e,t,n){if(0!==(4194048&n)){var i=t.lanes;n|=i&=e.pendingLanes,t.lanes=n,Ae(e,n)}}var Ws={readContext:Tr,use:Ho,useCallback:Lo,useContext:Lo,useEffect:Lo,useImperativeHandle:Lo,useLayoutEffect:Lo,useInsertionEffect:Lo,useMemo:Lo,useReducer:Lo,useRef:Lo,useState:Lo,useDebugValue:Lo,useDeferredValue:Lo,useTransition:Lo,useSyncExternalStore:Lo,useId:Lo,useHostTransitionStatus:Lo,useFormState:Lo,useActionState:Lo,useOptimistic:Lo,useMemoCache:Lo,useCacheRefresh:Lo},qs={readContext:Tr,use:Ho,useCallback:function(e,t){return zo().memoizedState=[e,void 0===t?null:t],e},useContext:Tr,useEffect:ys,useImperativeHandle:function(e,t,n){n=null!==n&&void 0!==n?n.concat([e]):null,gs(4194308,4,_s.bind(null,t,e),n)},useLayoutEffect:function(e,t){return gs(4194308,4,e,t)},useInsertionEffect:function(e,t){gs(4,2,e,t)},useMemo:function(e,t){var n=zo();t=void 0===t?null:t;var i=e();if(Eo){de(!0);try{e()}finally{de(!1)}}return n.memoizedState=[i,t],i},useReducer:function(e,t,n){var i=zo();if(void 0!==n){var r=n(t);if(Eo){de(!0);try{n(t)}finally{de(!1)}}}else r=t;return i.memoizedState=i.baseState=r,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:r},i.queue=e,e=e.dispatch=Is.bind(null,bo,e),[i.memoizedState,e]},useRef:function(e){return e={current:e},zo().memoizedState=e},useState:function(e){var t=(e=es(e)).queue,n=zs.bind(null,bo,t);return t.dispatch=n,[e.memoizedState,n]},useDebugValue:Ms,useDeferredValue:function(e,t){return As(zo(),e,t)},useTransition:function(){var e=es(!1);return e=Rs.bind(null,bo,e.queue,!0,!1),zo().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,t,n){var i=bo,r=zo();if(or){if(void 0===n)throw Error(s(407));n=n()}else{if(n=t(),null===ic)throw Error(s(349));0!==(124&oc)||Jo(i,t,n)}r.memoizedState=n;var o={value:n,getSnapshot:t};return r.queue=o,ys(Ko.bind(null,i,o,e),[e]),i.flags|=2048,fs(9,{destroy:void 0,resource:void 0},Zo.bind(null,i,o,n,t),null),n},useId:function(){var e=zo(),t=ic.identifierPrefix;if(or){var n=Qi;t="\xab"+t+"R"+(n=(Ki&~(1<<32-pe(Ki)-1)).toString(32)+n),0<(n=To++)&&(t+="H"+n.toString(32)),t+="\xbb"}else t="\xab"+t+"r"+(n=Ro++).toString(32)+"\xbb";return e.memoizedState=t},useHostTransitionStatus:Os,useFormState:cs,useActionState:cs,useOptimistic:function(e){var t=zo();t.memoizedState=t.baseState=e;var n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return t.queue=n,t=Us.bind(null,bo,!0,n),n.dispatch=t,[e,t]},useMemoCache:Go,useCacheRefresh:function(){return zo().memoizedState=Fs.bind(null,bo)}},Xs={readContext:Tr,use:Ho,useCallback:Es,useContext:Tr,useEffect:xs,useImperativeHandle:Ss,useInsertionEffect:bs,useLayoutEffect:ws,useMemo:Ts,useReducer:Wo,useRef:ms,useState:function(){return Wo(Vo)},useDebugValue:Ms,useDeferredValue:function(e,t){return Cs(Bo(),wo.memoizedState,e,t)},useTransition:function(){var e=Wo(Vo)[0],t=Bo().memoizedState;return["boolean"===typeof e?e:Uo(e),t]},useSyncExternalStore:Yo,useId:Ds,useHostTransitionStatus:Os,useFormState:us,useActionState:us,useOptimistic:function(e,t){return ts(Bo(),0,e,t)},useMemoCache:Go,useCacheRefresh:js},Ys={readContext:Tr,use:Ho,useCallback:Es,useContext:Tr,useEffect:xs,useImperativeHandle:Ss,useInsertionEffect:bs,useLayoutEffect:ws,useMemo:Ts,useReducer:Xo,useRef:ms,useState:function(){return Xo(Vo)},useDebugValue:Ms,useDeferredValue:function(e,t){var n=Bo();return null===wo?As(n,e,t):Cs(n,wo.memoizedState,e,t)},useTransition:function(){var e=Xo(Vo)[0],t=Bo().memoizedState;return["boolean"===typeof e?e:Uo(e),t]},useSyncExternalStore:Yo,useId:Ds,useHostTransitionStatus:Os,useFormState:ps,useActionState:ps,useOptimistic:function(e,t){var n=Bo();return null!==wo?ts(n,0,e,t):(n.baseState=e,[e,n.queue.dispatch])},useMemoCache:Go,useCacheRefresh:js},Js=null,Zs=0;function Ks(e){var t=Zs;return Zs+=1,null===Js&&(Js=[]),Kr(Js,e,t)}function Qs(e,t){t=t.props.ref,e.ref=void 0!==t?t:null}function $s(e,t){if(t.$$typeof===p)throw Error(s(525));throw e=Object.prototype.toString.call(t),Error(s(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function ea(e){return(0,e._init)(e._payload)}function ta(e){function t(t,n){if(e){var i=t.deletions;null===i?(t.deletions=[n],t.flags|=16):i.push(n)}}function n(n,i){if(!e)return null;for(;null!==i;)t(n,i),i=i.sibling;return null}function i(e){for(var t=new Map;null!==e;)null!==e.key?t.set(e.key,e):t.set(e.index,e),e=e.sibling;return t}function r(e,t){return(e=Ii(e,t)).index=0,e.sibling=null,e}function o(t,n,i){return t.index=i,e?null!==(i=t.alternate)?(i=i.index)<n?(t.flags|=67108866,n):i:(t.flags|=67108866,n):(t.flags|=1048576,n)}function a(t){return e&&null===t.alternate&&(t.flags|=67108866),t}function l(e,t,n,i){return null===t||6!==t.tag?((t=Hi(n,e.mode,i)).return=e,t):((t=r(t,n)).return=e,t)}function c(e,t,n,i){var o=n.type;return o===g?h(e,t,n.props.children,i,n.key):null!==t&&(t.elementType===o||"object"===typeof o&&null!==o&&o.$$typeof===T&&ea(o)===t.type)?(Qs(t=r(t,n.props),n),t.return=e,t):(Qs(t=Bi(n.type,n.key,n.props,null,e.mode,i),n),t.return=e,t)}function u(e,t,n,i){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=Gi(n,e.mode,i)).return=e,t):((t=r(t,n.children||[])).return=e,t)}function h(e,t,n,i,o){return null===t||7!==t.tag?((t=Ui(n,e.mode,i,o)).return=e,t):((t=r(t,n)).return=e,t)}function d(e,t,n){if("string"===typeof t&&""!==t||"number"===typeof t||"bigint"===typeof t)return(t=Hi(""+t,e.mode,n)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case f:return Qs(n=Bi(t.type,t.key,t.props,null,e.mode,n),t),n.return=e,n;case m:return(t=Gi(t,e.mode,n)).return=e,t;case T:return d(e,t=(0,t._init)(t._payload),n)}if(k(t)||L(t))return(t=Ui(t,e.mode,n,null)).return=e,t;if("function"===typeof t.then)return d(e,Ks(t),n);if(t.$$typeof===w)return d(e,Ar(e,t),n);$s(e,t)}return null}function p(e,t,n,i){var r=null!==t?t.key:null;if("string"===typeof n&&""!==n||"number"===typeof n||"bigint"===typeof n)return null!==r?null:l(e,t,""+n,i);if("object"===typeof n&&null!==n){switch(n.$$typeof){case f:return n.key===r?c(e,t,n,i):null;case m:return n.key===r?u(e,t,n,i):null;case T:return p(e,t,n=(r=n._init)(n._payload),i)}if(k(n)||L(n))return null!==r?null:h(e,t,n,i,null);if("function"===typeof n.then)return p(e,t,Ks(n),i);if(n.$$typeof===w)return p(e,t,Ar(e,n),i);$s(e,n)}return null}function v(e,t,n,i,r){if("string"===typeof i&&""!==i||"number"===typeof i||"bigint"===typeof i)return l(t,e=e.get(n)||null,""+i,r);if("object"===typeof i&&null!==i){switch(i.$$typeof){case f:return c(t,e=e.get(null===i.key?n:i.key)||null,i,r);case m:return u(t,e=e.get(null===i.key?n:i.key)||null,i,r);case T:return v(e,t,n,i=(0,i._init)(i._payload),r)}if(k(i)||L(i))return h(t,e=e.get(n)||null,i,r,null);if("function"===typeof i.then)return v(e,t,n,Ks(i),r);if(i.$$typeof===w)return v(e,t,n,Ar(t,i),r);$s(t,i)}return null}function y(l,c,u,h){if("object"===typeof u&&null!==u&&u.type===g&&null===u.key&&(u=u.props.children),"object"===typeof u&&null!==u){switch(u.$$typeof){case f:e:{for(var x=u.key;null!==c;){if(c.key===x){if((x=u.type)===g){if(7===c.tag){n(l,c.sibling),(h=r(c,u.props.children)).return=l,l=h;break e}}else if(c.elementType===x||"object"===typeof x&&null!==x&&x.$$typeof===T&&ea(x)===c.type){n(l,c.sibling),Qs(h=r(c,u.props),u),h.return=l,l=h;break e}n(l,c);break}t(l,c),c=c.sibling}u.type===g?((h=Ui(u.props.children,l.mode,h,u.key)).return=l,l=h):(Qs(h=Bi(u.type,u.key,u.props,null,l.mode,h),u),h.return=l,l=h)}return a(l);case m:e:{for(x=u.key;null!==c;){if(c.key===x){if(4===c.tag&&c.stateNode.containerInfo===u.containerInfo&&c.stateNode.implementation===u.implementation){n(l,c.sibling),(h=r(c,u.children||[])).return=l,l=h;break e}n(l,c);break}t(l,c),c=c.sibling}(h=Gi(u,l.mode,h)).return=l,l=h}return a(l);case T:return y(l,c,u=(x=u._init)(u._payload),h)}if(k(u))return function(r,s,a,l){for(var c=null,u=null,h=s,f=s=0,m=null;null!==h&&f<a.length;f++){h.index>f?(m=h,h=null):m=h.sibling;var g=p(r,h,a[f],l);if(null===g){null===h&&(h=m);break}e&&h&&null===g.alternate&&t(r,h),s=o(g,s,f),null===u?c=g:u.sibling=g,u=g,h=m}if(f===a.length)return n(r,h),or&&$i(r,f),c;if(null===h){for(;f<a.length;f++)null!==(h=d(r,a[f],l))&&(s=o(h,s,f),null===u?c=h:u.sibling=h,u=h);return or&&$i(r,f),c}for(h=i(h);f<a.length;f++)null!==(m=v(h,r,f,a[f],l))&&(e&&null!==m.alternate&&h.delete(null===m.key?f:m.key),s=o(m,s,f),null===u?c=m:u.sibling=m,u=m);return e&&h.forEach((function(e){return t(r,e)})),or&&$i(r,f),c}(l,c,u,h);if(L(u)){if("function"!==typeof(x=L(u)))throw Error(s(150));return function(r,a,l,c){if(null==l)throw Error(s(151));for(var u=null,h=null,f=a,m=a=0,g=null,y=l.next();null!==f&&!y.done;m++,y=l.next()){f.index>m?(g=f,f=null):g=f.sibling;var x=p(r,f,y.value,c);if(null===x){null===f&&(f=g);break}e&&f&&null===x.alternate&&t(r,f),a=o(x,a,m),null===h?u=x:h.sibling=x,h=x,f=g}if(y.done)return n(r,f),or&&$i(r,m),u;if(null===f){for(;!y.done;m++,y=l.next())null!==(y=d(r,y.value,c))&&(a=o(y,a,m),null===h?u=y:h.sibling=y,h=y);return or&&$i(r,m),u}for(f=i(f);!y.done;m++,y=l.next())null!==(y=v(f,r,m,y.value,c))&&(e&&null!==y.alternate&&f.delete(null===y.key?m:y.key),a=o(y,a,m),null===h?u=y:h.sibling=y,h=y);return e&&f.forEach((function(e){return t(r,e)})),or&&$i(r,m),u}(l,c,u=x.call(u),h)}if("function"===typeof u.then)return y(l,c,Ks(u),h);if(u.$$typeof===w)return y(l,c,Ar(l,u),h);$s(l,u)}return"string"===typeof u&&""!==u||"number"===typeof u||"bigint"===typeof u?(u=""+u,null!==c&&6===c.tag?(n(l,c.sibling),(h=r(c,u)).return=l,l=h):(n(l,c),(h=Hi(u,l.mode,h)).return=l,l=h),a(l)):n(l,c)}return function(e,t,n,i){try{Zs=0;var r=y(e,t,n,i);return Js=null,r}catch(s){if(s===Wr||s===Xr)throw s;var o=ji(29,s,null,e.mode);return o.lanes=i,o.return=e,o}}}var na=ta(!0),ia=ta(!1),ra=z(null),oa=null;function sa(e){var t=e.alternate;U(ua,1&ua.current),U(ra,e),null===oa&&(null===t||null!==fo.current||null!==t.memoizedState)&&(oa=e)}function aa(e){if(22===e.tag){if(U(ua,ua.current),U(ra,e),null===oa){var t=e.alternate;null!==t&&null!==t.memoizedState&&(oa=e)}}else la()}function la(){U(ua,ua.current),U(ra,ra.current)}function ca(e){B(ra),oa===e&&(oa=null),B(ua)}var ua=z(0);function ha(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||gh(n)))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!==(128&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}function da(e,t,n,i){n=null===(n=n(i,t=e.memoizedState))||void 0===n?t:d({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var pa={enqueueSetState:function(e,t,n){e=e._reactInternals;var i=Oc(),r=ro(i);r.payload=t,void 0!==n&&null!==n&&(r.callback=n),null!==(t=oo(e,r,i))&&(jc(t,e,i),so(t,e,i))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var i=Oc(),r=ro(i);r.tag=1,r.payload=t,void 0!==n&&null!==n&&(r.callback=n),null!==(t=oo(e,r,i))&&(jc(t,e,i),so(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=Oc(),i=ro(n);i.tag=2,void 0!==t&&null!==t&&(i.callback=t),null!==(t=oo(e,i,n))&&(jc(t,e,n),so(t,e,n))}};function fa(e,t,n,i,r,o,s){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(i,o,s):!t.prototype||!t.prototype.isPureReactComponent||(!Zn(n,i)||!Zn(r,o))}function ma(e,t,n,i){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,i),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,i),t.state!==e&&pa.enqueueReplaceState(t,t.state,null)}function ga(e,t){var n=t;if("ref"in t)for(var i in n={},t)"ref"!==i&&(n[i]=t[i]);if(e=e.defaultProps)for(var r in n===t&&(n=d({},n)),e)void 0===n[r]&&(n[r]=e[r]);return n}var va="function"===typeof reportError?reportError:function(e){if("object"===typeof window&&"function"===typeof window.ErrorEvent){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:"object"===typeof e&&null!==e&&"string"===typeof e.message?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if("object"===typeof process&&"function"===typeof process.emit)return void process.emit("uncaughtException",e);console.error(e)};function ya(e){va(e)}function xa(e){console.error(e)}function ba(e){va(e)}function wa(e,t){try{(0,e.onUncaughtError)(t.value,{componentStack:t.stack})}catch(n){setTimeout((function(){throw n}))}}function _a(e,t,n){try{(0,e.onCaughtError)(n.value,{componentStack:n.stack,errorBoundary:1===t.tag?t.stateNode:null})}catch(i){setTimeout((function(){throw i}))}}function Sa(e,t,n){return(n=ro(n)).tag=3,n.payload={element:null},n.callback=function(){wa(e,t)},n}function Ma(e){return(e=ro(e)).tag=3,e}function Ea(e,t,n,i){var r=n.type.getDerivedStateFromError;if("function"===typeof r){var o=i.value;e.payload=function(){return r(o)},e.callback=function(){_a(t,n,i)}}var s=n.stateNode;null!==s&&"function"===typeof s.componentDidCatch&&(e.callback=function(){_a(t,n,i),"function"!==typeof r&&(null===Mc?Mc=new Set([this]):Mc.add(this));var e=i.stack;this.componentDidCatch(i.value,{componentStack:null!==e?e:""})})}var Ta=Error(s(461)),Aa=!1;function Ca(e,t,n,i){t.child=null===e?ia(t,null,n,i):na(t,e.child,n,i)}function Ra(e,t,n,i,r){n=n.render;var o=t.ref;if("ref"in i){var s={};for(var a in i)"ref"!==a&&(s[a]=i[a])}else s=i;return Er(t),i=No(e,t,n,s,o,r),a=jo(),null===e||Aa?(or&&a&&tr(t),t.flags|=1,Ca(e,t,i,r),t.child):(Fo(e,t,r),Ja(e,t,r))}function La(e,t,n,i,r){if(null===e){var o=n.type;return"function"!==typeof o||Fi(o)||void 0!==o.defaultProps||null!==n.compare?((e=Bi(n.type,null,i,t,t.mode,r)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=o,Pa(e,t,o,i,r))}if(o=e.child,!Za(e,r)){var s=o.memoizedProps;if((n=null!==(n=n.compare)?n:Zn)(s,i)&&e.ref===t.ref)return Ja(e,t,r)}return t.flags|=1,(e=Ii(o,i)).ref=t.ref,e.return=t,t.child=e}function Pa(e,t,n,i,r){if(null!==e){var o=e.memoizedProps;if(Zn(o,i)&&e.ref===t.ref){if(Aa=!1,t.pendingProps=i=o,!Za(e,r))return t.lanes=e.lanes,Ja(e,t,r);0!==(131072&e.flags)&&(Aa=!0)}}return Da(e,t,n,i,r)}function Na(e,t,n){var i=t.pendingProps,r=i.children,o=null!==e?e.memoizedState:null;if("hidden"===i.mode){if(0!==(128&t.flags)){if(i=null!==o?o.baseLanes|n:n,null!==e){for(r=t.child=e.child,o=0;null!==r;)o=o|r.lanes|r.childLanes,r=r.sibling;t.childLanes=o&~i}else t.childLanes=0,t.child=null;return ka(e,t,i,n)}if(0===(536870912&n))return t.lanes=t.childLanes=536870912,ka(e,t,null!==o?o.baseLanes|n:n,n);t.memoizedState={baseLanes:0,cachePool:null},null!==e&&Gr(0,null!==o?o.cachePool:null),null!==o?go(t,o):vo(),aa(t)}else null!==o?(Gr(0,o.cachePool),go(t,o),la(),t.memoizedState=null):(null!==e&&Gr(0,null),vo(),la());return Ca(e,t,r,n),t.child}function ka(e,t,n,i){var r=Hr();return r=null===r?null:{parent:Nr._currentValue,pool:r},t.memoizedState={baseLanes:n,cachePool:r},null!==e&&Gr(0,null),vo(),aa(t),null!==e&&Sr(e,t,i,!0),null}function Oa(e,t){var n=t.ref;if(null===n)null!==e&&null!==e.ref&&(t.flags|=4194816);else{if("function"!==typeof n&&"object"!==typeof n)throw Error(s(284));null!==e&&e.ref===n||(t.flags|=4194816)}}function Da(e,t,n,i,r){return Er(t),n=No(e,t,n,i,void 0,r),i=jo(),null===e||Aa?(or&&i&&tr(t),t.flags|=1,Ca(e,t,n,r),t.child):(Fo(e,t,r),Ja(e,t,r))}function ja(e,t,n,i,r,o){return Er(t),t.updateQueue=null,n=Oo(t,i,n,r),ko(e),i=jo(),null===e||Aa?(or&&i&&tr(t),t.flags|=1,Ca(e,t,n,o),t.child):(Fo(e,t,o),Ja(e,t,o))}function Fa(e,t,n,i,r){if(Er(t),null===t.stateNode){var o=Oi,s=n.contextType;"object"===typeof s&&null!==s&&(o=Tr(s)),o=new n(i,o),t.memoizedState=null!==o.state&&void 0!==o.state?o.state:null,o.updater=pa,t.stateNode=o,o._reactInternals=t,(o=t.stateNode).props=i,o.state=t.memoizedState,o.refs={},no(t),s=n.contextType,o.context="object"===typeof s&&null!==s?Tr(s):Oi,o.state=t.memoizedState,"function"===typeof(s=n.getDerivedStateFromProps)&&(da(t,n,s,i),o.state=t.memoizedState),"function"===typeof n.getDerivedStateFromProps||"function"===typeof o.getSnapshotBeforeUpdate||"function"!==typeof o.UNSAFE_componentWillMount&&"function"!==typeof o.componentWillMount||(s=o.state,"function"===typeof o.componentWillMount&&o.componentWillMount(),"function"===typeof o.UNSAFE_componentWillMount&&o.UNSAFE_componentWillMount(),s!==o.state&&pa.enqueueReplaceState(o,o.state,null),uo(t,i,o,r),co(),o.state=t.memoizedState),"function"===typeof o.componentDidMount&&(t.flags|=4194308),i=!0}else if(null===e){o=t.stateNode;var a=t.memoizedProps,l=ga(n,a);o.props=l;var c=o.context,u=n.contextType;s=Oi,"object"===typeof u&&null!==u&&(s=Tr(u));var h=n.getDerivedStateFromProps;u="function"===typeof h||"function"===typeof o.getSnapshotBeforeUpdate,a=t.pendingProps!==a,u||"function"!==typeof o.UNSAFE_componentWillReceiveProps&&"function"!==typeof o.componentWillReceiveProps||(a||c!==s)&&ma(t,o,i,s),to=!1;var d=t.memoizedState;o.state=d,uo(t,i,o,r),co(),c=t.memoizedState,a||d!==c||to?("function"===typeof h&&(da(t,n,h,i),c=t.memoizedState),(l=to||fa(t,n,l,i,d,c,s))?(u||"function"!==typeof o.UNSAFE_componentWillMount&&"function"!==typeof o.componentWillMount||("function"===typeof o.componentWillMount&&o.componentWillMount(),"function"===typeof o.UNSAFE_componentWillMount&&o.UNSAFE_componentWillMount()),"function"===typeof o.componentDidMount&&(t.flags|=4194308)):("function"===typeof o.componentDidMount&&(t.flags|=4194308),t.memoizedProps=i,t.memoizedState=c),o.props=i,o.state=c,o.context=s,i=l):("function"===typeof o.componentDidMount&&(t.flags|=4194308),i=!1)}else{o=t.stateNode,io(e,t),u=ga(n,s=t.memoizedProps),o.props=u,h=t.pendingProps,d=o.context,c=n.contextType,l=Oi,"object"===typeof c&&null!==c&&(l=Tr(c)),(c="function"===typeof(a=n.getDerivedStateFromProps)||"function"===typeof o.getSnapshotBeforeUpdate)||"function"!==typeof o.UNSAFE_componentWillReceiveProps&&"function"!==typeof o.componentWillReceiveProps||(s!==h||d!==l)&&ma(t,o,i,l),to=!1,d=t.memoizedState,o.state=d,uo(t,i,o,r),co();var p=t.memoizedState;s!==h||d!==p||to||null!==e&&null!==e.dependencies&&Mr(e.dependencies)?("function"===typeof a&&(da(t,n,a,i),p=t.memoizedState),(u=to||fa(t,n,u,i,d,p,l)||null!==e&&null!==e.dependencies&&Mr(e.dependencies))?(c||"function"!==typeof o.UNSAFE_componentWillUpdate&&"function"!==typeof o.componentWillUpdate||("function"===typeof o.componentWillUpdate&&o.componentWillUpdate(i,p,l),"function"===typeof o.UNSAFE_componentWillUpdate&&o.UNSAFE_componentWillUpdate(i,p,l)),"function"===typeof o.componentDidUpdate&&(t.flags|=4),"function"===typeof o.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!==typeof o.componentDidUpdate||s===e.memoizedProps&&d===e.memoizedState||(t.flags|=4),"function"!==typeof o.getSnapshotBeforeUpdate||s===e.memoizedProps&&d===e.memoizedState||(t.flags|=1024),t.memoizedProps=i,t.memoizedState=p),o.props=i,o.state=p,o.context=l,i=u):("function"!==typeof o.componentDidUpdate||s===e.memoizedProps&&d===e.memoizedState||(t.flags|=4),"function"!==typeof o.getSnapshotBeforeUpdate||s===e.memoizedProps&&d===e.memoizedState||(t.flags|=1024),i=!1)}return o=i,Oa(e,t),i=0!==(128&t.flags),o||i?(o=t.stateNode,n=i&&"function"!==typeof n.getDerivedStateFromError?null:o.render(),t.flags|=1,null!==e&&i?(t.child=na(t,e.child,null,r),t.child=na(t,null,n,r)):Ca(e,t,n,r),t.memoizedState=o.state,e=t.child):e=Ja(e,t,r),e}function Ia(e,t,n,i){return pr(),t.flags|=256,Ca(e,t,n,i),t.child}var za={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Ba(e){return{baseLanes:e,cachePool:Vr()}}function Ua(e,t,n){return e=null!==e?e.childLanes&~n:0,t&&(e|=gc),e}function Ha(e,t,n){var i,r=t.pendingProps,o=!1,a=0!==(128&t.flags);if((i=a)||(i=(null===e||null!==e.memoizedState)&&0!==(2&ua.current)),i&&(o=!0,t.flags&=-129),i=0!==(32&t.flags),t.flags&=-33,null===e){if(or){if(o?sa(t):la(),or){var l,c=rr;if(l=c){e:{for(l=c,c=ar;8!==l.nodeType;){if(!c){c=null;break e}if(null===(l=vh(l.nextSibling))){c=null;break e}}c=l}null!==c?(t.memoizedState={dehydrated:c,treeContext:null!==Zi?{id:Ki,overflow:Qi}:null,retryLane:536870912,hydrationErrors:null},(l=ji(18,null,null,0)).stateNode=c,l.return=t,t.child=l,ir=t,rr=null,l=!0):l=!1}l||cr(t)}if(null!==(c=t.memoizedState)&&null!==(c=c.dehydrated))return gh(c)?t.lanes=32:t.lanes=536870912,null;ca(t)}return c=r.children,r=r.fallback,o?(la(),c=Va({mode:"hidden",children:c},o=t.mode),r=Ui(r,o,n,null),c.return=t,r.return=t,c.sibling=r,t.child=c,(o=t.child).memoizedState=Ba(n),o.childLanes=Ua(e,i,n),t.memoizedState=za,r):(sa(t),Ga(t,c))}if(null!==(l=e.memoizedState)&&null!==(c=l.dehydrated)){if(a)256&t.flags?(sa(t),t.flags&=-257,t=Wa(e,t,n)):null!==t.memoizedState?(la(),t.child=e.child,t.flags|=128,t=null):(la(),o=r.fallback,c=t.mode,r=Va({mode:"visible",children:r.children},c),(o=Ui(o,c,n,null)).flags|=2,r.return=t,o.return=t,r.sibling=o,t.child=r,na(t,e.child,null,n),(r=t.child).memoizedState=Ba(n),r.childLanes=Ua(e,i,n),t.memoizedState=za,t=o);else if(sa(t),gh(c)){if(i=c.nextSibling&&c.nextSibling.dataset)var u=i.dgst;i=u,(r=Error(s(419))).stack="",r.digest=i,mr({value:r,source:null,stack:null}),t=Wa(e,t,n)}else if(Aa||Sr(e,t,n,!1),i=0!==(n&e.childLanes),Aa||i){if(null!==(i=ic)&&(0!==(r=0!==((r=0!==(42&(r=n&-n))?1:Ce(r))&(i.suspendedLanes|n))?0:r)&&r!==l.retryLane))throw l.retryLane=r,Pi(e,r),jc(i,e,r),Ta;"$?"===c.data||Xc(),t=Wa(e,t,n)}else"$?"===c.data?(t.flags|=192,t.child=e.child,t=null):(e=l.treeContext,rr=vh(c.nextSibling),ir=t,or=!0,sr=null,ar=!1,null!==e&&(Yi[Ji++]=Ki,Yi[Ji++]=Qi,Yi[Ji++]=Zi,Ki=e.id,Qi=e.overflow,Zi=t),(t=Ga(t,r.children)).flags|=4096);return t}return o?(la(),o=r.fallback,c=t.mode,u=(l=e.child).sibling,(r=Ii(l,{mode:"hidden",children:r.children})).subtreeFlags=65011712&l.subtreeFlags,null!==u?o=Ii(u,o):(o=Ui(o,c,n,null)).flags|=2,o.return=t,r.return=t,r.sibling=o,t.child=r,r=o,o=t.child,null===(c=e.child.memoizedState)?c=Ba(n):(null!==(l=c.cachePool)?(u=Nr._currentValue,l=l.parent!==u?{parent:u,pool:u}:l):l=Vr(),c={baseLanes:c.baseLanes|n,cachePool:l}),o.memoizedState=c,o.childLanes=Ua(e,i,n),t.memoizedState=za,r):(sa(t),e=(n=e.child).sibling,(n=Ii(n,{mode:"visible",children:r.children})).return=t,n.sibling=null,null!==e&&(null===(i=t.deletions)?(t.deletions=[e],t.flags|=16):i.push(e)),t.child=n,t.memoizedState=null,n)}function Ga(e,t){return(t=Va({mode:"visible",children:t},e.mode)).return=e,e.child=t}function Va(e,t){return(e=ji(22,e,null,t)).lanes=0,e.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},e}function Wa(e,t,n){return na(t,e.child,null,n),(e=Ga(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function qa(e,t,n){e.lanes|=t;var i=e.alternate;null!==i&&(i.lanes|=t),wr(e.return,t,n)}function Xa(e,t,n,i,r){var o=e.memoizedState;null===o?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:i,tail:n,tailMode:r}:(o.isBackwards=t,o.rendering=null,o.renderingStartTime=0,o.last=i,o.tail=n,o.tailMode=r)}function Ya(e,t,n){var i=t.pendingProps,r=i.revealOrder,o=i.tail;if(Ca(e,t,i.children,n),0!==(2&(i=ua.current)))i=1&i|2,t.flags|=128;else{if(null!==e&&0!==(128&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&qa(e,n,t);else if(19===e.tag)qa(e,n,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}i&=1}switch(U(ua,i),r){case"forwards":for(n=t.child,r=null;null!==n;)null!==(e=n.alternate)&&null===ha(e)&&(r=n),n=n.sibling;null===(n=r)?(r=t.child,t.child=null):(r=n.sibling,n.sibling=null),Xa(t,!1,r,n,o);break;case"backwards":for(n=null,r=t.child,t.child=null;null!==r;){if(null!==(e=r.alternate)&&null===ha(e)){t.child=r;break}e=r.sibling,r.sibling=n,n=r,r=e}Xa(t,!0,n,null,o);break;case"together":Xa(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Ja(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),pc|=t.lanes,0===(n&t.childLanes)){if(null===e)return null;if(Sr(e,t,n,!1),0===(n&t.childLanes))return null}if(null!==e&&t.child!==e.child)throw Error(s(153));if(null!==t.child){for(n=Ii(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=Ii(e,e.pendingProps)).return=t;n.sibling=null}return t.child}function Za(e,t){return 0!==(e.lanes&t)||!(null===(e=e.dependencies)||!Mr(e))}function Ka(e,t,n){if(null!==e)if(e.memoizedProps!==t.pendingProps)Aa=!0;else{if(!Za(e,n)&&0===(128&t.flags))return Aa=!1,function(e,t,n){switch(t.tag){case 3:q(t,t.stateNode.containerInfo),xr(0,Nr,e.memoizedState.cache),pr();break;case 27:case 5:Y(t);break;case 4:q(t,t.stateNode.containerInfo);break;case 10:xr(0,t.type,t.memoizedProps.value);break;case 13:var i=t.memoizedState;if(null!==i)return null!==i.dehydrated?(sa(t),t.flags|=128,null):0!==(n&t.child.childLanes)?Ha(e,t,n):(sa(t),null!==(e=Ja(e,t,n))?e.sibling:null);sa(t);break;case 19:var r=0!==(128&e.flags);if((i=0!==(n&t.childLanes))||(Sr(e,t,n,!1),i=0!==(n&t.childLanes)),r){if(i)return Ya(e,t,n);t.flags|=128}if(null!==(r=t.memoizedState)&&(r.rendering=null,r.tail=null,r.lastEffect=null),U(ua,ua.current),i)break;return null;case 22:case 23:return t.lanes=0,Na(e,t,n);case 24:xr(0,Nr,e.memoizedState.cache)}return Ja(e,t,n)}(e,t,n);Aa=0!==(131072&e.flags)}else Aa=!1,or&&0!==(1048576&t.flags)&&er(t,Xi,t.index);switch(t.lanes=0,t.tag){case 16:e:{e=t.pendingProps;var i=t.elementType,r=i._init;if(i=r(i._payload),t.type=i,"function"!==typeof i){if(void 0!==i&&null!==i){if((r=i.$$typeof)===_){t.tag=11,t=Ra(null,t,i,e,n);break e}if(r===E){t.tag=14,t=La(null,t,i,e,n);break e}}throw t=N(i)||i,Error(s(306,t,""))}Fi(i)?(e=ga(i,e),t.tag=1,t=Fa(null,t,i,e,n)):(t.tag=0,t=Da(null,t,i,e,n))}return t;case 0:return Da(e,t,t.type,t.pendingProps,n);case 1:return Fa(e,t,i=t.type,r=ga(i,t.pendingProps),n);case 3:e:{if(q(t,t.stateNode.containerInfo),null===e)throw Error(s(387));i=t.pendingProps;var o=t.memoizedState;r=o.element,io(e,t),uo(t,i,null,n);var a=t.memoizedState;if(i=a.cache,xr(0,Nr,i),i!==o.cache&&_r(t,[Nr],n,!0),co(),i=a.element,o.isDehydrated){if(o={element:i,isDehydrated:!1,cache:a.cache},t.updateQueue.baseState=o,t.memoizedState=o,256&t.flags){t=Ia(e,t,i,n);break e}if(i!==r){mr(r=Mi(Error(s(424)),t)),t=Ia(e,t,i,n);break e}if(9===(e=t.stateNode.containerInfo).nodeType)e=e.body;else e="HTML"===e.nodeName?e.ownerDocument.body:e;for(rr=vh(e.firstChild),ir=t,or=!0,sr=null,ar=!0,n=ia(t,null,i,n),t.child=n;n;)n.flags=-3&n.flags|4096,n=n.sibling}else{if(pr(),i===r){t=Ja(e,t,n);break e}Ca(e,t,i,n)}t=t.child}return t;case 26:return Oa(e,t),null===e?(n=Ch(t.type,null,t.pendingProps,null))?t.memoizedState=n:or||(n=t.type,e=t.pendingProps,(i=ih(V.current).createElement(n))[Ne]=t,i[ke]=e,eh(i,n,e),We(i),t.stateNode=i):t.memoizedState=Ch(t.type,e.memoizedProps,t.pendingProps,e.memoizedState),null;case 27:return Y(t),null===e&&or&&(i=t.stateNode=bh(t.type,t.pendingProps,V.current),ir=t,ar=!0,r=rr,ph(t.type)?(yh=r,rr=vh(i.firstChild)):rr=r),Ca(e,t,t.pendingProps.children,n),Oa(e,t),null===e&&(t.flags|=4194304),t.child;case 5:return null===e&&or&&((r=i=rr)&&(null!==(i=function(e,t,n,i){for(;1===e.nodeType;){var r=n;if(e.nodeName.toLowerCase()!==t.toLowerCase()){if(!i&&("INPUT"!==e.nodeName||"hidden"!==e.type))break}else if(i){if(!e[ze])switch(t){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if("stylesheet"===(o=e.getAttribute("rel"))&&e.hasAttribute("data-precedence"))break;if(o!==r.rel||e.getAttribute("href")!==(null==r.href||""===r.href?null:r.href)||e.getAttribute("crossorigin")!==(null==r.crossOrigin?null:r.crossOrigin)||e.getAttribute("title")!==(null==r.title?null:r.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(((o=e.getAttribute("src"))!==(null==r.src?null:r.src)||e.getAttribute("type")!==(null==r.type?null:r.type)||e.getAttribute("crossorigin")!==(null==r.crossOrigin?null:r.crossOrigin))&&o&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else{if("input"!==t||"hidden"!==e.type)return e;var o=null==r.name?null:""+r.name;if("hidden"===r.type&&e.getAttribute("name")===o)return e}if(null===(e=vh(e.nextSibling)))break}return null}(i,t.type,t.pendingProps,ar))?(t.stateNode=i,ir=t,rr=vh(i.firstChild),ar=!1,r=!0):r=!1),r||cr(t)),Y(t),r=t.type,o=t.pendingProps,a=null!==e?e.memoizedProps:null,i=o.children,sh(r,o)?i=null:null!==a&&sh(r,a)&&(t.flags|=32),null!==t.memoizedState&&(r=No(e,t,Do,null,null,n),Yh._currentValue=r),Oa(e,t),Ca(e,t,i,n),t.child;case 6:return null===e&&or&&((e=n=rr)&&(null!==(n=function(e,t,n){if(""===t)return null;for(;3!==e.nodeType;){if((1!==e.nodeType||"INPUT"!==e.nodeName||"hidden"!==e.type)&&!n)return null;if(null===(e=vh(e.nextSibling)))return null}return e}(n,t.pendingProps,ar))?(t.stateNode=n,ir=t,rr=null,e=!0):e=!1),e||cr(t)),null;case 13:return Ha(e,t,n);case 4:return q(t,t.stateNode.containerInfo),i=t.pendingProps,null===e?t.child=na(t,null,i,n):Ca(e,t,i,n),t.child;case 11:return Ra(e,t,t.type,t.pendingProps,n);case 7:return Ca(e,t,t.pendingProps,n),t.child;case 8:case 12:return Ca(e,t,t.pendingProps.children,n),t.child;case 10:return i=t.pendingProps,xr(0,t.type,i.value),Ca(e,t,i.children,n),t.child;case 9:return r=t.type._context,i=t.pendingProps.children,Er(t),i=i(r=Tr(r)),t.flags|=1,Ca(e,t,i,n),t.child;case 14:return La(e,t,t.type,t.pendingProps,n);case 15:return Pa(e,t,t.type,t.pendingProps,n);case 19:return Ya(e,t,n);case 31:return i=t.pendingProps,n=t.mode,i={mode:i.mode,children:i.children},null===e?((n=Va(i,n)).ref=t.ref,t.child=n,n.return=t,t=n):((n=Ii(e.child,i)).ref=t.ref,t.child=n,n.return=t,t=n),t;case 22:return Na(e,t,n);case 24:return Er(t),i=Tr(Nr),null===e?(null===(r=Hr())&&(r=ic,o=kr(),r.pooledCache=o,o.refCount++,null!==o&&(r.pooledCacheLanes|=n),r=o),t.memoizedState={parent:i,cache:r},no(t),xr(0,Nr,r)):(0!==(e.lanes&n)&&(io(e,t),uo(t,null,null,n),co()),r=e.memoizedState,o=t.memoizedState,r.parent!==i?(r={parent:i,cache:i},t.memoizedState=r,0===t.lanes&&(t.memoizedState=t.updateQueue.baseState=r),xr(0,Nr,i)):(i=o.cache,xr(0,Nr,i),i!==r.cache&&_r(t,[Nr],n,!0))),Ca(e,t,t.pendingProps.children,n),t.child;case 29:throw t.pendingProps}throw Error(s(156,t.tag))}function Qa(e){e.flags|=4}function $a(e,t){if("stylesheet"!==t.type||0!==(4&t.state.loading))e.flags&=-16777217;else if(e.flags|=16777216,!Uh(t)){if(null!==(t=ra.current)&&((4194048&oc)===oc?null!==oa:(62914560&oc)!==oc&&0===(536870912&oc)||t!==oa))throw Qr=Yr,qr;e.flags|=8192}}function el(e,t){null!==t&&(e.flags|=4),16384&e.flags&&(t=22!==e.tag?Se():536870912,e.lanes|=t,vc|=t)}function tl(e,t){if(!or)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var i=null;null!==n;)null!==n.alternate&&(i=n),n=n.sibling;null===i?t||null===e.tail?e.tail=null:e.tail.sibling=null:i.sibling=null}}function nl(e){var t=null!==e.alternate&&e.alternate.child===e.child,n=0,i=0;if(t)for(var r=e.child;null!==r;)n|=r.lanes|r.childLanes,i|=65011712&r.subtreeFlags,i|=65011712&r.flags,r.return=e,r=r.sibling;else for(r=e.child;null!==r;)n|=r.lanes|r.childLanes,i|=r.subtreeFlags,i|=r.flags,r.return=e,r=r.sibling;return e.subtreeFlags|=i,e.childLanes=n,t}function il(e,t,n){var i=t.pendingProps;switch(nr(t),t.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:case 1:return nl(t),null;case 3:return n=t.stateNode,i=null,null!==e&&(i=e.memoizedState.cache),t.memoizedState.cache!==i&&(t.flags|=2048),br(Nr),X(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),null!==e&&null!==e.child||(dr(t)?Qa(t):null===e||e.memoizedState.isDehydrated&&0===(256&t.flags)||(t.flags|=1024,fr())),nl(t),null;case 26:return n=t.memoizedState,null===e?(Qa(t),null!==n?(nl(t),$a(t,n)):(nl(t),t.flags&=-16777217)):n?n!==e.memoizedState?(Qa(t),nl(t),$a(t,n)):(nl(t),t.flags&=-16777217):(e.memoizedProps!==i&&Qa(t),nl(t),t.flags&=-16777217),null;case 27:J(t),n=V.current;var r=t.type;if(null!==e&&null!=t.stateNode)e.memoizedProps!==i&&Qa(t);else{if(!i){if(null===t.stateNode)throw Error(s(166));return nl(t),null}e=H.current,dr(t)?ur(t):(e=bh(r,i,n),t.stateNode=e,Qa(t))}return nl(t),null;case 5:if(J(t),n=t.type,null!==e&&null!=t.stateNode)e.memoizedProps!==i&&Qa(t);else{if(!i){if(null===t.stateNode)throw Error(s(166));return nl(t),null}if(e=H.current,dr(t))ur(t);else{switch(r=ih(V.current),e){case 1:e=r.createElementNS("http://www.w3.org/2000/svg",n);break;case 2:e=r.createElementNS("http://www.w3.org/1998/Math/MathML",n);break;default:switch(n){case"svg":e=r.createElementNS("http://www.w3.org/2000/svg",n);break;case"math":e=r.createElementNS("http://www.w3.org/1998/Math/MathML",n);break;case"script":(e=r.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild);break;case"select":e="string"===typeof i.is?r.createElement("select",{is:i.is}):r.createElement("select"),i.multiple?e.multiple=!0:i.size&&(e.size=i.size);break;default:e="string"===typeof i.is?r.createElement(n,{is:i.is}):r.createElement(n)}}e[Ne]=t,e[ke]=i;e:for(r=t.child;null!==r;){if(5===r.tag||6===r.tag)e.appendChild(r.stateNode);else if(4!==r.tag&&27!==r.tag&&null!==r.child){r.child.return=r,r=r.child;continue}if(r===t)break e;for(;null===r.sibling;){if(null===r.return||r.return===t)break e;r=r.return}r.sibling.return=r.return,r=r.sibling}t.stateNode=e;e:switch(eh(e,n,i),n){case"button":case"input":case"select":case"textarea":e=!!i.autoFocus;break e;case"img":e=!0;break e;default:e=!1}e&&Qa(t)}}return nl(t),t.flags&=-16777217,null;case 6:if(e&&null!=t.stateNode)e.memoizedProps!==i&&Qa(t);else{if("string"!==typeof i&&null===t.stateNode)throw Error(s(166));if(e=V.current,dr(t)){if(e=t.stateNode,n=t.memoizedProps,i=null,null!==(r=ir))switch(r.tag){case 27:case 5:i=r.memoizedProps}e[Ne]=t,(e=!!(e.nodeValue===n||null!==i&&!0===i.suppressHydrationWarning||Zu(e.nodeValue,n)))||cr(t)}else(e=ih(e).createTextNode(i))[Ne]=t,t.stateNode=e}return nl(t),null;case 13:if(i=t.memoizedState,null===e||null!==e.memoizedState&&null!==e.memoizedState.dehydrated){if(r=dr(t),null!==i&&null!==i.dehydrated){if(null===e){if(!r)throw Error(s(318));if(!(r=null!==(r=t.memoizedState)?r.dehydrated:null))throw Error(s(317));r[Ne]=t}else pr(),0===(128&t.flags)&&(t.memoizedState=null),t.flags|=4;nl(t),r=!1}else r=fr(),null!==e&&null!==e.memoizedState&&(e.memoizedState.hydrationErrors=r),r=!0;if(!r)return 256&t.flags?(ca(t),t):(ca(t),null)}if(ca(t),0!==(128&t.flags))return t.lanes=n,t;if(n=null!==i,e=null!==e&&null!==e.memoizedState,n){r=null,null!==(i=t.child).alternate&&null!==i.alternate.memoizedState&&null!==i.alternate.memoizedState.cachePool&&(r=i.alternate.memoizedState.cachePool.pool);var o=null;null!==i.memoizedState&&null!==i.memoizedState.cachePool&&(o=i.memoizedState.cachePool.pool),o!==r&&(i.flags|=2048)}return n!==e&&n&&(t.child.flags|=8192),el(t,t.updateQueue),nl(t),null;case 4:return X(),null===e&&Bu(t.stateNode.containerInfo),nl(t),null;case 10:return br(t.type),nl(t),null;case 19:if(B(ua),null===(r=t.memoizedState))return nl(t),null;if(i=0!==(128&t.flags),null===(o=r.rendering))if(i)tl(r,!1);else{if(0!==dc||null!==e&&0!==(128&e.flags))for(e=t.child;null!==e;){if(null!==(o=ha(e))){for(t.flags|=128,tl(r,!1),e=o.updateQueue,t.updateQueue=e,el(t,e),t.subtreeFlags=0,e=n,n=t.child;null!==n;)zi(n,e),n=n.sibling;return U(ua,1&ua.current|2),t.child}e=e.sibling}null!==r.tail&&te()>_c&&(t.flags|=128,i=!0,tl(r,!1),t.lanes=4194304)}else{if(!i)if(null!==(e=ha(o))){if(t.flags|=128,i=!0,e=e.updateQueue,t.updateQueue=e,el(t,e),tl(r,!0),null===r.tail&&"hidden"===r.tailMode&&!o.alternate&&!or)return nl(t),null}else 2*te()-r.renderingStartTime>_c&&536870912!==n&&(t.flags|=128,i=!0,tl(r,!1),t.lanes=4194304);r.isBackwards?(o.sibling=t.child,t.child=o):(null!==(e=r.last)?e.sibling=o:t.child=o,r.last=o)}return null!==r.tail?(t=r.tail,r.rendering=t,r.tail=t.sibling,r.renderingStartTime=te(),t.sibling=null,e=ua.current,U(ua,i?1&e|2:1&e),t):(nl(t),null);case 22:case 23:return ca(t),yo(),i=null!==t.memoizedState,null!==e?null!==e.memoizedState!==i&&(t.flags|=8192):i&&(t.flags|=8192),i?0!==(536870912&n)&&0===(128&t.flags)&&(nl(t),6&t.subtreeFlags&&(t.flags|=8192)):nl(t),null!==(n=t.updateQueue)&&el(t,n.retryQueue),n=null,null!==e&&null!==e.memoizedState&&null!==e.memoizedState.cachePool&&(n=e.memoizedState.cachePool.pool),i=null,null!==t.memoizedState&&null!==t.memoizedState.cachePool&&(i=t.memoizedState.cachePool.pool),i!==n&&(t.flags|=2048),null!==e&&B(Ur),null;case 24:return n=null,null!==e&&(n=e.memoizedState.cache),t.memoizedState.cache!==n&&(t.flags|=2048),br(Nr),nl(t),null;case 25:case 30:return null}throw Error(s(156,t.tag))}function rl(e,t){switch(nr(t),t.tag){case 1:return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return br(Nr),X(),0!==(65536&(e=t.flags))&&0===(128&e)?(t.flags=-65537&e|128,t):null;case 26:case 27:case 5:return J(t),null;case 13:if(ca(t),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(s(340));pr()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return B(ua),null;case 4:return X(),null;case 10:return br(t.type),null;case 22:case 23:return ca(t),yo(),null!==e&&B(Ur),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 24:return br(Nr),null;default:return null}}function ol(e,t){switch(nr(t),t.tag){case 3:br(Nr),X();break;case 26:case 27:case 5:J(t);break;case 4:X();break;case 13:ca(t);break;case 19:B(ua);break;case 10:br(t.type);break;case 22:case 23:ca(t),yo(),null!==e&&B(Ur);break;case 24:br(Nr)}}function sl(e,t){try{var n=t.updateQueue,i=null!==n?n.lastEffect:null;if(null!==i){var r=i.next;n=r;do{if((n.tag&e)===e){i=void 0;var o=n.create,s=n.inst;i=o(),s.destroy=i}n=n.next}while(n!==r)}}catch(a){uu(t,t.return,a)}}function al(e,t,n){try{var i=t.updateQueue,r=null!==i?i.lastEffect:null;if(null!==r){var o=r.next;i=o;do{if((i.tag&e)===e){var s=i.inst,a=s.destroy;if(void 0!==a){s.destroy=void 0,r=t;var l=n,c=a;try{c()}catch(u){uu(r,l,u)}}}i=i.next}while(i!==o)}}catch(u){uu(t,t.return,u)}}function ll(e){var t=e.updateQueue;if(null!==t){var n=e.stateNode;try{po(t,n)}catch(i){uu(e,e.return,i)}}}function cl(e,t,n){n.props=ga(e.type,e.memoizedProps),n.state=e.memoizedState;try{n.componentWillUnmount()}catch(i){uu(e,t,i)}}function ul(e,t){try{var n=e.ref;if(null!==n){switch(e.tag){case 26:case 27:case 5:var i=e.stateNode;break;default:i=e.stateNode}"function"===typeof n?e.refCleanup=n(i):n.current=i}}catch(r){uu(e,t,r)}}function hl(e,t){var n=e.ref,i=e.refCleanup;if(null!==n)if("function"===typeof i)try{i()}catch(r){uu(e,t,r)}finally{e.refCleanup=null,null!=(e=e.alternate)&&(e.refCleanup=null)}else if("function"===typeof n)try{n(null)}catch(o){uu(e,t,o)}else n.current=null}function dl(e){var t=e.type,n=e.memoizedProps,i=e.stateNode;try{e:switch(t){case"button":case"input":case"select":case"textarea":n.autoFocus&&i.focus();break e;case"img":n.src?i.src=n.src:n.srcSet&&(i.srcset=n.srcSet)}}catch(r){uu(e,e.return,r)}}function pl(e,t,n){try{var i=e.stateNode;!function(e,t,n,i){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var r=null,o=null,a=null,l=null,c=null,u=null,h=null;for(f in n){var d=n[f];if(n.hasOwnProperty(f)&&null!=d)switch(f){case"checked":case"value":break;case"defaultValue":c=d;default:i.hasOwnProperty(f)||Qu(e,t,f,null,i,d)}}for(var p in i){var f=i[p];if(d=n[p],i.hasOwnProperty(p)&&(null!=f||null!=d))switch(p){case"type":o=f;break;case"name":r=f;break;case"checked":u=f;break;case"defaultChecked":h=f;break;case"value":a=f;break;case"defaultValue":l=f;break;case"children":case"dangerouslySetInnerHTML":if(null!=f)throw Error(s(137,t));break;default:f!==d&&Qu(e,t,p,f,i,d)}}return void gt(e,a,l,c,u,h,o,r);case"select":for(o in f=a=l=p=null,n)if(c=n[o],n.hasOwnProperty(o)&&null!=c)switch(o){case"value":break;case"multiple":f=c;default:i.hasOwnProperty(o)||Qu(e,t,o,null,i,c)}for(r in i)if(o=i[r],c=n[r],i.hasOwnProperty(r)&&(null!=o||null!=c))switch(r){case"value":p=o;break;case"defaultValue":l=o;break;case"multiple":a=o;default:o!==c&&Qu(e,t,r,o,i,c)}return t=l,n=a,i=f,void(null!=p?xt(e,!!n,p,!1):!!i!==!!n&&(null!=t?xt(e,!!n,t,!0):xt(e,!!n,n?[]:"",!1)));case"textarea":for(l in f=p=null,n)if(r=n[l],n.hasOwnProperty(l)&&null!=r&&!i.hasOwnProperty(l))switch(l){case"value":case"children":break;default:Qu(e,t,l,null,i,r)}for(a in i)if(r=i[a],o=n[a],i.hasOwnProperty(a)&&(null!=r||null!=o))switch(a){case"value":p=r;break;case"defaultValue":f=r;break;case"children":break;case"dangerouslySetInnerHTML":if(null!=r)throw Error(s(91));break;default:r!==o&&Qu(e,t,a,r,i,o)}return void bt(e,p,f);case"option":for(var m in n)if(p=n[m],n.hasOwnProperty(m)&&null!=p&&!i.hasOwnProperty(m))if("selected"===m)e.selected=!1;else Qu(e,t,m,null,i,p);for(c in i)if(p=i[c],f=n[c],i.hasOwnProperty(c)&&p!==f&&(null!=p||null!=f))if("selected"===c)e.selected=p&&"function"!==typeof p&&"symbol"!==typeof p;else Qu(e,t,c,p,i,f);return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var g in n)p=n[g],n.hasOwnProperty(g)&&null!=p&&!i.hasOwnProperty(g)&&Qu(e,t,g,null,i,p);for(u in i)if(p=i[u],f=n[u],i.hasOwnProperty(u)&&p!==f&&(null!=p||null!=f))switch(u){case"children":case"dangerouslySetInnerHTML":if(null!=p)throw Error(s(137,t));break;default:Qu(e,t,u,p,i,f)}return;default:if(Tt(t)){for(var v in n)p=n[v],n.hasOwnProperty(v)&&void 0!==p&&!i.hasOwnProperty(v)&&$u(e,t,v,void 0,i,p);for(h in i)p=i[h],f=n[h],!i.hasOwnProperty(h)||p===f||void 0===p&&void 0===f||$u(e,t,h,p,i,f);return}}for(var y in n)p=n[y],n.hasOwnProperty(y)&&null!=p&&!i.hasOwnProperty(y)&&Qu(e,t,y,null,i,p);for(d in i)p=i[d],f=n[d],!i.hasOwnProperty(d)||p===f||null==p&&null==f||Qu(e,t,d,p,i,f)}(i,e.type,n,t),i[ke]=t}catch(r){uu(e,e.return,r)}}function fl(e){return 5===e.tag||3===e.tag||26===e.tag||27===e.tag&&ph(e.type)||4===e.tag}function ml(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||fl(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(27===e.tag&&ph(e.type))continue e;if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function gl(e,t,n){var i=e.tag;if(5===i||6===i)e=e.stateNode,t?(9===n.nodeType?n.body:"HTML"===n.nodeName?n.ownerDocument.body:n).insertBefore(e,t):((t=9===n.nodeType?n.body:"HTML"===n.nodeName?n.ownerDocument.body:n).appendChild(e),null!==(n=n._reactRootContainer)&&void 0!==n||null!==t.onclick||(t.onclick=Ku));else if(4!==i&&(27===i&&ph(e.type)&&(n=e.stateNode,t=null),null!==(e=e.child)))for(gl(e,t,n),e=e.sibling;null!==e;)gl(e,t,n),e=e.sibling}function vl(e,t,n){var i=e.tag;if(5===i||6===i)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==i&&(27===i&&ph(e.type)&&(n=e.stateNode),null!==(e=e.child)))for(vl(e,t,n),e=e.sibling;null!==e;)vl(e,t,n),e=e.sibling}function yl(e){var t=e.stateNode,n=e.memoizedProps;try{for(var i=e.type,r=t.attributes;r.length;)t.removeAttributeNode(r[0]);eh(t,i,n),t[Ne]=e,t[ke]=n}catch(o){uu(e,e.return,o)}}var xl=!1,bl=!1,wl=!1,_l="function"===typeof WeakSet?WeakSet:Set,Sl=null;function Ml(e,t,n){var i=n.flags;switch(n.tag){case 0:case 11:case 15:Fl(e,n),4&i&&sl(5,n);break;case 1:if(Fl(e,n),4&i)if(e=n.stateNode,null===t)try{e.componentDidMount()}catch(s){uu(n,n.return,s)}else{var r=ga(n.type,t.memoizedProps);t=t.memoizedState;try{e.componentDidUpdate(r,t,e.__reactInternalSnapshotBeforeUpdate)}catch(a){uu(n,n.return,a)}}64&i&&ll(n),512&i&&ul(n,n.return);break;case 3:if(Fl(e,n),64&i&&null!==(e=n.updateQueue)){if(t=null,null!==n.child)switch(n.child.tag){case 27:case 5:case 1:t=n.child.stateNode}try{po(e,t)}catch(s){uu(n,n.return,s)}}break;case 27:null===t&&4&i&&yl(n);case 26:case 5:Fl(e,n),null===t&&4&i&&dl(n),512&i&&ul(n,n.return);break;case 12:Fl(e,n);break;case 13:Fl(e,n),4&i&&Ll(e,n),64&i&&(null!==(e=n.memoizedState)&&(null!==(e=e.dehydrated)&&function(e,t){var n=e.ownerDocument;if("$?"!==e.data||"complete"===n.readyState)t();else{var i=function(){t(),n.removeEventListener("DOMContentLoaded",i)};n.addEventListener("DOMContentLoaded",i),e._reactRetry=i}}(e,n=fu.bind(null,n))));break;case 22:if(!(i=null!==n.memoizedState||xl)){t=null!==t&&null!==t.memoizedState||bl,r=xl;var o=bl;xl=i,(bl=t)&&!o?zl(e,n,0!==(8772&n.subtreeFlags)):Fl(e,n),xl=r,bl=o}break;case 30:break;default:Fl(e,n)}}function El(e){var t=e.alternate;null!==t&&(e.alternate=null,El(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&(null!==(t=e.stateNode)&&Be(t)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var Tl=null,Al=!1;function Cl(e,t,n){for(n=n.child;null!==n;)Rl(e,t,n),n=n.sibling}function Rl(e,t,n){if(he&&"function"===typeof he.onCommitFiberUnmount)try{he.onCommitFiberUnmount(ue,n)}catch(o){}switch(n.tag){case 26:bl||hl(n,t),Cl(e,t,n),n.memoizedState?n.memoizedState.count--:n.stateNode&&(n=n.stateNode).parentNode.removeChild(n);break;case 27:bl||hl(n,t);var i=Tl,r=Al;ph(n.type)&&(Tl=n.stateNode,Al=!1),Cl(e,t,n),wh(n.stateNode),Tl=i,Al=r;break;case 5:bl||hl(n,t);case 6:if(i=Tl,r=Al,Tl=null,Cl(e,t,n),Al=r,null!==(Tl=i))if(Al)try{(9===Tl.nodeType?Tl.body:"HTML"===Tl.nodeName?Tl.ownerDocument.body:Tl).removeChild(n.stateNode)}catch(s){uu(n,t,s)}else try{Tl.removeChild(n.stateNode)}catch(s){uu(n,t,s)}break;case 18:null!==Tl&&(Al?(fh(9===(e=Tl).nodeType?e.body:"HTML"===e.nodeName?e.ownerDocument.body:e,n.stateNode),Ad(e)):fh(Tl,n.stateNode));break;case 4:i=Tl,r=Al,Tl=n.stateNode.containerInfo,Al=!0,Cl(e,t,n),Tl=i,Al=r;break;case 0:case 11:case 14:case 15:bl||al(2,n,t),bl||al(4,n,t),Cl(e,t,n);break;case 1:bl||(hl(n,t),"function"===typeof(i=n.stateNode).componentWillUnmount&&cl(n,t,i)),Cl(e,t,n);break;case 21:Cl(e,t,n);break;case 22:bl=(i=bl)||null!==n.memoizedState,Cl(e,t,n),bl=i;break;default:Cl(e,t,n)}}function Ll(e,t){if(null===t.memoizedState&&(null!==(e=t.alternate)&&(null!==(e=e.memoizedState)&&null!==(e=e.dehydrated))))try{Ad(e)}catch(n){uu(t,t.return,n)}}function Pl(e,t){var n=function(e){switch(e.tag){case 13:case 19:var t=e.stateNode;return null===t&&(t=e.stateNode=new _l),t;case 22:return null===(t=(e=e.stateNode)._retryCache)&&(t=e._retryCache=new _l),t;default:throw Error(s(435,e.tag))}}(e);t.forEach((function(t){var i=mu.bind(null,e,t);n.has(t)||(n.add(t),t.then(i,i))}))}function Nl(e,t){var n=t.deletions;if(null!==n)for(var i=0;i<n.length;i++){var r=n[i],o=e,a=t,l=a;e:for(;null!==l;){switch(l.tag){case 27:if(ph(l.type)){Tl=l.stateNode,Al=!1;break e}break;case 5:Tl=l.stateNode,Al=!1;break e;case 3:case 4:Tl=l.stateNode.containerInfo,Al=!0;break e}l=l.return}if(null===Tl)throw Error(s(160));Rl(o,a,r),Tl=null,Al=!1,null!==(o=r.alternate)&&(o.return=null),r.return=null}if(13878&t.subtreeFlags)for(t=t.child;null!==t;)Ol(t,e),t=t.sibling}var kl=null;function Ol(e,t){var n=e.alternate,i=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:Nl(t,e),Dl(e),4&i&&(al(3,e,e.return),sl(3,e),al(5,e,e.return));break;case 1:Nl(t,e),Dl(e),512&i&&(bl||null===n||hl(n,n.return)),64&i&&xl&&(null!==(e=e.updateQueue)&&(null!==(i=e.callbacks)&&(n=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=null===n?i:n.concat(i))));break;case 26:var r=kl;if(Nl(t,e),Dl(e),512&i&&(bl||null===n||hl(n,n.return)),4&i){var o=null!==n?n.memoizedState:null;if(i=e.memoizedState,null===n)if(null===i)if(null===e.stateNode){e:{i=e.type,n=e.memoizedProps,r=r.ownerDocument||r;t:switch(i){case"title":(!(o=r.getElementsByTagName("title")[0])||o[ze]||o[Ne]||"http://www.w3.org/2000/svg"===o.namespaceURI||o.hasAttribute("itemprop"))&&(o=r.createElement(i),r.head.insertBefore(o,r.querySelector("head > title"))),eh(o,i,n),o[Ne]=e,We(o),i=o;break e;case"link":var a=zh("link","href",r).get(i+(n.href||""));if(a)for(var l=0;l<a.length;l++)if((o=a[l]).getAttribute("href")===(null==n.href||""===n.href?null:n.href)&&o.getAttribute("rel")===(null==n.rel?null:n.rel)&&o.getAttribute("title")===(null==n.title?null:n.title)&&o.getAttribute("crossorigin")===(null==n.crossOrigin?null:n.crossOrigin)){a.splice(l,1);break t}eh(o=r.createElement(i),i,n),r.head.appendChild(o);break;case"meta":if(a=zh("meta","content",r).get(i+(n.content||"")))for(l=0;l<a.length;l++)if((o=a[l]).getAttribute("content")===(null==n.content?null:""+n.content)&&o.getAttribute("name")===(null==n.name?null:n.name)&&o.getAttribute("property")===(null==n.property?null:n.property)&&o.getAttribute("http-equiv")===(null==n.httpEquiv?null:n.httpEquiv)&&o.getAttribute("charset")===(null==n.charSet?null:n.charSet)){a.splice(l,1);break t}eh(o=r.createElement(i),i,n),r.head.appendChild(o);break;default:throw Error(s(468,i))}o[Ne]=e,We(o),i=o}e.stateNode=i}else Bh(r,e.type,e.stateNode);else e.stateNode=Oh(r,i,e.memoizedProps);else o!==i?(null===o?null!==n.stateNode&&(n=n.stateNode).parentNode.removeChild(n):o.count--,null===i?Bh(r,e.type,e.stateNode):Oh(r,i,e.memoizedProps)):null===i&&null!==e.stateNode&&pl(e,e.memoizedProps,n.memoizedProps)}break;case 27:Nl(t,e),Dl(e),512&i&&(bl||null===n||hl(n,n.return)),null!==n&&4&i&&pl(e,e.memoizedProps,n.memoizedProps);break;case 5:if(Nl(t,e),Dl(e),512&i&&(bl||null===n||hl(n,n.return)),32&e.flags){r=e.stateNode;try{_t(r,"")}catch(f){uu(e,e.return,f)}}4&i&&null!=e.stateNode&&pl(e,r=e.memoizedProps,null!==n?n.memoizedProps:r),1024&i&&(wl=!0);break;case 6:if(Nl(t,e),Dl(e),4&i){if(null===e.stateNode)throw Error(s(162));i=e.memoizedProps,n=e.stateNode;try{n.nodeValue=i}catch(f){uu(e,e.return,f)}}break;case 3:if(Ih=null,r=kl,kl=Mh(t.containerInfo),Nl(t,e),kl=r,Dl(e),4&i&&null!==n&&n.memoizedState.isDehydrated)try{Ad(t.containerInfo)}catch(f){uu(e,e.return,f)}wl&&(wl=!1,jl(e));break;case 4:i=kl,kl=Mh(e.stateNode.containerInfo),Nl(t,e),Dl(e),kl=i;break;case 12:default:Nl(t,e),Dl(e);break;case 13:Nl(t,e),Dl(e),8192&e.child.flags&&null!==e.memoizedState!==(null!==n&&null!==n.memoizedState)&&(wc=te()),4&i&&(null!==(i=e.updateQueue)&&(e.updateQueue=null,Pl(e,i)));break;case 22:r=null!==e.memoizedState;var c=null!==n&&null!==n.memoizedState,u=xl,h=bl;if(xl=u||r,bl=h||c,Nl(t,e),bl=h,xl=u,Dl(e),8192&i)e:for(t=e.stateNode,t._visibility=r?-2&t._visibility:1|t._visibility,r&&(null===n||c||xl||bl||Il(e)),n=null,t=e;;){if(5===t.tag||26===t.tag){if(null===n){c=n=t;try{if(o=c.stateNode,r)"function"===typeof(a=o.style).setProperty?a.setProperty("display","none","important"):a.display="none";else{l=c.stateNode;var d=c.memoizedProps.style,p=void 0!==d&&null!==d&&d.hasOwnProperty("display")?d.display:null;l.style.display=null==p||"boolean"===typeof p?"":(""+p).trim()}}catch(f){uu(c,c.return,f)}}}else if(6===t.tag){if(null===n){c=t;try{c.stateNode.nodeValue=r?"":c.memoizedProps}catch(f){uu(c,c.return,f)}}}else if((22!==t.tag&&23!==t.tag||null===t.memoizedState||t===e)&&null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;null===t.sibling;){if(null===t.return||t.return===e)break e;n===t&&(n=null),t=t.return}n===t&&(n=null),t.sibling.return=t.return,t=t.sibling}4&i&&(null!==(i=e.updateQueue)&&(null!==(n=i.retryQueue)&&(i.retryQueue=null,Pl(e,n))));break;case 19:Nl(t,e),Dl(e),4&i&&(null!==(i=e.updateQueue)&&(e.updateQueue=null,Pl(e,i)));case 30:case 21:}}function Dl(e){var t=e.flags;if(2&t){try{for(var n,i=e.return;null!==i;){if(fl(i)){n=i;break}i=i.return}if(null==n)throw Error(s(160));switch(n.tag){case 27:var r=n.stateNode;vl(e,ml(e),r);break;case 5:var o=n.stateNode;32&n.flags&&(_t(o,""),n.flags&=-33),vl(e,ml(e),o);break;case 3:case 4:var a=n.stateNode.containerInfo;gl(e,ml(e),a);break;default:throw Error(s(161))}}catch(l){uu(e,e.return,l)}e.flags&=-3}4096&t&&(e.flags&=-4097)}function jl(e){if(1024&e.subtreeFlags)for(e=e.child;null!==e;){var t=e;jl(t),5===t.tag&&1024&t.flags&&t.stateNode.reset(),e=e.sibling}}function Fl(e,t){if(8772&t.subtreeFlags)for(t=t.child;null!==t;)Ml(e,t.alternate,t),t=t.sibling}function Il(e){for(e=e.child;null!==e;){var t=e;switch(t.tag){case 0:case 11:case 14:case 15:al(4,t,t.return),Il(t);break;case 1:hl(t,t.return);var n=t.stateNode;"function"===typeof n.componentWillUnmount&&cl(t,t.return,n),Il(t);break;case 27:wh(t.stateNode);case 26:case 5:hl(t,t.return),Il(t);break;case 22:null===t.memoizedState&&Il(t);break;default:Il(t)}e=e.sibling}}function zl(e,t,n){for(n=n&&0!==(8772&t.subtreeFlags),t=t.child;null!==t;){var i=t.alternate,r=e,o=t,s=o.flags;switch(o.tag){case 0:case 11:case 15:zl(r,o,n),sl(4,o);break;case 1:if(zl(r,o,n),"function"===typeof(r=(i=o).stateNode).componentDidMount)try{r.componentDidMount()}catch(c){uu(i,i.return,c)}if(null!==(r=(i=o).updateQueue)){var a=i.stateNode;try{var l=r.shared.hiddenCallbacks;if(null!==l)for(r.shared.hiddenCallbacks=null,r=0;r<l.length;r++)ho(l[r],a)}catch(c){uu(i,i.return,c)}}n&&64&s&&ll(o),ul(o,o.return);break;case 27:yl(o);case 26:case 5:zl(r,o,n),n&&null===i&&4&s&&dl(o),ul(o,o.return);break;case 12:zl(r,o,n);break;case 13:zl(r,o,n),n&&4&s&&Ll(r,o);break;case 22:null===o.memoizedState&&zl(r,o,n),ul(o,o.return);break;case 30:break;default:zl(r,o,n)}t=t.sibling}}function Bl(e,t){var n=null;null!==e&&null!==e.memoizedState&&null!==e.memoizedState.cachePool&&(n=e.memoizedState.cachePool.pool),e=null,null!==t.memoizedState&&null!==t.memoizedState.cachePool&&(e=t.memoizedState.cachePool.pool),e!==n&&(null!=e&&e.refCount++,null!=n&&Or(n))}function Ul(e,t){e=null,null!==t.alternate&&(e=t.alternate.memoizedState.cache),(t=t.memoizedState.cache)!==e&&(t.refCount++,null!=e&&Or(e))}function Hl(e,t,n,i){if(10256&t.subtreeFlags)for(t=t.child;null!==t;)Gl(e,t,n,i),t=t.sibling}function Gl(e,t,n,i){var r=t.flags;switch(t.tag){case 0:case 11:case 15:Hl(e,t,n,i),2048&r&&sl(9,t);break;case 1:case 13:default:Hl(e,t,n,i);break;case 3:Hl(e,t,n,i),2048&r&&(e=null,null!==t.alternate&&(e=t.alternate.memoizedState.cache),(t=t.memoizedState.cache)!==e&&(t.refCount++,null!=e&&Or(e)));break;case 12:if(2048&r){Hl(e,t,n,i),e=t.stateNode;try{var o=t.memoizedProps,s=o.id,a=o.onPostCommit;"function"===typeof a&&a(s,null===t.alternate?"mount":"update",e.passiveEffectDuration,-0)}catch(l){uu(t,t.return,l)}}else Hl(e,t,n,i);break;case 23:break;case 22:o=t.stateNode,s=t.alternate,null!==t.memoizedState?2&o._visibility?Hl(e,t,n,i):Wl(e,t):2&o._visibility?Hl(e,t,n,i):(o._visibility|=2,Vl(e,t,n,i,0!==(10256&t.subtreeFlags))),2048&r&&Bl(s,t);break;case 24:Hl(e,t,n,i),2048&r&&Ul(t.alternate,t)}}function Vl(e,t,n,i,r){for(r=r&&0!==(10256&t.subtreeFlags),t=t.child;null!==t;){var o=e,s=t,a=n,l=i,c=s.flags;switch(s.tag){case 0:case 11:case 15:Vl(o,s,a,l,r),sl(8,s);break;case 23:break;case 22:var u=s.stateNode;null!==s.memoizedState?2&u._visibility?Vl(o,s,a,l,r):Wl(o,s):(u._visibility|=2,Vl(o,s,a,l,r)),r&&2048&c&&Bl(s.alternate,s);break;case 24:Vl(o,s,a,l,r),r&&2048&c&&Ul(s.alternate,s);break;default:Vl(o,s,a,l,r)}t=t.sibling}}function Wl(e,t){if(10256&t.subtreeFlags)for(t=t.child;null!==t;){var n=e,i=t,r=i.flags;switch(i.tag){case 22:Wl(n,i),2048&r&&Bl(i.alternate,i);break;case 24:Wl(n,i),2048&r&&Ul(i.alternate,i);break;default:Wl(n,i)}t=t.sibling}}var ql=8192;function Xl(e){if(e.subtreeFlags&ql)for(e=e.child;null!==e;)Yl(e),e=e.sibling}function Yl(e){switch(e.tag){case 26:Xl(e),e.flags&ql&&null!==e.memoizedState&&function(e,t,n){if(null===Hh)throw Error(s(475));var i=Hh;if("stylesheet"===t.type&&("string"!==typeof n.media||!1!==matchMedia(n.media).matches)&&0===(4&t.state.loading)){if(null===t.instance){var r=Rh(n.href),o=e.querySelector(Lh(r));if(o)return null!==(e=o._p)&&"object"===typeof e&&"function"===typeof e.then&&(i.count++,i=Vh.bind(i),e.then(i,i)),t.state.loading|=4,t.instance=o,void We(o);o=e.ownerDocument||e,n=Ph(n),(r=_h.get(r))&&jh(n,r),We(o=o.createElement("link"));var a=o;a._p=new Promise((function(e,t){a.onload=e,a.onerror=t})),eh(o,"link",n),t.instance=o}null===i.stylesheets&&(i.stylesheets=new Map),i.stylesheets.set(t,e),(e=t.state.preload)&&0===(3&t.state.loading)&&(i.count++,t=Vh.bind(i),e.addEventListener("load",t),e.addEventListener("error",t))}}(kl,e.memoizedState,e.memoizedProps);break;case 5:default:Xl(e);break;case 3:case 4:var t=kl;kl=Mh(e.stateNode.containerInfo),Xl(e),kl=t;break;case 22:null===e.memoizedState&&(null!==(t=e.alternate)&&null!==t.memoizedState?(t=ql,ql=16777216,Xl(e),ql=t):Xl(e))}}function Jl(e){var t=e.alternate;if(null!==t&&null!==(e=t.child)){t.child=null;do{t=e.sibling,e.sibling=null,e=t}while(null!==e)}}function Zl(e){var t=e.deletions;if(0!==(16&e.flags)){if(null!==t)for(var n=0;n<t.length;n++){var i=t[n];Sl=i,$l(i,e)}Jl(e)}if(10256&e.subtreeFlags)for(e=e.child;null!==e;)Kl(e),e=e.sibling}function Kl(e){switch(e.tag){case 0:case 11:case 15:Zl(e),2048&e.flags&&al(9,e,e.return);break;case 3:case 12:default:Zl(e);break;case 22:var t=e.stateNode;null!==e.memoizedState&&2&t._visibility&&(null===e.return||13!==e.return.tag)?(t._visibility&=-3,Ql(e)):Zl(e)}}function Ql(e){var t=e.deletions;if(0!==(16&e.flags)){if(null!==t)for(var n=0;n<t.length;n++){var i=t[n];Sl=i,$l(i,e)}Jl(e)}for(e=e.child;null!==e;){switch((t=e).tag){case 0:case 11:case 15:al(8,t,t.return),Ql(t);break;case 22:2&(n=t.stateNode)._visibility&&(n._visibility&=-3,Ql(t));break;default:Ql(t)}e=e.sibling}}function $l(e,t){for(;null!==Sl;){var n=Sl;switch(n.tag){case 0:case 11:case 15:al(8,n,t);break;case 23:case 22:if(null!==n.memoizedState&&null!==n.memoizedState.cachePool){var i=n.memoizedState.cachePool.pool;null!=i&&i.refCount++}break;case 24:Or(n.memoizedState.cache)}if(null!==(i=n.child))i.return=n,Sl=i;else e:for(n=e;null!==Sl;){var r=(i=Sl).sibling,o=i.return;if(El(i),i===n){Sl=null;break e}if(null!==r){r.return=o,Sl=r;break e}Sl=o}}}var ec={getCacheForType:function(e){var t=Tr(Nr),n=t.data.get(e);return void 0===n&&(n=e(),t.data.set(e,n)),n}},tc="function"===typeof WeakMap?WeakMap:Map,nc=0,ic=null,rc=null,oc=0,sc=0,ac=null,lc=!1,cc=!1,uc=!1,hc=0,dc=0,pc=0,fc=0,mc=0,gc=0,vc=0,yc=null,xc=null,bc=!1,wc=0,_c=1/0,Sc=null,Mc=null,Ec=0,Tc=null,Ac=null,Cc=0,Rc=0,Lc=null,Pc=null,Nc=0,kc=null;function Oc(){if(0!==(2&nc)&&0!==oc)return oc&-oc;if(null!==O.T){return 0!==Fr?Fr:Ru()}return Le()}function Dc(){0===gc&&(gc=0===(536870912&oc)||or?_e():536870912);var e=ra.current;return null!==e&&(e.flags|=32),gc}function jc(e,t,n){(e!==ic||2!==sc&&9!==sc)&&null===e.cancelPendingCommit||(Gc(e,0),Bc(e,oc,gc,!1)),Ee(e,n),0!==(2&nc)&&e===ic||(e===ic&&(0===(2&nc)&&(fc|=n),4===dc&&Bc(e,oc,gc,!1)),_u(e))}function Fc(e,t,n){if(0!==(6&nc))throw Error(s(327));for(var i=!n&&0===(124&t)&&0===(t&e.expiredLanes)||be(e,t),r=i?function(e,t){var n=nc;nc|=2;var i=Wc(),r=qc();ic!==e||oc!==t?(Sc=null,_c=te()+500,Gc(e,t)):cc=be(e,t);e:for(;;)try{if(0!==sc&&null!==rc){t=rc;var o=ac;t:switch(sc){case 1:sc=0,ac=null,$c(e,t,o,1);break;case 2:case 9:if(Jr(o)){sc=0,ac=null,Qc(t);break}t=function(){2!==sc&&9!==sc||ic!==e||(sc=7),_u(e)},o.then(t,t);break e;case 3:sc=7;break e;case 4:sc=5;break e;case 7:Jr(o)?(sc=0,ac=null,Qc(t)):(sc=0,ac=null,$c(e,t,o,7));break;case 5:var a=null;switch(rc.tag){case 26:a=rc.memoizedState;case 5:case 27:var l=rc;if(!a||Uh(a)){sc=0,ac=null;var c=l.sibling;if(null!==c)rc=c;else{var u=l.return;null!==u?(rc=u,eu(u)):rc=null}break t}}sc=0,ac=null,$c(e,t,o,5);break;case 6:sc=0,ac=null,$c(e,t,o,6);break;case 8:Hc(),dc=6;break e;default:throw Error(s(462))}}Zc();break}catch(h){Vc(e,h)}return yr=vr=null,O.H=i,O.A=r,nc=n,null!==rc?0:(ic=null,oc=0,Ci(),dc)}(e,t):Yc(e,t,!0),o=i;;){if(0===r){cc&&!i&&Bc(e,t,0,!1);break}if(n=e.current.alternate,!o||zc(n)){if(2===r){if(o=t,e.errorRecoveryDisabledLanes&o)var a=0;else a=0!==(a=-536870913&e.pendingLanes)?a:536870912&a?536870912:0;if(0!==a){t=a;e:{var l=e;r=yc;var c=l.current.memoizedState.isDehydrated;if(c&&(Gc(l,a).flags|=256),2!==(a=Yc(l,a,!1))){if(uc&&!c){l.errorRecoveryDisabledLanes|=o,fc|=o,r=4;break e}o=xc,xc=r,null!==o&&(null===xc?xc=o:xc.push.apply(xc,o))}r=a}if(o=!1,2!==r)continue}}if(1===r){Gc(e,0),Bc(e,t,0,!0);break}e:{switch(i=e,o=r){case 0:case 1:throw Error(s(345));case 4:if((4194048&t)!==t)break;case 6:Bc(i,t,gc,!lc);break e;case 2:xc=null;break;case 3:case 5:break;default:throw Error(s(329))}if((62914560&t)===t&&10<(r=wc+300-te())){if(Bc(i,t,gc,!lc),0!==xe(i,0,!0))break e;i.timeoutHandle=lh(Ic.bind(null,i,n,xc,Sc,bc,t,gc,fc,vc,lc,o,2,-0,0),r)}else Ic(i,n,xc,Sc,bc,t,gc,fc,vc,lc,o,0,-0,0)}break}r=Yc(e,t,!1),o=!1}_u(e)}function Ic(e,t,n,i,r,o,a,l,c,u,h,d,p,f){if(e.timeoutHandle=-1,(8192&(d=t.subtreeFlags)||16785408===(16785408&d))&&(Hh={stylesheets:null,count:0,unsuspend:Gh},Yl(t),null!==(d=function(){if(null===Hh)throw Error(s(475));var e=Hh;return e.stylesheets&&0===e.count&&qh(e,e.stylesheets),0<e.count?function(t){var n=setTimeout((function(){if(e.stylesheets&&qh(e,e.stylesheets),e.unsuspend){var t=e.unsuspend;e.unsuspend=null,t()}}),6e4);return e.unsuspend=t,function(){e.unsuspend=null,clearTimeout(n)}}:null}())))return e.cancelPendingCommit=d(nu.bind(null,e,t,o,n,i,r,a,l,c,h,1,p,f)),void Bc(e,o,a,!u);nu(e,t,o,n,i,r,a,l,c)}function zc(e){for(var t=e;;){var n=t.tag;if((0===n||11===n||15===n)&&16384&t.flags&&(null!==(n=t.updateQueue)&&null!==(n=n.stores)))for(var i=0;i<n.length;i++){var r=n[i],o=r.getSnapshot;r=r.value;try{if(!Jn(o(),r))return!1}catch(s){return!1}}if(n=t.child,16384&t.subtreeFlags&&null!==n)n.return=t,t=n;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Bc(e,t,n,i){t&=~mc,t&=~fc,e.suspendedLanes|=t,e.pingedLanes&=~t,i&&(e.warmLanes|=t),i=e.expirationTimes;for(var r=t;0<r;){var o=31-pe(r),s=1<<o;i[o]=-1,r&=~s}0!==n&&Te(e,n,t)}function Uc(){return 0!==(6&nc)||(Su(0,!1),!1)}function Hc(){if(null!==rc){if(0===sc)var e=rc.return;else yr=vr=null,Io(e=rc),Js=null,Zs=0,e=rc;for(;null!==e;)ol(e.alternate,e),e=e.return;rc=null}}function Gc(e,t){var n=e.timeoutHandle;-1!==n&&(e.timeoutHandle=-1,ch(n)),null!==(n=e.cancelPendingCommit)&&(e.cancelPendingCommit=null,n()),Hc(),ic=e,rc=n=Ii(e.current,null),oc=t,sc=0,ac=null,lc=!1,cc=be(e,t),uc=!1,vc=gc=mc=fc=pc=dc=0,xc=yc=null,bc=!1,0!==(8&t)&&(t|=32&t);var i=e.entangledLanes;if(0!==i)for(e=e.entanglements,i&=t;0<i;){var r=31-pe(i),o=1<<r;t|=e[r],i&=~o}return hc=t,Ci(),n}function Vc(e,t){bo=null,O.H=Ws,t===Wr||t===Xr?(t=$r(),sc=3):t===qr?(t=$r(),sc=4):sc=t===Ta?8:null!==t&&"object"===typeof t&&"function"===typeof t.then?6:1,ac=t,null===rc&&(dc=1,wa(e,Mi(t,e.current)))}function Wc(){var e=O.H;return O.H=Ws,null===e?Ws:e}function qc(){var e=O.A;return O.A=ec,e}function Xc(){dc=4,lc||(4194048&oc)!==oc&&null!==ra.current||(cc=!0),0===(134217727&pc)&&0===(134217727&fc)||null===ic||Bc(ic,oc,gc,!1)}function Yc(e,t,n){var i=nc;nc|=2;var r=Wc(),o=qc();ic===e&&oc===t||(Sc=null,Gc(e,t)),t=!1;var s=dc;e:for(;;)try{if(0!==sc&&null!==rc){var a=rc,l=ac;switch(sc){case 8:Hc(),s=6;break e;case 3:case 2:case 9:case 6:null===ra.current&&(t=!0);var c=sc;if(sc=0,ac=null,$c(e,a,l,c),n&&cc){s=0;break e}break;default:c=sc,sc=0,ac=null,$c(e,a,l,c)}}Jc(),s=dc;break}catch(u){Vc(e,u)}return t&&e.shellSuspendCounter++,yr=vr=null,nc=i,O.H=r,O.A=o,null===rc&&(ic=null,oc=0,Ci()),s}function Jc(){for(;null!==rc;)Kc(rc)}function Zc(){for(;null!==rc&&!$();)Kc(rc)}function Kc(e){var t=Ka(e.alternate,e,hc);e.memoizedProps=e.pendingProps,null===t?eu(e):rc=t}function Qc(e){var t=e,n=t.alternate;switch(t.tag){case 15:case 0:t=ja(n,t,t.pendingProps,t.type,void 0,oc);break;case 11:t=ja(n,t,t.pendingProps,t.type.render,t.ref,oc);break;case 5:Io(t);default:ol(n,t),t=Ka(n,t=rc=zi(t,hc),hc)}e.memoizedProps=e.pendingProps,null===t?eu(e):rc=t}function $c(e,t,n,i){yr=vr=null,Io(t),Js=null,Zs=0;var r=t.return;try{if(function(e,t,n,i,r){if(n.flags|=32768,null!==i&&"object"===typeof i&&"function"===typeof i.then){if(null!==(t=n.alternate)&&Sr(t,n,r,!0),null!==(n=ra.current)){switch(n.tag){case 13:return null===oa?Xc():null===n.alternate&&0===dc&&(dc=3),n.flags&=-257,n.flags|=65536,n.lanes=r,i===Yr?n.flags|=16384:(null===(t=n.updateQueue)?n.updateQueue=new Set([i]):t.add(i),hu(e,i,r)),!1;case 22:return n.flags|=65536,i===Yr?n.flags|=16384:(null===(t=n.updateQueue)?(t={transitions:null,markerInstances:null,retryQueue:new Set([i])},n.updateQueue=t):null===(n=t.retryQueue)?t.retryQueue=new Set([i]):n.add(i),hu(e,i,r)),!1}throw Error(s(435,n.tag))}return hu(e,i,r),Xc(),!1}if(or)return null!==(t=ra.current)?(0===(65536&t.flags)&&(t.flags|=256),t.flags|=65536,t.lanes=r,i!==lr&&mr(Mi(e=Error(s(422),{cause:i}),n))):(i!==lr&&mr(Mi(t=Error(s(423),{cause:i}),n)),(e=e.current.alternate).flags|=65536,r&=-r,e.lanes|=r,i=Mi(i,n),ao(e,r=Sa(e.stateNode,i,r)),4!==dc&&(dc=2)),!1;var o=Error(s(520),{cause:i});if(o=Mi(o,n),null===yc?yc=[o]:yc.push(o),4!==dc&&(dc=2),null===t)return!0;i=Mi(i,n),n=t;do{switch(n.tag){case 3:return n.flags|=65536,e=r&-r,n.lanes|=e,ao(n,e=Sa(n.stateNode,i,e)),!1;case 1:if(t=n.type,o=n.stateNode,0===(128&n.flags)&&("function"===typeof t.getDerivedStateFromError||null!==o&&"function"===typeof o.componentDidCatch&&(null===Mc||!Mc.has(o))))return n.flags|=65536,r&=-r,n.lanes|=r,Ea(r=Ma(r),e,n,i),ao(n,r),!1}n=n.return}while(null!==n);return!1}(e,r,t,n,oc))return dc=1,wa(e,Mi(n,e.current)),void(rc=null)}catch(o){if(null!==r)throw rc=r,o;return dc=1,wa(e,Mi(n,e.current)),void(rc=null)}32768&t.flags?(or||1===i?e=!0:cc||0!==(536870912&oc)?e=!1:(lc=e=!0,(2===i||9===i||3===i||6===i)&&(null!==(i=ra.current)&&13===i.tag&&(i.flags|=16384))),tu(t,e)):eu(t)}function eu(e){var t=e;do{if(0!==(32768&t.flags))return void tu(t,lc);e=t.return;var n=il(t.alternate,t,hc);if(null!==n)return void(rc=n);if(null!==(t=t.sibling))return void(rc=t);rc=t=e}while(null!==t);0===dc&&(dc=5)}function tu(e,t){do{var n=rl(e.alternate,e);if(null!==n)return n.flags&=32767,void(rc=n);if(null!==(n=e.return)&&(n.flags|=32768,n.subtreeFlags=0,n.deletions=null),!t&&null!==(e=e.sibling))return void(rc=e);rc=e=n}while(null!==e);dc=6,rc=null}function nu(e,t,n,i,r,o,a,l,c){e.cancelPendingCommit=null;do{au()}while(0!==Ec);if(0!==(6&nc))throw Error(s(327));if(null!==t){if(t===e.current)throw Error(s(177));if(o=t.lanes|t.childLanes,function(e,t,n,i,r,o){var s=e.pendingLanes;e.pendingLanes=n,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=n,e.entangledLanes&=n,e.errorRecoveryDisabledLanes&=n,e.shellSuspendCounter=0;var a=e.entanglements,l=e.expirationTimes,c=e.hiddenUpdates;for(n=s&~n;0<n;){var u=31-pe(n),h=1<<u;a[u]=0,l[u]=-1;var d=c[u];if(null!==d)for(c[u]=null,u=0;u<d.length;u++){var p=d[u];null!==p&&(p.lane&=-536870913)}n&=~h}0!==i&&Te(e,i,0),0!==o&&0===r&&0!==e.tag&&(e.suspendedLanes|=o&~(s&~t))}(e,n,o|=Ai,a,l,c),e===ic&&(rc=ic=null,oc=0),Ac=t,Tc=e,Cc=n,Rc=o,Lc=r,Pc=i,0!==(10256&t.subtreeFlags)||0!==(10256&t.flags)?(e.callbackNode=null,e.callbackPriority=0,K(oe,(function(){return lu(),null}))):(e.callbackNode=null,e.callbackPriority=0),i=0!==(13878&t.flags),0!==(13878&t.subtreeFlags)||i){i=O.T,O.T=null,r=D.p,D.p=2,a=nc,nc|=4;try{!function(e,t){if(e=e.containerInfo,th=nd,ti(e=ei(e))){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{var i=(n=(n=e.ownerDocument)&&n.defaultView||window).getSelection&&n.getSelection();if(i&&0!==i.rangeCount){n=i.anchorNode;var r=i.anchorOffset,o=i.focusNode;i=i.focusOffset;try{n.nodeType,o.nodeType}catch(g){n=null;break e}var a=0,l=-1,c=-1,u=0,h=0,d=e,p=null;t:for(;;){for(var f;d!==n||0!==r&&3!==d.nodeType||(l=a+r),d!==o||0!==i&&3!==d.nodeType||(c=a+i),3===d.nodeType&&(a+=d.nodeValue.length),null!==(f=d.firstChild);)p=d,d=f;for(;;){if(d===e)break t;if(p===n&&++u===r&&(l=a),p===o&&++h===i&&(c=a),null!==(f=d.nextSibling))break;p=(d=p).parentNode}d=f}n=-1===l||-1===c?null:{start:l,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(nh={focusedElem:e,selectionRange:n},nd=!1,Sl=t;null!==Sl;)if(e=(t=Sl).child,0!==(1024&t.subtreeFlags)&&null!==e)e.return=t,Sl=e;else for(;null!==Sl;){switch(o=(t=Sl).alternate,e=t.flags,t.tag){case 0:case 11:case 15:case 5:case 26:case 27:case 6:case 4:case 17:break;case 1:if(0!==(1024&e)&&null!==o){e=void 0,n=t,r=o.memoizedProps,o=o.memoizedState,i=n.stateNode;try{var m=ga(n.type,r,(n.elementType,n.type));e=i.getSnapshotBeforeUpdate(m,o),i.__reactInternalSnapshotBeforeUpdate=e}catch(v){uu(n,n.return,v)}}break;case 3:if(0!==(1024&e))if(9===(n=(e=t.stateNode.containerInfo).nodeType))mh(e);else if(1===n)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":mh(e);break;default:e.textContent=""}break;default:if(0!==(1024&e))throw Error(s(163))}if(null!==(e=t.sibling)){e.return=t.return,Sl=e;break}Sl=t.return}}(e,t)}finally{nc=a,D.p=r,O.T=i}}Ec=1,iu(),ru(),ou()}}function iu(){if(1===Ec){Ec=0;var e=Tc,t=Ac,n=0!==(13878&t.flags);if(0!==(13878&t.subtreeFlags)||n){n=O.T,O.T=null;var i=D.p;D.p=2;var r=nc;nc|=4;try{Ol(t,e);var o=nh,s=ei(e.containerInfo),a=o.focusedElem,l=o.selectionRange;if(s!==a&&a&&a.ownerDocument&&$n(a.ownerDocument.documentElement,a)){if(null!==l&&ti(a)){var c=l.start,u=l.end;if(void 0===u&&(u=c),"selectionStart"in a)a.selectionStart=c,a.selectionEnd=Math.min(u,a.value.length);else{var h=a.ownerDocument||document,d=h&&h.defaultView||window;if(d.getSelection){var p=d.getSelection(),f=a.textContent.length,m=Math.min(l.start,f),g=void 0===l.end?m:Math.min(l.end,f);!p.extend&&m>g&&(s=g,g=m,m=s);var v=Qn(a,m),y=Qn(a,g);if(v&&y&&(1!==p.rangeCount||p.anchorNode!==v.node||p.anchorOffset!==v.offset||p.focusNode!==y.node||p.focusOffset!==y.offset)){var x=h.createRange();x.setStart(v.node,v.offset),p.removeAllRanges(),m>g?(p.addRange(x),p.extend(y.node,y.offset)):(x.setEnd(y.node,y.offset),p.addRange(x))}}}}for(h=[],p=a;p=p.parentNode;)1===p.nodeType&&h.push({element:p,left:p.scrollLeft,top:p.scrollTop});for("function"===typeof a.focus&&a.focus(),a=0;a<h.length;a++){var b=h[a];b.element.scrollLeft=b.left,b.element.scrollTop=b.top}}nd=!!th,nh=th=null}finally{nc=r,D.p=i,O.T=n}}e.current=t,Ec=2}}function ru(){if(2===Ec){Ec=0;var e=Tc,t=Ac,n=0!==(8772&t.flags);if(0!==(8772&t.subtreeFlags)||n){n=O.T,O.T=null;var i=D.p;D.p=2;var r=nc;nc|=4;try{Ml(e,t.alternate,t)}finally{nc=r,D.p=i,O.T=n}}Ec=3}}function ou(){if(4===Ec||3===Ec){Ec=0,ee();var e=Tc,t=Ac,n=Cc,i=Pc;0!==(10256&t.subtreeFlags)||0!==(10256&t.flags)?Ec=5:(Ec=0,Ac=Tc=null,su(e,e.pendingLanes));var r=e.pendingLanes;if(0===r&&(Mc=null),Re(n),t=t.stateNode,he&&"function"===typeof he.onCommitFiberRoot)try{he.onCommitFiberRoot(ue,t,void 0,128===(128&t.current.flags))}catch(l){}if(null!==i){t=O.T,r=D.p,D.p=2,O.T=null;try{for(var o=e.onRecoverableError,s=0;s<i.length;s++){var a=i[s];o(a.value,{componentStack:a.stack})}}finally{O.T=t,D.p=r}}0!==(3&Cc)&&au(),_u(e),r=e.pendingLanes,0!==(4194090&n)&&0!==(42&r)?e===kc?Nc++:(Nc=0,kc=e):Nc=0,Su(0,!1)}}function su(e,t){0===(e.pooledCacheLanes&=t)&&(null!=(t=e.pooledCache)&&(e.pooledCache=null,Or(t)))}function au(e){return iu(),ru(),ou(),lu()}function lu(){if(5!==Ec)return!1;var e=Tc,t=Rc;Rc=0;var n=Re(Cc),i=O.T,r=D.p;try{D.p=32>n?32:n,O.T=null,n=Lc,Lc=null;var o=Tc,a=Cc;if(Ec=0,Ac=Tc=null,Cc=0,0!==(6&nc))throw Error(s(331));var l=nc;if(nc|=4,Kl(o.current),Gl(o,o.current,a,n),nc=l,Su(0,!1),he&&"function"===typeof he.onPostCommitFiberRoot)try{he.onPostCommitFiberRoot(ue,o)}catch(c){}return!0}finally{D.p=r,O.T=i,su(e,t)}}function cu(e,t,n){t=Mi(n,t),null!==(e=oo(e,t=Sa(e.stateNode,t,2),2))&&(Ee(e,2),_u(e))}function uu(e,t,n){if(3===e.tag)cu(e,e,n);else for(;null!==t;){if(3===t.tag){cu(t,e,n);break}if(1===t.tag){var i=t.stateNode;if("function"===typeof t.type.getDerivedStateFromError||"function"===typeof i.componentDidCatch&&(null===Mc||!Mc.has(i))){e=Mi(n,e),null!==(i=oo(t,n=Ma(2),2))&&(Ea(n,i,t,e),Ee(i,2),_u(i));break}}t=t.return}}function hu(e,t,n){var i=e.pingCache;if(null===i){i=e.pingCache=new tc;var r=new Set;i.set(t,r)}else void 0===(r=i.get(t))&&(r=new Set,i.set(t,r));r.has(n)||(uc=!0,r.add(n),e=du.bind(null,e,t,n),t.then(e,e))}function du(e,t,n){var i=e.pingCache;null!==i&&i.delete(t),e.pingedLanes|=e.suspendedLanes&n,e.warmLanes&=~n,ic===e&&(oc&n)===n&&(4===dc||3===dc&&(62914560&oc)===oc&&300>te()-wc?0===(2&nc)&&Gc(e,0):mc|=n,vc===oc&&(vc=0)),_u(e)}function pu(e,t){0===t&&(t=Se()),null!==(e=Pi(e,t))&&(Ee(e,t),_u(e))}function fu(e){var t=e.memoizedState,n=0;null!==t&&(n=t.retryLane),pu(e,n)}function mu(e,t){var n=0;switch(e.tag){case 13:var i=e.stateNode,r=e.memoizedState;null!==r&&(n=r.retryLane);break;case 19:i=e.stateNode;break;case 22:i=e.stateNode._retryCache;break;default:throw Error(s(314))}null!==i&&i.delete(t),pu(e,n)}var gu=null,vu=null,yu=!1,xu=!1,bu=!1,wu=0;function _u(e){e!==vu&&null===e.next&&(null===vu?gu=vu=e:vu=vu.next=e),xu=!0,yu||(yu=!0,hh((function(){0!==(6&nc)?K(ie,Mu):Eu()})))}function Su(e,t){if(!bu&&xu){bu=!0;do{for(var n=!1,i=gu;null!==i;){if(!t)if(0!==e){var r=i.pendingLanes;if(0===r)var o=0;else{var s=i.suspendedLanes,a=i.pingedLanes;o=(1<<31-pe(42|e)+1)-1,o=201326741&(o&=r&~(s&~a))?201326741&o|1:o?2|o:0}0!==o&&(n=!0,Cu(i,o))}else o=oc,0===(3&(o=xe(i,i===ic?o:0,null!==i.cancelPendingCommit||-1!==i.timeoutHandle)))||be(i,o)||(n=!0,Cu(i,o));i=i.next}}while(n);bu=!1}}function Mu(){Eu()}function Eu(){xu=yu=!1;var e=0;0!==wu&&(function(){var e=window.event;if(e&&"popstate"===e.type)return e!==ah&&(ah=e,!0);return ah=null,!1}()&&(e=wu),wu=0);for(var t=te(),n=null,i=gu;null!==i;){var r=i.next,o=Tu(i,t);0===o?(i.next=null,null===n?gu=r:n.next=r,null===r&&(vu=n)):(n=i,(0!==e||0!==(3&o))&&(xu=!0)),i=r}Su(e,!1)}function Tu(e,t){for(var n=e.suspendedLanes,i=e.pingedLanes,r=e.expirationTimes,o=-62914561&e.pendingLanes;0<o;){var s=31-pe(o),a=1<<s,l=r[s];-1===l?0!==(a&n)&&0===(a&i)||(r[s]=we(a,t)):l<=t&&(e.expiredLanes|=a),o&=~a}if(n=oc,n=xe(e,e===(t=ic)?n:0,null!==e.cancelPendingCommit||-1!==e.timeoutHandle),i=e.callbackNode,0===n||e===t&&(2===sc||9===sc)||null!==e.cancelPendingCommit)return null!==i&&null!==i&&Q(i),e.callbackNode=null,e.callbackPriority=0;if(0===(3&n)||be(e,n)){if((t=n&-n)===e.callbackPriority)return t;switch(null!==i&&Q(i),Re(n)){case 2:case 8:n=re;break;case 32:default:n=oe;break;case 268435456:n=ae}return i=Au.bind(null,e),n=K(n,i),e.callbackPriority=t,e.callbackNode=n,t}return null!==i&&null!==i&&Q(i),e.callbackPriority=2,e.callbackNode=null,2}function Au(e,t){if(0!==Ec&&5!==Ec)return e.callbackNode=null,e.callbackPriority=0,null;var n=e.callbackNode;if(au()&&e.callbackNode!==n)return null;var i=oc;return 0===(i=xe(e,e===ic?i:0,null!==e.cancelPendingCommit||-1!==e.timeoutHandle))?null:(Fc(e,i,t),Tu(e,te()),null!=e.callbackNode&&e.callbackNode===n?Au.bind(null,e):null)}function Cu(e,t){if(au())return null;Fc(e,t,!0)}function Ru(){return 0===wu&&(wu=_e()),wu}function Lu(e){return null==e||"symbol"===typeof e||"boolean"===typeof e?null:"function"===typeof e?e:Rt(""+e)}function Pu(e,t){var n=t.ownerDocument.createElement("input");return n.name=t.name,n.value=t.value,e.id&&n.setAttribute("form",e.id),t.parentNode.insertBefore(n,t),e=new FormData(e),n.parentNode.removeChild(n),e}for(var Nu=0;Nu<wi.length;Nu++){var ku=wi[Nu];_i(ku.toLowerCase(),"on"+(ku[0].toUpperCase()+ku.slice(1)))}_i(pi,"onAnimationEnd"),_i(fi,"onAnimationIteration"),_i(mi,"onAnimationStart"),_i("dblclick","onDoubleClick"),_i("focusin","onFocus"),_i("focusout","onBlur"),_i(gi,"onTransitionRun"),_i(vi,"onTransitionStart"),_i(yi,"onTransitionCancel"),_i(xi,"onTransitionEnd"),Je("onMouseEnter",["mouseout","mouseover"]),Je("onMouseLeave",["mouseout","mouseover"]),Je("onPointerEnter",["pointerout","pointerover"]),Je("onPointerLeave",["pointerout","pointerover"]),Ye("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Ye("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Ye("onBeforeInput",["compositionend","keypress","textInput","paste"]),Ye("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Ye("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Ye("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ou="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Du=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Ou));function ju(e,t){t=0!==(4&t);for(var n=0;n<e.length;n++){var i=e[n],r=i.event;i=i.listeners;e:{var o=void 0;if(t)for(var s=i.length-1;0<=s;s--){var a=i[s],l=a.instance,c=a.currentTarget;if(a=a.listener,l!==o&&r.isPropagationStopped())break e;o=a,r.currentTarget=c;try{o(r)}catch(u){va(u)}r.currentTarget=null,o=l}else for(s=0;s<i.length;s++){if(l=(a=i[s]).instance,c=a.currentTarget,a=a.listener,l!==o&&r.isPropagationStopped())break e;o=a,r.currentTarget=c;try{o(r)}catch(u){va(u)}r.currentTarget=null,o=l}}}}function Fu(e,t){var n=t[De];void 0===n&&(n=t[De]=new Set);var i=e+"__bubble";n.has(i)||(Uu(t,e,2,!1),n.add(i))}function Iu(e,t,n){var i=0;t&&(i|=4),Uu(n,e,i,t)}var zu="_reactListening"+Math.random().toString(36).slice(2);function Bu(e){if(!e[zu]){e[zu]=!0,qe.forEach((function(t){"selectionchange"!==t&&(Du.has(t)||Iu(t,!1,e),Iu(t,!0,e))}));var t=9===e.nodeType?e:e.ownerDocument;null===t||t[zu]||(t[zu]=!0,Iu("selectionchange",!1,t))}}function Uu(e,t,n,i){switch(cd(t)){case 2:var r=id;break;case 8:r=rd;break;default:r=od}n=r.bind(null,t,n,e),r=void 0,!zt||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(r=!0),i?void 0!==r?e.addEventListener(t,n,{capture:!0,passive:r}):e.addEventListener(t,n,!0):void 0!==r?e.addEventListener(t,n,{passive:r}):e.addEventListener(t,n,!1)}function Hu(e,t,n,i,r){var o=i;if(0===(1&t)&&0===(2&t)&&null!==i)e:for(;;){if(null===i)return;var s=i.tag;if(3===s||4===s){var a=i.stateNode.containerInfo;if(a===r)break;if(4===s)for(s=i.return;null!==s;){var c=s.tag;if((3===c||4===c)&&s.stateNode.containerInfo===r)return;s=s.return}for(;null!==a;){if(null===(s=Ue(a)))return;if(5===(c=s.tag)||6===c||26===c||27===c){i=o=s;continue e}a=a.parentNode}}i=i.return}jt((function(){var i=o,r=Pt(n),s=[];e:{var a=bi.get(e);if(void 0!==a){var c=$t,u=e;switch(e){case"keypress":if(0===Wt(n))break e;case"keydown":case"keyup":c=mn;break;case"focusin":u="focus",c=sn;break;case"focusout":u="blur",c=sn;break;case"beforeblur":case"afterblur":c=sn;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":c=rn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":c=on;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":c=vn;break;case pi:case fi:case mi:c=an;break;case xi:c=yn;break;case"scroll":case"scrollend":c=tn;break;case"wheel":c=xn;break;case"copy":case"cut":case"paste":c=ln;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":c=gn;break;case"toggle":case"beforetoggle":c=bn}var h=0!==(4&t),d=!h&&("scroll"===e||"scrollend"===e),p=h?null!==a?a+"Capture":null:a;h=[];for(var f,m=i;null!==m;){var g=m;if(f=g.stateNode,5!==(g=g.tag)&&26!==g&&27!==g||null===f||null===p||null!=(g=Ft(m,p))&&h.push(Gu(m,g,f)),d)break;m=m.return}0<h.length&&(a=new c(a,u,null,n,r),s.push({event:a,listeners:h}))}}if(0===(7&t)){if(c="mouseout"===e||"pointerout"===e,(!(a="mouseover"===e||"pointerover"===e)||n===Lt||!(u=n.relatedTarget||n.fromElement)||!Ue(u)&&!u[Oe])&&(c||a)&&(a=r.window===r?r:(a=r.ownerDocument)?a.defaultView||a.parentWindow:window,c?(c=i,null!==(u=(u=n.relatedTarget||n.toElement)?Ue(u):null)&&(d=l(u),h=u.tag,u!==d||5!==h&&27!==h&&6!==h)&&(u=null)):(c=null,u=i),c!==u)){if(h=rn,g="onMouseLeave",p="onMouseEnter",m="mouse","pointerout"!==e&&"pointerover"!==e||(h=gn,g="onPointerLeave",p="onPointerEnter",m="pointer"),d=null==c?a:Ge(c),f=null==u?a:Ge(u),(a=new h(g,m+"leave",c,n,r)).target=d,a.relatedTarget=f,g=null,Ue(r)===i&&((h=new h(p,m+"enter",u,n,r)).target=f,h.relatedTarget=d,g=h),d=g,c&&u)e:{for(p=u,m=0,f=h=c;f;f=Wu(f))m++;for(f=0,g=p;g;g=Wu(g))f++;for(;0<m-f;)h=Wu(h),m--;for(;0<f-m;)p=Wu(p),f--;for(;m--;){if(h===p||null!==p&&h===p.alternate)break e;h=Wu(h),p=Wu(p)}h=null}else h=null;null!==c&&qu(s,a,c,h,!1),null!==u&&null!==d&&qu(s,d,u,h,!0)}if("select"===(c=(a=i?Ge(i):window).nodeName&&a.nodeName.toLowerCase())||"input"===c&&"file"===a.type)var v=In;else if(Nn(a))if(zn)v=Yn;else{v=qn;var y=Wn}else!(c=a.nodeName)||"input"!==c.toLowerCase()||"checkbox"!==a.type&&"radio"!==a.type?i&&Tt(i.elementType)&&(v=In):v=Xn;switch(v&&(v=v(e,i))?kn(s,v,n,r):(y&&y(e,a,i),"focusout"===e&&i&&"number"===a.type&&null!=i.memoizedProps.value&&yt(a,"number",a.value)),y=i?Ge(i):window,e){case"focusin":(Nn(y)||"true"===y.contentEditable)&&(ii=y,ri=i,oi=null);break;case"focusout":oi=ri=ii=null;break;case"mousedown":si=!0;break;case"contextmenu":case"mouseup":case"dragend":si=!1,ai(s,n,r);break;case"selectionchange":if(ni)break;case"keydown":case"keyup":ai(s,n,r)}var x;if(_n)e:{switch(e){case"compositionstart":var b="onCompositionStart";break e;case"compositionend":b="onCompositionEnd";break e;case"compositionupdate":b="onCompositionUpdate";break e}b=void 0}else Ln?Cn(e,n)&&(b="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(b="onCompositionStart");b&&(En&&"ko"!==n.locale&&(Ln||"onCompositionStart"!==b?"onCompositionEnd"===b&&Ln&&(x=Vt()):(Ht="value"in(Ut=r)?Ut.value:Ut.textContent,Ln=!0)),0<(y=Vu(i,b)).length&&(b=new cn(b,e,null,n,r),s.push({event:b,listeners:y}),x?b.data=x:null!==(x=Rn(n))&&(b.data=x))),(x=Mn?function(e,t){switch(e){case"compositionend":return Rn(t);case"keypress":return 32!==t.which?null:(An=!0,Tn);case"textInput":return(e=t.data)===Tn&&An?null:e;default:return null}}(e,n):function(e,t){if(Ln)return"compositionend"===e||!_n&&Cn(e,t)?(e=Vt(),Gt=Ht=Ut=null,Ln=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return En&&"ko"!==t.locale?null:t.data}}(e,n))&&(0<(b=Vu(i,"onBeforeInput")).length&&(y=new cn("onBeforeInput","beforeinput",null,n,r),s.push({event:y,listeners:b}),y.data=x)),function(e,t,n,i,r){if("submit"===t&&n&&n.stateNode===r){var o=Lu((r[ke]||null).action),s=i.submitter;s&&null!==(t=(t=s[ke]||null)?Lu(t.formAction):s.getAttribute("formAction"))&&(o=t,s=null);var a=new $t("action","action",null,i,r);e.push({event:a,listeners:[{instance:null,listener:function(){if(i.defaultPrevented){if(0!==wu){var e=s?Pu(r,s):new FormData(r);Ps(n,{pending:!0,data:e,method:r.method,action:o},null,e)}}else"function"===typeof o&&(a.preventDefault(),e=s?Pu(r,s):new FormData(r),Ps(n,{pending:!0,data:e,method:r.method,action:o},o,e))},currentTarget:r}]})}}(s,e,i,n,r)}ju(s,t)}))}function Gu(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Vu(e,t){for(var n=t+"Capture",i=[];null!==e;){var r=e,o=r.stateNode;if(5!==(r=r.tag)&&26!==r&&27!==r||null===o||(null!=(r=Ft(e,n))&&i.unshift(Gu(e,r,o)),null!=(r=Ft(e,t))&&i.push(Gu(e,r,o))),3===e.tag)return i;e=e.return}return[]}function Wu(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag&&27!==e.tag);return e||null}function qu(e,t,n,i,r){for(var o=t._reactName,s=[];null!==n&&n!==i;){var a=n,l=a.alternate,c=a.stateNode;if(a=a.tag,null!==l&&l===i)break;5!==a&&26!==a&&27!==a||null===c||(l=c,r?null!=(c=Ft(n,o))&&s.unshift(Gu(n,c,l)):r||null!=(c=Ft(n,o))&&s.push(Gu(n,c,l))),n=n.return}0!==s.length&&e.push({event:t,listeners:s})}var Xu=/\r\n?/g,Yu=/\u0000|\uFFFD/g;function Ju(e){return("string"===typeof e?e:""+e).replace(Xu,"\n").replace(Yu,"")}function Zu(e,t){return t=Ju(t),Ju(e)===t}function Ku(){}function Qu(e,t,n,i,r,o){switch(n){case"children":"string"===typeof i?"body"===t||"textarea"===t&&""===i||_t(e,i):("number"===typeof i||"bigint"===typeof i)&&"body"!==t&&_t(e,""+i);break;case"className":nt(e,"class",i);break;case"tabIndex":nt(e,"tabindex",i);break;case"dir":case"role":case"viewBox":case"width":case"height":nt(e,n,i);break;case"style":Et(e,i,o);break;case"data":if("object"!==t){nt(e,"data",i);break}case"src":case"href":if(""===i&&("a"!==t||"href"!==n)){e.removeAttribute(n);break}if(null==i||"function"===typeof i||"symbol"===typeof i||"boolean"===typeof i){e.removeAttribute(n);break}i=Rt(""+i),e.setAttribute(n,i);break;case"action":case"formAction":if("function"===typeof i){e.setAttribute(n,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}if("function"===typeof o&&("formAction"===n?("input"!==t&&Qu(e,t,"name",r.name,r,null),Qu(e,t,"formEncType",r.formEncType,r,null),Qu(e,t,"formMethod",r.formMethod,r,null),Qu(e,t,"formTarget",r.formTarget,r,null)):(Qu(e,t,"encType",r.encType,r,null),Qu(e,t,"method",r.method,r,null),Qu(e,t,"target",r.target,r,null))),null==i||"symbol"===typeof i||"boolean"===typeof i){e.removeAttribute(n);break}i=Rt(""+i),e.setAttribute(n,i);break;case"onClick":null!=i&&(e.onclick=Ku);break;case"onScroll":null!=i&&Fu("scroll",e);break;case"onScrollEnd":null!=i&&Fu("scrollend",e);break;case"dangerouslySetInnerHTML":if(null!=i){if("object"!==typeof i||!("__html"in i))throw Error(s(61));if(null!=(n=i.__html)){if(null!=r.children)throw Error(s(60));e.innerHTML=n}}break;case"multiple":e.multiple=i&&"function"!==typeof i&&"symbol"!==typeof i;break;case"muted":e.muted=i&&"function"!==typeof i&&"symbol"!==typeof i;break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":case"autoFocus":break;case"xlinkHref":if(null==i||"function"===typeof i||"boolean"===typeof i||"symbol"===typeof i){e.removeAttribute("xlink:href");break}n=Rt(""+i),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",n);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":null!=i&&"function"!==typeof i&&"symbol"!==typeof i?e.setAttribute(n,""+i):e.removeAttribute(n);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":i&&"function"!==typeof i&&"symbol"!==typeof i?e.setAttribute(n,""):e.removeAttribute(n);break;case"capture":case"download":!0===i?e.setAttribute(n,""):!1!==i&&null!=i&&"function"!==typeof i&&"symbol"!==typeof i?e.setAttribute(n,i):e.removeAttribute(n);break;case"cols":case"rows":case"size":case"span":null!=i&&"function"!==typeof i&&"symbol"!==typeof i&&!isNaN(i)&&1<=i?e.setAttribute(n,i):e.removeAttribute(n);break;case"rowSpan":case"start":null==i||"function"===typeof i||"symbol"===typeof i||isNaN(i)?e.removeAttribute(n):e.setAttribute(n,i);break;case"popover":Fu("beforetoggle",e),Fu("toggle",e),tt(e,"popover",i);break;case"xlinkActuate":it(e,"http://www.w3.org/1999/xlink","xlink:actuate",i);break;case"xlinkArcrole":it(e,"http://www.w3.org/1999/xlink","xlink:arcrole",i);break;case"xlinkRole":it(e,"http://www.w3.org/1999/xlink","xlink:role",i);break;case"xlinkShow":it(e,"http://www.w3.org/1999/xlink","xlink:show",i);break;case"xlinkTitle":it(e,"http://www.w3.org/1999/xlink","xlink:title",i);break;case"xlinkType":it(e,"http://www.w3.org/1999/xlink","xlink:type",i);break;case"xmlBase":it(e,"http://www.w3.org/XML/1998/namespace","xml:base",i);break;case"xmlLang":it(e,"http://www.w3.org/XML/1998/namespace","xml:lang",i);break;case"xmlSpace":it(e,"http://www.w3.org/XML/1998/namespace","xml:space",i);break;case"is":tt(e,"is",i);break;case"innerText":case"textContent":break;default:(!(2<n.length)||"o"!==n[0]&&"O"!==n[0]||"n"!==n[1]&&"N"!==n[1])&&tt(e,n=At.get(n)||n,i)}}function $u(e,t,n,i,r,o){switch(n){case"style":Et(e,i,o);break;case"dangerouslySetInnerHTML":if(null!=i){if("object"!==typeof i||!("__html"in i))throw Error(s(61));if(null!=(n=i.__html)){if(null!=r.children)throw Error(s(60));e.innerHTML=n}}break;case"children":"string"===typeof i?_t(e,i):("number"===typeof i||"bigint"===typeof i)&&_t(e,""+i);break;case"onScroll":null!=i&&Fu("scroll",e);break;case"onScrollEnd":null!=i&&Fu("scrollend",e);break;case"onClick":null!=i&&(e.onclick=Ku);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":case"innerText":case"textContent":break;default:Xe.hasOwnProperty(n)||("o"!==n[0]||"n"!==n[1]||(r=n.endsWith("Capture"),t=n.slice(2,r?n.length-7:void 0),"function"===typeof(o=null!=(o=e[ke]||null)?o[n]:null)&&e.removeEventListener(t,o,r),"function"!==typeof i)?n in e?e[n]=i:!0===i?e.setAttribute(n,""):tt(e,n,i):("function"!==typeof o&&null!==o&&(n in e?e[n]=null:e.hasAttribute(n)&&e.removeAttribute(n)),e.addEventListener(t,i,r)))}}function eh(e,t,n){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Fu("error",e),Fu("load",e);var i,r=!1,o=!1;for(i in n)if(n.hasOwnProperty(i)){var a=n[i];if(null!=a)switch(i){case"src":r=!0;break;case"srcSet":o=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,t));default:Qu(e,t,i,a,n,null)}}return o&&Qu(e,t,"srcSet",n.srcSet,n,null),void(r&&Qu(e,t,"src",n.src,n,null));case"input":Fu("invalid",e);var l=i=a=o=null,c=null,u=null;for(r in n)if(n.hasOwnProperty(r)){var h=n[r];if(null!=h)switch(r){case"name":o=h;break;case"type":a=h;break;case"checked":c=h;break;case"defaultChecked":u=h;break;case"value":i=h;break;case"defaultValue":l=h;break;case"children":case"dangerouslySetInnerHTML":if(null!=h)throw Error(s(137,t));break;default:Qu(e,t,r,h,n,null)}}return vt(e,i,l,c,u,a,o,!1),void ht(e);case"select":for(o in Fu("invalid",e),r=a=i=null,n)if(n.hasOwnProperty(o)&&null!=(l=n[o]))switch(o){case"value":i=l;break;case"defaultValue":a=l;break;case"multiple":r=l;default:Qu(e,t,o,l,n,null)}return t=i,n=a,e.multiple=!!r,void(null!=t?xt(e,!!r,t,!1):null!=n&&xt(e,!!r,n,!0));case"textarea":for(a in Fu("invalid",e),i=o=r=null,n)if(n.hasOwnProperty(a)&&null!=(l=n[a]))switch(a){case"value":r=l;break;case"defaultValue":o=l;break;case"children":i=l;break;case"dangerouslySetInnerHTML":if(null!=l)throw Error(s(91));break;default:Qu(e,t,a,l,n,null)}return wt(e,r,o,i),void ht(e);case"option":for(c in n)if(n.hasOwnProperty(c)&&null!=(r=n[c]))if("selected"===c)e.selected=r&&"function"!==typeof r&&"symbol"!==typeof r;else Qu(e,t,c,r,n,null);return;case"dialog":Fu("beforetoggle",e),Fu("toggle",e),Fu("cancel",e),Fu("close",e);break;case"iframe":case"object":Fu("load",e);break;case"video":case"audio":for(r=0;r<Ou.length;r++)Fu(Ou[r],e);break;case"image":Fu("error",e),Fu("load",e);break;case"details":Fu("toggle",e);break;case"embed":case"source":case"link":Fu("error",e),Fu("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(u in n)if(n.hasOwnProperty(u)&&null!=(r=n[u]))switch(u){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,t));default:Qu(e,t,u,r,n,null)}return;default:if(Tt(t)){for(h in n)n.hasOwnProperty(h)&&(void 0!==(r=n[h])&&$u(e,t,h,r,n,void 0));return}}for(l in n)n.hasOwnProperty(l)&&(null!=(r=n[l])&&Qu(e,t,l,r,n,null))}var th=null,nh=null;function ih(e){return 9===e.nodeType?e:e.ownerDocument}function rh(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function oh(e,t){if(0===e)switch(t){case"svg":return 1;case"math":return 2;default:return 0}return 1===e&&"foreignObject"===t?0:e}function sh(e,t){return"textarea"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"bigint"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var ah=null;var lh="function"===typeof setTimeout?setTimeout:void 0,ch="function"===typeof clearTimeout?clearTimeout:void 0,uh="function"===typeof Promise?Promise:void 0,hh="function"===typeof queueMicrotask?queueMicrotask:"undefined"!==typeof uh?function(e){return uh.resolve(null).then(e).catch(dh)}:lh;function dh(e){setTimeout((function(){throw e}))}function ph(e){return"head"===e}function fh(e,t){var n=t,i=0,r=0;do{var o=n.nextSibling;if(e.removeChild(n),o&&8===o.nodeType)if("/$"===(n=o.data)){if(0<i&&8>i){n=i;var s=e.ownerDocument;if(1&n&&wh(s.documentElement),2&n&&wh(s.body),4&n)for(wh(n=s.head),s=n.firstChild;s;){var a=s.nextSibling,l=s.nodeName;s[ze]||"SCRIPT"===l||"STYLE"===l||"LINK"===l&&"stylesheet"===s.rel.toLowerCase()||n.removeChild(s),s=a}}if(0===r)return e.removeChild(o),void Ad(t);r--}else"$"===n||"$?"===n||"$!"===n?r++:i=n.charCodeAt(0)-48;else i=0;n=o}while(n);Ad(t)}function mh(e){var t=e.firstChild;for(t&&10===t.nodeType&&(t=t.nextSibling);t;){var n=t;switch(t=t.nextSibling,n.nodeName){case"HTML":case"HEAD":case"BODY":mh(n),Be(n);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if("stylesheet"===n.rel.toLowerCase())continue}e.removeChild(n)}}function gh(e){return"$!"===e.data||"$?"===e.data&&"complete"===e.ownerDocument.readyState}function vh(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break;if(8===t){if("$"===(t=e.data)||"$!"===t||"$?"===t||"F!"===t||"F"===t)break;if("/$"===t)return null}}return e}var yh=null;function xh(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}function bh(e,t,n){switch(t=ih(n),e){case"html":if(!(e=t.documentElement))throw Error(s(452));return e;case"head":if(!(e=t.head))throw Error(s(453));return e;case"body":if(!(e=t.body))throw Error(s(454));return e;default:throw Error(s(451))}}function wh(e){for(var t=e.attributes;t.length;)e.removeAttributeNode(t[0]);Be(e)}var _h=new Map,Sh=new Set;function Mh(e){return"function"===typeof e.getRootNode?e.getRootNode():9===e.nodeType?e:e.ownerDocument}var Eh=D.d;D.d={f:function(){var e=Eh.f(),t=Uc();return e||t},r:function(e){var t=He(e);null!==t&&5===t.tag&&"form"===t.type?ks(t):Eh.r(e)},D:function(e){Eh.D(e),Ah("dns-prefetch",e,null)},C:function(e,t){Eh.C(e,t),Ah("preconnect",e,t)},L:function(e,t,n){Eh.L(e,t,n);var i=Th;if(i&&e&&t){var r='link[rel="preload"][as="'+mt(t)+'"]';"image"===t&&n&&n.imageSrcSet?(r+='[imagesrcset="'+mt(n.imageSrcSet)+'"]',"string"===typeof n.imageSizes&&(r+='[imagesizes="'+mt(n.imageSizes)+'"]')):r+='[href="'+mt(e)+'"]';var o=r;switch(t){case"style":o=Rh(e);break;case"script":o=Nh(e)}_h.has(o)||(e=d({rel:"preload",href:"image"===t&&n&&n.imageSrcSet?void 0:e,as:t},n),_h.set(o,e),null!==i.querySelector(r)||"style"===t&&i.querySelector(Lh(o))||"script"===t&&i.querySelector(kh(o))||(eh(t=i.createElement("link"),"link",e),We(t),i.head.appendChild(t)))}},m:function(e,t){Eh.m(e,t);var n=Th;if(n&&e){var i=t&&"string"===typeof t.as?t.as:"script",r='link[rel="modulepreload"][as="'+mt(i)+'"][href="'+mt(e)+'"]',o=r;switch(i){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":o=Nh(e)}if(!_h.has(o)&&(e=d({rel:"modulepreload",href:e},t),_h.set(o,e),null===n.querySelector(r))){switch(i){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(n.querySelector(kh(o)))return}eh(i=n.createElement("link"),"link",e),We(i),n.head.appendChild(i)}}},X:function(e,t){Eh.X(e,t);var n=Th;if(n&&e){var i=Ve(n).hoistableScripts,r=Nh(e),o=i.get(r);o||((o=n.querySelector(kh(r)))||(e=d({src:e,async:!0},t),(t=_h.get(r))&&Fh(e,t),We(o=n.createElement("script")),eh(o,"link",e),n.head.appendChild(o)),o={type:"script",instance:o,count:1,state:null},i.set(r,o))}},S:function(e,t,n){Eh.S(e,t,n);var i=Th;if(i&&e){var r=Ve(i).hoistableStyles,o=Rh(e);t=t||"default";var s=r.get(o);if(!s){var a={loading:0,preload:null};if(s=i.querySelector(Lh(o)))a.loading=5;else{e=d({rel:"stylesheet",href:e,"data-precedence":t},n),(n=_h.get(o))&&jh(e,n);var l=s=i.createElement("link");We(l),eh(l,"link",e),l._p=new Promise((function(e,t){l.onload=e,l.onerror=t})),l.addEventListener("load",(function(){a.loading|=1})),l.addEventListener("error",(function(){a.loading|=2})),a.loading|=4,Dh(s,t,i)}s={type:"stylesheet",instance:s,count:1,state:a},r.set(o,s)}}},M:function(e,t){Eh.M(e,t);var n=Th;if(n&&e){var i=Ve(n).hoistableScripts,r=Nh(e),o=i.get(r);o||((o=n.querySelector(kh(r)))||(e=d({src:e,async:!0,type:"module"},t),(t=_h.get(r))&&Fh(e,t),We(o=n.createElement("script")),eh(o,"link",e),n.head.appendChild(o)),o={type:"script",instance:o,count:1,state:null},i.set(r,o))}}};var Th="undefined"===typeof document?null:document;function Ah(e,t,n){var i=Th;if(i&&"string"===typeof t&&t){var r=mt(t);r='link[rel="'+e+'"][href="'+r+'"]',"string"===typeof n&&(r+='[crossorigin="'+n+'"]'),Sh.has(r)||(Sh.add(r),e={rel:e,crossOrigin:n,href:t},null===i.querySelector(r)&&(eh(t=i.createElement("link"),"link",e),We(t),i.head.appendChild(t)))}}function Ch(e,t,n,i){var r,o,a,l,c=(c=V.current)?Mh(c):null;if(!c)throw Error(s(446));switch(e){case"meta":case"title":return null;case"style":return"string"===typeof n.precedence&&"string"===typeof n.href?(t=Rh(n.href),(i=(n=Ve(c).hoistableStyles).get(t))||(i={type:"style",instance:null,count:0,state:null},n.set(t,i)),i):{type:"void",instance:null,count:0,state:null};case"link":if("stylesheet"===n.rel&&"string"===typeof n.href&&"string"===typeof n.precedence){e=Rh(n.href);var u=Ve(c).hoistableStyles,h=u.get(e);if(h||(c=c.ownerDocument||c,h={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},u.set(e,h),(u=c.querySelector(Lh(e)))&&!u._p&&(h.instance=u,h.state.loading=5),_h.has(e)||(n={rel:"preload",as:"style",href:n.href,crossOrigin:n.crossOrigin,integrity:n.integrity,media:n.media,hrefLang:n.hrefLang,referrerPolicy:n.referrerPolicy},_h.set(e,n),u||(r=c,o=e,a=n,l=h.state,r.querySelector('link[rel="preload"][as="style"]['+o+"]")?l.loading=1:(o=r.createElement("link"),l.preload=o,o.addEventListener("load",(function(){return l.loading|=1})),o.addEventListener("error",(function(){return l.loading|=2})),eh(o,"link",a),We(o),r.head.appendChild(o))))),t&&null===i)throw Error(s(528,""));return h}if(t&&null!==i)throw Error(s(529,""));return null;case"script":return t=n.async,"string"===typeof(n=n.src)&&t&&"function"!==typeof t&&"symbol"!==typeof t?(t=Nh(n),(i=(n=Ve(c).hoistableScripts).get(t))||(i={type:"script",instance:null,count:0,state:null},n.set(t,i)),i):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,e))}}function Rh(e){return'href="'+mt(e)+'"'}function Lh(e){return'link[rel="stylesheet"]['+e+"]"}function Ph(e){return d({},e,{"data-precedence":e.precedence,precedence:null})}function Nh(e){return'[src="'+mt(e)+'"]'}function kh(e){return"script[async]"+e}function Oh(e,t,n){if(t.count++,null===t.instance)switch(t.type){case"style":var i=e.querySelector('style[data-href~="'+mt(n.href)+'"]');if(i)return t.instance=i,We(i),i;var r=d({},n,{"data-href":n.href,"data-precedence":n.precedence,href:null,precedence:null});return We(i=(e.ownerDocument||e).createElement("style")),eh(i,"style",r),Dh(i,n.precedence,e),t.instance=i;case"stylesheet":r=Rh(n.href);var o=e.querySelector(Lh(r));if(o)return t.state.loading|=4,t.instance=o,We(o),o;i=Ph(n),(r=_h.get(r))&&jh(i,r),We(o=(e.ownerDocument||e).createElement("link"));var a=o;return a._p=new Promise((function(e,t){a.onload=e,a.onerror=t})),eh(o,"link",i),t.state.loading|=4,Dh(o,n.precedence,e),t.instance=o;case"script":return o=Nh(n.src),(r=e.querySelector(kh(o)))?(t.instance=r,We(r),r):(i=n,(r=_h.get(o))&&Fh(i=d({},n),r),We(r=(e=e.ownerDocument||e).createElement("script")),eh(r,"link",i),e.head.appendChild(r),t.instance=r);case"void":return null;default:throw Error(s(443,t.type))}else"stylesheet"===t.type&&0===(4&t.state.loading)&&(i=t.instance,t.state.loading|=4,Dh(i,n.precedence,e));return t.instance}function Dh(e,t,n){for(var i=n.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),r=i.length?i[i.length-1]:null,o=r,s=0;s<i.length;s++){var a=i[s];if(a.dataset.precedence===t)o=a;else if(o!==r)break}o?o.parentNode.insertBefore(e,o.nextSibling):(t=9===n.nodeType?n.head:n).insertBefore(e,t.firstChild)}function jh(e,t){null==e.crossOrigin&&(e.crossOrigin=t.crossOrigin),null==e.referrerPolicy&&(e.referrerPolicy=t.referrerPolicy),null==e.title&&(e.title=t.title)}function Fh(e,t){null==e.crossOrigin&&(e.crossOrigin=t.crossOrigin),null==e.referrerPolicy&&(e.referrerPolicy=t.referrerPolicy),null==e.integrity&&(e.integrity=t.integrity)}var Ih=null;function zh(e,t,n){if(null===Ih){var i=new Map,r=Ih=new Map;r.set(n,i)}else(i=(r=Ih).get(n))||(i=new Map,r.set(n,i));if(i.has(e))return i;for(i.set(e,null),n=n.getElementsByTagName(e),r=0;r<n.length;r++){var o=n[r];if(!(o[ze]||o[Ne]||"link"===e&&"stylesheet"===o.getAttribute("rel"))&&"http://www.w3.org/2000/svg"!==o.namespaceURI){var s=o.getAttribute(t)||"";s=e+s;var a=i.get(s);a?a.push(o):i.set(s,[o])}}return i}function Bh(e,t,n){(e=e.ownerDocument||e).head.insertBefore(n,"title"===t?e.querySelector("head > title"):null)}function Uh(e){return"stylesheet"!==e.type||0!==(3&e.state.loading)}var Hh=null;function Gh(){}function Vh(){if(this.count--,0===this.count)if(this.stylesheets)qh(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}var Wh=null;function qh(e,t){e.stylesheets=null,null!==e.unsuspend&&(e.count++,Wh=new Map,t.forEach(Xh,e),Wh=null,Vh.call(e))}function Xh(e,t){if(!(4&t.state.loading)){var n=Wh.get(e);if(n)var i=n.get(null);else{n=new Map,Wh.set(e,n);for(var r=e.querySelectorAll("link[data-precedence],style[data-precedence]"),o=0;o<r.length;o++){var s=r[o];"LINK"!==s.nodeName&&"not all"===s.getAttribute("media")||(n.set(s.dataset.precedence,s),i=s)}i&&n.set(null,i)}s=(r=t.instance).getAttribute("data-precedence"),(o=n.get(s)||i)===i&&n.set(null,r),n.set(s,r),this.count++,i=Vh.bind(this),r.addEventListener("load",i),r.addEventListener("error",i),o?o.parentNode.insertBefore(r,o.nextSibling):(e=9===e.nodeType?e.head:e).insertBefore(r,e.firstChild),t.state.loading|=4}}var Yh={$$typeof:w,Provider:null,Consumer:null,_currentValue:j,_currentValue2:j,_threadCount:0};function Jh(e,t,n,i,r,o,s,a){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Me(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Me(0),this.hiddenUpdates=Me(null),this.identifierPrefix=i,this.onUncaughtError=r,this.onCaughtError=o,this.onRecoverableError=s,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=a,this.incompleteTransitions=new Map}function Zh(e,t,n,i,r,o,s,a,l,c,u,h){return e=new Jh(e,t,n,s,a,l,c,h),t=1,!0===o&&(t|=24),o=ji(3,null,null,t),e.current=o,o.stateNode=e,(t=kr()).refCount++,e.pooledCache=t,t.refCount++,o.memoizedState={element:i,isDehydrated:n,cache:t},no(o),e}function Kh(e){return e?e=Oi:Oi}function Qh(e,t,n,i,r,o){r=Kh(r),null===i.context?i.context=r:i.pendingContext=r,(i=ro(t)).payload={element:n},null!==(o=void 0===o?null:o)&&(i.callback=o),null!==(n=oo(e,i,t))&&(jc(n,0,t),so(n,e,t))}function $h(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function ed(e,t){$h(e,t),(e=e.alternate)&&$h(e,t)}function td(e){if(13===e.tag){var t=Pi(e,67108864);null!==t&&jc(t,0,67108864),ed(e,67108864)}}var nd=!0;function id(e,t,n,i){var r=O.T;O.T=null;var o=D.p;try{D.p=2,od(e,t,n,i)}finally{D.p=o,O.T=r}}function rd(e,t,n,i){var r=O.T;O.T=null;var o=D.p;try{D.p=8,od(e,t,n,i)}finally{D.p=o,O.T=r}}function od(e,t,n,i){if(nd){var r=sd(i);if(null===r)Hu(e,t,i,ad,n),yd(e,i);else if(function(e,t,n,i,r){switch(t){case"focusin":return hd=xd(hd,e,t,n,i,r),!0;case"dragenter":return dd=xd(dd,e,t,n,i,r),!0;case"mouseover":return pd=xd(pd,e,t,n,i,r),!0;case"pointerover":var o=r.pointerId;return fd.set(o,xd(fd.get(o)||null,e,t,n,i,r)),!0;case"gotpointercapture":return o=r.pointerId,md.set(o,xd(md.get(o)||null,e,t,n,i,r)),!0}return!1}(r,e,t,n,i))i.stopPropagation();else if(yd(e,i),4&t&&-1<vd.indexOf(e)){for(;null!==r;){var o=He(r);if(null!==o)switch(o.tag){case 3:if((o=o.stateNode).current.memoizedState.isDehydrated){var s=ye(o.pendingLanes);if(0!==s){var a=o;for(a.pendingLanes|=2,a.entangledLanes|=2;s;){var l=1<<31-pe(s);a.entanglements[1]|=l,s&=~l}_u(o),0===(6&nc)&&(_c=te()+500,Su(0,!1))}}break;case 13:null!==(a=Pi(o,2))&&jc(a,0,2),Uc(),ed(o,2)}if(null===(o=sd(i))&&Hu(e,t,i,ad,n),o===r)break;r=o}null!==r&&i.stopPropagation()}else Hu(e,t,i,null,n)}}function sd(e){return ld(e=Pt(e))}var ad=null;function ld(e){if(ad=null,null!==(e=Ue(e))){var t=l(e);if(null===t)e=null;else{var n=t.tag;if(13===n){if(null!==(e=c(t)))return e;e=null}else if(3===n){if(t.stateNode.current.memoizedState.isDehydrated)return 3===t.tag?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null)}}return ad=e,null}function cd(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(ne()){case ie:return 2;case re:return 8;case oe:case se:return 32;case ae:return 268435456;default:return 32}default:return 32}}var ud=!1,hd=null,dd=null,pd=null,fd=new Map,md=new Map,gd=[],vd="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function yd(e,t){switch(e){case"focusin":case"focusout":hd=null;break;case"dragenter":case"dragleave":dd=null;break;case"mouseover":case"mouseout":pd=null;break;case"pointerover":case"pointerout":fd.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":md.delete(t.pointerId)}}function xd(e,t,n,i,r,o){return null===e||e.nativeEvent!==o?(e={blockedOn:t,domEventName:n,eventSystemFlags:i,nativeEvent:o,targetContainers:[r]},null!==t&&(null!==(t=He(t))&&td(t)),e):(e.eventSystemFlags|=i,t=e.targetContainers,null!==r&&-1===t.indexOf(r)&&t.push(r),e)}function bd(e){var t=Ue(e.target);if(null!==t){var n=l(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=c(n)))return e.blockedOn=t,void function(e,t){var n=D.p;try{return D.p=e,t()}finally{D.p=n}}(e.priority,(function(){if(13===n.tag){var e=Oc();e=Ce(e);var t=Pi(n,e);null!==t&&jc(t,0,e),ed(n,e)}}))}else if(3===t&&n.stateNode.current.memoizedState.isDehydrated)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function wd(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=sd(e.nativeEvent);if(null!==n)return null!==(t=He(n))&&td(t),e.blockedOn=n,!1;var i=new(n=e.nativeEvent).constructor(n.type,n);Lt=i,n.target.dispatchEvent(i),Lt=null,t.shift()}return!0}function _d(e,t,n){wd(e)&&n.delete(t)}function Sd(){ud=!1,null!==hd&&wd(hd)&&(hd=null),null!==dd&&wd(dd)&&(dd=null),null!==pd&&wd(pd)&&(pd=null),fd.forEach(_d),md.forEach(_d)}function Md(e,t){e.blockedOn===t&&(e.blockedOn=null,ud||(ud=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,Sd)))}var Ed=null;function Td(e){Ed!==e&&(Ed=e,i.unstable_scheduleCallback(i.unstable_NormalPriority,(function(){Ed===e&&(Ed=null);for(var t=0;t<e.length;t+=3){var n=e[t],i=e[t+1],r=e[t+2];if("function"!==typeof i){if(null===ld(i||n))continue;break}var o=He(n);null!==o&&(e.splice(t,3),t-=3,Ps(o,{pending:!0,data:r,method:n.method,action:i},i,r))}})))}function Ad(e){function t(t){return Md(t,e)}null!==hd&&Md(hd,e),null!==dd&&Md(dd,e),null!==pd&&Md(pd,e),fd.forEach(t),md.forEach(t);for(var n=0;n<gd.length;n++){var i=gd[n];i.blockedOn===e&&(i.blockedOn=null)}for(;0<gd.length&&null===(n=gd[0]).blockedOn;)bd(n),null===n.blockedOn&&gd.shift();if(null!=(n=(e.ownerDocument||e).$$reactFormReplay))for(i=0;i<n.length;i+=3){var r=n[i],o=n[i+1],s=r[ke]||null;if("function"===typeof o)s||Td(n);else if(s){var a=null;if(o&&o.hasAttribute("formAction")){if(r=o,s=o[ke]||null)a=s.formAction;else if(null!==ld(r))continue}else a=s.action;"function"===typeof a?n[i+1]=a:(n.splice(i,3),i-=3),Td(n)}}}function Cd(e){this._internalRoot=e}function Rd(e){this._internalRoot=e}Rd.prototype.render=Cd.prototype.render=function(e){var t=this._internalRoot;if(null===t)throw Error(s(409));Qh(t.current,Oc(),e,t,null,null)},Rd.prototype.unmount=Cd.prototype.unmount=function(){var e=this._internalRoot;if(null!==e){this._internalRoot=null;var t=e.containerInfo;Qh(e.current,2,null,e,null,null),Uc(),t[Oe]=null}},Rd.prototype.unstable_scheduleHydration=function(e){if(e){var t=Le();e={blockedOn:null,target:e,priority:t};for(var n=0;n<gd.length&&0!==t&&t<gd[n].priority;n++);gd.splice(n,0,e),0===n&&bd(e)}};var Ld=r.version;if("19.1.0"!==Ld)throw Error(s(527,Ld,"19.1.0"));D.findDOMNode=function(e){var t=e._reactInternals;if(void 0===t){if("function"===typeof e.render)throw Error(s(188));throw e=Object.keys(e).join(","),Error(s(268,e))}return e=function(e){var t=e.alternate;if(!t){if(null===(t=l(e)))throw Error(s(188));return t!==e?null:e}for(var n=e,i=t;;){var r=n.return;if(null===r)break;var o=r.alternate;if(null===o){if(null!==(i=r.return)){n=i;continue}break}if(r.child===o.child){for(o=r.child;o;){if(o===n)return u(r),e;if(o===i)return u(r),t;o=o.sibling}throw Error(s(188))}if(n.return!==i.return)n=r,i=o;else{for(var a=!1,c=r.child;c;){if(c===n){a=!0,n=r,i=o;break}if(c===i){a=!0,i=r,n=o;break}c=c.sibling}if(!a){for(c=o.child;c;){if(c===n){a=!0,n=o,i=r;break}if(c===i){a=!0,i=o,n=r;break}c=c.sibling}if(!a)throw Error(s(189))}}if(n.alternate!==i)throw Error(s(190))}if(3!==n.tag)throw Error(s(188));return n.stateNode.current===n?e:t}(t),e=null===(e=null!==e?h(e):null)?null:e.stateNode};var Pd={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:O,reconcilerVersion:"19.1.0"};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var Nd=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Nd.isDisabled&&Nd.supportsFiber)try{ue=Nd.inject(Pd),he=Nd}catch(Od){}}t.createRoot=function(e,t){if(!a(e))throw Error(s(299));var n=!1,i="",r=ya,o=xa,l=ba;return null!==t&&void 0!==t&&(!0===t.unstable_strictMode&&(n=!0),void 0!==t.identifierPrefix&&(i=t.identifierPrefix),void 0!==t.onUncaughtError&&(r=t.onUncaughtError),void 0!==t.onCaughtError&&(o=t.onCaughtError),void 0!==t.onRecoverableError&&(l=t.onRecoverableError),void 0!==t.unstable_transitionCallbacks&&t.unstable_transitionCallbacks),t=Zh(e,1,!1,null,0,n,i,r,o,l,0,null),e[Oe]=t.current,Bu(e),new Cd(t)},t.hydrateRoot=function(e,t,n){if(!a(e))throw Error(s(299));var i=!1,r="",o=ya,l=xa,c=ba,u=null;return null!==n&&void 0!==n&&(!0===n.unstable_strictMode&&(i=!0),void 0!==n.identifierPrefix&&(r=n.identifierPrefix),void 0!==n.onUncaughtError&&(o=n.onUncaughtError),void 0!==n.onCaughtError&&(l=n.onCaughtError),void 0!==n.onRecoverableError&&(c=n.onRecoverableError),void 0!==n.unstable_transitionCallbacks&&n.unstable_transitionCallbacks,void 0!==n.formState&&(u=n.formState)),(t=Zh(e,1,!0,t,0,i,r,o,l,c,0,u)).context=Kh(null),n=t.current,(r=ro(i=Ce(i=Oc()))).callback=null,oo(n,r,i),n=i,t.current.lanes=n,Ee(t,n),_u(t),e[Oe]=t.current,Bu(e),new Rd(t)},t.version="19.1.0"},43:(e,t,n)=>{"use strict";e.exports=n(288)},173:(e,t,n)=>{e.exports=n(497)()},218:e=>{"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},245:(e,t,n)=>{"use strict";var i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},r=u(n(173)),o=u(n(742)),s=u(n(612)),a=n(43),l=u(a),c=u(n(686));function u(e){return e&&e.__esModule?e:{default:e}}var h={bgColor:r.default.oneOfType([r.default.object,r.default.string]),fgColor:r.default.oneOfType([r.default.object,r.default.string]),level:r.default.string,size:r.default.number,value:r.default.string.isRequired},d=(0,a.forwardRef)((function(e,t){var n=e.bgColor,r=void 0===n?"#FFFFFF":n,a=e.fgColor,u=void 0===a?"#000000":a,h=e.level,d=void 0===h?"L":h,p=e.size,f=void 0===p?256:p,m=e.value,g=function(e,t){var n={};for(var i in e)t.indexOf(i)>=0||Object.prototype.hasOwnProperty.call(e,i)&&(n[i]=e[i]);return n}(e,["bgColor","fgColor","level","size","value"]),v=new s.default(-1,o.default[d]);v.addData(m),v.make();var y=v.modules;return l.default.createElement(c.default,i({},g,{bgColor:r,bgD:y.map((function(e,t){return e.map((function(e,n){return e?"":"M "+n+" "+t+" l 1 0 0 1 -1 0 Z"})).join(" ")})).join(" "),fgColor:u,fgD:y.map((function(e,t){return e.map((function(e,n){return e?"M "+n+" "+t+" l 1 0 0 1 -1 0 Z":""})).join(" ")})).join(" "),ref:t,size:f,viewBoxSize:y.length}))}));d.displayName="QRCode",d.propTypes=h,t.Ay=d},271:function(e){var t;"undefined"!=typeof self&&self,t=()=>(()=>{"use strict";var e={d:(t,n)=>{for(var i in n)e.o(n,i)&&!e.o(t,i)&&Object.defineProperty(t,i,{enumerable:!0,get:n[i]})},o:(e,t)=>Object.prototype.hasOwnProperty.call(e,t),r:e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}},t={};function n(e,t){return null==e&&(e=0),null==t&&(t=1),Math.floor(e+Math.random()*(t-e+1))}function i(e){for(;e.children&&e.children.length>0;)i(e.children[0]),e.remove(e.children[0]);e.geometry&&e.geometry.dispose(),e.material&&(Object.keys(e.material).forEach((t=>{e.material[t]&&null!==e.material[t]&&"function"==typeof e.material[t].dispose&&e.material[t].dispose()})),e.material.dispose())}e.r(t),e.d(t,{default:()=>h}),Number.prototype.clamp=function(e,t){return Math.min(Math.max(this,e),t)};const r="object"==typeof window;let o=r&&window.THREE||{};r&&!window.VANTA&&(window.VANTA={});const s=r&&window.VANTA||{};s.register=(e,t)=>s[e]=e=>new t(e),s.version="0.5.24";const a=function(){return Array.prototype.unshift.call(arguments,"[VANTA]"),console.error.apply(this,arguments)};s.VantaBase=class{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(!r)return!1;s.current=this,this.windowMouseMoveWrapper=this.windowMouseMoveWrapper.bind(this),this.windowTouchWrapper=this.windowTouchWrapper.bind(this),this.windowGyroWrapper=this.windowGyroWrapper.bind(this),this.resize=this.resize.bind(this),this.animationLoop=this.animationLoop.bind(this),this.restart=this.restart.bind(this);const t="function"==typeof this.getDefaultOptions?this.getDefaultOptions():this.defaultOptions;if(this.options=Object.assign({mouseControls:!0,touchControls:!0,gyroControls:!1,minHeight:200,minWidth:200,scale:1,scaleMobile:1},t),(e instanceof HTMLElement||"string"==typeof e)&&(e={el:e}),Object.assign(this.options,e),this.options.THREE&&(o=this.options.THREE),this.el=this.options.el,null==this.el)a('Instance needs "el" param!');else if(!(this.options.el instanceof HTMLElement)){const e=this.el;if(this.el=(n=e,document.querySelector(n)),!this.el)return void a("Cannot find element",e)}var n,i;this.prepareEl(),this.initThree(),this.setSize();try{this.init()}catch(e){return a("Init error",e),this.renderer&&this.renderer.domElement&&this.el.removeChild(this.renderer.domElement),void(this.options.backgroundColor&&(console.log("[VANTA] Falling back to backgroundColor"),this.el.style.background=(i=this.options.backgroundColor,"number"==typeof i?"#"+("00000"+i.toString(16)).slice(-6):i)))}this.initMouse(),this.resize(),this.animationLoop();const l=window.addEventListener;l("resize",this.resize),window.requestAnimationFrame(this.resize),this.options.mouseControls&&(l("scroll",this.windowMouseMoveWrapper),l("mousemove",this.windowMouseMoveWrapper)),this.options.touchControls&&(l("touchstart",this.windowTouchWrapper),l("touchmove",this.windowTouchWrapper)),this.options.gyroControls&&l("deviceorientation",this.windowGyroWrapper)}setOptions(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};Object.assign(this.options,e),this.triggerMouseMove()}prepareEl(){let e,t;if("undefined"!=typeof Node&&Node.TEXT_NODE)for(e=0;e<this.el.childNodes.length;e++){const t=this.el.childNodes[e];if(t.nodeType===Node.TEXT_NODE){const e=document.createElement("span");e.textContent=t.textContent,t.parentElement.insertBefore(e,t),t.remove()}}for(e=0;e<this.el.children.length;e++)t=this.el.children[e],"static"===getComputedStyle(t).position&&(t.style.position="relative"),"auto"===getComputedStyle(t).zIndex&&(t.style.zIndex=1);"static"===getComputedStyle(this.el).position&&(this.el.style.position="relative")}applyCanvasStyles(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};Object.assign(e.style,{position:"absolute",zIndex:0,top:0,left:0,background:""}),Object.assign(e.style,t),e.classList.add("vanta-canvas")}initThree(){o.WebGLRenderer?(this.renderer=new o.WebGLRenderer({alpha:!0,antialias:!0}),this.el.appendChild(this.renderer.domElement),this.applyCanvasStyles(this.renderer.domElement),isNaN(this.options.backgroundAlpha)&&(this.options.backgroundAlpha=1),this.scene=new o.Scene):console.warn("[VANTA] No THREE defined on window")}getCanvasElement(){return this.renderer?this.renderer.domElement:this.p5renderer?this.p5renderer.canvas:void 0}getCanvasRect(){const e=this.getCanvasElement();return!!e&&e.getBoundingClientRect()}windowMouseMoveWrapper(e){const t=this.getCanvasRect();if(!t)return!1;const n=e.clientX-t.left,i=e.clientY-t.top;n>=0&&i>=0&&n<=t.width&&i<=t.height&&(this.mouseX=n,this.mouseY=i,this.options.mouseEase||this.triggerMouseMove(n,i))}windowTouchWrapper(e){const t=this.getCanvasRect();if(!t)return!1;if(1===e.touches.length){const n=e.touches[0].clientX-t.left,i=e.touches[0].clientY-t.top;n>=0&&i>=0&&n<=t.width&&i<=t.height&&(this.mouseX=n,this.mouseY=i,this.options.mouseEase||this.triggerMouseMove(n,i))}}windowGyroWrapper(e){const t=this.getCanvasRect();if(!t)return!1;const n=Math.round(2*e.alpha)-t.left,i=Math.round(2*e.beta)-t.top;n>=0&&i>=0&&n<=t.width&&i<=t.height&&(this.mouseX=n,this.mouseY=i,this.options.mouseEase||this.triggerMouseMove(n,i))}triggerMouseMove(e,t){void 0===e&&void 0===t&&(this.options.mouseEase?(e=this.mouseEaseX,t=this.mouseEaseY):(e=this.mouseX,t=this.mouseY)),this.uniforms&&(this.uniforms.iMouse.value.x=e/this.scale,this.uniforms.iMouse.value.y=t/this.scale);const n=e/this.width,i=t/this.height;"function"==typeof this.onMouseMove&&this.onMouseMove(n,i)}setSize(){this.scale||(this.scale=1),"undefined"!=typeof navigator&&(/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)||window.innerWidth<600)&&this.options.scaleMobile?this.scale=this.options.scaleMobile:this.options.scale&&(this.scale=this.options.scale),this.width=Math.max(this.el.offsetWidth,this.options.minWidth),this.height=Math.max(this.el.offsetHeight,this.options.minHeight)}initMouse(){(!this.mouseX&&!this.mouseY||this.mouseX===this.options.minWidth/2&&this.mouseY===this.options.minHeight/2)&&(this.mouseX=this.width/2,this.mouseY=this.height/2,this.triggerMouseMove(this.mouseX,this.mouseY))}resize(){this.setSize(),this.camera&&(this.camera.aspect=this.width/this.height,"function"==typeof this.camera.updateProjectionMatrix&&this.camera.updateProjectionMatrix()),this.renderer&&(this.renderer.setSize(this.width,this.height),this.renderer.setPixelRatio(window.devicePixelRatio/this.scale)),"function"==typeof this.onResize&&this.onResize()}isOnScreen(){const e=this.el.offsetHeight,t=this.el.getBoundingClientRect(),n=window.pageYOffset||(document.documentElement||document.body.parentNode||document.body).scrollTop,i=t.top+n;return i-window.innerHeight<=n&&n<=i+e}animationLoop(){this.t||(this.t=0),this.t2||(this.t2=0);const e=performance.now();if(this.prevNow){let t=(e-this.prevNow)/(1e3/60);t=Math.max(.2,Math.min(t,5)),this.t+=t,this.t2+=(this.options.speed||1)*t,this.uniforms&&(this.uniforms.iTime.value=.016667*this.t2)}return this.prevNow=e,this.options.mouseEase&&(this.mouseEaseX=this.mouseEaseX||this.mouseX||0,this.mouseEaseY=this.mouseEaseY||this.mouseY||0,Math.abs(this.mouseEaseX-this.mouseX)+Math.abs(this.mouseEaseY-this.mouseY)>.1&&(this.mouseEaseX+=.05*(this.mouseX-this.mouseEaseX),this.mouseEaseY+=.05*(this.mouseY-this.mouseEaseY),this.triggerMouseMove(this.mouseEaseX,this.mouseEaseY))),(this.isOnScreen()||this.options.forceAnimate)&&("function"==typeof this.onUpdate&&this.onUpdate(),this.scene&&this.camera&&(this.renderer.render(this.scene,this.camera),this.renderer.setClearColor(this.options.backgroundColor,this.options.backgroundAlpha)),this.fps&&this.fps.update&&this.fps.update(),"function"==typeof this.afterRender&&this.afterRender()),this.req=window.requestAnimationFrame(this.animationLoop)}restart(){if(this.scene)for(;this.scene.children.length;)this.scene.remove(this.scene.children[0]);"function"==typeof this.onRestart&&this.onRestart(),this.init()}init(){"function"==typeof this.onInit&&this.onInit()}destroy(){"function"==typeof this.onDestroy&&this.onDestroy();const e=window.removeEventListener;e("touchstart",this.windowTouchWrapper),e("touchmove",this.windowTouchWrapper),e("scroll",this.windowMouseMoveWrapper),e("mousemove",this.windowMouseMoveWrapper),e("deviceorientation",this.windowGyroWrapper),e("resize",this.resize),window.cancelAnimationFrame(this.req);const t=this.scene;t&&t.children&&i(t),this.renderer&&(this.renderer.domElement&&this.el.removeChild(this.renderer.domElement),this.renderer=null,this.scene=null),s.current===this&&(s.current=null)}};const l=s.VantaBase;let c="object"==typeof window&&window.THREE;class u extends l{static initClass(){this.prototype.ww=100,this.prototype.hh=80,this.prototype.waveNoise=4}constructor(e){c=e.THREE||c,super(e)}getMaterial(){const e={color:this.options.color,shininess:this.options.shininess,flatShading:!0,side:c.DoubleSide};return new c.MeshPhongMaterial(e)}onInit(){let e,t;const i=this.getMaterial(),r=new c.BufferGeometry;this.gg=[];const o=[];for(e=0;e<=this.ww;e++)for(this.gg[e]=[],t=0;t<=this.hh;t++){const n=o.length,i=new c.Vector3(18*(e-.5*this.ww),(null==(s=0)&&(s=0),null==(a=this.waveNoise)&&(a=1),s+Math.random()*(a-s)-10),18*(.5*this.hh-t));o.push(i),this.gg[e][t]=n}var s,a;r.setFromPoints(o);const l=[];for(e=1;e<=this.ww;e++)for(t=1;t<=this.hh;t++){let i,r;const o=this.gg[e][t],s=this.gg[e][t-1],a=this.gg[e-1][t],c=this.gg[e-1][t-1];n(0,1)?(i=[c,s,a],r=[s,a,o]):(i=[c,s,o],r=[c,a,o]),l.push(...i,...r)}r.setIndex(l),this.plane=new c.Mesh(r,i),this.scene.add(this.plane);const u=new c.AmbientLight(16777215,.9);this.scene.add(u);const h=new c.PointLight(16777215,.9);h.position.set(-100,250,-100),this.scene.add(h),this.camera=new c.PerspectiveCamera(35,this.width/this.height,50,1e4),this.cameraPosition=new c.Vector3(240,200,390),this.cameraTarget=new c.Vector3(140,-30,190),this.camera.position.copy(this.cameraPosition),this.scene.add(this.camera)}onUpdate(){let e;this.plane.material.color.set(this.options.color),this.plane.material.shininess=this.options.shininess,this.camera.ox=this.cameraPosition.x/this.options.zoom,this.camera.oy=this.cameraPosition.y/this.options.zoom,this.camera.oz=this.cameraPosition.z/this.options.zoom,null!=this.controls&&this.controls.update();const t=this.camera;Math.abs(t.tx-t.position.x)>.01&&(e=t.tx-t.position.x,t.position.x+=.02*e),Math.abs(t.ty-t.position.y)>.01&&(e=t.ty-t.position.y,t.position.y+=.02*e),Math.abs(t.tz-t.position.z)>.01&&(e=t.tz-t.position.z,t.position.z+=.02*e),t.lookAt(this.cameraTarget),this.oy=this.oy||{};for(let n=0;n<this.plane.geometry.attributes.position.array.length;n+=3){const e={x:this.plane.geometry.attributes.position.array[n],y:this.plane.geometry.attributes.position.array[n+1],z:this.plane.geometry.attributes.position.array[n+2],oy:this.oy[n]};if(e.oy){const t=this.options.waveSpeed,i=Math.sqrt(t)*Math.cos(-e.x-.7*e.z),r=Math.sin(t*this.t*.02-t*e.x*.025+t*e.z*.015+i),o=Math.pow(r+1,2)/4;e.y=e.oy+o*this.options.waveHeight,this.plane.geometry.attributes.position.array[n+1]=e.y}else this.oy[n]=e.y}this.plane.geometry.attributes.position.setUsage(c.DynamicDrawUsage),this.plane.geometry.computeVertexNormals(),this.plane.geometry.attributes.position.needsUpdate=!0,this.wireframe&&(this.wireframe.geometry.fromGeometry(this.plane.geometry),this.wireframe.geometry.computeFaceNormals())}onMouseMove(e,t){const n=this.camera;return n.oy||(n.oy=n.position.y,n.ox=n.position.x,n.oz=n.position.z),n.tx=n.ox+100*(e-.5)/this.options.zoom,n.ty=n.oy+-100*(t-.5)/this.options.zoom,n.tz=n.oz+-50*(e-.5)/this.options.zoom}}u.prototype.defaultOptions={color:21896,shininess:30,waveHeight:15,waveSpeed:1,zoom:1},u.initClass();const h=s.register("WAVES",u);return t})(),e.exports=t()},288:(e,t)=>{"use strict";var n=Symbol.for("react.transitional.element"),i=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),o=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),a=Symbol.for("react.consumer"),l=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),u=Symbol.for("react.suspense"),h=Symbol.for("react.memo"),d=Symbol.for("react.lazy"),p=Symbol.iterator;var f={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},m=Object.assign,g={};function v(e,t,n){this.props=e,this.context=t,this.refs=g,this.updater=n||f}function y(){}function x(e,t,n){this.props=e,this.context=t,this.refs=g,this.updater=n||f}v.prototype.isReactComponent={},v.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},v.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},y.prototype=v.prototype;var b=x.prototype=new y;b.constructor=x,m(b,v.prototype),b.isPureReactComponent=!0;var w=Array.isArray,_={H:null,A:null,T:null,S:null,V:null},S=Object.prototype.hasOwnProperty;function M(e,t,i,r,o,s){return i=s.ref,{$$typeof:n,type:e,key:t,ref:void 0!==i?i:null,props:s}}function E(e){return"object"===typeof e&&null!==e&&e.$$typeof===n}var T=/\/+/g;function A(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,(function(e){return t[e]}))}(""+e.key):t.toString(36)}function C(){}function R(e,t,r,o,s){var a=typeof e;"undefined"!==a&&"boolean"!==a||(e=null);var l,c,u=!1;if(null===e)u=!0;else switch(a){case"bigint":case"string":case"number":u=!0;break;case"object":switch(e.$$typeof){case n:case i:u=!0;break;case d:return R((u=e._init)(e._payload),t,r,o,s)}}if(u)return s=s(e),u=""===o?"."+A(e,0):o,w(s)?(r="",null!=u&&(r=u.replace(T,"$&/")+"/"),R(s,t,r,"",(function(e){return e}))):null!=s&&(E(s)&&(l=s,c=r+(null==s.key||e&&e.key===s.key?"":(""+s.key).replace(T,"$&/")+"/")+u,s=M(l.type,c,void 0,0,0,l.props)),t.push(s)),1;u=0;var h,f=""===o?".":o+":";if(w(e))for(var m=0;m<e.length;m++)u+=R(o=e[m],t,r,a=f+A(o,m),s);else if("function"===typeof(m=null===(h=e)||"object"!==typeof h?null:"function"===typeof(h=p&&h[p]||h["@@iterator"])?h:null))for(e=m.call(e),m=0;!(o=e.next()).done;)u+=R(o=o.value,t,r,a=f+A(o,m++),s);else if("object"===a){if("function"===typeof e.then)return R(function(e){switch(e.status){case"fulfilled":return e.value;case"rejected":throw e.reason;default:switch("string"===typeof e.status?e.then(C,C):(e.status="pending",e.then((function(t){"pending"===e.status&&(e.status="fulfilled",e.value=t)}),(function(t){"pending"===e.status&&(e.status="rejected",e.reason=t)}))),e.status){case"fulfilled":return e.value;case"rejected":throw e.reason}}throw e}(e),t,r,o,s);throw t=String(e),Error("Objects are not valid as a React child (found: "+("[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.")}return u}function L(e,t,n){if(null==e)return e;var i=[],r=0;return R(e,i,"","",(function(e){return t.call(n,e,r++)})),i}function P(e){if(-1===e._status){var t=e._result;(t=t()).then((function(t){0!==e._status&&-1!==e._status||(e._status=1,e._result=t)}),(function(t){0!==e._status&&-1!==e._status||(e._status=2,e._result=t)})),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var N="function"===typeof reportError?reportError:function(e){if("object"===typeof window&&"function"===typeof window.ErrorEvent){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:"object"===typeof e&&null!==e&&"string"===typeof e.message?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if("object"===typeof process&&"function"===typeof process.emit)return void process.emit("uncaughtException",e);console.error(e)};function k(){}t.Children={map:L,forEach:function(e,t,n){L(e,(function(){t.apply(this,arguments)}),n)},count:function(e){var t=0;return L(e,(function(){t++})),t},toArray:function(e){return L(e,(function(e){return e}))||[]},only:function(e){if(!E(e))throw Error("React.Children.only expected to receive a single React element child.");return e}},t.Component=v,t.Fragment=r,t.Profiler=s,t.PureComponent=x,t.StrictMode=o,t.Suspense=u,t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=_,t.__COMPILER_RUNTIME={__proto__:null,c:function(e){return _.H.useMemoCache(e)}},t.cache=function(e){return function(){return e.apply(null,arguments)}},t.cloneElement=function(e,t,n){if(null===e||void 0===e)throw Error("The argument must be a React element, but you passed "+e+".");var i=m({},e.props),r=e.key;if(null!=t)for(o in void 0!==t.ref&&void 0,void 0!==t.key&&(r=""+t.key),t)!S.call(t,o)||"key"===o||"__self"===o||"__source"===o||"ref"===o&&void 0===t.ref||(i[o]=t[o]);var o=arguments.length-2;if(1===o)i.children=n;else if(1<o){for(var s=Array(o),a=0;a<o;a++)s[a]=arguments[a+2];i.children=s}return M(e.type,r,void 0,0,0,i)},t.createContext=function(e){return(e={$$typeof:l,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null}).Provider=e,e.Consumer={$$typeof:a,_context:e},e},t.createElement=function(e,t,n){var i,r={},o=null;if(null!=t)for(i in void 0!==t.key&&(o=""+t.key),t)S.call(t,i)&&"key"!==i&&"__self"!==i&&"__source"!==i&&(r[i]=t[i]);var s=arguments.length-2;if(1===s)r.children=n;else if(1<s){for(var a=Array(s),l=0;l<s;l++)a[l]=arguments[l+2];r.children=a}if(e&&e.defaultProps)for(i in s=e.defaultProps)void 0===r[i]&&(r[i]=s[i]);return M(e,o,void 0,0,0,r)},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:c,render:e}},t.isValidElement=E,t.lazy=function(e){return{$$typeof:d,_payload:{_status:-1,_result:e},_init:P}},t.memo=function(e,t){return{$$typeof:h,type:e,compare:void 0===t?null:t}},t.startTransition=function(e){var t=_.T,n={};_.T=n;try{var i=e(),r=_.S;null!==r&&r(n,i),"object"===typeof i&&null!==i&&"function"===typeof i.then&&i.then(k,N)}catch(o){N(o)}finally{_.T=t}},t.unstable_useCacheRefresh=function(){return _.H.useCacheRefresh()},t.use=function(e){return _.H.use(e)},t.useActionState=function(e,t,n){return _.H.useActionState(e,t,n)},t.useCallback=function(e,t){return _.H.useCallback(e,t)},t.useContext=function(e){return _.H.useContext(e)},t.useDebugValue=function(){},t.useDeferredValue=function(e,t){return _.H.useDeferredValue(e,t)},t.useEffect=function(e,t,n){var i=_.H;if("function"===typeof n)throw Error("useEffect CRUD overload is not enabled in this build of React.");return i.useEffect(e,t)},t.useId=function(){return _.H.useId()},t.useImperativeHandle=function(e,t,n){return _.H.useImperativeHandle(e,t,n)},t.useInsertionEffect=function(e,t){return _.H.useInsertionEffect(e,t)},t.useLayoutEffect=function(e,t){return _.H.useLayoutEffect(e,t)},t.useMemo=function(e,t){return _.H.useMemo(e,t)},t.useOptimistic=function(e,t){return _.H.useOptimistic(e,t)},t.useReducer=function(e,t,n){return _.H.useReducer(e,t,n)},t.useRef=function(e){return _.H.useRef(e)},t.useState=function(e){return _.H.useState(e)},t.useSyncExternalStore=function(e,t,n){return _.H.useSyncExternalStore(e,t,n)},t.useTransition=function(){return _.H.useTransition()},t.version="19.1.0"},343:(e,t,n)=>{var i=n(957);function r(e){this.mode=i.MODE_8BIT_BYTE,this.data=e}r.prototype={getLength:function(e){return this.data.length},write:function(e){for(var t=0;t<this.data.length;t++)e.put(this.data.charCodeAt(t),8)}},e.exports=r},358:(e,t)=>{"use strict";const n=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,i=/^[\u0021-\u003A\u003C-\u007E]*$/,r=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,o=/^[\u0020-\u003A\u003D-\u007E]*$/,s=Object.prototype.toString,a=(()=>{const e=function(){};return e.prototype=Object.create(null),e})();function l(e,t,n){do{const n=e.charCodeAt(t);if(32!==n&&9!==n)return t}while(++t<n);return n}function c(e,t,n){for(;t>n;){const n=e.charCodeAt(--t);if(32!==n&&9!==n)return t+1}return n}function u(e){if(-1===e.indexOf("%"))return e;try{return decodeURIComponent(e)}catch(t){return e}}},391:(e,t,n)=>{"use strict";!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(4)},392:(e,t,n)=>{var i=n(460);function r(e,t){if(void 0==e.length)throw new Error(e.length+"/"+t);for(var n=0;n<e.length&&0==e[n];)n++;this.num=new Array(e.length-n+t);for(var i=0;i<e.length-n;i++)this.num[i]=e[i+n]}r.prototype={get:function(e){return this.num[e]},getLength:function(){return this.num.length},multiply:function(e){for(var t=new Array(this.getLength()+e.getLength()-1),n=0;n<this.getLength();n++)for(var o=0;o<e.getLength();o++)t[n+o]^=i.gexp(i.glog(this.get(n))+i.glog(e.get(o)));return new r(t,0)},mod:function(e){if(this.getLength()-e.getLength()<0)return this;for(var t=i.glog(this.get(0))-i.glog(e.get(0)),n=new Array(this.getLength()),o=0;o<this.getLength();o++)n[o]=this.get(o);for(o=0;o<e.getLength();o++)n[o]^=i.gexp(i.glog(e.get(o))+t);return new r(n,0).mod(e)}},e.exports=r},436:(e,t,n)=>{var i=n(742);function r(e,t){this.totalCount=e,this.dataCount=t}r.RS_BLOCK_TABLE=[[1,26,19],[1,26,16],[1,26,13],[1,26,9],[1,44,34],[1,44,28],[1,44,22],[1,44,16],[1,70,55],[1,70,44],[2,35,17],[2,35,13],[1,100,80],[2,50,32],[2,50,24],[4,25,9],[1,134,108],[2,67,43],[2,33,15,2,34,16],[2,33,11,2,34,12],[2,86,68],[4,43,27],[4,43,19],[4,43,15],[2,98,78],[4,49,31],[2,32,14,4,33,15],[4,39,13,1,40,14],[2,121,97],[2,60,38,2,61,39],[4,40,18,2,41,19],[4,40,14,2,41,15],[2,146,116],[3,58,36,2,59,37],[4,36,16,4,37,17],[4,36,12,4,37,13],[2,86,68,2,87,69],[4,69,43,1,70,44],[6,43,19,2,44,20],[6,43,15,2,44,16],[4,101,81],[1,80,50,4,81,51],[4,50,22,4,51,23],[3,36,12,8,37,13],[2,116,92,2,117,93],[6,58,36,2,59,37],[4,46,20,6,47,21],[7,42,14,4,43,15],[4,133,107],[8,59,37,1,60,38],[8,44,20,4,45,21],[12,33,11,4,34,12],[3,145,115,1,146,116],[4,64,40,5,65,41],[11,36,16,5,37,17],[11,36,12,5,37,13],[5,109,87,1,110,88],[5,65,41,5,66,42],[5,54,24,7,55,25],[11,36,12],[5,122,98,1,123,99],[7,73,45,3,74,46],[15,43,19,2,44,20],[3,45,15,13,46,16],[1,135,107,5,136,108],[10,74,46,1,75,47],[1,50,22,15,51,23],[2,42,14,17,43,15],[5,150,120,1,151,121],[9,69,43,4,70,44],[17,50,22,1,51,23],[2,42,14,19,43,15],[3,141,113,4,142,114],[3,70,44,11,71,45],[17,47,21,4,48,22],[9,39,13,16,40,14],[3,135,107,5,136,108],[3,67,41,13,68,42],[15,54,24,5,55,25],[15,43,15,10,44,16],[4,144,116,4,145,117],[17,68,42],[17,50,22,6,51,23],[19,46,16,6,47,17],[2,139,111,7,140,112],[17,74,46],[7,54,24,16,55,25],[34,37,13],[4,151,121,5,152,122],[4,75,47,14,76,48],[11,54,24,14,55,25],[16,45,15,14,46,16],[6,147,117,4,148,118],[6,73,45,14,74,46],[11,54,24,16,55,25],[30,46,16,2,47,17],[8,132,106,4,133,107],[8,75,47,13,76,48],[7,54,24,22,55,25],[22,45,15,13,46,16],[10,142,114,2,143,115],[19,74,46,4,75,47],[28,50,22,6,51,23],[33,46,16,4,47,17],[8,152,122,4,153,123],[22,73,45,3,74,46],[8,53,23,26,54,24],[12,45,15,28,46,16],[3,147,117,10,148,118],[3,73,45,23,74,46],[4,54,24,31,55,25],[11,45,15,31,46,16],[7,146,116,7,147,117],[21,73,45,7,74,46],[1,53,23,37,54,24],[19,45,15,26,46,16],[5,145,115,10,146,116],[19,75,47,10,76,48],[15,54,24,25,55,25],[23,45,15,25,46,16],[13,145,115,3,146,116],[2,74,46,29,75,47],[42,54,24,1,55,25],[23,45,15,28,46,16],[17,145,115],[10,74,46,23,75,47],[10,54,24,35,55,25],[19,45,15,35,46,16],[17,145,115,1,146,116],[14,74,46,21,75,47],[29,54,24,19,55,25],[11,45,15,46,46,16],[13,145,115,6,146,116],[14,74,46,23,75,47],[44,54,24,7,55,25],[59,46,16,1,47,17],[12,151,121,7,152,122],[12,75,47,26,76,48],[39,54,24,14,55,25],[22,45,15,41,46,16],[6,151,121,14,152,122],[6,75,47,34,76,48],[46,54,24,10,55,25],[2,45,15,64,46,16],[17,152,122,4,153,123],[29,74,46,14,75,47],[49,54,24,10,55,25],[24,45,15,46,46,16],[4,152,122,18,153,123],[13,74,46,32,75,47],[48,54,24,14,55,25],[42,45,15,32,46,16],[20,147,117,4,148,118],[40,75,47,7,76,48],[43,54,24,22,55,25],[10,45,15,67,46,16],[19,148,118,6,149,119],[18,75,47,31,76,48],[34,54,24,34,55,25],[20,45,15,61,46,16]],r.getRSBlocks=function(e,t){var n=r.getRsBlockTable(e,t);if(void 0==n)throw new Error("bad rs block @ typeNumber:"+e+"/errorCorrectLevel:"+t);for(var i=n.length/3,o=new Array,s=0;s<i;s++)for(var a=n[3*s+0],l=n[3*s+1],c=n[3*s+2],u=0;u<a;u++)o.push(new r(l,c));return o},r.getRsBlockTable=function(e,t){switch(t){case i.L:return r.RS_BLOCK_TABLE[4*(e-1)+0];case i.M:return r.RS_BLOCK_TABLE[4*(e-1)+1];case i.Q:return r.RS_BLOCK_TABLE[4*(e-1)+2];case i.H:return r.RS_BLOCK_TABLE[4*(e-1)+3];default:return}},e.exports=r},460:e=>{for(var t={glog:function(e){if(e<1)throw new Error("glog("+e+")");return t.LOG_TABLE[e]},gexp:function(e){for(;e<0;)e+=255;for(;e>=256;)e-=255;return t.EXP_TABLE[e]},EXP_TABLE:new Array(256),LOG_TABLE:new Array(256)},n=0;n<8;n++)t.EXP_TABLE[n]=1<<n;for(n=8;n<256;n++)t.EXP_TABLE[n]=t.EXP_TABLE[n-4]^t.EXP_TABLE[n-5]^t.EXP_TABLE[n-6]^t.EXP_TABLE[n-8];for(n=0;n<255;n++)t.LOG_TABLE[t.EXP_TABLE[n]]=n;e.exports=t},497:(e,t,n)=>{"use strict";var i=n(218);function r(){}function o(){}o.resetWarningCache=r,e.exports=function(){function e(e,t,n,r,o,s){if(s!==i){var a=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw a.name="Invariant Violation",a}}function t(){return e}e.isRequired=e;var n={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:o,resetWarningCache:r};return n.PropTypes=n,n}},579:(e,t,n)=>{"use strict";e.exports=n(799)},605:function(e){var t;"undefined"!=typeof self&&self,t=()=>(()=>{"use strict";var e={d:(t,n)=>{for(var i in n)e.o(n,i)&&!e.o(t,i)&&Object.defineProperty(t,i,{enumerable:!0,get:n[i]})},o:(e,t)=>Object.prototype.hasOwnProperty.call(e,t),r:e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}},t={};function n(e){for(;e.children&&e.children.length>0;)n(e.children[0]),e.remove(e.children[0]);e.geometry&&e.geometry.dispose(),e.material&&(Object.keys(e.material).forEach((t=>{e.material[t]&&null!==e.material[t]&&"function"==typeof e.material[t].dispose&&e.material[t].dispose()})),e.material.dispose())}e.r(t),e.d(t,{default:()=>h}),Number.prototype.clamp=function(e,t){return Math.min(Math.max(this,e),t)};const i="object"==typeof window;let r=i&&window.THREE||{};i&&!window.VANTA&&(window.VANTA={});const o=i&&window.VANTA||{};o.register=(e,t)=>o[e]=e=>new t(e),o.version="0.5.24";const s=function(){return Array.prototype.unshift.call(arguments,"[VANTA]"),console.error.apply(this,arguments)};o.VantaBase=class{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(!i)return!1;o.current=this,this.windowMouseMoveWrapper=this.windowMouseMoveWrapper.bind(this),this.windowTouchWrapper=this.windowTouchWrapper.bind(this),this.windowGyroWrapper=this.windowGyroWrapper.bind(this),this.resize=this.resize.bind(this),this.animationLoop=this.animationLoop.bind(this),this.restart=this.restart.bind(this);const t="function"==typeof this.getDefaultOptions?this.getDefaultOptions():this.defaultOptions;if(this.options=Object.assign({mouseControls:!0,touchControls:!0,gyroControls:!1,minHeight:200,minWidth:200,scale:1,scaleMobile:1},t),(e instanceof HTMLElement||"string"==typeof e)&&(e={el:e}),Object.assign(this.options,e),this.options.THREE&&(r=this.options.THREE),this.el=this.options.el,null==this.el)s('Instance needs "el" param!');else if(!(this.options.el instanceof HTMLElement)){const e=this.el;if(this.el=(n=e,document.querySelector(n)),!this.el)return void s("Cannot find element",e)}var n,a;this.prepareEl(),this.initThree(),this.setSize();try{this.init()}catch(e){return s("Init error",e),this.renderer&&this.renderer.domElement&&this.el.removeChild(this.renderer.domElement),void(this.options.backgroundColor&&(console.log("[VANTA] Falling back to backgroundColor"),this.el.style.background=(a=this.options.backgroundColor,"number"==typeof a?"#"+("00000"+a.toString(16)).slice(-6):a)))}this.initMouse(),this.resize(),this.animationLoop();const l=window.addEventListener;l("resize",this.resize),window.requestAnimationFrame(this.resize),this.options.mouseControls&&(l("scroll",this.windowMouseMoveWrapper),l("mousemove",this.windowMouseMoveWrapper)),this.options.touchControls&&(l("touchstart",this.windowTouchWrapper),l("touchmove",this.windowTouchWrapper)),this.options.gyroControls&&l("deviceorientation",this.windowGyroWrapper)}setOptions(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};Object.assign(this.options,e),this.triggerMouseMove()}prepareEl(){let e,t;if("undefined"!=typeof Node&&Node.TEXT_NODE)for(e=0;e<this.el.childNodes.length;e++){const t=this.el.childNodes[e];if(t.nodeType===Node.TEXT_NODE){const e=document.createElement("span");e.textContent=t.textContent,t.parentElement.insertBefore(e,t),t.remove()}}for(e=0;e<this.el.children.length;e++)t=this.el.children[e],"static"===getComputedStyle(t).position&&(t.style.position="relative"),"auto"===getComputedStyle(t).zIndex&&(t.style.zIndex=1);"static"===getComputedStyle(this.el).position&&(this.el.style.position="relative")}applyCanvasStyles(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};Object.assign(e.style,{position:"absolute",zIndex:0,top:0,left:0,background:""}),Object.assign(e.style,t),e.classList.add("vanta-canvas")}initThree(){r.WebGLRenderer?(this.renderer=new r.WebGLRenderer({alpha:!0,antialias:!0}),this.el.appendChild(this.renderer.domElement),this.applyCanvasStyles(this.renderer.domElement),isNaN(this.options.backgroundAlpha)&&(this.options.backgroundAlpha=1),this.scene=new r.Scene):console.warn("[VANTA] No THREE defined on window")}getCanvasElement(){return this.renderer?this.renderer.domElement:this.p5renderer?this.p5renderer.canvas:void 0}getCanvasRect(){const e=this.getCanvasElement();return!!e&&e.getBoundingClientRect()}windowMouseMoveWrapper(e){const t=this.getCanvasRect();if(!t)return!1;const n=e.clientX-t.left,i=e.clientY-t.top;n>=0&&i>=0&&n<=t.width&&i<=t.height&&(this.mouseX=n,this.mouseY=i,this.options.mouseEase||this.triggerMouseMove(n,i))}windowTouchWrapper(e){const t=this.getCanvasRect();if(!t)return!1;if(1===e.touches.length){const n=e.touches[0].clientX-t.left,i=e.touches[0].clientY-t.top;n>=0&&i>=0&&n<=t.width&&i<=t.height&&(this.mouseX=n,this.mouseY=i,this.options.mouseEase||this.triggerMouseMove(n,i))}}windowGyroWrapper(e){const t=this.getCanvasRect();if(!t)return!1;const n=Math.round(2*e.alpha)-t.left,i=Math.round(2*e.beta)-t.top;n>=0&&i>=0&&n<=t.width&&i<=t.height&&(this.mouseX=n,this.mouseY=i,this.options.mouseEase||this.triggerMouseMove(n,i))}triggerMouseMove(e,t){void 0===e&&void 0===t&&(this.options.mouseEase?(e=this.mouseEaseX,t=this.mouseEaseY):(e=this.mouseX,t=this.mouseY)),this.uniforms&&(this.uniforms.iMouse.value.x=e/this.scale,this.uniforms.iMouse.value.y=t/this.scale);const n=e/this.width,i=t/this.height;"function"==typeof this.onMouseMove&&this.onMouseMove(n,i)}setSize(){this.scale||(this.scale=1),"undefined"!=typeof navigator&&(/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)||window.innerWidth<600)&&this.options.scaleMobile?this.scale=this.options.scaleMobile:this.options.scale&&(this.scale=this.options.scale),this.width=Math.max(this.el.offsetWidth,this.options.minWidth),this.height=Math.max(this.el.offsetHeight,this.options.minHeight)}initMouse(){(!this.mouseX&&!this.mouseY||this.mouseX===this.options.minWidth/2&&this.mouseY===this.options.minHeight/2)&&(this.mouseX=this.width/2,this.mouseY=this.height/2,this.triggerMouseMove(this.mouseX,this.mouseY))}resize(){this.setSize(),this.camera&&(this.camera.aspect=this.width/this.height,"function"==typeof this.camera.updateProjectionMatrix&&this.camera.updateProjectionMatrix()),this.renderer&&(this.renderer.setSize(this.width,this.height),this.renderer.setPixelRatio(window.devicePixelRatio/this.scale)),"function"==typeof this.onResize&&this.onResize()}isOnScreen(){const e=this.el.offsetHeight,t=this.el.getBoundingClientRect(),n=window.pageYOffset||(document.documentElement||document.body.parentNode||document.body).scrollTop,i=t.top+n;return i-window.innerHeight<=n&&n<=i+e}animationLoop(){this.t||(this.t=0),this.t2||(this.t2=0);const e=performance.now();if(this.prevNow){let t=(e-this.prevNow)/(1e3/60);t=Math.max(.2,Math.min(t,5)),this.t+=t,this.t2+=(this.options.speed||1)*t,this.uniforms&&(this.uniforms.iTime.value=.016667*this.t2)}return this.prevNow=e,this.options.mouseEase&&(this.mouseEaseX=this.mouseEaseX||this.mouseX||0,this.mouseEaseY=this.mouseEaseY||this.mouseY||0,Math.abs(this.mouseEaseX-this.mouseX)+Math.abs(this.mouseEaseY-this.mouseY)>.1&&(this.mouseEaseX+=.05*(this.mouseX-this.mouseEaseX),this.mouseEaseY+=.05*(this.mouseY-this.mouseEaseY),this.triggerMouseMove(this.mouseEaseX,this.mouseEaseY))),(this.isOnScreen()||this.options.forceAnimate)&&("function"==typeof this.onUpdate&&this.onUpdate(),this.scene&&this.camera&&(this.renderer.render(this.scene,this.camera),this.renderer.setClearColor(this.options.backgroundColor,this.options.backgroundAlpha)),this.fps&&this.fps.update&&this.fps.update(),"function"==typeof this.afterRender&&this.afterRender()),this.req=window.requestAnimationFrame(this.animationLoop)}restart(){if(this.scene)for(;this.scene.children.length;)this.scene.remove(this.scene.children[0]);"function"==typeof this.onRestart&&this.onRestart(),this.init()}init(){"function"==typeof this.onInit&&this.onInit()}destroy(){"function"==typeof this.onDestroy&&this.onDestroy();const e=window.removeEventListener;e("touchstart",this.windowTouchWrapper),e("touchmove",this.windowTouchWrapper),e("scroll",this.windowMouseMoveWrapper),e("mousemove",this.windowMouseMoveWrapper),e("deviceorientation",this.windowGyroWrapper),e("resize",this.resize),window.cancelAnimationFrame(this.req);const t=this.scene;t&&t.children&&n(t),this.renderer&&(this.renderer.domElement&&this.el.removeChild(this.renderer.domElement),this.renderer=null,this.scene=null),o.current===this&&(o.current=null)}};const a=o.VantaBase;let l="object"==typeof window&&window.THREE;class c extends a{constructor(e){l=e.THREE||l,l.Color.prototype.toVector=function(){return new l.Vector3(this.r,this.g,this.b)},super(e),this.updateUniforms=this.updateUniforms.bind(this)}init(){this.mode="shader",this.uniforms={iTime:{type:"f",value:1},iResolution:{type:"v2",value:new l.Vector2(1,1)},iDpr:{type:"f",value:window.devicePixelRatio||1},iMouse:{type:"v2",value:new l.Vector2(this.mouseX||0,this.mouseY||0)}},super.init(),this.fragmentShader&&this.initBasicShader()}setOptions(e){super.setOptions(e),this.updateUniforms()}initBasicShader(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.fragmentShader,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.vertexShader;t||(t="uniform float uTime;\nuniform vec2 uResolution;\nvoid main() {\n  gl_Position = vec4( position, 1.0 );\n}"),this.updateUniforms(),"function"==typeof this.valuesChanger&&this.valuesChanger();const n=new l.ShaderMaterial({uniforms:this.uniforms,vertexShader:t,fragmentShader:e}),i=this.options.texturePath;i&&(this.uniforms.iTex={type:"t",value:(new l.TextureLoader).load(i)});const r=new l.Mesh(new l.PlaneGeometry(2,2),n);this.scene.add(r),this.camera=new l.Camera,this.camera.position.z=1}updateUniforms(){const e={};let t,n;for(t in this.options)n=this.options[t],-1!==t.toLowerCase().indexOf("color")?e[t]={type:"v3",value:new l.Color(n).toVector()}:"number"==typeof n&&(e[t]={type:"f",value:n});return Object.assign(this.uniforms,e)}resize(){super.resize(),this.uniforms.iResolution.value.x=this.width/this.scale,this.uniforms.iResolution.value.y=this.height/this.scale}}class u extends c{}const h=o.register("FOG",u);return u.prototype.defaultOptions={highlightColor:16761600,midtoneColor:16719616,lowlightColor:2949375,baseColor:16772075,blurFactor:.6,speed:1,zoom:1,scale:2,scaleMobile:4},u.prototype.fragmentShader="uniform vec2 iResolution;\nuniform vec2 iMouse;\nuniform float iTime;\n\nuniform float blurFactor;\nuniform vec3 baseColor;\nuniform vec3 lowlightColor;\nuniform vec3 midtoneColor;\nuniform vec3 highlightColor;\nuniform float zoom;\n\nfloat random (in vec2 _st) {\n  return fract(sin(dot(_st.xy,\n                     vec2(0.129898,0.78233)))*\n        437.585453123);\n}\n\n// Based on Morgan McGuire @morgan3d\n// https://www.shadertoy.com/view/4dS3Wd\nfloat noise (in vec2 _st) {\n  vec2 i = floor(_st);\n  vec2 f = fract(_st);\n\n  // Four corners in 2D of a tile\n  float a = random(i);\n  float b = random(i + vec2(1.0, 0.0));\n  float c = random(i + vec2(0.0, 1.0));\n  float d = random(i + vec2(1.0, 1.0));\n\n  vec2 u = f * f * (3.0 - 2.0 * f);\n\n  return mix(a, b, u.x) +\n          (c - a)* u.y * (1.0 - u.x) +\n          (d - b) * u.x * u.y;\n}\n\n#define NUM_OCTAVES 6\n\nfloat fbm ( in vec2 _st) {\n  float v = 0.0;\n  float a = blurFactor;\n  vec2 shift = vec2(100.0);\n  // Rotate to reduce axial bias\n  mat2 rot = mat2(cos(0.5), sin(0.5),\n                  -sin(0.5), cos(0.50));\n  for (int i = 0; i < NUM_OCTAVES; ++i) {\n      v += a * noise(_st);\n      _st = rot * _st * 2.0 + shift;\n      a *= (1. - blurFactor);\n  }\n  return v;\n}\n\nvoid main() {\n  vec2 st = gl_FragCoord.xy / iResolution.xy*3.;\n  st.x *= 0.7 * iResolution.x / iResolution.y ; // Still keep it more landscape than square\n  st *= zoom;\n\n  // st += st * abs(sin(iTime*0.1)*3.0);\n  vec3 color = vec3(0.0);\n\n  vec2 q = vec2(0.);\n  q.x = fbm( st + 0.00*iTime);\n  q.y = fbm( st + vec2(1.0));\n\n  vec2 dir = vec2(0.15,0.126);\n  vec2 r = vec2(0.);\n  r.x = fbm( st + 1.0*q + vec2(1.7,9.2)+ dir.x*iTime );\n  r.y = fbm( st + 1.0*q + vec2(8.3,2.8)+ dir.y*iTime);\n\n  float f = fbm(st+r);\n\n  color = mix(baseColor,\n              lowlightColor,\n              clamp((f*f)*4.0,0.0,1.0));\n\n  color = mix(color,\n              midtoneColor,\n              clamp(length(q),0.0,1.0));\n\n  color = mix(color,\n              highlightColor,\n              clamp(length(r.x),0.0,1.0));\n\n  vec3 finalColor = mix(baseColor, color, f*f*f+.6*f*f+.5*f);\n  gl_FragColor = vec4(finalColor,1.0);\n}\n",t})(),e.exports=t()},612:(e,t,n)=>{var i=n(343),r=n(436),o=n(813),s=n(898),a=n(392);function l(e,t){this.typeNumber=e,this.errorCorrectLevel=t,this.modules=null,this.moduleCount=0,this.dataCache=null,this.dataList=[]}var c=l.prototype;c.addData=function(e){var t=new i(e);this.dataList.push(t),this.dataCache=null},c.isDark=function(e,t){if(e<0||this.moduleCount<=e||t<0||this.moduleCount<=t)throw new Error(e+","+t);return this.modules[e][t]},c.getModuleCount=function(){return this.moduleCount},c.make=function(){if(this.typeNumber<1){var e=1;for(e=1;e<40;e++){for(var t=r.getRSBlocks(e,this.errorCorrectLevel),n=new o,i=0,a=0;a<t.length;a++)i+=t[a].dataCount;for(a=0;a<this.dataList.length;a++){var l=this.dataList[a];n.put(l.mode,4),n.put(l.getLength(),s.getLengthInBits(l.mode,e)),l.write(n)}if(n.getLengthInBits()<=8*i)break}this.typeNumber=e}this.makeImpl(!1,this.getBestMaskPattern())},c.makeImpl=function(e,t){this.moduleCount=4*this.typeNumber+17,this.modules=new Array(this.moduleCount);for(var n=0;n<this.moduleCount;n++){this.modules[n]=new Array(this.moduleCount);for(var i=0;i<this.moduleCount;i++)this.modules[n][i]=null}this.setupPositionProbePattern(0,0),this.setupPositionProbePattern(this.moduleCount-7,0),this.setupPositionProbePattern(0,this.moduleCount-7),this.setupPositionAdjustPattern(),this.setupTimingPattern(),this.setupTypeInfo(e,t),this.typeNumber>=7&&this.setupTypeNumber(e),null==this.dataCache&&(this.dataCache=l.createData(this.typeNumber,this.errorCorrectLevel,this.dataList)),this.mapData(this.dataCache,t)},c.setupPositionProbePattern=function(e,t){for(var n=-1;n<=7;n++)if(!(e+n<=-1||this.moduleCount<=e+n))for(var i=-1;i<=7;i++)t+i<=-1||this.moduleCount<=t+i||(this.modules[e+n][t+i]=0<=n&&n<=6&&(0==i||6==i)||0<=i&&i<=6&&(0==n||6==n)||2<=n&&n<=4&&2<=i&&i<=4)},c.getBestMaskPattern=function(){for(var e=0,t=0,n=0;n<8;n++){this.makeImpl(!0,n);var i=s.getLostPoint(this);(0==n||e>i)&&(e=i,t=n)}return t},c.createMovieClip=function(e,t,n){var i=e.createEmptyMovieClip(t,n);this.make();for(var r=0;r<this.modules.length;r++)for(var o=1*r,s=0;s<this.modules[r].length;s++){var a=1*s;this.modules[r][s]&&(i.beginFill(0,100),i.moveTo(a,o),i.lineTo(a+1,o),i.lineTo(a+1,o+1),i.lineTo(a,o+1),i.endFill())}return i},c.setupTimingPattern=function(){for(var e=8;e<this.moduleCount-8;e++)null==this.modules[e][6]&&(this.modules[e][6]=e%2==0);for(var t=8;t<this.moduleCount-8;t++)null==this.modules[6][t]&&(this.modules[6][t]=t%2==0)},c.setupPositionAdjustPattern=function(){for(var e=s.getPatternPosition(this.typeNumber),t=0;t<e.length;t++)for(var n=0;n<e.length;n++){var i=e[t],r=e[n];if(null==this.modules[i][r])for(var o=-2;o<=2;o++)for(var a=-2;a<=2;a++)this.modules[i+o][r+a]=-2==o||2==o||-2==a||2==a||0==o&&0==a}},c.setupTypeNumber=function(e){for(var t=s.getBCHTypeNumber(this.typeNumber),n=0;n<18;n++){var i=!e&&1==(t>>n&1);this.modules[Math.floor(n/3)][n%3+this.moduleCount-8-3]=i}for(n=0;n<18;n++){i=!e&&1==(t>>n&1);this.modules[n%3+this.moduleCount-8-3][Math.floor(n/3)]=i}},c.setupTypeInfo=function(e,t){for(var n=this.errorCorrectLevel<<3|t,i=s.getBCHTypeInfo(n),r=0;r<15;r++){var o=!e&&1==(i>>r&1);r<6?this.modules[r][8]=o:r<8?this.modules[r+1][8]=o:this.modules[this.moduleCount-15+r][8]=o}for(r=0;r<15;r++){o=!e&&1==(i>>r&1);r<8?this.modules[8][this.moduleCount-r-1]=o:r<9?this.modules[8][15-r-1+1]=o:this.modules[8][15-r-1]=o}this.modules[this.moduleCount-8][8]=!e},c.mapData=function(e,t){for(var n=-1,i=this.moduleCount-1,r=7,o=0,a=this.moduleCount-1;a>0;a-=2)for(6==a&&a--;;){for(var l=0;l<2;l++)if(null==this.modules[i][a-l]){var c=!1;o<e.length&&(c=1==(e[o]>>>r&1)),s.getMask(t,i,a-l)&&(c=!c),this.modules[i][a-l]=c,-1==--r&&(o++,r=7)}if((i+=n)<0||this.moduleCount<=i){i-=n,n=-n;break}}},l.PAD0=236,l.PAD1=17,l.createData=function(e,t,n){for(var i=r.getRSBlocks(e,t),a=new o,c=0;c<n.length;c++){var u=n[c];a.put(u.mode,4),a.put(u.getLength(),s.getLengthInBits(u.mode,e)),u.write(a)}var h=0;for(c=0;c<i.length;c++)h+=i[c].dataCount;if(a.getLengthInBits()>8*h)throw new Error("code length overflow. ("+a.getLengthInBits()+">"+8*h+")");for(a.getLengthInBits()+4<=8*h&&a.put(0,4);a.getLengthInBits()%8!=0;)a.putBit(!1);for(;!(a.getLengthInBits()>=8*h)&&(a.put(l.PAD0,8),!(a.getLengthInBits()>=8*h));)a.put(l.PAD1,8);return l.createBytes(a,i)},l.createBytes=function(e,t){for(var n=0,i=0,r=0,o=new Array(t.length),l=new Array(t.length),c=0;c<t.length;c++){var u=t[c].dataCount,h=t[c].totalCount-u;i=Math.max(i,u),r=Math.max(r,h),o[c]=new Array(u);for(var d=0;d<o[c].length;d++)o[c][d]=255&e.buffer[d+n];n+=u;var p=s.getErrorCorrectPolynomial(h),f=new a(o[c],p.getLength()-1).mod(p);l[c]=new Array(p.getLength()-1);for(d=0;d<l[c].length;d++){var m=d+f.getLength()-l[c].length;l[c][d]=m>=0?f.get(m):0}}var g=0;for(d=0;d<t.length;d++)g+=t[d].totalCount;var v=new Array(g),y=0;for(d=0;d<i;d++)for(c=0;c<t.length;c++)d<o[c].length&&(v[y++]=o[c][d]);for(d=0;d<r;d++)for(c=0;c<t.length;c++)d<l[c].length&&(v[y++]=l[c][d]);return v},e.exports=l},672:(e,t,n)=>{"use strict";var i=n(43);function r(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(){}var s={d:{f:o,r:function(){throw Error(r(522))},D:o,C:o,L:o,m:o,X:o,S:o,M:o},p:0,findDOMNode:null},a=Symbol.for("react.portal");var l=i.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function c(e,t){return"font"===e?"":"string"===typeof t?"use-credentials"===t?t:"":void 0}t.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,t.createPortal=function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!t||1!==t.nodeType&&9!==t.nodeType&&11!==t.nodeType)throw Error(r(299));return function(e,t,n){var i=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:a,key:null==i?null:""+i,children:e,containerInfo:t,implementation:n}}(e,t,null,n)},t.flushSync=function(e){var t=l.T,n=s.p;try{if(l.T=null,s.p=2,e)return e()}finally{l.T=t,s.p=n,s.d.f()}},t.preconnect=function(e,t){"string"===typeof e&&(t?t="string"===typeof(t=t.crossOrigin)?"use-credentials"===t?t:"":void 0:t=null,s.d.C(e,t))},t.prefetchDNS=function(e){"string"===typeof e&&s.d.D(e)},t.preinit=function(e,t){if("string"===typeof e&&t&&"string"===typeof t.as){var n=t.as,i=c(n,t.crossOrigin),r="string"===typeof t.integrity?t.integrity:void 0,o="string"===typeof t.fetchPriority?t.fetchPriority:void 0;"style"===n?s.d.S(e,"string"===typeof t.precedence?t.precedence:void 0,{crossOrigin:i,integrity:r,fetchPriority:o}):"script"===n&&s.d.X(e,{crossOrigin:i,integrity:r,fetchPriority:o,nonce:"string"===typeof t.nonce?t.nonce:void 0})}},t.preinitModule=function(e,t){if("string"===typeof e)if("object"===typeof t&&null!==t){if(null==t.as||"script"===t.as){var n=c(t.as,t.crossOrigin);s.d.M(e,{crossOrigin:n,integrity:"string"===typeof t.integrity?t.integrity:void 0,nonce:"string"===typeof t.nonce?t.nonce:void 0})}}else null==t&&s.d.M(e)},t.preload=function(e,t){if("string"===typeof e&&"object"===typeof t&&null!==t&&"string"===typeof t.as){var n=t.as,i=c(n,t.crossOrigin);s.d.L(e,n,{crossOrigin:i,integrity:"string"===typeof t.integrity?t.integrity:void 0,nonce:"string"===typeof t.nonce?t.nonce:void 0,type:"string"===typeof t.type?t.type:void 0,fetchPriority:"string"===typeof t.fetchPriority?t.fetchPriority:void 0,referrerPolicy:"string"===typeof t.referrerPolicy?t.referrerPolicy:void 0,imageSrcSet:"string"===typeof t.imageSrcSet?t.imageSrcSet:void 0,imageSizes:"string"===typeof t.imageSizes?t.imageSizes:void 0,media:"string"===typeof t.media?t.media:void 0})}},t.preloadModule=function(e,t){if("string"===typeof e)if(t){var n=c(t.as,t.crossOrigin);s.d.m(e,{as:"string"===typeof t.as&&"script"!==t.as?t.as:void 0,crossOrigin:n,integrity:"string"===typeof t.integrity?t.integrity:void 0})}else s.d.m(e)},t.requestFormReset=function(e){s.d.r(e)},t.unstable_batchedUpdates=function(e,t){return e(t)},t.useFormState=function(e,t,n){return l.H.useFormState(e,t,n)},t.useFormStatus=function(){return l.H.useHostTransitionStatus()},t.version="19.1.0"},686:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},r=a(n(173)),o=n(43),s=a(o);function a(e){return e&&e.__esModule?e:{default:e}}var l={bgColor:r.default.oneOfType([r.default.object,r.default.string]).isRequired,bgD:r.default.string.isRequired,fgColor:r.default.oneOfType([r.default.object,r.default.string]).isRequired,fgD:r.default.string.isRequired,size:r.default.number.isRequired,title:r.default.string,viewBoxSize:r.default.number.isRequired,xmlns:r.default.string},c=(0,o.forwardRef)((function(e,t){var n=e.bgColor,r=e.bgD,o=e.fgD,a=e.fgColor,l=e.size,c=e.title,u=e.viewBoxSize,h=e.xmlns,d=void 0===h?"http://www.w3.org/2000/svg":h,p=function(e,t){var n={};for(var i in e)t.indexOf(i)>=0||Object.prototype.hasOwnProperty.call(e,i)&&(n[i]=e[i]);return n}(e,["bgColor","bgD","fgD","fgColor","size","title","viewBoxSize","xmlns"]);return s.default.createElement("svg",i({},p,{height:l,ref:t,viewBox:"0 0 "+u+" "+u,width:l,xmlns:d}),c?s.default.createElement("title",null,c):null,s.default.createElement("path",{d:r,fill:n}),s.default.createElement("path",{d:o,fill:a}))}));c.displayName="QRCodeSvg",c.propTypes=l,t.default=c},694:function(e){var t;"undefined"!=typeof self&&self,t=()=>(()=>{"use strict";var e={d:(t,n)=>{for(var i in n)e.o(n,i)&&!e.o(t,i)&&Object.defineProperty(t,i,{enumerable:!0,get:n[i]})},o:(e,t)=>Object.prototype.hasOwnProperty.call(e,t),r:e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}},t={};function n(){return"undefined"!=typeof navigator?/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)||window.innerWidth<600:null}function i(e,t){return null==e&&(e=0),null==t&&(t=1),Math.floor(e+Math.random()*(t-e+1))}e.r(t),e.d(t,{default:()=>p}),Number.prototype.clamp=function(e,t){return Math.min(Math.max(this,e),t)};const r=e=>.299*e.r+.587*e.g+.114*e.b;function o(e){for(;e.children&&e.children.length>0;)o(e.children[0]),e.remove(e.children[0]);e.geometry&&e.geometry.dispose(),e.material&&(Object.keys(e.material).forEach((t=>{e.material[t]&&null!==e.material[t]&&"function"==typeof e.material[t].dispose&&e.material[t].dispose()})),e.material.dispose())}const s="object"==typeof window;let a=s&&window.THREE||{};s&&!window.VANTA&&(window.VANTA={});const l=s&&window.VANTA||{};l.register=(e,t)=>l[e]=e=>new t(e),l.version="0.5.24";const c=function(){return Array.prototype.unshift.call(arguments,"[VANTA]"),console.error.apply(this,arguments)};l.VantaBase=class{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(!s)return!1;l.current=this,this.windowMouseMoveWrapper=this.windowMouseMoveWrapper.bind(this),this.windowTouchWrapper=this.windowTouchWrapper.bind(this),this.windowGyroWrapper=this.windowGyroWrapper.bind(this),this.resize=this.resize.bind(this),this.animationLoop=this.animationLoop.bind(this),this.restart=this.restart.bind(this);const t="function"==typeof this.getDefaultOptions?this.getDefaultOptions():this.defaultOptions;if(this.options=Object.assign({mouseControls:!0,touchControls:!0,gyroControls:!1,minHeight:200,minWidth:200,scale:1,scaleMobile:1},t),(e instanceof HTMLElement||"string"==typeof e)&&(e={el:e}),Object.assign(this.options,e),this.options.THREE&&(a=this.options.THREE),this.el=this.options.el,null==this.el)c('Instance needs "el" param!');else if(!(this.options.el instanceof HTMLElement)){const e=this.el;if(this.el=(n=e,document.querySelector(n)),!this.el)return void c("Cannot find element",e)}var n,i;this.prepareEl(),this.initThree(),this.setSize();try{this.init()}catch(e){return c("Init error",e),this.renderer&&this.renderer.domElement&&this.el.removeChild(this.renderer.domElement),void(this.options.backgroundColor&&(console.log("[VANTA] Falling back to backgroundColor"),this.el.style.background=(i=this.options.backgroundColor,"number"==typeof i?"#"+("00000"+i.toString(16)).slice(-6):i)))}this.initMouse(),this.resize(),this.animationLoop();const r=window.addEventListener;r("resize",this.resize),window.requestAnimationFrame(this.resize),this.options.mouseControls&&(r("scroll",this.windowMouseMoveWrapper),r("mousemove",this.windowMouseMoveWrapper)),this.options.touchControls&&(r("touchstart",this.windowTouchWrapper),r("touchmove",this.windowTouchWrapper)),this.options.gyroControls&&r("deviceorientation",this.windowGyroWrapper)}setOptions(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};Object.assign(this.options,e),this.triggerMouseMove()}prepareEl(){let e,t;if("undefined"!=typeof Node&&Node.TEXT_NODE)for(e=0;e<this.el.childNodes.length;e++){const t=this.el.childNodes[e];if(t.nodeType===Node.TEXT_NODE){const e=document.createElement("span");e.textContent=t.textContent,t.parentElement.insertBefore(e,t),t.remove()}}for(e=0;e<this.el.children.length;e++)t=this.el.children[e],"static"===getComputedStyle(t).position&&(t.style.position="relative"),"auto"===getComputedStyle(t).zIndex&&(t.style.zIndex=1);"static"===getComputedStyle(this.el).position&&(this.el.style.position="relative")}applyCanvasStyles(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};Object.assign(e.style,{position:"absolute",zIndex:0,top:0,left:0,background:""}),Object.assign(e.style,t),e.classList.add("vanta-canvas")}initThree(){a.WebGLRenderer?(this.renderer=new a.WebGLRenderer({alpha:!0,antialias:!0}),this.el.appendChild(this.renderer.domElement),this.applyCanvasStyles(this.renderer.domElement),isNaN(this.options.backgroundAlpha)&&(this.options.backgroundAlpha=1),this.scene=new a.Scene):console.warn("[VANTA] No THREE defined on window")}getCanvasElement(){return this.renderer?this.renderer.domElement:this.p5renderer?this.p5renderer.canvas:void 0}getCanvasRect(){const e=this.getCanvasElement();return!!e&&e.getBoundingClientRect()}windowMouseMoveWrapper(e){const t=this.getCanvasRect();if(!t)return!1;const n=e.clientX-t.left,i=e.clientY-t.top;n>=0&&i>=0&&n<=t.width&&i<=t.height&&(this.mouseX=n,this.mouseY=i,this.options.mouseEase||this.triggerMouseMove(n,i))}windowTouchWrapper(e){const t=this.getCanvasRect();if(!t)return!1;if(1===e.touches.length){const n=e.touches[0].clientX-t.left,i=e.touches[0].clientY-t.top;n>=0&&i>=0&&n<=t.width&&i<=t.height&&(this.mouseX=n,this.mouseY=i,this.options.mouseEase||this.triggerMouseMove(n,i))}}windowGyroWrapper(e){const t=this.getCanvasRect();if(!t)return!1;const n=Math.round(2*e.alpha)-t.left,i=Math.round(2*e.beta)-t.top;n>=0&&i>=0&&n<=t.width&&i<=t.height&&(this.mouseX=n,this.mouseY=i,this.options.mouseEase||this.triggerMouseMove(n,i))}triggerMouseMove(e,t){void 0===e&&void 0===t&&(this.options.mouseEase?(e=this.mouseEaseX,t=this.mouseEaseY):(e=this.mouseX,t=this.mouseY)),this.uniforms&&(this.uniforms.iMouse.value.x=e/this.scale,this.uniforms.iMouse.value.y=t/this.scale);const n=e/this.width,i=t/this.height;"function"==typeof this.onMouseMove&&this.onMouseMove(n,i)}setSize(){this.scale||(this.scale=1),n()&&this.options.scaleMobile?this.scale=this.options.scaleMobile:this.options.scale&&(this.scale=this.options.scale),this.width=Math.max(this.el.offsetWidth,this.options.minWidth),this.height=Math.max(this.el.offsetHeight,this.options.minHeight)}initMouse(){(!this.mouseX&&!this.mouseY||this.mouseX===this.options.minWidth/2&&this.mouseY===this.options.minHeight/2)&&(this.mouseX=this.width/2,this.mouseY=this.height/2,this.triggerMouseMove(this.mouseX,this.mouseY))}resize(){this.setSize(),this.camera&&(this.camera.aspect=this.width/this.height,"function"==typeof this.camera.updateProjectionMatrix&&this.camera.updateProjectionMatrix()),this.renderer&&(this.renderer.setSize(this.width,this.height),this.renderer.setPixelRatio(window.devicePixelRatio/this.scale)),"function"==typeof this.onResize&&this.onResize()}isOnScreen(){const e=this.el.offsetHeight,t=this.el.getBoundingClientRect(),n=window.pageYOffset||(document.documentElement||document.body.parentNode||document.body).scrollTop,i=t.top+n;return i-window.innerHeight<=n&&n<=i+e}animationLoop(){this.t||(this.t=0),this.t2||(this.t2=0);const e=performance.now();if(this.prevNow){let t=(e-this.prevNow)/(1e3/60);t=Math.max(.2,Math.min(t,5)),this.t+=t,this.t2+=(this.options.speed||1)*t,this.uniforms&&(this.uniforms.iTime.value=.016667*this.t2)}return this.prevNow=e,this.options.mouseEase&&(this.mouseEaseX=this.mouseEaseX||this.mouseX||0,this.mouseEaseY=this.mouseEaseY||this.mouseY||0,Math.abs(this.mouseEaseX-this.mouseX)+Math.abs(this.mouseEaseY-this.mouseY)>.1&&(this.mouseEaseX+=.05*(this.mouseX-this.mouseEaseX),this.mouseEaseY+=.05*(this.mouseY-this.mouseEaseY),this.triggerMouseMove(this.mouseEaseX,this.mouseEaseY))),(this.isOnScreen()||this.options.forceAnimate)&&("function"==typeof this.onUpdate&&this.onUpdate(),this.scene&&this.camera&&(this.renderer.render(this.scene,this.camera),this.renderer.setClearColor(this.options.backgroundColor,this.options.backgroundAlpha)),this.fps&&this.fps.update&&this.fps.update(),"function"==typeof this.afterRender&&this.afterRender()),this.req=window.requestAnimationFrame(this.animationLoop)}restart(){if(this.scene)for(;this.scene.children.length;)this.scene.remove(this.scene.children[0]);"function"==typeof this.onRestart&&this.onRestart(),this.init()}init(){"function"==typeof this.onInit&&this.onInit()}destroy(){"function"==typeof this.onDestroy&&this.onDestroy();const e=window.removeEventListener;e("touchstart",this.windowTouchWrapper),e("touchmove",this.windowTouchWrapper),e("scroll",this.windowMouseMoveWrapper),e("mousemove",this.windowMouseMoveWrapper),e("deviceorientation",this.windowGyroWrapper),e("resize",this.resize),window.cancelAnimationFrame(this.req);const t=this.scene;t&&t.children&&o(t),this.renderer&&(this.renderer.domElement&&this.el.removeChild(this.renderer.domElement),this.renderer=null,this.scene=null),l.current===this&&(l.current=null)}};const u=l.VantaBase;let h="object"==typeof window&&window.THREE;class d extends u{static initClass(){this.prototype.defaultOptions={color:16727937,backgroundColor:2299196,points:10,maxDistance:20,spacing:15,showDots:!0}}constructor(e){h=e.THREE||h,super(e)}genPoint(e,t,n){let i;if(this.points||(this.points=[]),this.options.showDots){const e=new h.SphereGeometry(.25,12,12),t=new h.MeshLambertMaterial({color:this.options.color});i=new h.Mesh(e,t)}else i=new h.Object3D;var r,o;return this.cont.add(i),i.ox=e,i.oy=t,i.oz=n,i.position.set(e,t,n),i.r=(null==(r=-2)&&(r=0),null==(o=2)&&(o=1),r+Math.random()*(o-r)),this.points.push(i)}onInit(){this.cont=new h.Group,this.cont.position.set(0,0,0),this.scene.add(this.cont);let e=this.options.points,{spacing:t}=this.options;n()&&(e=~~(.75*e),t=~~(.65*t));const o=e*e*2;this.linePositions=new Float32Array(o*o*3),this.lineColors=new Float32Array(o*o*3);const s=r(new h.Color(this.options.color)),a=r(new h.Color(this.options.backgroundColor));this.blending=s>a?"additive":"subtractive";const l=new h.BufferGeometry;l.setAttribute("position",new h.BufferAttribute(this.linePositions,3).setUsage(h.DynamicDrawUsage)),l.setAttribute("color",new h.BufferAttribute(this.lineColors,3).setUsage(h.DynamicDrawUsage)),l.computeBoundingSphere(),l.setDrawRange(0,0);const c=new h.LineBasicMaterial({vertexColors:h.VertexColors,blending:"additive"===this.blending?h.AdditiveBlending:null,transparent:!0});this.linesMesh=new h.LineSegments(l,c),this.cont.add(this.linesMesh);for(let n=0;n<=e;n++)for(let r=0;r<=e;r++){const o=i(-3,3),s=(n-e/2)*t+i(-5,5);let a=(r-e/2)*t+i(-5,5);n%2&&(a+=.5*t),this.genPoint(s,o-i(5,15),a),this.genPoint(s+i(-5,5),o+i(5,15),a+i(-5,5))}this.camera=new h.PerspectiveCamera(25,this.width/this.height,.01,1e4),this.camera.position.set(50,100,150),this.scene.add(this.camera);const u=new h.AmbientLight(16777215,.75);return this.scene.add(u),this.spot=new h.SpotLight(16777215,1),this.spot.position.set(0,200,0),this.spot.distance=400,this.spot.target=this.cont,this.scene.add(this.spot)}onDestroy(){this.scene&&this.scene.remove(this.linesMesh),this.spot=this.points=this.linesMesh=this.lineColors=this.linePositions=null}setOptions(e){super.setOptions(e),e.color&&this.points.forEach((t=>{t.material.color=new h.Color(e.color)}))}onUpdate(){let e;const t=this.camera;Math.abs(t.tx-t.position.x)>.01&&(e=t.tx-t.position.x,t.position.x+=.02*e),Math.abs(t.ty-t.position.y)>.01&&(e=t.ty-t.position.y,t.position.y+=.02*e),t.lookAt(new h.Vector3(0,0,0));let n=0,i=0,r=0;const o=new h.Color(this.options.backgroundColor),s=new h.Color(this.options.color),a=s.clone().sub(o);this.rayCaster&&this.rayCaster.setFromCamera(new h.Vector2(this.rcMouseX,this.rcMouseY),this.camera);for(let l=0;l<this.points.length;l++){let e,t;const c=this.points[l];t=this.rayCaster?this.rayCaster.ray.distanceToPoint(c.position):1e3;const u=t.clamp(5,15);if(c.scale.x=c.scale.y=c.scale.z=(.25*(15-u)).clamp(1,100),0!==c.r){let t=Math.atan2(c.position.z,c.position.x);e=Math.sqrt(c.position.z*c.position.z+c.position.x*c.position.x),t+=25e-5*c.r,c.position.x=e*Math.cos(t),c.position.z=e*Math.sin(t)}for(let d=l;d<this.points.length;d++){const t=this.points[d],l=c.position.x-t.position.x,u=c.position.y-t.position.y,p=c.position.z-t.position.z;if(e=Math.sqrt(l*l+u*u+p*p),e<this.options.maxDistance){let l;const u=(2*(1-e/this.options.maxDistance)).clamp(0,1);l="additive"===this.blending?new h.Color(0).lerp(a,u):o.clone().lerp(s,u),this.linePositions[n++]=c.position.x,this.linePositions[n++]=c.position.y,this.linePositions[n++]=c.position.z,this.linePositions[n++]=t.position.x,this.linePositions[n++]=t.position.y,this.linePositions[n++]=t.position.z,this.lineColors[i++]=l.r,this.lineColors[i++]=l.g,this.lineColors[i++]=l.b,this.lineColors[i++]=l.r,this.lineColors[i++]=l.g,this.lineColors[i++]=l.b,r++}}}return this.linesMesh.geometry.setDrawRange(0,2*r),this.linesMesh.geometry.attributes.position.needsUpdate=!0,this.linesMesh.geometry.attributes.color.needsUpdate=!0,.001*this.t}onMouseMove(e,t){const n=this.camera;n.oy||(n.oy=n.position.y,n.ox=n.position.x,n.oz=n.position.z);const i=Math.atan2(n.oz,n.ox),r=Math.sqrt(n.oz*n.oz+n.ox*n.ox),o=i+2*(e-.5)*(this.options.mouseCoeffX||1);n.tz=r*Math.sin(o),n.tx=r*Math.cos(o),n.ty=n.oy+50*(t-.5)*(this.options.mouseCoeffY||1),this.rayCaster,this.rcMouseX=2*e-1,this.rcMouseY=2*-e+1}onRestart(){this.scene&&this.scene.remove(this.linesMesh),this.points=[]}}d.initClass();const p=l.register("NET",d);return t})(),e.exports=t()},742:e=>{e.exports={L:1,M:0,Q:3,H:2}},799:(e,t)=>{"use strict";var n=Symbol.for("react.transitional.element"),i=Symbol.for("react.fragment");function r(e,t,i){var r=null;if(void 0!==i&&(r=""+i),void 0!==t.key&&(r=""+t.key),"key"in t)for(var o in i={},t)"key"!==o&&(i[o]=t[o]);else i=t;return t=i.ref,{$$typeof:n,type:e,key:r,ref:void 0!==t?t:null,props:i}}t.Fragment=i,t.jsx=r,t.jsxs=r},813:e=>{function t(){this.buffer=new Array,this.length=0}t.prototype={get:function(e){var t=Math.floor(e/8);return 1==(this.buffer[t]>>>7-e%8&1)},put:function(e,t){for(var n=0;n<t;n++)this.putBit(1==(e>>>t-n-1&1))},getLengthInBits:function(){return this.length},putBit:function(e){var t=Math.floor(this.length/8);this.buffer.length<=t&&this.buffer.push(0),e&&(this.buffer[t]|=128>>>this.length%8),this.length++}},e.exports=t},853:(e,t,n)=>{"use strict";e.exports=n(896)},896:(e,t)=>{"use strict";function n(e,t){var n=e.length;e.push(t);e:for(;0<n;){var i=n-1>>>1,r=e[i];if(!(0<o(r,t)))break e;e[i]=t,e[n]=r,n=i}}function i(e){return 0===e.length?null:e[0]}function r(e){if(0===e.length)return null;var t=e[0],n=e.pop();if(n!==t){e[0]=n;e:for(var i=0,r=e.length,s=r>>>1;i<s;){var a=2*(i+1)-1,l=e[a],c=a+1,u=e[c];if(0>o(l,n))c<r&&0>o(u,l)?(e[i]=u,e[c]=n,i=c):(e[i]=l,e[a]=n,i=a);else{if(!(c<r&&0>o(u,n)))break e;e[i]=u,e[c]=n,i=c}}}return t}function o(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}if(t.unstable_now=void 0,"object"===typeof performance&&"function"===typeof performance.now){var s=performance;t.unstable_now=function(){return s.now()}}else{var a=Date,l=a.now();t.unstable_now=function(){return a.now()-l}}var c=[],u=[],h=1,d=null,p=3,f=!1,m=!1,g=!1,v=!1,y="function"===typeof setTimeout?setTimeout:null,x="function"===typeof clearTimeout?clearTimeout:null,b="undefined"!==typeof setImmediate?setImmediate:null;function w(e){for(var t=i(u);null!==t;){if(null===t.callback)r(u);else{if(!(t.startTime<=e))break;r(u),t.sortIndex=t.expirationTime,n(c,t)}t=i(u)}}function _(e){if(g=!1,w(e),!m)if(null!==i(c))m=!0,M||(M=!0,S());else{var t=i(u);null!==t&&N(_,t.startTime-e)}}var S,M=!1,E=-1,T=5,A=-1;function C(){return!!v||!(t.unstable_now()-A<T)}function R(){if(v=!1,M){var e=t.unstable_now();A=e;var n=!0;try{e:{m=!1,g&&(g=!1,x(E),E=-1),f=!0;var o=p;try{t:{for(w(e),d=i(c);null!==d&&!(d.expirationTime>e&&C());){var s=d.callback;if("function"===typeof s){d.callback=null,p=d.priorityLevel;var a=s(d.expirationTime<=e);if(e=t.unstable_now(),"function"===typeof a){d.callback=a,w(e),n=!0;break t}d===i(c)&&r(c),w(e)}else r(c);d=i(c)}if(null!==d)n=!0;else{var l=i(u);null!==l&&N(_,l.startTime-e),n=!1}}break e}finally{d=null,p=o,f=!1}n=void 0}}finally{n?S():M=!1}}}if("function"===typeof b)S=function(){b(R)};else if("undefined"!==typeof MessageChannel){var L=new MessageChannel,P=L.port2;L.port1.onmessage=R,S=function(){P.postMessage(null)}}else S=function(){y(R,0)};function N(e,n){E=y((function(){e(t.unstable_now())}),n)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):T=0<e?Math.floor(1e3/e):5},t.unstable_getCurrentPriorityLevel=function(){return p},t.unstable_next=function(e){switch(p){case 1:case 2:case 3:var t=3;break;default:t=p}var n=p;p=t;try{return e()}finally{p=n}},t.unstable_requestPaint=function(){v=!0},t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=p;p=e;try{return t()}finally{p=n}},t.unstable_scheduleCallback=function(e,r,o){var s=t.unstable_now();switch("object"===typeof o&&null!==o?o="number"===typeof(o=o.delay)&&0<o?s+o:s:o=s,e){case 1:var a=-1;break;case 2:a=250;break;case 5:a=1073741823;break;case 4:a=1e4;break;default:a=5e3}return e={id:h++,callback:r,priorityLevel:e,startTime:o,expirationTime:a=o+a,sortIndex:-1},o>s?(e.sortIndex=o,n(u,e),null===i(c)&&e===i(u)&&(g?(x(E),E=-1):g=!0,N(_,o-s))):(e.sortIndex=a,n(c,e),m||f||(m=!0,M||(M=!0,S()))),e},t.unstable_shouldYield=C,t.unstable_wrapCallback=function(e){var t=p;return function(){var n=p;p=t;try{return e.apply(this,arguments)}finally{p=n}}}},898:(e,t,n)=>{var i=n(957),r=n(392),o=n(460),s=0,a=1,l=2,c=3,u=4,h=5,d=6,p=7,f={PATTERN_POSITION_TABLE:[[],[6,18],[6,22],[6,26],[6,30],[6,34],[6,22,38],[6,24,42],[6,26,46],[6,28,50],[6,30,54],[6,32,58],[6,34,62],[6,26,46,66],[6,26,48,70],[6,26,50,74],[6,30,54,78],[6,30,56,82],[6,30,58,86],[6,34,62,90],[6,28,50,72,94],[6,26,50,74,98],[6,30,54,78,102],[6,28,54,80,106],[6,32,58,84,110],[6,30,58,86,114],[6,34,62,90,118],[6,26,50,74,98,122],[6,30,54,78,102,126],[6,26,52,78,104,130],[6,30,56,82,108,134],[6,34,60,86,112,138],[6,30,58,86,114,142],[6,34,62,90,118,146],[6,30,54,78,102,126,150],[6,24,50,76,102,128,154],[6,28,54,80,106,132,158],[6,32,58,84,110,136,162],[6,26,54,82,110,138,166],[6,30,58,86,114,142,170]],G15:1335,G18:7973,G15_MASK:21522,getBCHTypeInfo:function(e){for(var t=e<<10;f.getBCHDigit(t)-f.getBCHDigit(f.G15)>=0;)t^=f.G15<<f.getBCHDigit(t)-f.getBCHDigit(f.G15);return(e<<10|t)^f.G15_MASK},getBCHTypeNumber:function(e){for(var t=e<<12;f.getBCHDigit(t)-f.getBCHDigit(f.G18)>=0;)t^=f.G18<<f.getBCHDigit(t)-f.getBCHDigit(f.G18);return e<<12|t},getBCHDigit:function(e){for(var t=0;0!=e;)t++,e>>>=1;return t},getPatternPosition:function(e){return f.PATTERN_POSITION_TABLE[e-1]},getMask:function(e,t,n){switch(e){case s:return(t+n)%2==0;case a:return t%2==0;case l:return n%3==0;case c:return(t+n)%3==0;case u:return(Math.floor(t/2)+Math.floor(n/3))%2==0;case h:return t*n%2+t*n%3==0;case d:return(t*n%2+t*n%3)%2==0;case p:return(t*n%3+(t+n)%2)%2==0;default:throw new Error("bad maskPattern:"+e)}},getErrorCorrectPolynomial:function(e){for(var t=new r([1],0),n=0;n<e;n++)t=t.multiply(new r([1,o.gexp(n)],0));return t},getLengthInBits:function(e,t){if(1<=t&&t<10)switch(e){case i.MODE_NUMBER:return 10;case i.MODE_ALPHA_NUM:return 9;case i.MODE_8BIT_BYTE:case i.MODE_KANJI:return 8;default:throw new Error("mode:"+e)}else if(t<27)switch(e){case i.MODE_NUMBER:return 12;case i.MODE_ALPHA_NUM:return 11;case i.MODE_8BIT_BYTE:return 16;case i.MODE_KANJI:return 10;default:throw new Error("mode:"+e)}else{if(!(t<41))throw new Error("type:"+t);switch(e){case i.MODE_NUMBER:return 14;case i.MODE_ALPHA_NUM:return 13;case i.MODE_8BIT_BYTE:return 16;case i.MODE_KANJI:return 12;default:throw new Error("mode:"+e)}}},getLostPoint:function(e){for(var t=e.getModuleCount(),n=0,i=0;i<t;i++)for(var r=0;r<t;r++){for(var o=0,s=e.isDark(i,r),a=-1;a<=1;a++)if(!(i+a<0||t<=i+a))for(var l=-1;l<=1;l++)r+l<0||t<=r+l||0==a&&0==l||s==e.isDark(i+a,r+l)&&o++;o>5&&(n+=3+o-5)}for(i=0;i<t-1;i++)for(r=0;r<t-1;r++){var c=0;e.isDark(i,r)&&c++,e.isDark(i+1,r)&&c++,e.isDark(i,r+1)&&c++,e.isDark(i+1,r+1)&&c++,0!=c&&4!=c||(n+=3)}for(i=0;i<t;i++)for(r=0;r<t-6;r++)e.isDark(i,r)&&!e.isDark(i,r+1)&&e.isDark(i,r+2)&&e.isDark(i,r+3)&&e.isDark(i,r+4)&&!e.isDark(i,r+5)&&e.isDark(i,r+6)&&(n+=40);for(r=0;r<t;r++)for(i=0;i<t-6;i++)e.isDark(i,r)&&!e.isDark(i+1,r)&&e.isDark(i+2,r)&&e.isDark(i+3,r)&&e.isDark(i+4,r)&&!e.isDark(i+5,r)&&e.isDark(i+6,r)&&(n+=40);var u=0;for(r=0;r<t;r++)for(i=0;i<t;i++)e.isDark(i,r)&&u++;return n+=10*(Math.abs(100*u/t/t-50)/5)}};e.exports=f},950:(e,t,n)=>{"use strict";!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(672)},957:e=>{e.exports={MODE_NUMBER:1,MODE_ALPHA_NUM:2,MODE_8BIT_BYTE:4,MODE_KANJI:8}}},t={};function n(i){var r=t[i];if(void 0!==r)return r.exports;var o=t[i]={exports:{}};return e[i].call(o.exports,o,o.exports,n),o.exports}n.m=e,n.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return n.d(t,{a:t}),t},n.d=(e,t)=>{for(var i in t)n.o(t,i)&&!n.o(e,i)&&Object.defineProperty(e,i,{enumerable:!0,get:t[i]})},n.f={},n.e=e=>Promise.all(Object.keys(n.f).reduce(((t,i)=>(n.f[i](e,t),t)),[])),n.u=e=>"static/js/"+e+".dbd877c2.chunk.js",n.miniCssF=e=>{},n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{var e={},t="movie_reservation:";n.l=(i,r,o,s)=>{if(e[i])e[i].push(r);else{var a,l;if(void 0!==o)for(var c=document.getElementsByTagName("script"),u=0;u<c.length;u++){var h=c[u];if(h.getAttribute("src")==i||h.getAttribute("data-webpack")==t+o){a=h;break}}a||(l=!0,(a=document.createElement("script")).charset="utf-8",a.timeout=120,n.nc&&a.setAttribute("nonce",n.nc),a.setAttribute("data-webpack",t+o),a.src=i),e[i]=[r];var d=(t,n)=>{a.onerror=a.onload=null,clearTimeout(p);var r=e[i];if(delete e[i],a.parentNode&&a.parentNode.removeChild(a),r&&r.forEach((e=>e(n))),t)return t(n)},p=setTimeout(d.bind(null,void 0,{type:"timeout",target:a}),12e4);a.onerror=d.bind(null,a.onerror),a.onload=d.bind(null,a.onload),l&&document.head.appendChild(a)}}})(),n.r=e=>{"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.p="/",(()=>{var e={792:0};n.f.j=(t,i)=>{var r=n.o(e,t)?e[t]:void 0;if(0!==r)if(r)i.push(r[2]);else{var o=new Promise(((n,i)=>r=e[t]=[n,i]));i.push(r[2]=o);var s=n.p+n.u(t),a=new Error;n.l(s,(i=>{if(n.o(e,t)&&(0!==(r=e[t])&&(e[t]=void 0),r)){var o=i&&("load"===i.type?"missing":i.type),s=i&&i.target&&i.target.src;a.message="Loading chunk "+t+" failed.\n("+o+": "+s+")",a.name="ChunkLoadError",a.type=o,a.request=s,r[1](a)}}),"chunk-"+t,t)}};var t=(t,i)=>{var r,o,s=i[0],a=i[1],l=i[2],c=0;if(s.some((t=>0!==e[t]))){for(r in a)n.o(a,r)&&(n.m[r]=a[r]);if(l)l(n)}for(t&&t(i);c<s.length;c++)o=s[c],n.o(e,o)&&e[o]&&e[o][0](),e[o]=0},i=self.webpackChunkmovie_reservation=self.webpackChunkmovie_reservation||[];i.forEach(t.bind(null,0)),i.push=t.bind(null,i.push.bind(i))})(),(()=>{"use strict";var e={};n.r(e),n.d(e,{ACESFilmicToneMapping:()=>ue,AddEquation:()=>k,AddOperation:()=>oe,AdditiveAnimationBlendMode:()=>en,AdditiveBlending:()=>R,AlphaFormat:()=>Ve,AlwaysDepth:()=>Z,AlwaysStencilFunc:()=>Nn,AmbientLight:()=>Xh,AmbientLightProbe:()=>md,AnimationClip:()=>eh,AnimationLoader:()=>lh,AnimationMixer:()=>Yd,AnimationObjectGroup:()=>qd,AnimationUtils:()=>Uu,ArcCurve:()=>gh,ArrayCamera:()=>Va,ArrowHelper:()=>Ip,Audio:()=>Td,AudioAnalyser:()=>Nd,AudioContext:()=>dd,AudioListener:()=>Ed,AudioLoader:()=>pd,AxesHelper:()=>zp,AxisHelper:()=>zf,BackSide:()=>S,BasicDepthPacking:()=>pn,BasicShadowMap:()=>y,BinaryTextureLoader:()=>Vf,Bone:()=>Cl,BooleanKeyframeTrack:()=>Xu,BoundingBoxHelper:()=>Bf,Box2:()=>rp,Box3:()=>li,Box3Helper:()=>kp,BoxBufferGeometry:()=>So,BoxGeometry:()=>uc,BoxHelper:()=>Np,BufferAttribute:()=>kr,BufferGeometry:()=>to,BufferGeometryLoader:()=>td,ByteType:()=>ke,Cache:()=>nh,Camera:()=>Lo,CameraHelper:()=>Rp,CanvasRenderer:()=>Xf,CanvasTexture:()=>ic,CatmullRomCurve3:()=>_h,CineonToneMapping:()=>ce,CircleBufferGeometry:()=>hc,CircleGeometry:()=>dc,ClampToEdgeWrapping:()=>be,Clock:()=>xd,ClosedSplineCurve3:()=>jf,Color:()=>Tr,ColorKeyframeTrack:()=>Yu,CompressedTexture:()=>nc,CompressedTextureLoader:()=>ch,ConeBufferGeometry:()=>gc,ConeGeometry:()=>mc,CubeCamera:()=>Oo,CubeGeometry:()=>uc,CubeReflectionMapping:()=>pe,CubeRefractionMapping:()=>fe,CubeTexture:()=>Do,CubeTextureLoader:()=>hh,CubeUVReflectionMapping:()=>ve,CubeUVRefractionMapping:()=>ye,CubicBezierCurve:()=>Th,CubicBezierCurve3:()=>Ah,CubicInterpolant:()=>Gu,CullFaceBack:()=>m,CullFaceFront:()=>g,CullFaceFrontBack:()=>v,CullFaceNone:()=>f,Curve:()=>fh,CurvePath:()=>Oh,CustomBlending:()=>N,CustomToneMapping:()=>he,CylinderBufferGeometry:()=>pc,CylinderGeometry:()=>fc,Cylindrical:()=>np,DataTexture:()=>Fo,DataTexture2DArray:()=>as,DataTexture3D:()=>ls,DataTextureLoader:()=>dh,DataUtils:()=>Hp,DecrementStencilOp:()=>wn,DecrementWrapStencilOp:()=>Sn,DefaultLoadingManager:()=>rh,DepthFormat:()=>Ze,DepthStencilFormat:()=>Ke,DepthTexture:()=>rc,DirectionalLight:()=>qh,DirectionalLightHelper:()=>Tp,DiscreteInterpolant:()=>Wu,DodecahedronBufferGeometry:()=>yc,DodecahedronGeometry:()=>xc,DoubleSide:()=>M,DstAlphaFactor:()=>V,DstColorFactor:()=>q,DynamicBufferAttribute:()=>Tf,DynamicCopyUsage:()=>Bn,DynamicDrawUsage:()=>On,DynamicReadUsage:()=>Fn,EdgesGeometry:()=>Mc,EdgesHelper:()=>Uf,EllipseCurve:()=>mh,EqualDepth:()=>$,EqualStencilFunc:()=>An,EquirectangularReflectionMapping:()=>me,EquirectangularRefractionMapping:()=>ge,Euler:()=>Ui,EventDispatcher:()=>Vn,ExtrudeBufferGeometry:()=>$c,ExtrudeGeometry:()=>tu,Face3:()=>Ar,Face4:()=>hf,FaceColors:()=>mf,FileLoader:()=>ah,FlatShading:()=>E,Float16BufferAttribute:()=>Ur,Float32Attribute:()=>Of,Float32BufferAttribute:()=>Hr,Float64Attribute:()=>Df,Float64BufferAttribute:()=>Gr,FloatType:()=>Ie,Fog:()=>Qa,FogExp2:()=>Ka,Font:()=>ld,FontLoader:()=>ud,FrontSide:()=>_,Frustum:()=>Bo,GLBufferAttribute:()=>Kd,GLSL1:()=>Hn,GLSL3:()=>Gn,GammaEncoding:()=>an,Geometry:()=>cc,GeometryUtils:()=>qf,GreaterDepth:()=>te,GreaterEqualDepth:()=>ee,GreaterEqualStencilFunc:()=>Pn,GreaterStencilFunc:()=>Rn,GridHelper:()=>wp,Group:()=>Wa,HalfFloatType:()=>ze,HemisphereLight:()=>Ih,HemisphereLightHelper:()=>bp,HemisphereLightProbe:()=>fd,IcosahedronBufferGeometry:()=>nu,IcosahedronGeometry:()=>iu,ImageBitmapLoader:()=>sd,ImageLoader:()=>uh,ImageUtils:()=>Kn,ImmediateRenderObject:()=>lp,IncrementStencilOp:()=>bn,IncrementWrapStencilOp:()=>_n,InstancedBufferAttribute:()=>ed,InstancedBufferGeometry:()=>$h,InstancedInterleavedBuffer:()=>Zd,InstancedMesh:()=>jl,Int16Attribute:()=>Lf,Int16BufferAttribute:()=>Fr,Int32Attribute:()=>Nf,Int32BufferAttribute:()=>zr,Int8Attribute:()=>Af,Int8BufferAttribute:()=>Or,IntType:()=>je,InterleavedBuffer:()=>el,InterleavedBufferAttribute:()=>nl,Interpolant:()=>Hu,InterpolateDiscrete:()=>Xt,InterpolateLinear:()=>Yt,InterpolateSmooth:()=>Jt,InvertStencilOp:()=>Mn,JSONLoader:()=>Yf,KeepStencilOp:()=>yn,KeyframeTrack:()=>qu,LOD:()=>wl,LatheBufferGeometry:()=>ru,LatheGeometry:()=>ou,Layers:()=>Vi,LensFlare:()=>Zf,LessDepth:()=>K,LessEqualDepth:()=>Q,LessEqualStencilFunc:()=>Cn,LessStencilFunc:()=>Tn,Light:()=>Fh,LightProbe:()=>Zh,Line:()=>Gl,Line3:()=>ap,LineBasicMaterial:()=>Fl,LineCurve:()=>Ch,LineCurve3:()=>Rh,LineDashedMaterial:()=>zu,LineLoop:()=>Xl,LinePieces:()=>pf,LineSegments:()=>ql,LineStrip:()=>df,LinearEncoding:()=>on,LinearFilter:()=>Ae,LinearInterpolant:()=>Vu,LinearMipMapLinearFilter:()=>Pe,LinearMipMapNearestFilter:()=>Re,LinearMipmapLinearFilter:()=>Le,LinearMipmapNearestFilter:()=>Ce,LinearToneMapping:()=>ae,Loader:()=>oh,LoaderUtils:()=>Qh,LoadingManager:()=>ih,LogLuvEncoding:()=>cn,LoopOnce:()=>Vt,LoopPingPong:()=>qt,LoopRepeat:()=>Wt,LuminanceAlphaFormat:()=>Ye,LuminanceFormat:()=>Xe,MOUSE:()=>d,Material:()=>Rr,MaterialLoader:()=>Kh,Math:()=>Xn,MathUtils:()=>Xn,Matrix3:()=>Jn,Matrix4:()=>ki,MaxEquation:()=>F,Mesh:()=>bo,MeshBasicMaterial:()=>Lr,MeshDepthMaterial:()=>ja,MeshDistanceMaterial:()=>Fa,MeshFaceMaterial:()=>vf,MeshLambertMaterial:()=>Fu,MeshMatcapMaterial:()=>Iu,MeshNormalMaterial:()=>ju,MeshPhongMaterial:()=>Ou,MeshPhysicalMaterial:()=>ku,MeshStandardMaterial:()=>Nu,MeshToonMaterial:()=>Du,MinEquation:()=>j,MirroredRepeatWrapping:()=>we,MixOperation:()=>re,MultiMaterial:()=>yf,MultiplyBlending:()=>P,MultiplyOperation:()=>ie,NearestFilter:()=>_e,NearestMipMapLinearFilter:()=>Te,NearestMipMapNearestFilter:()=>Me,NearestMipmapLinearFilter:()=>Ee,NearestMipmapNearestFilter:()=>Se,NeverDepth:()=>J,NeverStencilFunc:()=>En,NoBlending:()=>A,NoColors:()=>ff,NoToneMapping:()=>se,NormalAnimationBlendMode:()=>$t,NormalBlending:()=>C,NotEqualDepth:()=>ne,NotEqualStencilFunc:()=>Ln,NumberKeyframeTrack:()=>Ju,Object3D:()=>rr,ObjectLoader:()=>nd,ObjectSpaceNormalMap:()=>gn,OctahedronBufferGeometry:()=>su,OctahedronGeometry:()=>au,OneFactor:()=>z,OneMinusDstAlphaFactor:()=>W,OneMinusDstColorFactor:()=>X,OneMinusSrcAlphaFactor:()=>G,OneMinusSrcColorFactor:()=>U,OrthographicCamera:()=>Vh,PCFShadowMap:()=>x,PCFSoftShadowMap:()=>b,PMREMGenerator:()=>rf,ParametricBufferGeometry:()=>lu,ParametricGeometry:()=>cu,Particle:()=>bf,ParticleBasicMaterial:()=>Sf,ParticleSystem:()=>wf,ParticleSystemMaterial:()=>Mf,Path:()=>Dh,PerspectiveCamera:()=>Po,Plane:()=>lr,PlaneBufferGeometry:()=>Go,PlaneGeometry:()=>uu,PlaneHelper:()=>Op,PointCloud:()=>xf,PointCloudMaterial:()=>_f,PointLight:()=>Gh,PointLightHelper:()=>gp,Points:()=>$l,PointsMaterial:()=>Yl,PolarGridHelper:()=>_p,PolyhedronBufferGeometry:()=>vc,PolyhedronGeometry:()=>hu,PositionalAudio:()=>Pd,PropertyBinding:()=>Wd,PropertyMixer:()=>kd,QuadraticBezierCurve:()=>Lh,QuadraticBezierCurve3:()=>Ph,Quaternion:()=>ri,QuaternionKeyframeTrack:()=>Ku,QuaternionLinearInterpolant:()=>Zu,REVISION:()=>h,RGBADepthPacking:()=>fn,RGBAFormat:()=>qe,RGBAIntegerFormat:()=>it,RGBA_ASTC_10x10_Format:()=>Tt,RGBA_ASTC_10x5_Format:()=>St,RGBA_ASTC_10x6_Format:()=>Mt,RGBA_ASTC_10x8_Format:()=>Et,RGBA_ASTC_12x10_Format:()=>At,RGBA_ASTC_12x12_Format:()=>Ct,RGBA_ASTC_4x4_Format:()=>mt,RGBA_ASTC_5x4_Format:()=>gt,RGBA_ASTC_5x5_Format:()=>vt,RGBA_ASTC_6x5_Format:()=>yt,RGBA_ASTC_6x6_Format:()=>xt,RGBA_ASTC_8x5_Format:()=>bt,RGBA_ASTC_8x6_Format:()=>wt,RGBA_ASTC_8x8_Format:()=>_t,RGBA_BPTC_Format:()=>Rt,RGBA_ETC2_EAC_Format:()=>ft,RGBA_PVRTC_2BPPV1_Format:()=>ht,RGBA_PVRTC_4BPPV1_Format:()=>ut,RGBA_S3TC_DXT1_Format:()=>ot,RGBA_S3TC_DXT3_Format:()=>st,RGBA_S3TC_DXT5_Format:()=>at,RGBDEncoding:()=>dn,RGBEEncoding:()=>ln,RGBEFormat:()=>Je,RGBFormat:()=>We,RGBIntegerFormat:()=>nt,RGBM16Encoding:()=>hn,RGBM7Encoding:()=>un,RGB_ETC1_Format:()=>dt,RGB_ETC2_Format:()=>pt,RGB_PVRTC_2BPPV1_Format:()=>ct,RGB_PVRTC_4BPPV1_Format:()=>lt,RGB_S3TC_DXT1_Format:()=>rt,RGFormat:()=>et,RGIntegerFormat:()=>tt,RawShaderMaterial:()=>Pu,Ray:()=>Ni,Raycaster:()=>Qd,RectAreaLight:()=>Yh,RedFormat:()=>Qe,RedIntegerFormat:()=>$e,ReinhardToneMapping:()=>le,RepeatWrapping:()=>xe,ReplaceStencilOp:()=>xn,ReverseSubtractEquation:()=>D,RingBufferGeometry:()=>du,RingGeometry:()=>pu,SRGB8_ALPHA8_ASTC_10x10_Format:()=>Ut,SRGB8_ALPHA8_ASTC_10x5_Format:()=>It,SRGB8_ALPHA8_ASTC_10x6_Format:()=>zt,SRGB8_ALPHA8_ASTC_10x8_Format:()=>Bt,SRGB8_ALPHA8_ASTC_12x10_Format:()=>Ht,SRGB8_ALPHA8_ASTC_12x12_Format:()=>Gt,SRGB8_ALPHA8_ASTC_4x4_Format:()=>Lt,SRGB8_ALPHA8_ASTC_5x4_Format:()=>Pt,SRGB8_ALPHA8_ASTC_5x5_Format:()=>Nt,SRGB8_ALPHA8_ASTC_6x5_Format:()=>kt,SRGB8_ALPHA8_ASTC_6x6_Format:()=>Ot,SRGB8_ALPHA8_ASTC_8x5_Format:()=>Dt,SRGB8_ALPHA8_ASTC_8x6_Format:()=>jt,SRGB8_ALPHA8_ASTC_8x8_Format:()=>Ft,Scene:()=>$a,SceneUtils:()=>Jf,ShaderChunk:()=>Vo,ShaderLib:()=>qo,ShaderMaterial:()=>Ro,ShadowMaterial:()=>Lu,Shape:()=>jh,ShapeBufferGeometry:()=>fu,ShapeGeometry:()=>mu,ShapePath:()=>ad,ShapeUtils:()=>Zc,ShortType:()=>Oe,Skeleton:()=>Pl,SkeletonHelper:()=>fp,SkinnedMesh:()=>Al,SmoothShading:()=>T,Sphere:()=>Mi,SphereBufferGeometry:()=>gu,SphereGeometry:()=>vu,Spherical:()=>tp,SphericalHarmonics3:()=>Jh,Spline:()=>If,SplineCurve:()=>Nh,SplineCurve3:()=>Ff,SpotLight:()=>Uh,SpotLightHelper:()=>up,Sprite:()=>vl,SpriteMaterial:()=>il,SrcAlphaFactor:()=>H,SrcAlphaSaturateFactor:()=>Y,SrcColorFactor:()=>B,StaticCopyUsage:()=>zn,StaticDrawUsage:()=>kn,StaticReadUsage:()=>jn,StereoCamera:()=>yd,StreamCopyUsage:()=>Un,StreamDrawUsage:()=>Dn,StreamReadUsage:()=>In,StringKeyframeTrack:()=>Qu,SubtractEquation:()=>O,SubtractiveBlending:()=>L,TOUCH:()=>p,TangentSpaceNormalMap:()=>mn,TetrahedronBufferGeometry:()=>yu,TetrahedronGeometry:()=>xu,TextBufferGeometry:()=>bu,TextGeometry:()=>wu,Texture:()=>$n,TextureLoader:()=>ph,TorusBufferGeometry:()=>_u,TorusGeometry:()=>Su,TorusKnotBufferGeometry:()=>Mu,TorusKnotGeometry:()=>Eu,Triangle:()=>xr,TriangleFanDrawMode:()=>rn,TriangleStripDrawMode:()=>nn,TrianglesDrawMode:()=>tn,TubeBufferGeometry:()=>Tu,TubeGeometry:()=>Au,UVMapping:()=>de,Uint16Attribute:()=>Pf,Uint16BufferAttribute:()=>Ir,Uint32Attribute:()=>kf,Uint32BufferAttribute:()=>Br,Uint8Attribute:()=>Cf,Uint8BufferAttribute:()=>Dr,Uint8ClampedAttribute:()=>Rf,Uint8ClampedBufferAttribute:()=>jr,Uniform:()=>Jd,UniformsLib:()=>Wo,UniformsUtils:()=>To,UnsignedByteType:()=>Ne,UnsignedInt248Type:()=>Ge,UnsignedIntType:()=>Fe,UnsignedShort4444Type:()=>Be,UnsignedShort5551Type:()=>Ue,UnsignedShort565Type:()=>He,UnsignedShortType:()=>De,VSMShadowMap:()=>w,Vector2:()=>Yn,Vector3:()=>oi,Vector4:()=>ti,VectorKeyframeTrack:()=>$u,Vertex:()=>Ef,VertexColors:()=>gf,VideoTexture:()=>tc,WebGL1Renderer:()=>Za,WebGLCubeRenderTarget:()=>jo,WebGLMultisampleRenderTarget:()=>ii,WebGLRenderTarget:()=>ni,WebGLRenderTargetCube:()=>Wf,WebGLRenderer:()=>Ja,WebGLUtils:()=>Ga,WireframeGeometry:()=>Cu,WireframeHelper:()=>Hf,WrapAroundEnding:()=>Qt,XHRLoader:()=>Gf,ZeroCurvatureEnding:()=>Zt,ZeroFactor:()=>I,ZeroSlopeEnding:()=>Kt,ZeroStencilOp:()=>vn,sRGBEncoding:()=>sn});var t={};n.r(t),n.d(t,{hasBrowserEnv:()=>jw,hasStandardBrowserEnv:()=>Iw,hasStandardBrowserWebWorkerEnv:()=>zw,navigator:()=>Fw,origin:()=>Bw});var i=n(43),r=n(391);const o=e=>{e&&e instanceof Function&&n.e(453).then(n.bind(n,453)).then((t=>{let{getCLS:n,getFID:i,getFCP:r,getLCP:o,getTTFB:s}=t;n(e),i(e),r(e),o(e),s(e)}))};function s(e){return s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},s(e)}function a(e){var t=function(e,t){if("object"!=s(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!=s(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==s(t)?t:t+""}function l(e,t,n){return(t=a(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function c(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function u(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?c(Object(n),!0).forEach((function(t){l(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):c(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}const h="124",d={LEFT:0,MIDDLE:1,RIGHT:2,ROTATE:0,DOLLY:1,PAN:2},p={ROTATE:0,PAN:1,DOLLY_PAN:2,DOLLY_ROTATE:3},f=0,m=1,g=2,v=3,y=0,x=1,b=2,w=3,_=0,S=1,M=2,E=1,T=2,A=0,C=1,R=2,L=3,P=4,N=5,k=100,O=101,D=102,j=103,F=104,I=200,z=201,B=202,U=203,H=204,G=205,V=206,W=207,q=208,X=209,Y=210,J=0,Z=1,K=2,Q=3,$=4,ee=5,te=6,ne=7,ie=0,re=1,oe=2,se=0,ae=1,le=2,ce=3,ue=4,he=5,de=300,pe=301,fe=302,me=303,ge=304,ve=306,ye=307,xe=1e3,be=1001,we=1002,_e=1003,Se=1004,Me=1004,Ee=1005,Te=1005,Ae=1006,Ce=1007,Re=1007,Le=1008,Pe=1008,Ne=1009,ke=1010,Oe=1011,De=1012,je=1013,Fe=1014,Ie=1015,ze=1016,Be=1017,Ue=1018,He=1019,Ge=1020,Ve=1021,We=1022,qe=1023,Xe=1024,Ye=1025,Je=qe,Ze=1026,Ke=1027,Qe=1028,$e=1029,et=1030,tt=1031,nt=1032,it=1033,rt=33776,ot=33777,st=33778,at=33779,lt=35840,ct=35841,ut=35842,ht=35843,dt=36196,pt=37492,ft=37496,mt=37808,gt=37809,vt=37810,yt=37811,xt=37812,bt=37813,wt=37814,_t=37815,St=37816,Mt=37817,Et=37818,Tt=37819,At=37820,Ct=37821,Rt=36492,Lt=37840,Pt=37841,Nt=37842,kt=37843,Ot=37844,Dt=37845,jt=37846,Ft=37847,It=37848,zt=37849,Bt=37850,Ut=37851,Ht=37852,Gt=37853,Vt=2200,Wt=2201,qt=2202,Xt=2300,Yt=2301,Jt=2302,Zt=2400,Kt=2401,Qt=2402,$t=2500,en=2501,tn=0,nn=1,rn=2,on=3e3,sn=3001,an=3007,ln=3002,cn=3003,un=3004,hn=3005,dn=3006,pn=3200,fn=3201,mn=0,gn=1,vn=0,yn=7680,xn=7681,bn=7682,wn=7683,_n=34055,Sn=34056,Mn=5386,En=512,Tn=513,An=514,Cn=515,Rn=516,Ln=517,Pn=518,Nn=519,kn=35044,On=35048,Dn=35040,jn=35045,Fn=35049,In=35041,zn=35046,Bn=35050,Un=35042,Hn="100",Gn="300 es";function Vn(){}Object.assign(Vn.prototype,{addEventListener:function(e,t){void 0===this._listeners&&(this._listeners={});const n=this._listeners;void 0===n[e]&&(n[e]=[]),-1===n[e].indexOf(t)&&n[e].push(t)},hasEventListener:function(e,t){if(void 0===this._listeners)return!1;const n=this._listeners;return void 0!==n[e]&&-1!==n[e].indexOf(t)},removeEventListener:function(e,t){if(void 0===this._listeners)return;const n=this._listeners[e];if(void 0!==n){const e=n.indexOf(t);-1!==e&&n.splice(e,1)}},dispatchEvent:function(e){if(void 0===this._listeners)return;const t=this._listeners[e.type];if(void 0!==t){e.target=this;const n=t.slice(0);for(let t=0,i=n.length;t<i;t++)n[t].call(this,e)}}});const Wn=[];for(let n=0;n<256;n++)Wn[n]=(n<16?"0":"")+n.toString(16);let qn=1234567;const Xn={DEG2RAD:Math.PI/180,RAD2DEG:180/Math.PI,generateUUID:function(){const e=4294967295*Math.random()|0,t=4294967295*Math.random()|0,n=4294967295*Math.random()|0,i=4294967295*Math.random()|0;return(Wn[255&e]+Wn[e>>8&255]+Wn[e>>16&255]+Wn[e>>24&255]+"-"+Wn[255&t]+Wn[t>>8&255]+"-"+Wn[t>>16&15|64]+Wn[t>>24&255]+"-"+Wn[63&n|128]+Wn[n>>8&255]+"-"+Wn[n>>16&255]+Wn[n>>24&255]+Wn[255&i]+Wn[i>>8&255]+Wn[i>>16&255]+Wn[i>>24&255]).toUpperCase()},clamp:function(e,t,n){return Math.max(t,Math.min(n,e))},euclideanModulo:function(e,t){return(e%t+t)%t},mapLinear:function(e,t,n,i,r){return i+(e-t)*(r-i)/(n-t)},lerp:function(e,t,n){return(1-n)*e+n*t},smoothstep:function(e,t,n){return e<=t?0:e>=n?1:(e=(e-t)/(n-t))*e*(3-2*e)},smootherstep:function(e,t,n){return e<=t?0:e>=n?1:(e=(e-t)/(n-t))*e*e*(e*(6*e-15)+10)},randInt:function(e,t){return e+Math.floor(Math.random()*(t-e+1))},randFloat:function(e,t){return e+Math.random()*(t-e)},randFloatSpread:function(e){return e*(.5-Math.random())},seededRandom:function(e){return void 0!==e&&(qn=e%2147483647),qn=16807*qn%2147483647,(qn-1)/2147483646},degToRad:function(e){return e*Xn.DEG2RAD},radToDeg:function(e){return e*Xn.RAD2DEG},isPowerOfTwo:function(e){return 0===(e&e-1)&&0!==e},ceilPowerOfTwo:function(e){return Math.pow(2,Math.ceil(Math.log(e)/Math.LN2))},floorPowerOfTwo:function(e){return Math.pow(2,Math.floor(Math.log(e)/Math.LN2))},setQuaternionFromProperEuler:function(e,t,n,i,r){const o=Math.cos,s=Math.sin,a=o(n/2),l=s(n/2),c=o((t+i)/2),u=s((t+i)/2),h=o((t-i)/2),d=s((t-i)/2),p=o((i-t)/2),f=s((i-t)/2);switch(r){case"XYX":e.set(a*u,l*h,l*d,a*c);break;case"YZY":e.set(l*d,a*u,l*h,a*c);break;case"ZXZ":e.set(l*h,l*d,a*u,a*c);break;case"XZX":e.set(a*u,l*f,l*p,a*c);break;case"YXY":e.set(l*p,a*u,l*f,a*c);break;case"ZYZ":e.set(l*f,l*p,a*u,a*c);break;default:console.warn("THREE.MathUtils: .setQuaternionFromProperEuler() encountered an unknown order: "+r)}}};class Yn{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;Object.defineProperty(this,"isVector2",{value:!0}),this.x=e,this.y=t}get width(){return this.x}set width(e){this.x=e}get height(){return this.y}set height(e){this.y=e}set(e,t){return this.x=e,this.y=t,this}setScalar(e){return this.x=e,this.y=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setComponent(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y)}copy(e){return this.x=e.x,this.y=e.y,this}add(e,t){return void 0!==t?(console.warn("THREE.Vector2: .add() now only accepts one argument. Use .addVectors( a, b ) instead."),this.addVectors(e,t)):(this.x+=e.x,this.y+=e.y,this)}addScalar(e){return this.x+=e,this.y+=e,this}addVectors(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this}addScaledVector(e,t){return this.x+=e.x*t,this.y+=e.y*t,this}sub(e,t){return void 0!==t?(console.warn("THREE.Vector2: .sub() now only accepts one argument. Use .subVectors( a, b ) instead."),this.subVectors(e,t)):(this.x-=e.x,this.y-=e.y,this)}subScalar(e){return this.x-=e,this.y-=e,this}subVectors(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this}multiply(e){return this.x*=e.x,this.y*=e.y,this}multiplyScalar(e){return this.x*=e,this.y*=e,this}divide(e){return this.x/=e.x,this.y/=e.y,this}divideScalar(e){return this.multiplyScalar(1/e)}applyMatrix3(e){const t=this.x,n=this.y,i=e.elements;return this.x=i[0]*t+i[3]*n+i[6],this.y=i[1]*t+i[4]*n+i[7],this}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this}clamp(e,t){return this.x=Math.max(e.x,Math.min(t.x,this.x)),this.y=Math.max(e.y,Math.min(t.y,this.y)),this}clampScalar(e,t){return this.x=Math.max(e,Math.min(t,this.x)),this.y=Math.max(e,Math.min(t,this.y)),this}clampLength(e,t){const n=this.length();return this.divideScalar(n||1).multiplyScalar(Math.max(e,Math.min(t,n)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this}roundToZero(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this}negate(){return this.x=-this.x,this.y=-this.y,this}dot(e){return this.x*e.x+this.y*e.y}cross(e){return this.x*e.y-this.y*e.x}lengthSq(){return this.x*this.x+this.y*this.y}length(){return Math.sqrt(this.x*this.x+this.y*this.y)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)}normalize(){return this.divideScalar(this.length()||1)}angle(){return Math.atan2(-this.y,-this.x)+Math.PI}distanceTo(e){return Math.sqrt(this.distanceToSquared(e))}distanceToSquared(e){const t=this.x-e.x,n=this.y-e.y;return t*t+n*n}manhattanDistanceTo(e){return Math.abs(this.x-e.x)+Math.abs(this.y-e.y)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this}lerpVectors(e,t,n){return this.x=e.x+(t.x-e.x)*n,this.y=e.y+(t.y-e.y)*n,this}equals(e){return e.x===this.x&&e.y===this.y}fromArray(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return this.x=e[t],this.y=e[t+1],this}toArray(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return e[t]=this.x,e[t+1]=this.y,e}fromBufferAttribute(e,t,n){return void 0!==n&&console.warn("THREE.Vector2: offset has been removed from .fromBufferAttribute()."),this.x=e.getX(t),this.y=e.getY(t),this}rotateAround(e,t){const n=Math.cos(t),i=Math.sin(t),r=this.x-e.x,o=this.y-e.y;return this.x=r*n-o*i+e.x,this.y=r*i+o*n+e.y,this}random(){return this.x=Math.random(),this.y=Math.random(),this}}class Jn{constructor(){Object.defineProperty(this,"isMatrix3",{value:!0}),this.elements=[1,0,0,0,1,0,0,0,1],arguments.length>0&&console.error("THREE.Matrix3: the constructor no longer reads arguments. use .set() instead.")}set(e,t,n,i,r,o,s,a,l){const c=this.elements;return c[0]=e,c[1]=i,c[2]=s,c[3]=t,c[4]=r,c[5]=a,c[6]=n,c[7]=o,c[8]=l,this}identity(){return this.set(1,0,0,0,1,0,0,0,1),this}clone(){return(new this.constructor).fromArray(this.elements)}copy(e){const t=this.elements,n=e.elements;return t[0]=n[0],t[1]=n[1],t[2]=n[2],t[3]=n[3],t[4]=n[4],t[5]=n[5],t[6]=n[6],t[7]=n[7],t[8]=n[8],this}extractBasis(e,t,n){return e.setFromMatrix3Column(this,0),t.setFromMatrix3Column(this,1),n.setFromMatrix3Column(this,2),this}setFromMatrix4(e){const t=e.elements;return this.set(t[0],t[4],t[8],t[1],t[5],t[9],t[2],t[6],t[10]),this}multiply(e){return this.multiplyMatrices(this,e)}premultiply(e){return this.multiplyMatrices(e,this)}multiplyMatrices(e,t){const n=e.elements,i=t.elements,r=this.elements,o=n[0],s=n[3],a=n[6],l=n[1],c=n[4],u=n[7],h=n[2],d=n[5],p=n[8],f=i[0],m=i[3],g=i[6],v=i[1],y=i[4],x=i[7],b=i[2],w=i[5],_=i[8];return r[0]=o*f+s*v+a*b,r[3]=o*m+s*y+a*w,r[6]=o*g+s*x+a*_,r[1]=l*f+c*v+u*b,r[4]=l*m+c*y+u*w,r[7]=l*g+c*x+u*_,r[2]=h*f+d*v+p*b,r[5]=h*m+d*y+p*w,r[8]=h*g+d*x+p*_,this}multiplyScalar(e){const t=this.elements;return t[0]*=e,t[3]*=e,t[6]*=e,t[1]*=e,t[4]*=e,t[7]*=e,t[2]*=e,t[5]*=e,t[8]*=e,this}determinant(){const e=this.elements,t=e[0],n=e[1],i=e[2],r=e[3],o=e[4],s=e[5],a=e[6],l=e[7],c=e[8];return t*o*c-t*s*l-n*r*c+n*s*a+i*r*l-i*o*a}invert(){const e=this.elements,t=e[0],n=e[1],i=e[2],r=e[3],o=e[4],s=e[5],a=e[6],l=e[7],c=e[8],u=c*o-s*l,h=s*a-c*r,d=l*r-o*a,p=t*u+n*h+i*d;if(0===p)return this.set(0,0,0,0,0,0,0,0,0);const f=1/p;return e[0]=u*f,e[1]=(i*l-c*n)*f,e[2]=(s*n-i*o)*f,e[3]=h*f,e[4]=(c*t-i*a)*f,e[5]=(i*r-s*t)*f,e[6]=d*f,e[7]=(n*a-l*t)*f,e[8]=(o*t-n*r)*f,this}transpose(){let e;const t=this.elements;return e=t[1],t[1]=t[3],t[3]=e,e=t[2],t[2]=t[6],t[6]=e,e=t[5],t[5]=t[7],t[7]=e,this}getNormalMatrix(e){return this.setFromMatrix4(e).copy(this).invert().transpose()}transposeIntoArray(e){const t=this.elements;return e[0]=t[0],e[1]=t[3],e[2]=t[6],e[3]=t[1],e[4]=t[4],e[5]=t[7],e[6]=t[2],e[7]=t[5],e[8]=t[8],this}setUvTransform(e,t,n,i,r,o,s){const a=Math.cos(r),l=Math.sin(r);return this.set(n*a,n*l,-n*(a*o+l*s)+o+e,-i*l,i*a,-i*(-l*o+a*s)+s+t,0,0,1),this}scale(e,t){const n=this.elements;return n[0]*=e,n[3]*=e,n[6]*=e,n[1]*=t,n[4]*=t,n[7]*=t,this}rotate(e){const t=Math.cos(e),n=Math.sin(e),i=this.elements,r=i[0],o=i[3],s=i[6],a=i[1],l=i[4],c=i[7];return i[0]=t*r+n*a,i[3]=t*o+n*l,i[6]=t*s+n*c,i[1]=-n*r+t*a,i[4]=-n*o+t*l,i[7]=-n*s+t*c,this}translate(e,t){const n=this.elements;return n[0]+=e*n[2],n[3]+=e*n[5],n[6]+=e*n[8],n[1]+=t*n[2],n[4]+=t*n[5],n[7]+=t*n[8],this}equals(e){const t=this.elements,n=e.elements;for(let i=0;i<9;i++)if(t[i]!==n[i])return!1;return!0}fromArray(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;for(let n=0;n<9;n++)this.elements[n]=e[n+t];return this}toArray(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;const n=this.elements;return e[t]=n[0],e[t+1]=n[1],e[t+2]=n[2],e[t+3]=n[3],e[t+4]=n[4],e[t+5]=n[5],e[t+6]=n[6],e[t+7]=n[7],e[t+8]=n[8],e}}let Zn;const Kn={getDataURL:function(e){if(/^data:/i.test(e.src))return e.src;if("undefined"==typeof HTMLCanvasElement)return e.src;let t;if(e instanceof HTMLCanvasElement)t=e;else{void 0===Zn&&(Zn=document.createElementNS("http://www.w3.org/1999/xhtml","canvas")),Zn.width=e.width,Zn.height=e.height;const n=Zn.getContext("2d");e instanceof ImageData?n.putImageData(e,0,0):n.drawImage(e,0,0,e.width,e.height),t=Zn}return t.width>2048||t.height>2048?t.toDataURL("image/jpeg",.6):t.toDataURL("image/png")}};let Qn=0;function $n(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:$n.DEFAULT_IMAGE,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:$n.DEFAULT_MAPPING,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:be,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:be,r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:Ae,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:Le,s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:qe,a=arguments.length>7&&void 0!==arguments[7]?arguments[7]:Ne,l=arguments.length>8&&void 0!==arguments[8]?arguments[8]:1,c=arguments.length>9&&void 0!==arguments[9]?arguments[9]:on;Object.defineProperty(this,"id",{value:Qn++}),this.uuid=Xn.generateUUID(),this.name="",this.image=e,this.mipmaps=[],this.mapping=t,this.wrapS=n,this.wrapT=i,this.magFilter=r,this.minFilter=o,this.anisotropy=l,this.format=s,this.internalFormat=null,this.type=a,this.offset=new Yn(0,0),this.repeat=new Yn(1,1),this.center=new Yn(0,0),this.rotation=0,this.matrixAutoUpdate=!0,this.matrix=new Jn,this.generateMipmaps=!0,this.premultiplyAlpha=!1,this.flipY=!0,this.unpackAlignment=4,this.encoding=c,this.version=0,this.onUpdate=null}function ei(e){return"undefined"!==typeof HTMLImageElement&&e instanceof HTMLImageElement||"undefined"!==typeof HTMLCanvasElement&&e instanceof HTMLCanvasElement||"undefined"!==typeof ImageBitmap&&e instanceof ImageBitmap?Kn.getDataURL(e):e.data?{data:Array.prototype.slice.call(e.data),width:e.width,height:e.height,type:e.data.constructor.name}:(console.warn("THREE.Texture: Unable to serialize Texture."),{})}$n.DEFAULT_IMAGE=void 0,$n.DEFAULT_MAPPING=de,$n.prototype=Object.assign(Object.create(Vn.prototype),{constructor:$n,isTexture:!0,updateMatrix:function(){this.matrix.setUvTransform(this.offset.x,this.offset.y,this.repeat.x,this.repeat.y,this.rotation,this.center.x,this.center.y)},clone:function(){return(new this.constructor).copy(this)},copy:function(e){return this.name=e.name,this.image=e.image,this.mipmaps=e.mipmaps.slice(0),this.mapping=e.mapping,this.wrapS=e.wrapS,this.wrapT=e.wrapT,this.magFilter=e.magFilter,this.minFilter=e.minFilter,this.anisotropy=e.anisotropy,this.format=e.format,this.internalFormat=e.internalFormat,this.type=e.type,this.offset.copy(e.offset),this.repeat.copy(e.repeat),this.center.copy(e.center),this.rotation=e.rotation,this.matrixAutoUpdate=e.matrixAutoUpdate,this.matrix.copy(e.matrix),this.generateMipmaps=e.generateMipmaps,this.premultiplyAlpha=e.premultiplyAlpha,this.flipY=e.flipY,this.unpackAlignment=e.unpackAlignment,this.encoding=e.encoding,this},toJSON:function(e){const t=void 0===e||"string"===typeof e;if(!t&&void 0!==e.textures[this.uuid])return e.textures[this.uuid];const n={metadata:{version:4.5,type:"Texture",generator:"Texture.toJSON"},uuid:this.uuid,name:this.name,mapping:this.mapping,repeat:[this.repeat.x,this.repeat.y],offset:[this.offset.x,this.offset.y],center:[this.center.x,this.center.y],rotation:this.rotation,wrap:[this.wrapS,this.wrapT],format:this.format,type:this.type,encoding:this.encoding,minFilter:this.minFilter,magFilter:this.magFilter,anisotropy:this.anisotropy,flipY:this.flipY,premultiplyAlpha:this.premultiplyAlpha,unpackAlignment:this.unpackAlignment};if(void 0!==this.image){const i=this.image;if(void 0===i.uuid&&(i.uuid=Xn.generateUUID()),!t&&void 0===e.images[i.uuid]){let t;if(Array.isArray(i)){t=[];for(let e=0,n=i.length;e<n;e++)i[e].isDataTexture?t.push(ei(i[e].image)):t.push(ei(i[e]))}else t=ei(i);e.images[i.uuid]={uuid:i.uuid,url:t}}n.image=i.uuid}return t||(e.textures[this.uuid]=n),n},dispose:function(){this.dispatchEvent({type:"dispose"})},transformUv:function(e){if(this.mapping!==de)return e;if(e.applyMatrix3(this.matrix),e.x<0||e.x>1)switch(this.wrapS){case xe:e.x=e.x-Math.floor(e.x);break;case be:e.x=e.x<0?0:1;break;case we:1===Math.abs(Math.floor(e.x)%2)?e.x=Math.ceil(e.x)-e.x:e.x=e.x-Math.floor(e.x)}if(e.y<0||e.y>1)switch(this.wrapT){case xe:e.y=e.y-Math.floor(e.y);break;case be:e.y=e.y<0?0:1;break;case we:1===Math.abs(Math.floor(e.y)%2)?e.y=Math.ceil(e.y)-e.y:e.y=e.y-Math.floor(e.y)}return this.flipY&&(e.y=1-e.y),e}}),Object.defineProperty($n.prototype,"needsUpdate",{set:function(e){!0===e&&this.version++}});class ti{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1;Object.defineProperty(this,"isVector4",{value:!0}),this.x=e,this.y=t,this.z=n,this.w=i}get width(){return this.z}set width(e){this.z=e}get height(){return this.w}set height(e){this.w=e}set(e,t,n,i){return this.x=e,this.y=t,this.z=n,this.w=i,this}setScalar(e){return this.x=e,this.y=e,this.z=e,this.w=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setZ(e){return this.z=e,this}setW(e){return this.w=e,this}setComponent(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;case 2:this.z=t;break;case 3:this.w=t;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;case 3:return this.w;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y,this.z,this.w)}copy(e){return this.x=e.x,this.y=e.y,this.z=e.z,this.w=void 0!==e.w?e.w:1,this}add(e,t){return void 0!==t?(console.warn("THREE.Vector4: .add() now only accepts one argument. Use .addVectors( a, b ) instead."),this.addVectors(e,t)):(this.x+=e.x,this.y+=e.y,this.z+=e.z,this.w+=e.w,this)}addScalar(e){return this.x+=e,this.y+=e,this.z+=e,this.w+=e,this}addVectors(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this.z=e.z+t.z,this.w=e.w+t.w,this}addScaledVector(e,t){return this.x+=e.x*t,this.y+=e.y*t,this.z+=e.z*t,this.w+=e.w*t,this}sub(e,t){return void 0!==t?(console.warn("THREE.Vector4: .sub() now only accepts one argument. Use .subVectors( a, b ) instead."),this.subVectors(e,t)):(this.x-=e.x,this.y-=e.y,this.z-=e.z,this.w-=e.w,this)}subScalar(e){return this.x-=e,this.y-=e,this.z-=e,this.w-=e,this}subVectors(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this.z=e.z-t.z,this.w=e.w-t.w,this}multiplyScalar(e){return this.x*=e,this.y*=e,this.z*=e,this.w*=e,this}applyMatrix4(e){const t=this.x,n=this.y,i=this.z,r=this.w,o=e.elements;return this.x=o[0]*t+o[4]*n+o[8]*i+o[12]*r,this.y=o[1]*t+o[5]*n+o[9]*i+o[13]*r,this.z=o[2]*t+o[6]*n+o[10]*i+o[14]*r,this.w=o[3]*t+o[7]*n+o[11]*i+o[15]*r,this}divideScalar(e){return this.multiplyScalar(1/e)}setAxisAngleFromQuaternion(e){this.w=2*Math.acos(e.w);const t=Math.sqrt(1-e.w*e.w);return t<1e-4?(this.x=1,this.y=0,this.z=0):(this.x=e.x/t,this.y=e.y/t,this.z=e.z/t),this}setAxisAngleFromRotationMatrix(e){let t,n,i,r;const o=.01,s=.1,a=e.elements,l=a[0],c=a[4],u=a[8],h=a[1],d=a[5],p=a[9],f=a[2],m=a[6],g=a[10];if(Math.abs(c-h)<o&&Math.abs(u-f)<o&&Math.abs(p-m)<o){if(Math.abs(c+h)<s&&Math.abs(u+f)<s&&Math.abs(p+m)<s&&Math.abs(l+d+g-3)<s)return this.set(1,0,0,0),this;t=Math.PI;const e=(l+1)/2,a=(d+1)/2,v=(g+1)/2,y=(c+h)/4,x=(u+f)/4,b=(p+m)/4;return e>a&&e>v?e<o?(n=0,i=.707106781,r=.707106781):(n=Math.sqrt(e),i=y/n,r=x/n):a>v?a<o?(n=.707106781,i=0,r=.707106781):(i=Math.sqrt(a),n=y/i,r=b/i):v<o?(n=.707106781,i=.707106781,r=0):(r=Math.sqrt(v),n=x/r,i=b/r),this.set(n,i,r,t),this}let v=Math.sqrt((m-p)*(m-p)+(u-f)*(u-f)+(h-c)*(h-c));return Math.abs(v)<.001&&(v=1),this.x=(m-p)/v,this.y=(u-f)/v,this.z=(h-c)/v,this.w=Math.acos((l+d+g-1)/2),this}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this.z=Math.min(this.z,e.z),this.w=Math.min(this.w,e.w),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this.z=Math.max(this.z,e.z),this.w=Math.max(this.w,e.w),this}clamp(e,t){return this.x=Math.max(e.x,Math.min(t.x,this.x)),this.y=Math.max(e.y,Math.min(t.y,this.y)),this.z=Math.max(e.z,Math.min(t.z,this.z)),this.w=Math.max(e.w,Math.min(t.w,this.w)),this}clampScalar(e,t){return this.x=Math.max(e,Math.min(t,this.x)),this.y=Math.max(e,Math.min(t,this.y)),this.z=Math.max(e,Math.min(t,this.z)),this.w=Math.max(e,Math.min(t,this.w)),this}clampLength(e,t){const n=this.length();return this.divideScalar(n||1).multiplyScalar(Math.max(e,Math.min(t,n)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this.w=Math.floor(this.w),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this.w=Math.ceil(this.w),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this.w=Math.round(this.w),this}roundToZero(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this.z=this.z<0?Math.ceil(this.z):Math.floor(this.z),this.w=this.w<0?Math.ceil(this.w):Math.floor(this.w),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this.w=-this.w,this}dot(e){return this.x*e.x+this.y*e.y+this.z*e.z+this.w*e.w}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)+Math.abs(this.w)}normalize(){return this.divideScalar(this.length()||1)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this.z+=(e.z-this.z)*t,this.w+=(e.w-this.w)*t,this}lerpVectors(e,t,n){return this.x=e.x+(t.x-e.x)*n,this.y=e.y+(t.y-e.y)*n,this.z=e.z+(t.z-e.z)*n,this.w=e.w+(t.w-e.w)*n,this}equals(e){return e.x===this.x&&e.y===this.y&&e.z===this.z&&e.w===this.w}fromArray(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return this.x=e[t],this.y=e[t+1],this.z=e[t+2],this.w=e[t+3],this}toArray(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return e[t]=this.x,e[t+1]=this.y,e[t+2]=this.z,e[t+3]=this.w,e}fromBufferAttribute(e,t,n){return void 0!==n&&console.warn("THREE.Vector4: offset has been removed from .fromBufferAttribute()."),this.x=e.getX(t),this.y=e.getY(t),this.z=e.getZ(t),this.w=e.getW(t),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this.w=Math.random(),this}}function ni(e,t,n){this.width=e,this.height=t,this.scissor=new ti(0,0,e,t),this.scissorTest=!1,this.viewport=new ti(0,0,e,t),n=n||{},this.texture=new $n(void 0,n.mapping,n.wrapS,n.wrapT,n.magFilter,n.minFilter,n.format,n.type,n.anisotropy,n.encoding),this.texture.image={},this.texture.image.width=e,this.texture.image.height=t,this.texture.generateMipmaps=void 0!==n.generateMipmaps&&n.generateMipmaps,this.texture.minFilter=void 0!==n.minFilter?n.minFilter:Ae,this.depthBuffer=void 0===n.depthBuffer||n.depthBuffer,this.stencilBuffer=void 0!==n.stencilBuffer&&n.stencilBuffer,this.depthTexture=void 0!==n.depthTexture?n.depthTexture:null}function ii(e,t,n){ni.call(this,e,t,n),this.samples=4}ni.prototype=Object.assign(Object.create(Vn.prototype),{constructor:ni,isWebGLRenderTarget:!0,setSize:function(e,t){this.width===e&&this.height===t||(this.width=e,this.height=t,this.texture.image.width=e,this.texture.image.height=t,this.dispose()),this.viewport.set(0,0,e,t),this.scissor.set(0,0,e,t)},clone:function(){return(new this.constructor).copy(this)},copy:function(e){return this.width=e.width,this.height=e.height,this.viewport.copy(e.viewport),this.texture=e.texture.clone(),this.depthBuffer=e.depthBuffer,this.stencilBuffer=e.stencilBuffer,this.depthTexture=e.depthTexture,this},dispose:function(){this.dispatchEvent({type:"dispose"})}}),ii.prototype=Object.assign(Object.create(ni.prototype),{constructor:ii,isWebGLMultisampleRenderTarget:!0,copy:function(e){return ni.prototype.copy.call(this,e),this.samples=e.samples,this}});class ri{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1;Object.defineProperty(this,"isQuaternion",{value:!0}),this._x=e,this._y=t,this._z=n,this._w=i}static slerp(e,t,n,i){return n.copy(e).slerp(t,i)}static slerpFlat(e,t,n,i,r,o,s){let a=n[i+0],l=n[i+1],c=n[i+2],u=n[i+3];const h=r[o+0],d=r[o+1],p=r[o+2],f=r[o+3];if(u!==f||a!==h||l!==d||c!==p){let e=1-s;const t=a*h+l*d+c*p+u*f,n=t>=0?1:-1,i=1-t*t;if(i>Number.EPSILON){const r=Math.sqrt(i),o=Math.atan2(r,t*n);e=Math.sin(e*o)/r,s=Math.sin(s*o)/r}const r=s*n;if(a=a*e+h*r,l=l*e+d*r,c=c*e+p*r,u=u*e+f*r,e===1-s){const e=1/Math.sqrt(a*a+l*l+c*c+u*u);a*=e,l*=e,c*=e,u*=e}}e[t]=a,e[t+1]=l,e[t+2]=c,e[t+3]=u}static multiplyQuaternionsFlat(e,t,n,i,r,o){const s=n[i],a=n[i+1],l=n[i+2],c=n[i+3],u=r[o],h=r[o+1],d=r[o+2],p=r[o+3];return e[t]=s*p+c*u+a*d-l*h,e[t+1]=a*p+c*h+l*u-s*d,e[t+2]=l*p+c*d+s*h-a*u,e[t+3]=c*p-s*u-a*h-l*d,e}get x(){return this._x}set x(e){this._x=e,this._onChangeCallback()}get y(){return this._y}set y(e){this._y=e,this._onChangeCallback()}get z(){return this._z}set z(e){this._z=e,this._onChangeCallback()}get w(){return this._w}set w(e){this._w=e,this._onChangeCallback()}set(e,t,n,i){return this._x=e,this._y=t,this._z=n,this._w=i,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._w)}copy(e){return this._x=e.x,this._y=e.y,this._z=e.z,this._w=e.w,this._onChangeCallback(),this}setFromEuler(e,t){if(!e||!e.isEuler)throw new Error("THREE.Quaternion: .setFromEuler() now expects an Euler rotation rather than a Vector3 and order.");const n=e._x,i=e._y,r=e._z,o=e._order,s=Math.cos,a=Math.sin,l=s(n/2),c=s(i/2),u=s(r/2),h=a(n/2),d=a(i/2),p=a(r/2);switch(o){case"XYZ":this._x=h*c*u+l*d*p,this._y=l*d*u-h*c*p,this._z=l*c*p+h*d*u,this._w=l*c*u-h*d*p;break;case"YXZ":this._x=h*c*u+l*d*p,this._y=l*d*u-h*c*p,this._z=l*c*p-h*d*u,this._w=l*c*u+h*d*p;break;case"ZXY":this._x=h*c*u-l*d*p,this._y=l*d*u+h*c*p,this._z=l*c*p+h*d*u,this._w=l*c*u-h*d*p;break;case"ZYX":this._x=h*c*u-l*d*p,this._y=l*d*u+h*c*p,this._z=l*c*p-h*d*u,this._w=l*c*u+h*d*p;break;case"YZX":this._x=h*c*u+l*d*p,this._y=l*d*u+h*c*p,this._z=l*c*p-h*d*u,this._w=l*c*u-h*d*p;break;case"XZY":this._x=h*c*u-l*d*p,this._y=l*d*u-h*c*p,this._z=l*c*p+h*d*u,this._w=l*c*u+h*d*p;break;default:console.warn("THREE.Quaternion: .setFromEuler() encountered an unknown order: "+o)}return!1!==t&&this._onChangeCallback(),this}setFromAxisAngle(e,t){const n=t/2,i=Math.sin(n);return this._x=e.x*i,this._y=e.y*i,this._z=e.z*i,this._w=Math.cos(n),this._onChangeCallback(),this}setFromRotationMatrix(e){const t=e.elements,n=t[0],i=t[4],r=t[8],o=t[1],s=t[5],a=t[9],l=t[2],c=t[6],u=t[10],h=n+s+u;if(h>0){const e=.5/Math.sqrt(h+1);this._w=.25/e,this._x=(c-a)*e,this._y=(r-l)*e,this._z=(o-i)*e}else if(n>s&&n>u){const e=2*Math.sqrt(1+n-s-u);this._w=(c-a)/e,this._x=.25*e,this._y=(i+o)/e,this._z=(r+l)/e}else if(s>u){const e=2*Math.sqrt(1+s-n-u);this._w=(r-l)/e,this._x=(i+o)/e,this._y=.25*e,this._z=(a+c)/e}else{const e=2*Math.sqrt(1+u-n-s);this._w=(o-i)/e,this._x=(r+l)/e,this._y=(a+c)/e,this._z=.25*e}return this._onChangeCallback(),this}setFromUnitVectors(e,t){let n=e.dot(t)+1;return n<1e-6?(n=0,Math.abs(e.x)>Math.abs(e.z)?(this._x=-e.y,this._y=e.x,this._z=0,this._w=n):(this._x=0,this._y=-e.z,this._z=e.y,this._w=n)):(this._x=e.y*t.z-e.z*t.y,this._y=e.z*t.x-e.x*t.z,this._z=e.x*t.y-e.y*t.x,this._w=n),this.normalize()}angleTo(e){return 2*Math.acos(Math.abs(Xn.clamp(this.dot(e),-1,1)))}rotateTowards(e,t){const n=this.angleTo(e);if(0===n)return this;const i=Math.min(1,t/n);return this.slerp(e,i),this}identity(){return this.set(0,0,0,1)}invert(){return this.conjugate()}conjugate(){return this._x*=-1,this._y*=-1,this._z*=-1,this._onChangeCallback(),this}dot(e){return this._x*e._x+this._y*e._y+this._z*e._z+this._w*e._w}lengthSq(){return this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w}length(){return Math.sqrt(this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w)}normalize(){let e=this.length();return 0===e?(this._x=0,this._y=0,this._z=0,this._w=1):(e=1/e,this._x=this._x*e,this._y=this._y*e,this._z=this._z*e,this._w=this._w*e),this._onChangeCallback(),this}multiply(e,t){return void 0!==t?(console.warn("THREE.Quaternion: .multiply() now only accepts one argument. Use .multiplyQuaternions( a, b ) instead."),this.multiplyQuaternions(e,t)):this.multiplyQuaternions(this,e)}premultiply(e){return this.multiplyQuaternions(e,this)}multiplyQuaternions(e,t){const n=e._x,i=e._y,r=e._z,o=e._w,s=t._x,a=t._y,l=t._z,c=t._w;return this._x=n*c+o*s+i*l-r*a,this._y=i*c+o*a+r*s-n*l,this._z=r*c+o*l+n*a-i*s,this._w=o*c-n*s-i*a-r*l,this._onChangeCallback(),this}slerp(e,t){if(0===t)return this;if(1===t)return this.copy(e);const n=this._x,i=this._y,r=this._z,o=this._w;let s=o*e._w+n*e._x+i*e._y+r*e._z;if(s<0?(this._w=-e._w,this._x=-e._x,this._y=-e._y,this._z=-e._z,s=-s):this.copy(e),s>=1)return this._w=o,this._x=n,this._y=i,this._z=r,this;const a=1-s*s;if(a<=Number.EPSILON){const e=1-t;return this._w=e*o+t*this._w,this._x=e*n+t*this._x,this._y=e*i+t*this._y,this._z=e*r+t*this._z,this.normalize(),this._onChangeCallback(),this}const l=Math.sqrt(a),c=Math.atan2(l,s),u=Math.sin((1-t)*c)/l,h=Math.sin(t*c)/l;return this._w=o*u+this._w*h,this._x=n*u+this._x*h,this._y=i*u+this._y*h,this._z=r*u+this._z*h,this._onChangeCallback(),this}equals(e){return e._x===this._x&&e._y===this._y&&e._z===this._z&&e._w===this._w}fromArray(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return this._x=e[t],this._y=e[t+1],this._z=e[t+2],this._w=e[t+3],this._onChangeCallback(),this}toArray(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return e[t]=this._x,e[t+1]=this._y,e[t+2]=this._z,e[t+3]=this._w,e}fromBufferAttribute(e,t){return this._x=e.getX(t),this._y=e.getY(t),this._z=e.getZ(t),this._w=e.getW(t),this}_onChange(e){return this._onChangeCallback=e,this}_onChangeCallback(){}}class oi{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;Object.defineProperty(this,"isVector3",{value:!0}),this.x=e,this.y=t,this.z=n}set(e,t,n){return void 0===n&&(n=this.z),this.x=e,this.y=t,this.z=n,this}setScalar(e){return this.x=e,this.y=e,this.z=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setZ(e){return this.z=e,this}setComponent(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;case 2:this.z=t;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y,this.z)}copy(e){return this.x=e.x,this.y=e.y,this.z=e.z,this}add(e,t){return void 0!==t?(console.warn("THREE.Vector3: .add() now only accepts one argument. Use .addVectors( a, b ) instead."),this.addVectors(e,t)):(this.x+=e.x,this.y+=e.y,this.z+=e.z,this)}addScalar(e){return this.x+=e,this.y+=e,this.z+=e,this}addVectors(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this.z=e.z+t.z,this}addScaledVector(e,t){return this.x+=e.x*t,this.y+=e.y*t,this.z+=e.z*t,this}sub(e,t){return void 0!==t?(console.warn("THREE.Vector3: .sub() now only accepts one argument. Use .subVectors( a, b ) instead."),this.subVectors(e,t)):(this.x-=e.x,this.y-=e.y,this.z-=e.z,this)}subScalar(e){return this.x-=e,this.y-=e,this.z-=e,this}subVectors(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this.z=e.z-t.z,this}multiply(e,t){return void 0!==t?(console.warn("THREE.Vector3: .multiply() now only accepts one argument. Use .multiplyVectors( a, b ) instead."),this.multiplyVectors(e,t)):(this.x*=e.x,this.y*=e.y,this.z*=e.z,this)}multiplyScalar(e){return this.x*=e,this.y*=e,this.z*=e,this}multiplyVectors(e,t){return this.x=e.x*t.x,this.y=e.y*t.y,this.z=e.z*t.z,this}applyEuler(e){return e&&e.isEuler||console.error("THREE.Vector3: .applyEuler() now expects an Euler rotation rather than a Vector3 and order."),this.applyQuaternion(ai.setFromEuler(e))}applyAxisAngle(e,t){return this.applyQuaternion(ai.setFromAxisAngle(e,t))}applyMatrix3(e){const t=this.x,n=this.y,i=this.z,r=e.elements;return this.x=r[0]*t+r[3]*n+r[6]*i,this.y=r[1]*t+r[4]*n+r[7]*i,this.z=r[2]*t+r[5]*n+r[8]*i,this}applyNormalMatrix(e){return this.applyMatrix3(e).normalize()}applyMatrix4(e){const t=this.x,n=this.y,i=this.z,r=e.elements,o=1/(r[3]*t+r[7]*n+r[11]*i+r[15]);return this.x=(r[0]*t+r[4]*n+r[8]*i+r[12])*o,this.y=(r[1]*t+r[5]*n+r[9]*i+r[13])*o,this.z=(r[2]*t+r[6]*n+r[10]*i+r[14])*o,this}applyQuaternion(e){const t=this.x,n=this.y,i=this.z,r=e.x,o=e.y,s=e.z,a=e.w,l=a*t+o*i-s*n,c=a*n+s*t-r*i,u=a*i+r*n-o*t,h=-r*t-o*n-s*i;return this.x=l*a+h*-r+c*-s-u*-o,this.y=c*a+h*-o+u*-r-l*-s,this.z=u*a+h*-s+l*-o-c*-r,this}project(e){return this.applyMatrix4(e.matrixWorldInverse).applyMatrix4(e.projectionMatrix)}unproject(e){return this.applyMatrix4(e.projectionMatrixInverse).applyMatrix4(e.matrixWorld)}transformDirection(e){const t=this.x,n=this.y,i=this.z,r=e.elements;return this.x=r[0]*t+r[4]*n+r[8]*i,this.y=r[1]*t+r[5]*n+r[9]*i,this.z=r[2]*t+r[6]*n+r[10]*i,this.normalize()}divide(e){return this.x/=e.x,this.y/=e.y,this.z/=e.z,this}divideScalar(e){return this.multiplyScalar(1/e)}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this.z=Math.min(this.z,e.z),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this.z=Math.max(this.z,e.z),this}clamp(e,t){return this.x=Math.max(e.x,Math.min(t.x,this.x)),this.y=Math.max(e.y,Math.min(t.y,this.y)),this.z=Math.max(e.z,Math.min(t.z,this.z)),this}clampScalar(e,t){return this.x=Math.max(e,Math.min(t,this.x)),this.y=Math.max(e,Math.min(t,this.y)),this.z=Math.max(e,Math.min(t,this.z)),this}clampLength(e,t){const n=this.length();return this.divideScalar(n||1).multiplyScalar(Math.max(e,Math.min(t,n)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this}roundToZero(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this.z=this.z<0?Math.ceil(this.z):Math.floor(this.z),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this}dot(e){return this.x*e.x+this.y*e.y+this.z*e.z}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)}normalize(){return this.divideScalar(this.length()||1)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this.z+=(e.z-this.z)*t,this}lerpVectors(e,t,n){return this.x=e.x+(t.x-e.x)*n,this.y=e.y+(t.y-e.y)*n,this.z=e.z+(t.z-e.z)*n,this}cross(e,t){return void 0!==t?(console.warn("THREE.Vector3: .cross() now only accepts one argument. Use .crossVectors( a, b ) instead."),this.crossVectors(e,t)):this.crossVectors(this,e)}crossVectors(e,t){const n=e.x,i=e.y,r=e.z,o=t.x,s=t.y,a=t.z;return this.x=i*a-r*s,this.y=r*o-n*a,this.z=n*s-i*o,this}projectOnVector(e){const t=e.lengthSq();if(0===t)return this.set(0,0,0);const n=e.dot(this)/t;return this.copy(e).multiplyScalar(n)}projectOnPlane(e){return si.copy(this).projectOnVector(e),this.sub(si)}reflect(e){return this.sub(si.copy(e).multiplyScalar(2*this.dot(e)))}angleTo(e){const t=Math.sqrt(this.lengthSq()*e.lengthSq());if(0===t)return Math.PI/2;const n=this.dot(e)/t;return Math.acos(Xn.clamp(n,-1,1))}distanceTo(e){return Math.sqrt(this.distanceToSquared(e))}distanceToSquared(e){const t=this.x-e.x,n=this.y-e.y,i=this.z-e.z;return t*t+n*n+i*i}manhattanDistanceTo(e){return Math.abs(this.x-e.x)+Math.abs(this.y-e.y)+Math.abs(this.z-e.z)}setFromSpherical(e){return this.setFromSphericalCoords(e.radius,e.phi,e.theta)}setFromSphericalCoords(e,t,n){const i=Math.sin(t)*e;return this.x=i*Math.sin(n),this.y=Math.cos(t)*e,this.z=i*Math.cos(n),this}setFromCylindrical(e){return this.setFromCylindricalCoords(e.radius,e.theta,e.y)}setFromCylindricalCoords(e,t,n){return this.x=e*Math.sin(t),this.y=n,this.z=e*Math.cos(t),this}setFromMatrixPosition(e){const t=e.elements;return this.x=t[12],this.y=t[13],this.z=t[14],this}setFromMatrixScale(e){const t=this.setFromMatrixColumn(e,0).length(),n=this.setFromMatrixColumn(e,1).length(),i=this.setFromMatrixColumn(e,2).length();return this.x=t,this.y=n,this.z=i,this}setFromMatrixColumn(e,t){return this.fromArray(e.elements,4*t)}setFromMatrix3Column(e,t){return this.fromArray(e.elements,3*t)}equals(e){return e.x===this.x&&e.y===this.y&&e.z===this.z}fromArray(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return this.x=e[t],this.y=e[t+1],this.z=e[t+2],this}toArray(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return e[t]=this.x,e[t+1]=this.y,e[t+2]=this.z,e}fromBufferAttribute(e,t,n){return void 0!==n&&console.warn("THREE.Vector3: offset has been removed from .fromBufferAttribute()."),this.x=e.getX(t),this.y=e.getY(t),this.z=e.getZ(t),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this}}const si=new oi,ai=new ri;class li{constructor(e,t){Object.defineProperty(this,"isBox3",{value:!0}),this.min=void 0!==e?e:new oi(1/0,1/0,1/0),this.max=void 0!==t?t:new oi(-1/0,-1/0,-1/0)}set(e,t){return this.min.copy(e),this.max.copy(t),this}setFromArray(e){let t=1/0,n=1/0,i=1/0,r=-1/0,o=-1/0,s=-1/0;for(let a=0,l=e.length;a<l;a+=3){const l=e[a],c=e[a+1],u=e[a+2];l<t&&(t=l),c<n&&(n=c),u<i&&(i=u),l>r&&(r=l),c>o&&(o=c),u>s&&(s=u)}return this.min.set(t,n,i),this.max.set(r,o,s),this}setFromBufferAttribute(e){let t=1/0,n=1/0,i=1/0,r=-1/0,o=-1/0,s=-1/0;for(let a=0,l=e.count;a<l;a++){const l=e.getX(a),c=e.getY(a),u=e.getZ(a);l<t&&(t=l),c<n&&(n=c),u<i&&(i=u),l>r&&(r=l),c>o&&(o=c),u>s&&(s=u)}return this.min.set(t,n,i),this.max.set(r,o,s),this}setFromPoints(e){this.makeEmpty();for(let t=0,n=e.length;t<n;t++)this.expandByPoint(e[t]);return this}setFromCenterAndSize(e,t){const n=hi.copy(t).multiplyScalar(.5);return this.min.copy(e).sub(n),this.max.copy(e).add(n),this}setFromObject(e){return this.makeEmpty(),this.expandByObject(e)}clone(){return(new this.constructor).copy(this)}copy(e){return this.min.copy(e.min),this.max.copy(e.max),this}makeEmpty(){return this.min.x=this.min.y=this.min.z=1/0,this.max.x=this.max.y=this.max.z=-1/0,this}isEmpty(){return this.max.x<this.min.x||this.max.y<this.min.y||this.max.z<this.min.z}getCenter(e){return void 0===e&&(console.warn("THREE.Box3: .getCenter() target is now required"),e=new oi),this.isEmpty()?e.set(0,0,0):e.addVectors(this.min,this.max).multiplyScalar(.5)}getSize(e){return void 0===e&&(console.warn("THREE.Box3: .getSize() target is now required"),e=new oi),this.isEmpty()?e.set(0,0,0):e.subVectors(this.max,this.min)}expandByPoint(e){return this.min.min(e),this.max.max(e),this}expandByVector(e){return this.min.sub(e),this.max.add(e),this}expandByScalar(e){return this.min.addScalar(-e),this.max.addScalar(e),this}expandByObject(e){e.updateWorldMatrix(!1,!1);const t=e.geometry;void 0!==t&&(null===t.boundingBox&&t.computeBoundingBox(),di.copy(t.boundingBox),di.applyMatrix4(e.matrixWorld),this.union(di));const n=e.children;for(let i=0,r=n.length;i<r;i++)this.expandByObject(n[i]);return this}containsPoint(e){return!(e.x<this.min.x||e.x>this.max.x||e.y<this.min.y||e.y>this.max.y||e.z<this.min.z||e.z>this.max.z)}containsBox(e){return this.min.x<=e.min.x&&e.max.x<=this.max.x&&this.min.y<=e.min.y&&e.max.y<=this.max.y&&this.min.z<=e.min.z&&e.max.z<=this.max.z}getParameter(e,t){return void 0===t&&(console.warn("THREE.Box3: .getParameter() target is now required"),t=new oi),t.set((e.x-this.min.x)/(this.max.x-this.min.x),(e.y-this.min.y)/(this.max.y-this.min.y),(e.z-this.min.z)/(this.max.z-this.min.z))}intersectsBox(e){return!(e.max.x<this.min.x||e.min.x>this.max.x||e.max.y<this.min.y||e.min.y>this.max.y||e.max.z<this.min.z||e.min.z>this.max.z)}intersectsSphere(e){return this.clampPoint(e.center,hi),hi.distanceToSquared(e.center)<=e.radius*e.radius}intersectsPlane(e){let t,n;return e.normal.x>0?(t=e.normal.x*this.min.x,n=e.normal.x*this.max.x):(t=e.normal.x*this.max.x,n=e.normal.x*this.min.x),e.normal.y>0?(t+=e.normal.y*this.min.y,n+=e.normal.y*this.max.y):(t+=e.normal.y*this.max.y,n+=e.normal.y*this.min.y),e.normal.z>0?(t+=e.normal.z*this.min.z,n+=e.normal.z*this.max.z):(t+=e.normal.z*this.max.z,n+=e.normal.z*this.min.z),t<=-e.constant&&n>=-e.constant}intersectsTriangle(e){if(this.isEmpty())return!1;this.getCenter(xi),bi.subVectors(this.max,xi),pi.subVectors(e.a,xi),fi.subVectors(e.b,xi),mi.subVectors(e.c,xi),gi.subVectors(fi,pi),vi.subVectors(mi,fi),yi.subVectors(pi,mi);let t=[0,-gi.z,gi.y,0,-vi.z,vi.y,0,-yi.z,yi.y,gi.z,0,-gi.x,vi.z,0,-vi.x,yi.z,0,-yi.x,-gi.y,gi.x,0,-vi.y,vi.x,0,-yi.y,yi.x,0];return!!ci(t,pi,fi,mi,bi)&&(t=[1,0,0,0,1,0,0,0,1],!!ci(t,pi,fi,mi,bi)&&(wi.crossVectors(gi,vi),t=[wi.x,wi.y,wi.z],ci(t,pi,fi,mi,bi)))}clampPoint(e,t){return void 0===t&&(console.warn("THREE.Box3: .clampPoint() target is now required"),t=new oi),t.copy(e).clamp(this.min,this.max)}distanceToPoint(e){return hi.copy(e).clamp(this.min,this.max).sub(e).length()}getBoundingSphere(e){return void 0===e&&console.error("THREE.Box3: .getBoundingSphere() target is now required"),this.getCenter(e.center),e.radius=.5*this.getSize(hi).length(),e}intersect(e){return this.min.max(e.min),this.max.min(e.max),this.isEmpty()&&this.makeEmpty(),this}union(e){return this.min.min(e.min),this.max.max(e.max),this}applyMatrix4(e){return this.isEmpty()||(ui[0].set(this.min.x,this.min.y,this.min.z).applyMatrix4(e),ui[1].set(this.min.x,this.min.y,this.max.z).applyMatrix4(e),ui[2].set(this.min.x,this.max.y,this.min.z).applyMatrix4(e),ui[3].set(this.min.x,this.max.y,this.max.z).applyMatrix4(e),ui[4].set(this.max.x,this.min.y,this.min.z).applyMatrix4(e),ui[5].set(this.max.x,this.min.y,this.max.z).applyMatrix4(e),ui[6].set(this.max.x,this.max.y,this.min.z).applyMatrix4(e),ui[7].set(this.max.x,this.max.y,this.max.z).applyMatrix4(e),this.setFromPoints(ui)),this}translate(e){return this.min.add(e),this.max.add(e),this}equals(e){return e.min.equals(this.min)&&e.max.equals(this.max)}}function ci(e,t,n,i,r){for(let o=0,s=e.length-3;o<=s;o+=3){_i.fromArray(e,o);const s=r.x*Math.abs(_i.x)+r.y*Math.abs(_i.y)+r.z*Math.abs(_i.z),a=t.dot(_i),l=n.dot(_i),c=i.dot(_i);if(Math.max(-Math.max(a,l,c),Math.min(a,l,c))>s)return!1}return!0}const ui=[new oi,new oi,new oi,new oi,new oi,new oi,new oi,new oi],hi=new oi,di=new li,pi=new oi,fi=new oi,mi=new oi,gi=new oi,vi=new oi,yi=new oi,xi=new oi,bi=new oi,wi=new oi,_i=new oi,Si=new li;class Mi{constructor(e,t){this.center=void 0!==e?e:new oi,this.radius=void 0!==t?t:-1}set(e,t){return this.center.copy(e),this.radius=t,this}setFromPoints(e,t){const n=this.center;void 0!==t?n.copy(t):Si.setFromPoints(e).getCenter(n);let i=0;for(let r=0,o=e.length;r<o;r++)i=Math.max(i,n.distanceToSquared(e[r]));return this.radius=Math.sqrt(i),this}clone(){return(new this.constructor).copy(this)}copy(e){return this.center.copy(e.center),this.radius=e.radius,this}isEmpty(){return this.radius<0}makeEmpty(){return this.center.set(0,0,0),this.radius=-1,this}containsPoint(e){return e.distanceToSquared(this.center)<=this.radius*this.radius}distanceToPoint(e){return e.distanceTo(this.center)-this.radius}intersectsSphere(e){const t=this.radius+e.radius;return e.center.distanceToSquared(this.center)<=t*t}intersectsBox(e){return e.intersectsSphere(this)}intersectsPlane(e){return Math.abs(e.distanceToPoint(this.center))<=this.radius}clampPoint(e,t){const n=this.center.distanceToSquared(e);return void 0===t&&(console.warn("THREE.Sphere: .clampPoint() target is now required"),t=new oi),t.copy(e),n>this.radius*this.radius&&(t.sub(this.center).normalize(),t.multiplyScalar(this.radius).add(this.center)),t}getBoundingBox(e){return void 0===e&&(console.warn("THREE.Sphere: .getBoundingBox() target is now required"),e=new li),this.isEmpty()?(e.makeEmpty(),e):(e.set(this.center,this.center),e.expandByScalar(this.radius),e)}applyMatrix4(e){return this.center.applyMatrix4(e),this.radius=this.radius*e.getMaxScaleOnAxis(),this}translate(e){return this.center.add(e),this}equals(e){return e.center.equals(this.center)&&e.radius===this.radius}}const Ei=new oi,Ti=new oi,Ai=new oi,Ci=new oi,Ri=new oi,Li=new oi,Pi=new oi;class Ni{constructor(e,t){this.origin=void 0!==e?e:new oi,this.direction=void 0!==t?t:new oi(0,0,-1)}set(e,t){return this.origin.copy(e),this.direction.copy(t),this}clone(){return(new this.constructor).copy(this)}copy(e){return this.origin.copy(e.origin),this.direction.copy(e.direction),this}at(e,t){return void 0===t&&(console.warn("THREE.Ray: .at() target is now required"),t=new oi),t.copy(this.direction).multiplyScalar(e).add(this.origin)}lookAt(e){return this.direction.copy(e).sub(this.origin).normalize(),this}recast(e){return this.origin.copy(this.at(e,Ei)),this}closestPointToPoint(e,t){void 0===t&&(console.warn("THREE.Ray: .closestPointToPoint() target is now required"),t=new oi),t.subVectors(e,this.origin);const n=t.dot(this.direction);return n<0?t.copy(this.origin):t.copy(this.direction).multiplyScalar(n).add(this.origin)}distanceToPoint(e){return Math.sqrt(this.distanceSqToPoint(e))}distanceSqToPoint(e){const t=Ei.subVectors(e,this.origin).dot(this.direction);return t<0?this.origin.distanceToSquared(e):(Ei.copy(this.direction).multiplyScalar(t).add(this.origin),Ei.distanceToSquared(e))}distanceSqToSegment(e,t,n,i){Ti.copy(e).add(t).multiplyScalar(.5),Ai.copy(t).sub(e).normalize(),Ci.copy(this.origin).sub(Ti);const r=.5*e.distanceTo(t),o=-this.direction.dot(Ai),s=Ci.dot(this.direction),a=-Ci.dot(Ai),l=Ci.lengthSq(),c=Math.abs(1-o*o);let u,h,d,p;if(c>0)if(u=o*a-s,h=o*s-a,p=r*c,u>=0)if(h>=-p)if(h<=p){const e=1/c;u*=e,h*=e,d=u*(u+o*h+2*s)+h*(o*u+h+2*a)+l}else h=r,u=Math.max(0,-(o*h+s)),d=-u*u+h*(h+2*a)+l;else h=-r,u=Math.max(0,-(o*h+s)),d=-u*u+h*(h+2*a)+l;else h<=-p?(u=Math.max(0,-(-o*r+s)),h=u>0?-r:Math.min(Math.max(-r,-a),r),d=-u*u+h*(h+2*a)+l):h<=p?(u=0,h=Math.min(Math.max(-r,-a),r),d=h*(h+2*a)+l):(u=Math.max(0,-(o*r+s)),h=u>0?r:Math.min(Math.max(-r,-a),r),d=-u*u+h*(h+2*a)+l);else h=o>0?-r:r,u=Math.max(0,-(o*h+s)),d=-u*u+h*(h+2*a)+l;return n&&n.copy(this.direction).multiplyScalar(u).add(this.origin),i&&i.copy(Ai).multiplyScalar(h).add(Ti),d}intersectSphere(e,t){Ei.subVectors(e.center,this.origin);const n=Ei.dot(this.direction),i=Ei.dot(Ei)-n*n,r=e.radius*e.radius;if(i>r)return null;const o=Math.sqrt(r-i),s=n-o,a=n+o;return s<0&&a<0?null:s<0?this.at(a,t):this.at(s,t)}intersectsSphere(e){return this.distanceSqToPoint(e.center)<=e.radius*e.radius}distanceToPlane(e){const t=e.normal.dot(this.direction);if(0===t)return 0===e.distanceToPoint(this.origin)?0:null;const n=-(this.origin.dot(e.normal)+e.constant)/t;return n>=0?n:null}intersectPlane(e,t){const n=this.distanceToPlane(e);return null===n?null:this.at(n,t)}intersectsPlane(e){const t=e.distanceToPoint(this.origin);if(0===t)return!0;return e.normal.dot(this.direction)*t<0}intersectBox(e,t){let n,i,r,o,s,a;const l=1/this.direction.x,c=1/this.direction.y,u=1/this.direction.z,h=this.origin;return l>=0?(n=(e.min.x-h.x)*l,i=(e.max.x-h.x)*l):(n=(e.max.x-h.x)*l,i=(e.min.x-h.x)*l),c>=0?(r=(e.min.y-h.y)*c,o=(e.max.y-h.y)*c):(r=(e.max.y-h.y)*c,o=(e.min.y-h.y)*c),n>o||r>i?null:((r>n||n!==n)&&(n=r),(o<i||i!==i)&&(i=o),u>=0?(s=(e.min.z-h.z)*u,a=(e.max.z-h.z)*u):(s=(e.max.z-h.z)*u,a=(e.min.z-h.z)*u),n>a||s>i?null:((s>n||n!==n)&&(n=s),(a<i||i!==i)&&(i=a),i<0?null:this.at(n>=0?n:i,t)))}intersectsBox(e){return null!==this.intersectBox(e,Ei)}intersectTriangle(e,t,n,i,r){Ri.subVectors(t,e),Li.subVectors(n,e),Pi.crossVectors(Ri,Li);let o,s=this.direction.dot(Pi);if(s>0){if(i)return null;o=1}else{if(!(s<0))return null;o=-1,s=-s}Ci.subVectors(this.origin,e);const a=o*this.direction.dot(Li.crossVectors(Ci,Li));if(a<0)return null;const l=o*this.direction.dot(Ri.cross(Ci));if(l<0)return null;if(a+l>s)return null;const c=-o*Ci.dot(Pi);return c<0?null:this.at(c/s,r)}applyMatrix4(e){return this.origin.applyMatrix4(e),this.direction.transformDirection(e),this}equals(e){return e.origin.equals(this.origin)&&e.direction.equals(this.direction)}}class ki{constructor(){Object.defineProperty(this,"isMatrix4",{value:!0}),this.elements=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],arguments.length>0&&console.error("THREE.Matrix4: the constructor no longer reads arguments. use .set() instead.")}set(e,t,n,i,r,o,s,a,l,c,u,h,d,p,f,m){const g=this.elements;return g[0]=e,g[4]=t,g[8]=n,g[12]=i,g[1]=r,g[5]=o,g[9]=s,g[13]=a,g[2]=l,g[6]=c,g[10]=u,g[14]=h,g[3]=d,g[7]=p,g[11]=f,g[15]=m,this}identity(){return this.set(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1),this}clone(){return(new ki).fromArray(this.elements)}copy(e){const t=this.elements,n=e.elements;return t[0]=n[0],t[1]=n[1],t[2]=n[2],t[3]=n[3],t[4]=n[4],t[5]=n[5],t[6]=n[6],t[7]=n[7],t[8]=n[8],t[9]=n[9],t[10]=n[10],t[11]=n[11],t[12]=n[12],t[13]=n[13],t[14]=n[14],t[15]=n[15],this}copyPosition(e){const t=this.elements,n=e.elements;return t[12]=n[12],t[13]=n[13],t[14]=n[14],this}extractBasis(e,t,n){return e.setFromMatrixColumn(this,0),t.setFromMatrixColumn(this,1),n.setFromMatrixColumn(this,2),this}makeBasis(e,t,n){return this.set(e.x,t.x,n.x,0,e.y,t.y,n.y,0,e.z,t.z,n.z,0,0,0,0,1),this}extractRotation(e){const t=this.elements,n=e.elements,i=1/Oi.setFromMatrixColumn(e,0).length(),r=1/Oi.setFromMatrixColumn(e,1).length(),o=1/Oi.setFromMatrixColumn(e,2).length();return t[0]=n[0]*i,t[1]=n[1]*i,t[2]=n[2]*i,t[3]=0,t[4]=n[4]*r,t[5]=n[5]*r,t[6]=n[6]*r,t[7]=0,t[8]=n[8]*o,t[9]=n[9]*o,t[10]=n[10]*o,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,this}makeRotationFromEuler(e){e&&e.isEuler||console.error("THREE.Matrix4: .makeRotationFromEuler() now expects a Euler rotation rather than a Vector3 and order.");const t=this.elements,n=e.x,i=e.y,r=e.z,o=Math.cos(n),s=Math.sin(n),a=Math.cos(i),l=Math.sin(i),c=Math.cos(r),u=Math.sin(r);if("XYZ"===e.order){const e=o*c,n=o*u,i=s*c,r=s*u;t[0]=a*c,t[4]=-a*u,t[8]=l,t[1]=n+i*l,t[5]=e-r*l,t[9]=-s*a,t[2]=r-e*l,t[6]=i+n*l,t[10]=o*a}else if("YXZ"===e.order){const e=a*c,n=a*u,i=l*c,r=l*u;t[0]=e+r*s,t[4]=i*s-n,t[8]=o*l,t[1]=o*u,t[5]=o*c,t[9]=-s,t[2]=n*s-i,t[6]=r+e*s,t[10]=o*a}else if("ZXY"===e.order){const e=a*c,n=a*u,i=l*c,r=l*u;t[0]=e-r*s,t[4]=-o*u,t[8]=i+n*s,t[1]=n+i*s,t[5]=o*c,t[9]=r-e*s,t[2]=-o*l,t[6]=s,t[10]=o*a}else if("ZYX"===e.order){const e=o*c,n=o*u,i=s*c,r=s*u;t[0]=a*c,t[4]=i*l-n,t[8]=e*l+r,t[1]=a*u,t[5]=r*l+e,t[9]=n*l-i,t[2]=-l,t[6]=s*a,t[10]=o*a}else if("YZX"===e.order){const e=o*a,n=o*l,i=s*a,r=s*l;t[0]=a*c,t[4]=r-e*u,t[8]=i*u+n,t[1]=u,t[5]=o*c,t[9]=-s*c,t[2]=-l*c,t[6]=n*u+i,t[10]=e-r*u}else if("XZY"===e.order){const e=o*a,n=o*l,i=s*a,r=s*l;t[0]=a*c,t[4]=-u,t[8]=l*c,t[1]=e*u+r,t[5]=o*c,t[9]=n*u-i,t[2]=i*u-n,t[6]=s*c,t[10]=r*u+e}return t[3]=0,t[7]=0,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,this}makeRotationFromQuaternion(e){return this.compose(ji,e,Fi)}lookAt(e,t,n){const i=this.elements;return Bi.subVectors(e,t),0===Bi.lengthSq()&&(Bi.z=1),Bi.normalize(),Ii.crossVectors(n,Bi),0===Ii.lengthSq()&&(1===Math.abs(n.z)?Bi.x+=1e-4:Bi.z+=1e-4,Bi.normalize(),Ii.crossVectors(n,Bi)),Ii.normalize(),zi.crossVectors(Bi,Ii),i[0]=Ii.x,i[4]=zi.x,i[8]=Bi.x,i[1]=Ii.y,i[5]=zi.y,i[9]=Bi.y,i[2]=Ii.z,i[6]=zi.z,i[10]=Bi.z,this}multiply(e,t){return void 0!==t?(console.warn("THREE.Matrix4: .multiply() now only accepts one argument. Use .multiplyMatrices( a, b ) instead."),this.multiplyMatrices(e,t)):this.multiplyMatrices(this,e)}premultiply(e){return this.multiplyMatrices(e,this)}multiplyMatrices(e,t){const n=e.elements,i=t.elements,r=this.elements,o=n[0],s=n[4],a=n[8],l=n[12],c=n[1],u=n[5],h=n[9],d=n[13],p=n[2],f=n[6],m=n[10],g=n[14],v=n[3],y=n[7],x=n[11],b=n[15],w=i[0],_=i[4],S=i[8],M=i[12],E=i[1],T=i[5],A=i[9],C=i[13],R=i[2],L=i[6],P=i[10],N=i[14],k=i[3],O=i[7],D=i[11],j=i[15];return r[0]=o*w+s*E+a*R+l*k,r[4]=o*_+s*T+a*L+l*O,r[8]=o*S+s*A+a*P+l*D,r[12]=o*M+s*C+a*N+l*j,r[1]=c*w+u*E+h*R+d*k,r[5]=c*_+u*T+h*L+d*O,r[9]=c*S+u*A+h*P+d*D,r[13]=c*M+u*C+h*N+d*j,r[2]=p*w+f*E+m*R+g*k,r[6]=p*_+f*T+m*L+g*O,r[10]=p*S+f*A+m*P+g*D,r[14]=p*M+f*C+m*N+g*j,r[3]=v*w+y*E+x*R+b*k,r[7]=v*_+y*T+x*L+b*O,r[11]=v*S+y*A+x*P+b*D,r[15]=v*M+y*C+x*N+b*j,this}multiplyScalar(e){const t=this.elements;return t[0]*=e,t[4]*=e,t[8]*=e,t[12]*=e,t[1]*=e,t[5]*=e,t[9]*=e,t[13]*=e,t[2]*=e,t[6]*=e,t[10]*=e,t[14]*=e,t[3]*=e,t[7]*=e,t[11]*=e,t[15]*=e,this}determinant(){const e=this.elements,t=e[0],n=e[4],i=e[8],r=e[12],o=e[1],s=e[5],a=e[9],l=e[13],c=e[2],u=e[6],h=e[10],d=e[14];return e[3]*(+r*a*u-i*l*u-r*s*h+n*l*h+i*s*d-n*a*d)+e[7]*(+t*a*d-t*l*h+r*o*h-i*o*d+i*l*c-r*a*c)+e[11]*(+t*l*u-t*s*d-r*o*u+n*o*d+r*s*c-n*l*c)+e[15]*(-i*s*c-t*a*u+t*s*h+i*o*u-n*o*h+n*a*c)}transpose(){const e=this.elements;let t;return t=e[1],e[1]=e[4],e[4]=t,t=e[2],e[2]=e[8],e[8]=t,t=e[6],e[6]=e[9],e[9]=t,t=e[3],e[3]=e[12],e[12]=t,t=e[7],e[7]=e[13],e[13]=t,t=e[11],e[11]=e[14],e[14]=t,this}setPosition(e,t,n){const i=this.elements;return e.isVector3?(i[12]=e.x,i[13]=e.y,i[14]=e.z):(i[12]=e,i[13]=t,i[14]=n),this}invert(){const e=this.elements,t=e[0],n=e[1],i=e[2],r=e[3],o=e[4],s=e[5],a=e[6],l=e[7],c=e[8],u=e[9],h=e[10],d=e[11],p=e[12],f=e[13],m=e[14],g=e[15],v=u*m*l-f*h*l+f*a*d-s*m*d-u*a*g+s*h*g,y=p*h*l-c*m*l-p*a*d+o*m*d+c*a*g-o*h*g,x=c*f*l-p*u*l+p*s*d-o*f*d-c*s*g+o*u*g,b=p*u*a-c*f*a-p*s*h+o*f*h+c*s*m-o*u*m,w=t*v+n*y+i*x+r*b;if(0===w)return this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0);const _=1/w;return e[0]=v*_,e[1]=(f*h*r-u*m*r-f*i*d+n*m*d+u*i*g-n*h*g)*_,e[2]=(s*m*r-f*a*r+f*i*l-n*m*l-s*i*g+n*a*g)*_,e[3]=(u*a*r-s*h*r-u*i*l+n*h*l+s*i*d-n*a*d)*_,e[4]=y*_,e[5]=(c*m*r-p*h*r+p*i*d-t*m*d-c*i*g+t*h*g)*_,e[6]=(p*a*r-o*m*r-p*i*l+t*m*l+o*i*g-t*a*g)*_,e[7]=(o*h*r-c*a*r+c*i*l-t*h*l-o*i*d+t*a*d)*_,e[8]=x*_,e[9]=(p*u*r-c*f*r-p*n*d+t*f*d+c*n*g-t*u*g)*_,e[10]=(o*f*r-p*s*r+p*n*l-t*f*l-o*n*g+t*s*g)*_,e[11]=(c*s*r-o*u*r-c*n*l+t*u*l+o*n*d-t*s*d)*_,e[12]=b*_,e[13]=(c*f*i-p*u*i+p*n*h-t*f*h-c*n*m+t*u*m)*_,e[14]=(p*s*i-o*f*i-p*n*a+t*f*a+o*n*m-t*s*m)*_,e[15]=(o*u*i-c*s*i+c*n*a-t*u*a-o*n*h+t*s*h)*_,this}scale(e){const t=this.elements,n=e.x,i=e.y,r=e.z;return t[0]*=n,t[4]*=i,t[8]*=r,t[1]*=n,t[5]*=i,t[9]*=r,t[2]*=n,t[6]*=i,t[10]*=r,t[3]*=n,t[7]*=i,t[11]*=r,this}getMaxScaleOnAxis(){const e=this.elements,t=e[0]*e[0]+e[1]*e[1]+e[2]*e[2],n=e[4]*e[4]+e[5]*e[5]+e[6]*e[6],i=e[8]*e[8]+e[9]*e[9]+e[10]*e[10];return Math.sqrt(Math.max(t,n,i))}makeTranslation(e,t,n){return this.set(1,0,0,e,0,1,0,t,0,0,1,n,0,0,0,1),this}makeRotationX(e){const t=Math.cos(e),n=Math.sin(e);return this.set(1,0,0,0,0,t,-n,0,0,n,t,0,0,0,0,1),this}makeRotationY(e){const t=Math.cos(e),n=Math.sin(e);return this.set(t,0,n,0,0,1,0,0,-n,0,t,0,0,0,0,1),this}makeRotationZ(e){const t=Math.cos(e),n=Math.sin(e);return this.set(t,-n,0,0,n,t,0,0,0,0,1,0,0,0,0,1),this}makeRotationAxis(e,t){const n=Math.cos(t),i=Math.sin(t),r=1-n,o=e.x,s=e.y,a=e.z,l=r*o,c=r*s;return this.set(l*o+n,l*s-i*a,l*a+i*s,0,l*s+i*a,c*s+n,c*a-i*o,0,l*a-i*s,c*a+i*o,r*a*a+n,0,0,0,0,1),this}makeScale(e,t,n){return this.set(e,0,0,0,0,t,0,0,0,0,n,0,0,0,0,1),this}makeShear(e,t,n){return this.set(1,t,n,0,e,1,n,0,e,t,1,0,0,0,0,1),this}compose(e,t,n){const i=this.elements,r=t._x,o=t._y,s=t._z,a=t._w,l=r+r,c=o+o,u=s+s,h=r*l,d=r*c,p=r*u,f=o*c,m=o*u,g=s*u,v=a*l,y=a*c,x=a*u,b=n.x,w=n.y,_=n.z;return i[0]=(1-(f+g))*b,i[1]=(d+x)*b,i[2]=(p-y)*b,i[3]=0,i[4]=(d-x)*w,i[5]=(1-(h+g))*w,i[6]=(m+v)*w,i[7]=0,i[8]=(p+y)*_,i[9]=(m-v)*_,i[10]=(1-(h+f))*_,i[11]=0,i[12]=e.x,i[13]=e.y,i[14]=e.z,i[15]=1,this}decompose(e,t,n){const i=this.elements;let r=Oi.set(i[0],i[1],i[2]).length();const o=Oi.set(i[4],i[5],i[6]).length(),s=Oi.set(i[8],i[9],i[10]).length();this.determinant()<0&&(r=-r),e.x=i[12],e.y=i[13],e.z=i[14],Di.copy(this);const a=1/r,l=1/o,c=1/s;return Di.elements[0]*=a,Di.elements[1]*=a,Di.elements[2]*=a,Di.elements[4]*=l,Di.elements[5]*=l,Di.elements[6]*=l,Di.elements[8]*=c,Di.elements[9]*=c,Di.elements[10]*=c,t.setFromRotationMatrix(Di),n.x=r,n.y=o,n.z=s,this}makePerspective(e,t,n,i,r,o){void 0===o&&console.warn("THREE.Matrix4: .makePerspective() has been redefined and has a new signature. Please check the docs.");const s=this.elements,a=2*r/(t-e),l=2*r/(n-i),c=(t+e)/(t-e),u=(n+i)/(n-i),h=-(o+r)/(o-r),d=-2*o*r/(o-r);return s[0]=a,s[4]=0,s[8]=c,s[12]=0,s[1]=0,s[5]=l,s[9]=u,s[13]=0,s[2]=0,s[6]=0,s[10]=h,s[14]=d,s[3]=0,s[7]=0,s[11]=-1,s[15]=0,this}makeOrthographic(e,t,n,i,r,o){const s=this.elements,a=1/(t-e),l=1/(n-i),c=1/(o-r),u=(t+e)*a,h=(n+i)*l,d=(o+r)*c;return s[0]=2*a,s[4]=0,s[8]=0,s[12]=-u,s[1]=0,s[5]=2*l,s[9]=0,s[13]=-h,s[2]=0,s[6]=0,s[10]=-2*c,s[14]=-d,s[3]=0,s[7]=0,s[11]=0,s[15]=1,this}equals(e){const t=this.elements,n=e.elements;for(let i=0;i<16;i++)if(t[i]!==n[i])return!1;return!0}fromArray(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;for(let n=0;n<16;n++)this.elements[n]=e[n+t];return this}toArray(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;const n=this.elements;return e[t]=n[0],e[t+1]=n[1],e[t+2]=n[2],e[t+3]=n[3],e[t+4]=n[4],e[t+5]=n[5],e[t+6]=n[6],e[t+7]=n[7],e[t+8]=n[8],e[t+9]=n[9],e[t+10]=n[10],e[t+11]=n[11],e[t+12]=n[12],e[t+13]=n[13],e[t+14]=n[14],e[t+15]=n[15],e}}const Oi=new oi,Di=new ki,ji=new oi(0,0,0),Fi=new oi(1,1,1),Ii=new oi,zi=new oi,Bi=new oi;class Ui{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:Ui.DefaultOrder;Object.defineProperty(this,"isEuler",{value:!0}),this._x=e,this._y=t,this._z=n,this._order=i}get x(){return this._x}set x(e){this._x=e,this._onChangeCallback()}get y(){return this._y}set y(e){this._y=e,this._onChangeCallback()}get z(){return this._z}set z(e){this._z=e,this._onChangeCallback()}get order(){return this._order}set order(e){this._order=e,this._onChangeCallback()}set(e,t,n,i){return this._x=e,this._y=t,this._z=n,this._order=i||this._order,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._order)}copy(e){return this._x=e._x,this._y=e._y,this._z=e._z,this._order=e._order,this._onChangeCallback(),this}setFromRotationMatrix(e,t,n){const i=Xn.clamp,r=e.elements,o=r[0],s=r[4],a=r[8],l=r[1],c=r[5],u=r[9],h=r[2],d=r[6],p=r[10];switch(t=t||this._order){case"XYZ":this._y=Math.asin(i(a,-1,1)),Math.abs(a)<.9999999?(this._x=Math.atan2(-u,p),this._z=Math.atan2(-s,o)):(this._x=Math.atan2(d,c),this._z=0);break;case"YXZ":this._x=Math.asin(-i(u,-1,1)),Math.abs(u)<.9999999?(this._y=Math.atan2(a,p),this._z=Math.atan2(l,c)):(this._y=Math.atan2(-h,o),this._z=0);break;case"ZXY":this._x=Math.asin(i(d,-1,1)),Math.abs(d)<.9999999?(this._y=Math.atan2(-h,p),this._z=Math.atan2(-s,c)):(this._y=0,this._z=Math.atan2(l,o));break;case"ZYX":this._y=Math.asin(-i(h,-1,1)),Math.abs(h)<.9999999?(this._x=Math.atan2(d,p),this._z=Math.atan2(l,o)):(this._x=0,this._z=Math.atan2(-s,c));break;case"YZX":this._z=Math.asin(i(l,-1,1)),Math.abs(l)<.9999999?(this._x=Math.atan2(-u,c),this._y=Math.atan2(-h,o)):(this._x=0,this._y=Math.atan2(a,p));break;case"XZY":this._z=Math.asin(-i(s,-1,1)),Math.abs(s)<.9999999?(this._x=Math.atan2(d,c),this._y=Math.atan2(a,o)):(this._x=Math.atan2(-u,p),this._y=0);break;default:console.warn("THREE.Euler: .setFromRotationMatrix() encountered an unknown order: "+t)}return this._order=t,!1!==n&&this._onChangeCallback(),this}setFromQuaternion(e,t,n){return Hi.makeRotationFromQuaternion(e),this.setFromRotationMatrix(Hi,t,n)}setFromVector3(e,t){return this.set(e.x,e.y,e.z,t||this._order)}reorder(e){return Gi.setFromEuler(this),this.setFromQuaternion(Gi,e)}equals(e){return e._x===this._x&&e._y===this._y&&e._z===this._z&&e._order===this._order}fromArray(e){return this._x=e[0],this._y=e[1],this._z=e[2],void 0!==e[3]&&(this._order=e[3]),this._onChangeCallback(),this}toArray(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return e[t]=this._x,e[t+1]=this._y,e[t+2]=this._z,e[t+3]=this._order,e}toVector3(e){return e?e.set(this._x,this._y,this._z):new oi(this._x,this._y,this._z)}_onChange(e){return this._onChangeCallback=e,this}_onChangeCallback(){}}Ui.DefaultOrder="XYZ",Ui.RotationOrders=["XYZ","YZX","ZXY","XZY","YXZ","ZYX"];const Hi=new ki,Gi=new ri;class Vi{constructor(){this.mask=1}set(e){this.mask=1<<e}enable(e){this.mask|=1<<e}enableAll(){this.mask=-1}toggle(e){this.mask^=1<<e}disable(e){this.mask&=~(1<<e)}disableAll(){this.mask=0}test(e){return 0!==(this.mask&e.mask)}}let Wi=0;const qi=new oi,Xi=new ri,Yi=new ki,Ji=new oi,Zi=new oi,Ki=new oi,Qi=new ri,$i=new oi(1,0,0),er=new oi(0,1,0),tr=new oi(0,0,1),nr={type:"added"},ir={type:"removed"};function rr(){Object.defineProperty(this,"id",{value:Wi++}),this.uuid=Xn.generateUUID(),this.name="",this.type="Object3D",this.parent=null,this.children=[],this.up=rr.DefaultUp.clone();const e=new oi,t=new Ui,n=new ri,i=new oi(1,1,1);t._onChange((function(){n.setFromEuler(t,!1)})),n._onChange((function(){t.setFromQuaternion(n,void 0,!1)})),Object.defineProperties(this,{position:{configurable:!0,enumerable:!0,value:e},rotation:{configurable:!0,enumerable:!0,value:t},quaternion:{configurable:!0,enumerable:!0,value:n},scale:{configurable:!0,enumerable:!0,value:i},modelViewMatrix:{value:new ki},normalMatrix:{value:new Jn}}),this.matrix=new ki,this.matrixWorld=new ki,this.matrixAutoUpdate=rr.DefaultMatrixAutoUpdate,this.matrixWorldNeedsUpdate=!1,this.layers=new Vi,this.visible=!0,this.castShadow=!1,this.receiveShadow=!1,this.frustumCulled=!0,this.renderOrder=0,this.animations=[],this.userData={}}rr.DefaultUp=new oi(0,1,0),rr.DefaultMatrixAutoUpdate=!0,rr.prototype=Object.assign(Object.create(Vn.prototype),{constructor:rr,isObject3D:!0,onBeforeRender:function(){},onAfterRender:function(){},applyMatrix4:function(e){this.matrixAutoUpdate&&this.updateMatrix(),this.matrix.premultiply(e),this.matrix.decompose(this.position,this.quaternion,this.scale)},applyQuaternion:function(e){return this.quaternion.premultiply(e),this},setRotationFromAxisAngle:function(e,t){this.quaternion.setFromAxisAngle(e,t)},setRotationFromEuler:function(e){this.quaternion.setFromEuler(e,!0)},setRotationFromMatrix:function(e){this.quaternion.setFromRotationMatrix(e)},setRotationFromQuaternion:function(e){this.quaternion.copy(e)},rotateOnAxis:function(e,t){return Xi.setFromAxisAngle(e,t),this.quaternion.multiply(Xi),this},rotateOnWorldAxis:function(e,t){return Xi.setFromAxisAngle(e,t),this.quaternion.premultiply(Xi),this},rotateX:function(e){return this.rotateOnAxis($i,e)},rotateY:function(e){return this.rotateOnAxis(er,e)},rotateZ:function(e){return this.rotateOnAxis(tr,e)},translateOnAxis:function(e,t){return qi.copy(e).applyQuaternion(this.quaternion),this.position.add(qi.multiplyScalar(t)),this},translateX:function(e){return this.translateOnAxis($i,e)},translateY:function(e){return this.translateOnAxis(er,e)},translateZ:function(e){return this.translateOnAxis(tr,e)},localToWorld:function(e){return e.applyMatrix4(this.matrixWorld)},worldToLocal:function(e){return e.applyMatrix4(Yi.copy(this.matrixWorld).invert())},lookAt:function(e,t,n){e.isVector3?Ji.copy(e):Ji.set(e,t,n);const i=this.parent;this.updateWorldMatrix(!0,!1),Zi.setFromMatrixPosition(this.matrixWorld),this.isCamera||this.isLight?Yi.lookAt(Zi,Ji,this.up):Yi.lookAt(Ji,Zi,this.up),this.quaternion.setFromRotationMatrix(Yi),i&&(Yi.extractRotation(i.matrixWorld),Xi.setFromRotationMatrix(Yi),this.quaternion.premultiply(Xi.invert()))},add:function(e){if(arguments.length>1){for(let e=0;e<arguments.length;e++)this.add(arguments[e]);return this}return e===this?(console.error("THREE.Object3D.add: object can't be added as a child of itself.",e),this):(e&&e.isObject3D?(null!==e.parent&&e.parent.remove(e),e.parent=this,this.children.push(e),e.dispatchEvent(nr)):console.error("THREE.Object3D.add: object not an instance of THREE.Object3D.",e),this)},remove:function(e){if(arguments.length>1){for(let e=0;e<arguments.length;e++)this.remove(arguments[e]);return this}const t=this.children.indexOf(e);return-1!==t&&(e.parent=null,this.children.splice(t,1),e.dispatchEvent(ir)),this},clear:function(){for(let e=0;e<this.children.length;e++){const t=this.children[e];t.parent=null,t.dispatchEvent(ir)}return this.children.length=0,this},attach:function(e){return this.updateWorldMatrix(!0,!1),Yi.copy(this.matrixWorld).invert(),null!==e.parent&&(e.parent.updateWorldMatrix(!0,!1),Yi.multiply(e.parent.matrixWorld)),e.applyMatrix4(Yi),e.updateWorldMatrix(!1,!1),this.add(e),this},getObjectById:function(e){return this.getObjectByProperty("id",e)},getObjectByName:function(e){return this.getObjectByProperty("name",e)},getObjectByProperty:function(e,t){if(this[e]===t)return this;for(let n=0,i=this.children.length;n<i;n++){const i=this.children[n].getObjectByProperty(e,t);if(void 0!==i)return i}},getWorldPosition:function(e){return void 0===e&&(console.warn("THREE.Object3D: .getWorldPosition() target is now required"),e=new oi),this.updateWorldMatrix(!0,!1),e.setFromMatrixPosition(this.matrixWorld)},getWorldQuaternion:function(e){return void 0===e&&(console.warn("THREE.Object3D: .getWorldQuaternion() target is now required"),e=new ri),this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(Zi,e,Ki),e},getWorldScale:function(e){return void 0===e&&(console.warn("THREE.Object3D: .getWorldScale() target is now required"),e=new oi),this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(Zi,Qi,e),e},getWorldDirection:function(e){void 0===e&&(console.warn("THREE.Object3D: .getWorldDirection() target is now required"),e=new oi),this.updateWorldMatrix(!0,!1);const t=this.matrixWorld.elements;return e.set(t[8],t[9],t[10]).normalize()},raycast:function(){},traverse:function(e){e(this);const t=this.children;for(let n=0,i=t.length;n<i;n++)t[n].traverse(e)},traverseVisible:function(e){if(!1===this.visible)return;e(this);const t=this.children;for(let n=0,i=t.length;n<i;n++)t[n].traverseVisible(e)},traverseAncestors:function(e){const t=this.parent;null!==t&&(e(t),t.traverseAncestors(e))},updateMatrix:function(){this.matrix.compose(this.position,this.quaternion,this.scale),this.matrixWorldNeedsUpdate=!0},updateMatrixWorld:function(e){this.matrixAutoUpdate&&this.updateMatrix(),(this.matrixWorldNeedsUpdate||e)&&(null===this.parent?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix),this.matrixWorldNeedsUpdate=!1,e=!0);const t=this.children;for(let n=0,i=t.length;n<i;n++)t[n].updateMatrixWorld(e)},updateWorldMatrix:function(e,t){const n=this.parent;if(!0===e&&null!==n&&n.updateWorldMatrix(!0,!1),this.matrixAutoUpdate&&this.updateMatrix(),null===this.parent?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix),!0===t){const e=this.children;for(let t=0,n=e.length;t<n;t++)e[t].updateWorldMatrix(!1,!0)}},toJSON:function(e){const t=void 0===e||"string"===typeof e,n={};t&&(e={geometries:{},materials:{},textures:{},images:{},shapes:{},skeletons:{},animations:{}},n.metadata={version:4.5,type:"Object",generator:"Object3D.toJSON"});const i={};function r(t,n){return void 0===t[n.uuid]&&(t[n.uuid]=n.toJSON(e)),n.uuid}if(i.uuid=this.uuid,i.type=this.type,""!==this.name&&(i.name=this.name),!0===this.castShadow&&(i.castShadow=!0),!0===this.receiveShadow&&(i.receiveShadow=!0),!1===this.visible&&(i.visible=!1),!1===this.frustumCulled&&(i.frustumCulled=!1),0!==this.renderOrder&&(i.renderOrder=this.renderOrder),"{}"!==JSON.stringify(this.userData)&&(i.userData=this.userData),i.layers=this.layers.mask,i.matrix=this.matrix.toArray(),!1===this.matrixAutoUpdate&&(i.matrixAutoUpdate=!1),this.isInstancedMesh&&(i.type="InstancedMesh",i.count=this.count,i.instanceMatrix=this.instanceMatrix.toJSON()),this.isMesh||this.isLine||this.isPoints){i.geometry=r(e.geometries,this.geometry);const t=this.geometry.parameters;if(void 0!==t&&void 0!==t.shapes){const n=t.shapes;if(Array.isArray(n))for(let t=0,i=n.length;t<i;t++){const i=n[t];r(e.shapes,i)}else r(e.shapes,n)}}if(this.isSkinnedMesh&&(i.bindMode=this.bindMode,i.bindMatrix=this.bindMatrix.toArray(),void 0!==this.skeleton&&(r(e.skeletons,this.skeleton),i.skeleton=this.skeleton.uuid)),void 0!==this.material)if(Array.isArray(this.material)){const t=[];for(let n=0,i=this.material.length;n<i;n++)t.push(r(e.materials,this.material[n]));i.material=t}else i.material=r(e.materials,this.material);if(this.children.length>0){i.children=[];for(let t=0;t<this.children.length;t++)i.children.push(this.children[t].toJSON(e).object)}if(this.animations.length>0){i.animations=[];for(let t=0;t<this.animations.length;t++){const n=this.animations[t];i.animations.push(r(e.animations,n))}}if(t){const t=o(e.geometries),i=o(e.materials),r=o(e.textures),s=o(e.images),a=o(e.shapes),l=o(e.skeletons),c=o(e.animations);t.length>0&&(n.geometries=t),i.length>0&&(n.materials=i),r.length>0&&(n.textures=r),s.length>0&&(n.images=s),a.length>0&&(n.shapes=a),l.length>0&&(n.skeletons=l),c.length>0&&(n.animations=c)}return n.object=i,n;function o(e){const t=[];for(const n in e){const i=e[n];delete i.metadata,t.push(i)}return t}},clone:function(e){return(new this.constructor).copy(this,e)},copy:function(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if(this.name=e.name,this.up.copy(e.up),this.position.copy(e.position),this.rotation.order=e.rotation.order,this.quaternion.copy(e.quaternion),this.scale.copy(e.scale),this.matrix.copy(e.matrix),this.matrixWorld.copy(e.matrixWorld),this.matrixAutoUpdate=e.matrixAutoUpdate,this.matrixWorldNeedsUpdate=e.matrixWorldNeedsUpdate,this.layers.mask=e.layers.mask,this.visible=e.visible,this.castShadow=e.castShadow,this.receiveShadow=e.receiveShadow,this.frustumCulled=e.frustumCulled,this.renderOrder=e.renderOrder,this.userData=JSON.parse(JSON.stringify(e.userData)),!0===t)for(let n=0;n<e.children.length;n++){const t=e.children[n];this.add(t.clone())}return this}});const or=new oi,sr=new oi,ar=new Jn;class lr{constructor(e,t){Object.defineProperty(this,"isPlane",{value:!0}),this.normal=void 0!==e?e:new oi(1,0,0),this.constant=void 0!==t?t:0}set(e,t){return this.normal.copy(e),this.constant=t,this}setComponents(e,t,n,i){return this.normal.set(e,t,n),this.constant=i,this}setFromNormalAndCoplanarPoint(e,t){return this.normal.copy(e),this.constant=-t.dot(this.normal),this}setFromCoplanarPoints(e,t,n){const i=or.subVectors(n,t).cross(sr.subVectors(e,t)).normalize();return this.setFromNormalAndCoplanarPoint(i,e),this}clone(){return(new this.constructor).copy(this)}copy(e){return this.normal.copy(e.normal),this.constant=e.constant,this}normalize(){const e=1/this.normal.length();return this.normal.multiplyScalar(e),this.constant*=e,this}negate(){return this.constant*=-1,this.normal.negate(),this}distanceToPoint(e){return this.normal.dot(e)+this.constant}distanceToSphere(e){return this.distanceToPoint(e.center)-e.radius}projectPoint(e,t){return void 0===t&&(console.warn("THREE.Plane: .projectPoint() target is now required"),t=new oi),t.copy(this.normal).multiplyScalar(-this.distanceToPoint(e)).add(e)}intersectLine(e,t){void 0===t&&(console.warn("THREE.Plane: .intersectLine() target is now required"),t=new oi);const n=e.delta(or),i=this.normal.dot(n);if(0===i)return 0===this.distanceToPoint(e.start)?t.copy(e.start):void 0;const r=-(e.start.dot(this.normal)+this.constant)/i;return r<0||r>1?void 0:t.copy(n).multiplyScalar(r).add(e.start)}intersectsLine(e){const t=this.distanceToPoint(e.start),n=this.distanceToPoint(e.end);return t<0&&n>0||n<0&&t>0}intersectsBox(e){return e.intersectsPlane(this)}intersectsSphere(e){return e.intersectsPlane(this)}coplanarPoint(e){return void 0===e&&(console.warn("THREE.Plane: .coplanarPoint() target is now required"),e=new oi),e.copy(this.normal).multiplyScalar(-this.constant)}applyMatrix4(e,t){const n=t||ar.getNormalMatrix(e),i=this.coplanarPoint(or).applyMatrix4(e),r=this.normal.applyMatrix3(n).normalize();return this.constant=-i.dot(r),this}translate(e){return this.constant-=e.dot(this.normal),this}equals(e){return e.normal.equals(this.normal)&&e.constant===this.constant}}const cr=new oi,ur=new oi,hr=new oi,dr=new oi,pr=new oi,fr=new oi,mr=new oi,gr=new oi,vr=new oi,yr=new oi;class xr{constructor(e,t,n){this.a=void 0!==e?e:new oi,this.b=void 0!==t?t:new oi,this.c=void 0!==n?n:new oi}static getNormal(e,t,n,i){void 0===i&&(console.warn("THREE.Triangle: .getNormal() target is now required"),i=new oi),i.subVectors(n,t),cr.subVectors(e,t),i.cross(cr);const r=i.lengthSq();return r>0?i.multiplyScalar(1/Math.sqrt(r)):i.set(0,0,0)}static getBarycoord(e,t,n,i,r){cr.subVectors(i,t),ur.subVectors(n,t),hr.subVectors(e,t);const o=cr.dot(cr),s=cr.dot(ur),a=cr.dot(hr),l=ur.dot(ur),c=ur.dot(hr),u=o*l-s*s;if(void 0===r&&(console.warn("THREE.Triangle: .getBarycoord() target is now required"),r=new oi),0===u)return r.set(-2,-1,-1);const h=1/u,d=(l*a-s*c)*h,p=(o*c-s*a)*h;return r.set(1-d-p,p,d)}static containsPoint(e,t,n,i){return this.getBarycoord(e,t,n,i,dr),dr.x>=0&&dr.y>=0&&dr.x+dr.y<=1}static getUV(e,t,n,i,r,o,s,a){return this.getBarycoord(e,t,n,i,dr),a.set(0,0),a.addScaledVector(r,dr.x),a.addScaledVector(o,dr.y),a.addScaledVector(s,dr.z),a}static isFrontFacing(e,t,n,i){return cr.subVectors(n,t),ur.subVectors(e,t),cr.cross(ur).dot(i)<0}set(e,t,n){return this.a.copy(e),this.b.copy(t),this.c.copy(n),this}setFromPointsAndIndices(e,t,n,i){return this.a.copy(e[t]),this.b.copy(e[n]),this.c.copy(e[i]),this}clone(){return(new this.constructor).copy(this)}copy(e){return this.a.copy(e.a),this.b.copy(e.b),this.c.copy(e.c),this}getArea(){return cr.subVectors(this.c,this.b),ur.subVectors(this.a,this.b),.5*cr.cross(ur).length()}getMidpoint(e){return void 0===e&&(console.warn("THREE.Triangle: .getMidpoint() target is now required"),e=new oi),e.addVectors(this.a,this.b).add(this.c).multiplyScalar(1/3)}getNormal(e){return xr.getNormal(this.a,this.b,this.c,e)}getPlane(e){return void 0===e&&(console.warn("THREE.Triangle: .getPlane() target is now required"),e=new lr),e.setFromCoplanarPoints(this.a,this.b,this.c)}getBarycoord(e,t){return xr.getBarycoord(e,this.a,this.b,this.c,t)}getUV(e,t,n,i,r){return xr.getUV(e,this.a,this.b,this.c,t,n,i,r)}containsPoint(e){return xr.containsPoint(e,this.a,this.b,this.c)}isFrontFacing(e){return xr.isFrontFacing(this.a,this.b,this.c,e)}intersectsBox(e){return e.intersectsTriangle(this)}closestPointToPoint(e,t){void 0===t&&(console.warn("THREE.Triangle: .closestPointToPoint() target is now required"),t=new oi);const n=this.a,i=this.b,r=this.c;let o,s;pr.subVectors(i,n),fr.subVectors(r,n),gr.subVectors(e,n);const a=pr.dot(gr),l=fr.dot(gr);if(a<=0&&l<=0)return t.copy(n);vr.subVectors(e,i);const c=pr.dot(vr),u=fr.dot(vr);if(c>=0&&u<=c)return t.copy(i);const h=a*u-c*l;if(h<=0&&a>=0&&c<=0)return o=a/(a-c),t.copy(n).addScaledVector(pr,o);yr.subVectors(e,r);const d=pr.dot(yr),p=fr.dot(yr);if(p>=0&&d<=p)return t.copy(r);const f=d*l-a*p;if(f<=0&&l>=0&&p<=0)return s=l/(l-p),t.copy(n).addScaledVector(fr,s);const m=c*p-d*u;if(m<=0&&u-c>=0&&d-p>=0)return mr.subVectors(r,i),s=(u-c)/(u-c+(d-p)),t.copy(i).addScaledVector(mr,s);const g=1/(m+f+h);return o=f*g,s=h*g,t.copy(n).addScaledVector(pr,o).addScaledVector(fr,s)}equals(e){return e.a.equals(this.a)&&e.b.equals(this.b)&&e.c.equals(this.c)}}const br={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074},wr={h:0,s:0,l:0},_r={h:0,s:0,l:0};function Sr(e,t,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+6*(t-e)*n:n<.5?t:n<2/3?e+6*(t-e)*(2/3-n):e}function Mr(e){return e<.04045?.0773993808*e:Math.pow(.9478672986*e+.0521327014,2.4)}function Er(e){return e<.0031308?12.92*e:1.055*Math.pow(e,.41666)-.055}class Tr{constructor(e,t,n){return Object.defineProperty(this,"isColor",{value:!0}),void 0===t&&void 0===n?this.set(e):this.setRGB(e,t,n)}set(e){return e&&e.isColor?this.copy(e):"number"===typeof e?this.setHex(e):"string"===typeof e&&this.setStyle(e),this}setScalar(e){return this.r=e,this.g=e,this.b=e,this}setHex(e){return e=Math.floor(e),this.r=(e>>16&255)/255,this.g=(e>>8&255)/255,this.b=(255&e)/255,this}setRGB(e,t,n){return this.r=e,this.g=t,this.b=n,this}setHSL(e,t,n){if(e=Xn.euclideanModulo(e,1),t=Xn.clamp(t,0,1),n=Xn.clamp(n,0,1),0===t)this.r=this.g=this.b=n;else{const i=n<=.5?n*(1+t):n+t-n*t,r=2*n-i;this.r=Sr(r,i,e+1/3),this.g=Sr(r,i,e),this.b=Sr(r,i,e-1/3)}return this}setStyle(e){function t(t){void 0!==t&&parseFloat(t)<1&&console.warn("THREE.Color: Alpha component of "+e+" will be ignored.")}let n;if(n=/^((?:rgb|hsl)a?)\(\s*([^\)]*)\)/.exec(e)){let e;const i=n[1],r=n[2];switch(i){case"rgb":case"rgba":if(e=/^(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(r))return this.r=Math.min(255,parseInt(e[1],10))/255,this.g=Math.min(255,parseInt(e[2],10))/255,this.b=Math.min(255,parseInt(e[3],10))/255,t(e[4]),this;if(e=/^(\d+)\%\s*,\s*(\d+)\%\s*,\s*(\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(r))return this.r=Math.min(100,parseInt(e[1],10))/100,this.g=Math.min(100,parseInt(e[2],10))/100,this.b=Math.min(100,parseInt(e[3],10))/100,t(e[4]),this;break;case"hsl":case"hsla":if(e=/^(\d*\.?\d+)\s*,\s*(\d+)\%\s*,\s*(\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(r)){const n=parseFloat(e[1])/360,i=parseInt(e[2],10)/100,r=parseInt(e[3],10)/100;return t(e[4]),this.setHSL(n,i,r)}}}else if(n=/^\#([A-Fa-f\d]+)$/.exec(e)){const e=n[1],t=e.length;if(3===t)return this.r=parseInt(e.charAt(0)+e.charAt(0),16)/255,this.g=parseInt(e.charAt(1)+e.charAt(1),16)/255,this.b=parseInt(e.charAt(2)+e.charAt(2),16)/255,this;if(6===t)return this.r=parseInt(e.charAt(0)+e.charAt(1),16)/255,this.g=parseInt(e.charAt(2)+e.charAt(3),16)/255,this.b=parseInt(e.charAt(4)+e.charAt(5),16)/255,this}return e&&e.length>0?this.setColorName(e):this}setColorName(e){const t=br[e];return void 0!==t?this.setHex(t):console.warn("THREE.Color: Unknown color "+e),this}clone(){return new this.constructor(this.r,this.g,this.b)}copy(e){return this.r=e.r,this.g=e.g,this.b=e.b,this}copyGammaToLinear(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2;return this.r=Math.pow(e.r,t),this.g=Math.pow(e.g,t),this.b=Math.pow(e.b,t),this}copyLinearToGamma(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2;const n=t>0?1/t:1;return this.r=Math.pow(e.r,n),this.g=Math.pow(e.g,n),this.b=Math.pow(e.b,n),this}convertGammaToLinear(e){return this.copyGammaToLinear(this,e),this}convertLinearToGamma(e){return this.copyLinearToGamma(this,e),this}copySRGBToLinear(e){return this.r=Mr(e.r),this.g=Mr(e.g),this.b=Mr(e.b),this}copyLinearToSRGB(e){return this.r=Er(e.r),this.g=Er(e.g),this.b=Er(e.b),this}convertSRGBToLinear(){return this.copySRGBToLinear(this),this}convertLinearToSRGB(){return this.copyLinearToSRGB(this),this}getHex(){return 255*this.r<<16^255*this.g<<8^255*this.b}getHexString(){return("000000"+this.getHex().toString(16)).slice(-6)}getHSL(e){void 0===e&&(console.warn("THREE.Color: .getHSL() target is now required"),e={h:0,s:0,l:0});const t=this.r,n=this.g,i=this.b,r=Math.max(t,n,i),o=Math.min(t,n,i);let s,a;const l=(o+r)/2;if(o===r)s=0,a=0;else{const e=r-o;switch(a=l<=.5?e/(r+o):e/(2-r-o),r){case t:s=(n-i)/e+(n<i?6:0);break;case n:s=(i-t)/e+2;break;case i:s=(t-n)/e+4}s/=6}return e.h=s,e.s=a,e.l=l,e}getStyle(){return"rgb("+(255*this.r|0)+","+(255*this.g|0)+","+(255*this.b|0)+")"}offsetHSL(e,t,n){return this.getHSL(wr),wr.h+=e,wr.s+=t,wr.l+=n,this.setHSL(wr.h,wr.s,wr.l),this}add(e){return this.r+=e.r,this.g+=e.g,this.b+=e.b,this}addColors(e,t){return this.r=e.r+t.r,this.g=e.g+t.g,this.b=e.b+t.b,this}addScalar(e){return this.r+=e,this.g+=e,this.b+=e,this}sub(e){return this.r=Math.max(0,this.r-e.r),this.g=Math.max(0,this.g-e.g),this.b=Math.max(0,this.b-e.b),this}multiply(e){return this.r*=e.r,this.g*=e.g,this.b*=e.b,this}multiplyScalar(e){return this.r*=e,this.g*=e,this.b*=e,this}lerp(e,t){return this.r+=(e.r-this.r)*t,this.g+=(e.g-this.g)*t,this.b+=(e.b-this.b)*t,this}lerpHSL(e,t){this.getHSL(wr),e.getHSL(_r);const n=Xn.lerp(wr.h,_r.h,t),i=Xn.lerp(wr.s,_r.s,t),r=Xn.lerp(wr.l,_r.l,t);return this.setHSL(n,i,r),this}equals(e){return e.r===this.r&&e.g===this.g&&e.b===this.b}fromArray(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return this.r=e[t],this.g=e[t+1],this.b=e[t+2],this}toArray(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return e[t]=this.r,e[t+1]=this.g,e[t+2]=this.b,e}fromBufferAttribute(e,t){return this.r=e.getX(t),this.g=e.getY(t),this.b=e.getZ(t),!0===e.normalized&&(this.r/=255,this.g/=255,this.b/=255),this}toJSON(){return this.getHex()}}Tr.NAMES=br,Tr.prototype.r=1,Tr.prototype.g=1,Tr.prototype.b=1;class Ar{constructor(e,t,n,i,r){let o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:0;this.a=e,this.b=t,this.c=n,this.normal=i&&i.isVector3?i:new oi,this.vertexNormals=Array.isArray(i)?i:[],this.color=r&&r.isColor?r:new Tr,this.vertexColors=Array.isArray(r)?r:[],this.materialIndex=o}clone(){return(new this.constructor).copy(this)}copy(e){this.a=e.a,this.b=e.b,this.c=e.c,this.normal.copy(e.normal),this.color.copy(e.color),this.materialIndex=e.materialIndex;for(let t=0,n=e.vertexNormals.length;t<n;t++)this.vertexNormals[t]=e.vertexNormals[t].clone();for(let t=0,n=e.vertexColors.length;t<n;t++)this.vertexColors[t]=e.vertexColors[t].clone();return this}}let Cr=0;function Rr(){Object.defineProperty(this,"id",{value:Cr++}),this.uuid=Xn.generateUUID(),this.name="",this.type="Material",this.fog=!0,this.blending=C,this.side=_,this.flatShading=!1,this.vertexColors=!1,this.opacity=1,this.transparent=!1,this.blendSrc=H,this.blendDst=G,this.blendEquation=k,this.blendSrcAlpha=null,this.blendDstAlpha=null,this.blendEquationAlpha=null,this.depthFunc=Q,this.depthTest=!0,this.depthWrite=!0,this.stencilWriteMask=255,this.stencilFunc=Nn,this.stencilRef=0,this.stencilFuncMask=255,this.stencilFail=yn,this.stencilZFail=yn,this.stencilZPass=yn,this.stencilWrite=!1,this.clippingPlanes=null,this.clipIntersection=!1,this.clipShadows=!1,this.shadowSide=null,this.colorWrite=!0,this.precision=null,this.polygonOffset=!1,this.polygonOffsetFactor=0,this.polygonOffsetUnits=0,this.dithering=!1,this.alphaTest=0,this.premultipliedAlpha=!1,this.visible=!0,this.toneMapped=!0,this.userData={},this.version=0}function Lr(e){Rr.call(this),this.type="MeshBasicMaterial",this.color=new Tr(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=ie,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.skinning=!1,this.morphTargets=!1,this.setValues(e)}Rr.prototype=Object.assign(Object.create(Vn.prototype),{constructor:Rr,isMaterial:!0,onBeforeCompile:function(){},customProgramCacheKey:function(){return this.onBeforeCompile.toString()},setValues:function(e){if(void 0!==e)for(const t in e){const n=e[t];if(void 0===n){console.warn("THREE.Material: '"+t+"' parameter is undefined.");continue}if("shading"===t){console.warn("THREE."+this.type+": .shading has been removed. Use the boolean .flatShading instead."),this.flatShading=n===E;continue}const i=this[t];void 0!==i?i&&i.isColor?i.set(n):i&&i.isVector3&&n&&n.isVector3?i.copy(n):this[t]=n:console.warn("THREE."+this.type+": '"+t+"' is not a property of this material.")}},toJSON:function(e){const t=void 0===e||"string"===typeof e;t&&(e={textures:{},images:{}});const n={metadata:{version:4.5,type:"Material",generator:"Material.toJSON"}};function i(e){const t=[];for(const n in e){const i=e[n];delete i.metadata,t.push(i)}return t}if(n.uuid=this.uuid,n.type=this.type,""!==this.name&&(n.name=this.name),this.color&&this.color.isColor&&(n.color=this.color.getHex()),void 0!==this.roughness&&(n.roughness=this.roughness),void 0!==this.metalness&&(n.metalness=this.metalness),this.sheen&&this.sheen.isColor&&(n.sheen=this.sheen.getHex()),this.emissive&&this.emissive.isColor&&(n.emissive=this.emissive.getHex()),this.emissiveIntensity&&1!==this.emissiveIntensity&&(n.emissiveIntensity=this.emissiveIntensity),this.specular&&this.specular.isColor&&(n.specular=this.specular.getHex()),void 0!==this.shininess&&(n.shininess=this.shininess),void 0!==this.clearcoat&&(n.clearcoat=this.clearcoat),void 0!==this.clearcoatRoughness&&(n.clearcoatRoughness=this.clearcoatRoughness),this.clearcoatMap&&this.clearcoatMap.isTexture&&(n.clearcoatMap=this.clearcoatMap.toJSON(e).uuid),this.clearcoatRoughnessMap&&this.clearcoatRoughnessMap.isTexture&&(n.clearcoatRoughnessMap=this.clearcoatRoughnessMap.toJSON(e).uuid),this.clearcoatNormalMap&&this.clearcoatNormalMap.isTexture&&(n.clearcoatNormalMap=this.clearcoatNormalMap.toJSON(e).uuid,n.clearcoatNormalScale=this.clearcoatNormalScale.toArray()),this.map&&this.map.isTexture&&(n.map=this.map.toJSON(e).uuid),this.matcap&&this.matcap.isTexture&&(n.matcap=this.matcap.toJSON(e).uuid),this.alphaMap&&this.alphaMap.isTexture&&(n.alphaMap=this.alphaMap.toJSON(e).uuid),this.lightMap&&this.lightMap.isTexture&&(n.lightMap=this.lightMap.toJSON(e).uuid),this.aoMap&&this.aoMap.isTexture&&(n.aoMap=this.aoMap.toJSON(e).uuid,n.aoMapIntensity=this.aoMapIntensity),this.bumpMap&&this.bumpMap.isTexture&&(n.bumpMap=this.bumpMap.toJSON(e).uuid,n.bumpScale=this.bumpScale),this.normalMap&&this.normalMap.isTexture&&(n.normalMap=this.normalMap.toJSON(e).uuid,n.normalMapType=this.normalMapType,n.normalScale=this.normalScale.toArray()),this.displacementMap&&this.displacementMap.isTexture&&(n.displacementMap=this.displacementMap.toJSON(e).uuid,n.displacementScale=this.displacementScale,n.displacementBias=this.displacementBias),this.roughnessMap&&this.roughnessMap.isTexture&&(n.roughnessMap=this.roughnessMap.toJSON(e).uuid),this.metalnessMap&&this.metalnessMap.isTexture&&(n.metalnessMap=this.metalnessMap.toJSON(e).uuid),this.emissiveMap&&this.emissiveMap.isTexture&&(n.emissiveMap=this.emissiveMap.toJSON(e).uuid),this.specularMap&&this.specularMap.isTexture&&(n.specularMap=this.specularMap.toJSON(e).uuid),this.envMap&&this.envMap.isTexture&&(n.envMap=this.envMap.toJSON(e).uuid,n.reflectivity=this.reflectivity,n.refractionRatio=this.refractionRatio,void 0!==this.combine&&(n.combine=this.combine),void 0!==this.envMapIntensity&&(n.envMapIntensity=this.envMapIntensity)),this.gradientMap&&this.gradientMap.isTexture&&(n.gradientMap=this.gradientMap.toJSON(e).uuid),void 0!==this.size&&(n.size=this.size),void 0!==this.sizeAttenuation&&(n.sizeAttenuation=this.sizeAttenuation),this.blending!==C&&(n.blending=this.blending),!0===this.flatShading&&(n.flatShading=this.flatShading),this.side!==_&&(n.side=this.side),this.vertexColors&&(n.vertexColors=!0),this.opacity<1&&(n.opacity=this.opacity),!0===this.transparent&&(n.transparent=this.transparent),n.depthFunc=this.depthFunc,n.depthTest=this.depthTest,n.depthWrite=this.depthWrite,n.stencilWrite=this.stencilWrite,n.stencilWriteMask=this.stencilWriteMask,n.stencilFunc=this.stencilFunc,n.stencilRef=this.stencilRef,n.stencilFuncMask=this.stencilFuncMask,n.stencilFail=this.stencilFail,n.stencilZFail=this.stencilZFail,n.stencilZPass=this.stencilZPass,this.rotation&&0!==this.rotation&&(n.rotation=this.rotation),!0===this.polygonOffset&&(n.polygonOffset=!0),0!==this.polygonOffsetFactor&&(n.polygonOffsetFactor=this.polygonOffsetFactor),0!==this.polygonOffsetUnits&&(n.polygonOffsetUnits=this.polygonOffsetUnits),this.linewidth&&1!==this.linewidth&&(n.linewidth=this.linewidth),void 0!==this.dashSize&&(n.dashSize=this.dashSize),void 0!==this.gapSize&&(n.gapSize=this.gapSize),void 0!==this.scale&&(n.scale=this.scale),!0===this.dithering&&(n.dithering=!0),this.alphaTest>0&&(n.alphaTest=this.alphaTest),!0===this.premultipliedAlpha&&(n.premultipliedAlpha=this.premultipliedAlpha),!0===this.wireframe&&(n.wireframe=this.wireframe),this.wireframeLinewidth>1&&(n.wireframeLinewidth=this.wireframeLinewidth),"round"!==this.wireframeLinecap&&(n.wireframeLinecap=this.wireframeLinecap),"round"!==this.wireframeLinejoin&&(n.wireframeLinejoin=this.wireframeLinejoin),!0===this.morphTargets&&(n.morphTargets=!0),!0===this.morphNormals&&(n.morphNormals=!0),!0===this.skinning&&(n.skinning=!0),!1===this.visible&&(n.visible=!1),!1===this.toneMapped&&(n.toneMapped=!1),"{}"!==JSON.stringify(this.userData)&&(n.userData=this.userData),t){const t=i(e.textures),r=i(e.images);t.length>0&&(n.textures=t),r.length>0&&(n.images=r)}return n},clone:function(){return(new this.constructor).copy(this)},copy:function(e){this.name=e.name,this.fog=e.fog,this.blending=e.blending,this.side=e.side,this.flatShading=e.flatShading,this.vertexColors=e.vertexColors,this.opacity=e.opacity,this.transparent=e.transparent,this.blendSrc=e.blendSrc,this.blendDst=e.blendDst,this.blendEquation=e.blendEquation,this.blendSrcAlpha=e.blendSrcAlpha,this.blendDstAlpha=e.blendDstAlpha,this.blendEquationAlpha=e.blendEquationAlpha,this.depthFunc=e.depthFunc,this.depthTest=e.depthTest,this.depthWrite=e.depthWrite,this.stencilWriteMask=e.stencilWriteMask,this.stencilFunc=e.stencilFunc,this.stencilRef=e.stencilRef,this.stencilFuncMask=e.stencilFuncMask,this.stencilFail=e.stencilFail,this.stencilZFail=e.stencilZFail,this.stencilZPass=e.stencilZPass,this.stencilWrite=e.stencilWrite;const t=e.clippingPlanes;let n=null;if(null!==t){const e=t.length;n=new Array(e);for(let i=0;i!==e;++i)n[i]=t[i].clone()}return this.clippingPlanes=n,this.clipIntersection=e.clipIntersection,this.clipShadows=e.clipShadows,this.shadowSide=e.shadowSide,this.colorWrite=e.colorWrite,this.precision=e.precision,this.polygonOffset=e.polygonOffset,this.polygonOffsetFactor=e.polygonOffsetFactor,this.polygonOffsetUnits=e.polygonOffsetUnits,this.dithering=e.dithering,this.alphaTest=e.alphaTest,this.premultipliedAlpha=e.premultipliedAlpha,this.visible=e.visible,this.toneMapped=e.toneMapped,this.userData=JSON.parse(JSON.stringify(e.userData)),this},dispose:function(){this.dispatchEvent({type:"dispose"})}}),Object.defineProperty(Rr.prototype,"needsUpdate",{set:function(e){!0===e&&this.version++}}),Lr.prototype=Object.create(Rr.prototype),Lr.prototype.constructor=Lr,Lr.prototype.isMeshBasicMaterial=!0,Lr.prototype.copy=function(e){return Rr.prototype.copy.call(this,e),this.color.copy(e.color),this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.skinning=e.skinning,this.morphTargets=e.morphTargets,this};const Pr=new oi,Nr=new Yn;function kr(e,t,n){if(Array.isArray(e))throw new TypeError("THREE.BufferAttribute: array should be a Typed Array.");this.name="",this.array=e,this.itemSize=t,this.count=void 0!==e?e.length/t:0,this.normalized=!0===n,this.usage=kn,this.updateRange={offset:0,count:-1},this.version=0}function Or(e,t,n){kr.call(this,new Int8Array(e),t,n)}function Dr(e,t,n){kr.call(this,new Uint8Array(e),t,n)}function jr(e,t,n){kr.call(this,new Uint8ClampedArray(e),t,n)}function Fr(e,t,n){kr.call(this,new Int16Array(e),t,n)}function Ir(e,t,n){kr.call(this,new Uint16Array(e),t,n)}function zr(e,t,n){kr.call(this,new Int32Array(e),t,n)}function Br(e,t,n){kr.call(this,new Uint32Array(e),t,n)}function Ur(e,t,n){kr.call(this,new Uint16Array(e),t,n)}function Hr(e,t,n){kr.call(this,new Float32Array(e),t,n)}function Gr(e,t,n){kr.call(this,new Float64Array(e),t,n)}Object.defineProperty(kr.prototype,"needsUpdate",{set:function(e){!0===e&&this.version++}}),Object.assign(kr.prototype,{isBufferAttribute:!0,onUploadCallback:function(){},setUsage:function(e){return this.usage=e,this},copy:function(e){return this.name=e.name,this.array=new e.array.constructor(e.array),this.itemSize=e.itemSize,this.count=e.count,this.normalized=e.normalized,this.usage=e.usage,this},copyAt:function(e,t,n){e*=this.itemSize,n*=t.itemSize;for(let i=0,r=this.itemSize;i<r;i++)this.array[e+i]=t.array[n+i];return this},copyArray:function(e){return this.array.set(e),this},copyColorsArray:function(e){const t=this.array;let n=0;for(let i=0,r=e.length;i<r;i++){let r=e[i];void 0===r&&(console.warn("THREE.BufferAttribute.copyColorsArray(): color is undefined",i),r=new Tr),t[n++]=r.r,t[n++]=r.g,t[n++]=r.b}return this},copyVector2sArray:function(e){const t=this.array;let n=0;for(let i=0,r=e.length;i<r;i++){let r=e[i];void 0===r&&(console.warn("THREE.BufferAttribute.copyVector2sArray(): vector is undefined",i),r=new Yn),t[n++]=r.x,t[n++]=r.y}return this},copyVector3sArray:function(e){const t=this.array;let n=0;for(let i=0,r=e.length;i<r;i++){let r=e[i];void 0===r&&(console.warn("THREE.BufferAttribute.copyVector3sArray(): vector is undefined",i),r=new oi),t[n++]=r.x,t[n++]=r.y,t[n++]=r.z}return this},copyVector4sArray:function(e){const t=this.array;let n=0;for(let i=0,r=e.length;i<r;i++){let r=e[i];void 0===r&&(console.warn("THREE.BufferAttribute.copyVector4sArray(): vector is undefined",i),r=new ti),t[n++]=r.x,t[n++]=r.y,t[n++]=r.z,t[n++]=r.w}return this},applyMatrix3:function(e){if(2===this.itemSize)for(let t=0,n=this.count;t<n;t++)Nr.fromBufferAttribute(this,t),Nr.applyMatrix3(e),this.setXY(t,Nr.x,Nr.y);else if(3===this.itemSize)for(let t=0,n=this.count;t<n;t++)Pr.fromBufferAttribute(this,t),Pr.applyMatrix3(e),this.setXYZ(t,Pr.x,Pr.y,Pr.z);return this},applyMatrix4:function(e){for(let t=0,n=this.count;t<n;t++)Pr.x=this.getX(t),Pr.y=this.getY(t),Pr.z=this.getZ(t),Pr.applyMatrix4(e),this.setXYZ(t,Pr.x,Pr.y,Pr.z);return this},applyNormalMatrix:function(e){for(let t=0,n=this.count;t<n;t++)Pr.x=this.getX(t),Pr.y=this.getY(t),Pr.z=this.getZ(t),Pr.applyNormalMatrix(e),this.setXYZ(t,Pr.x,Pr.y,Pr.z);return this},transformDirection:function(e){for(let t=0,n=this.count;t<n;t++)Pr.x=this.getX(t),Pr.y=this.getY(t),Pr.z=this.getZ(t),Pr.transformDirection(e),this.setXYZ(t,Pr.x,Pr.y,Pr.z);return this},set:function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return this.array.set(e,t),this},getX:function(e){return this.array[e*this.itemSize]},setX:function(e,t){return this.array[e*this.itemSize]=t,this},getY:function(e){return this.array[e*this.itemSize+1]},setY:function(e,t){return this.array[e*this.itemSize+1]=t,this},getZ:function(e){return this.array[e*this.itemSize+2]},setZ:function(e,t){return this.array[e*this.itemSize+2]=t,this},getW:function(e){return this.array[e*this.itemSize+3]},setW:function(e,t){return this.array[e*this.itemSize+3]=t,this},setXY:function(e,t,n){return e*=this.itemSize,this.array[e+0]=t,this.array[e+1]=n,this},setXYZ:function(e,t,n,i){return e*=this.itemSize,this.array[e+0]=t,this.array[e+1]=n,this.array[e+2]=i,this},setXYZW:function(e,t,n,i,r){return e*=this.itemSize,this.array[e+0]=t,this.array[e+1]=n,this.array[e+2]=i,this.array[e+3]=r,this},onUpload:function(e){return this.onUploadCallback=e,this},clone:function(){return new this.constructor(this.array,this.itemSize).copy(this)},toJSON:function(){return{itemSize:this.itemSize,type:this.array.constructor.name,array:Array.prototype.slice.call(this.array),normalized:this.normalized}}}),Or.prototype=Object.create(kr.prototype),Or.prototype.constructor=Or,Dr.prototype=Object.create(kr.prototype),Dr.prototype.constructor=Dr,jr.prototype=Object.create(kr.prototype),jr.prototype.constructor=jr,Fr.prototype=Object.create(kr.prototype),Fr.prototype.constructor=Fr,Ir.prototype=Object.create(kr.prototype),Ir.prototype.constructor=Ir,zr.prototype=Object.create(kr.prototype),zr.prototype.constructor=zr,Br.prototype=Object.create(kr.prototype),Br.prototype.constructor=Br,Ur.prototype=Object.create(kr.prototype),Ur.prototype.constructor=Ur,Ur.prototype.isFloat16BufferAttribute=!0,Hr.prototype=Object.create(kr.prototype),Hr.prototype.constructor=Hr,Gr.prototype=Object.create(kr.prototype),Gr.prototype.constructor=Gr;class Vr{constructor(){this.vertices=[],this.normals=[],this.colors=[],this.uvs=[],this.uvs2=[],this.groups=[],this.morphTargets={},this.skinWeights=[],this.skinIndices=[],this.boundingBox=null,this.boundingSphere=null,this.verticesNeedUpdate=!1,this.normalsNeedUpdate=!1,this.colorsNeedUpdate=!1,this.uvsNeedUpdate=!1,this.groupsNeedUpdate=!1}computeGroups(e){const t=[];let n,i,r;const o=e.faces;for(i=0;i<o.length;i++){const e=o[i];e.materialIndex!==r&&(r=e.materialIndex,void 0!==n&&(n.count=3*i-n.start,t.push(n)),n={start:3*i,materialIndex:r})}void 0!==n&&(n.count=3*i-n.start,t.push(n)),this.groups=t}fromGeometry(e){const t=e.faces,n=e.vertices,i=e.faceVertexUvs,r=i[0]&&i[0].length>0,o=i[1]&&i[1].length>0,s=e.morphTargets,a=s.length;let l;if(a>0){l=[];for(let e=0;e<a;e++)l[e]={name:s[e].name,data:[]};this.morphTargets.position=l}const c=e.morphNormals,u=c.length;let h;if(u>0){h=[];for(let e=0;e<u;e++)h[e]={name:c[e].name,data:[]};this.morphTargets.normal=h}const d=e.skinIndices,p=e.skinWeights,f=d.length===n.length,m=p.length===n.length;n.length>0&&0===t.length&&console.error("THREE.DirectGeometry: Faceless geometries are not supported.");for(let g=0;g<t.length;g++){const e=t[g];this.vertices.push(n[e.a],n[e.b],n[e.c]);const v=e.vertexNormals;if(3===v.length)this.normals.push(v[0],v[1],v[2]);else{const t=e.normal;this.normals.push(t,t,t)}const y=e.vertexColors;if(3===y.length)this.colors.push(y[0],y[1],y[2]);else{const t=e.color;this.colors.push(t,t,t)}if(!0===r){const e=i[0][g];void 0!==e?this.uvs.push(e[0],e[1],e[2]):(console.warn("THREE.DirectGeometry.fromGeometry(): Undefined vertexUv ",g),this.uvs.push(new Yn,new Yn,new Yn))}if(!0===o){const e=i[1][g];void 0!==e?this.uvs2.push(e[0],e[1],e[2]):(console.warn("THREE.DirectGeometry.fromGeometry(): Undefined vertexUv2 ",g),this.uvs2.push(new Yn,new Yn,new Yn))}for(let t=0;t<a;t++){const n=s[t].vertices;l[t].data.push(n[e.a],n[e.b],n[e.c])}for(let t=0;t<u;t++){const e=c[t].vertexNormals[g];h[t].data.push(e.a,e.b,e.c)}f&&this.skinIndices.push(d[e.a],d[e.b],d[e.c]),m&&this.skinWeights.push(p[e.a],p[e.b],p[e.c])}return this.computeGroups(e),this.verticesNeedUpdate=e.verticesNeedUpdate,this.normalsNeedUpdate=e.normalsNeedUpdate,this.colorsNeedUpdate=e.colorsNeedUpdate,this.uvsNeedUpdate=e.uvsNeedUpdate,this.groupsNeedUpdate=e.groupsNeedUpdate,null!==e.boundingSphere&&(this.boundingSphere=e.boundingSphere.clone()),null!==e.boundingBox&&(this.boundingBox=e.boundingBox.clone()),this}}function Wr(e){if(0===e.length)return-1/0;let t=e[0];for(let n=1,i=e.length;n<i;++n)e[n]>t&&(t=e[n]);return t}const qr={Int8Array:Int8Array,Uint8Array:Uint8Array,Uint8ClampedArray:"undefined"!==typeof Uint8ClampedArray?Uint8ClampedArray:Uint8Array,Int16Array:Int16Array,Uint16Array:Uint16Array,Int32Array:Int32Array,Uint32Array:Uint32Array,Float32Array:Float32Array,Float64Array:Float64Array};function Xr(e,t){return new qr[e](t)}let Yr=1;const Jr=new ki,Zr=new rr,Kr=new oi,Qr=new li,$r=new li,eo=new oi;function to(){Object.defineProperty(this,"id",{value:Yr+=2}),this.uuid=Xn.generateUUID(),this.name="",this.type="BufferGeometry",this.index=null,this.attributes={},this.morphAttributes={},this.morphTargetsRelative=!1,this.groups=[],this.boundingBox=null,this.boundingSphere=null,this.drawRange={start:0,count:1/0},this.userData={}}to.prototype=Object.assign(Object.create(Vn.prototype),{constructor:to,isBufferGeometry:!0,getIndex:function(){return this.index},setIndex:function(e){return Array.isArray(e)?this.index=new(Wr(e)>65535?Br:Ir)(e,1):this.index=e,this},getAttribute:function(e){return this.attributes[e]},setAttribute:function(e,t){return this.attributes[e]=t,this},deleteAttribute:function(e){return delete this.attributes[e],this},hasAttribute:function(e){return void 0!==this.attributes[e]},addGroup:function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;this.groups.push({start:e,count:t,materialIndex:n})},clearGroups:function(){this.groups=[]},setDrawRange:function(e,t){this.drawRange.start=e,this.drawRange.count=t},applyMatrix4:function(e){const t=this.attributes.position;void 0!==t&&(t.applyMatrix4(e),t.needsUpdate=!0);const n=this.attributes.normal;if(void 0!==n){const t=(new Jn).getNormalMatrix(e);n.applyNormalMatrix(t),n.needsUpdate=!0}const i=this.attributes.tangent;return void 0!==i&&(i.transformDirection(e),i.needsUpdate=!0),null!==this.boundingBox&&this.computeBoundingBox(),null!==this.boundingSphere&&this.computeBoundingSphere(),this},rotateX:function(e){return Jr.makeRotationX(e),this.applyMatrix4(Jr),this},rotateY:function(e){return Jr.makeRotationY(e),this.applyMatrix4(Jr),this},rotateZ:function(e){return Jr.makeRotationZ(e),this.applyMatrix4(Jr),this},translate:function(e,t,n){return Jr.makeTranslation(e,t,n),this.applyMatrix4(Jr),this},scale:function(e,t,n){return Jr.makeScale(e,t,n),this.applyMatrix4(Jr),this},lookAt:function(e){return Zr.lookAt(e),Zr.updateMatrix(),this.applyMatrix4(Zr.matrix),this},center:function(){return this.computeBoundingBox(),this.boundingBox.getCenter(Kr).negate(),this.translate(Kr.x,Kr.y,Kr.z),this},setFromObject:function(e){const t=e.geometry;if(e.isPoints||e.isLine){const e=new Hr(3*t.vertices.length,3),n=new Hr(3*t.colors.length,3);if(this.setAttribute("position",e.copyVector3sArray(t.vertices)),this.setAttribute("color",n.copyColorsArray(t.colors)),t.lineDistances&&t.lineDistances.length===t.vertices.length){const e=new Hr(t.lineDistances.length,1);this.setAttribute("lineDistance",e.copyArray(t.lineDistances))}null!==t.boundingSphere&&(this.boundingSphere=t.boundingSphere.clone()),null!==t.boundingBox&&(this.boundingBox=t.boundingBox.clone())}else e.isMesh&&t&&t.isGeometry&&this.fromGeometry(t);return this},setFromPoints:function(e){const t=[];for(let n=0,i=e.length;n<i;n++){const i=e[n];t.push(i.x,i.y,i.z||0)}return this.setAttribute("position",new Hr(t,3)),this},updateFromObject:function(e){let t=e.geometry;if(e.isMesh){let e=t.__directGeometry;if(!0===t.elementsNeedUpdate&&(e=void 0,t.elementsNeedUpdate=!1),void 0===e)return this.fromGeometry(t);e.verticesNeedUpdate=t.verticesNeedUpdate,e.normalsNeedUpdate=t.normalsNeedUpdate,e.colorsNeedUpdate=t.colorsNeedUpdate,e.uvsNeedUpdate=t.uvsNeedUpdate,e.groupsNeedUpdate=t.groupsNeedUpdate,t.verticesNeedUpdate=!1,t.normalsNeedUpdate=!1,t.colorsNeedUpdate=!1,t.uvsNeedUpdate=!1,t.groupsNeedUpdate=!1,t=e}if(!0===t.verticesNeedUpdate){const e=this.attributes.position;void 0!==e&&(e.copyVector3sArray(t.vertices),e.needsUpdate=!0),t.verticesNeedUpdate=!1}if(!0===t.normalsNeedUpdate){const e=this.attributes.normal;void 0!==e&&(e.copyVector3sArray(t.normals),e.needsUpdate=!0),t.normalsNeedUpdate=!1}if(!0===t.colorsNeedUpdate){const e=this.attributes.color;void 0!==e&&(e.copyColorsArray(t.colors),e.needsUpdate=!0),t.colorsNeedUpdate=!1}if(t.uvsNeedUpdate){const e=this.attributes.uv;void 0!==e&&(e.copyVector2sArray(t.uvs),e.needsUpdate=!0),t.uvsNeedUpdate=!1}if(t.lineDistancesNeedUpdate){const e=this.attributes.lineDistance;void 0!==e&&(e.copyArray(t.lineDistances),e.needsUpdate=!0),t.lineDistancesNeedUpdate=!1}return t.groupsNeedUpdate&&(t.computeGroups(e.geometry),this.groups=t.groups,t.groupsNeedUpdate=!1),this},fromGeometry:function(e){return e.__directGeometry=(new Vr).fromGeometry(e),this.fromDirectGeometry(e.__directGeometry)},fromDirectGeometry:function(e){const t=new Float32Array(3*e.vertices.length);if(this.setAttribute("position",new kr(t,3).copyVector3sArray(e.vertices)),e.normals.length>0){const t=new Float32Array(3*e.normals.length);this.setAttribute("normal",new kr(t,3).copyVector3sArray(e.normals))}if(e.colors.length>0){const t=new Float32Array(3*e.colors.length);this.setAttribute("color",new kr(t,3).copyColorsArray(e.colors))}if(e.uvs.length>0){const t=new Float32Array(2*e.uvs.length);this.setAttribute("uv",new kr(t,2).copyVector2sArray(e.uvs))}if(e.uvs2.length>0){const t=new Float32Array(2*e.uvs2.length);this.setAttribute("uv2",new kr(t,2).copyVector2sArray(e.uvs2))}this.groups=e.groups;for(const n in e.morphTargets){const t=[],i=e.morphTargets[n];for(let e=0,n=i.length;e<n;e++){const n=i[e],r=new Hr(3*n.data.length,3);r.name=n.name,t.push(r.copyVector3sArray(n.data))}this.morphAttributes[n]=t}if(e.skinIndices.length>0){const t=new Hr(4*e.skinIndices.length,4);this.setAttribute("skinIndex",t.copyVector4sArray(e.skinIndices))}if(e.skinWeights.length>0){const t=new Hr(4*e.skinWeights.length,4);this.setAttribute("skinWeight",t.copyVector4sArray(e.skinWeights))}return null!==e.boundingSphere&&(this.boundingSphere=e.boundingSphere.clone()),null!==e.boundingBox&&(this.boundingBox=e.boundingBox.clone()),this},computeBoundingBox:function(){null===this.boundingBox&&(this.boundingBox=new li);const e=this.attributes.position,t=this.morphAttributes.position;if(e&&e.isGLBufferAttribute)return console.error('THREE.BufferGeometry.computeBoundingBox(): GLBufferAttribute requires a manual bounding box. Alternatively set "mesh.frustumCulled" to "false".',this),void this.boundingBox.set(new oi(-1/0,-1/0,-1/0),new oi(1/0,1/0,1/0));if(void 0!==e){if(this.boundingBox.setFromBufferAttribute(e),t)for(let n=0,i=t.length;n<i;n++){const e=t[n];Qr.setFromBufferAttribute(e),this.morphTargetsRelative?(eo.addVectors(this.boundingBox.min,Qr.min),this.boundingBox.expandByPoint(eo),eo.addVectors(this.boundingBox.max,Qr.max),this.boundingBox.expandByPoint(eo)):(this.boundingBox.expandByPoint(Qr.min),this.boundingBox.expandByPoint(Qr.max))}}else this.boundingBox.makeEmpty();(isNaN(this.boundingBox.min.x)||isNaN(this.boundingBox.min.y)||isNaN(this.boundingBox.min.z))&&console.error('THREE.BufferGeometry.computeBoundingBox(): Computed min/max have NaN values. The "position" attribute is likely to have NaN values.',this)},computeBoundingSphere:function(){null===this.boundingSphere&&(this.boundingSphere=new Mi);const e=this.attributes.position,t=this.morphAttributes.position;if(e&&e.isGLBufferAttribute)return console.error('THREE.BufferGeometry.computeBoundingSphere(): GLBufferAttribute requires a manual bounding sphere. Alternatively set "mesh.frustumCulled" to "false".',this),void this.boundingSphere.set(new oi,1/0);if(e){const n=this.boundingSphere.center;if(Qr.setFromBufferAttribute(e),t)for(let e=0,r=t.length;e<r;e++){const n=t[e];$r.setFromBufferAttribute(n),this.morphTargetsRelative?(eo.addVectors(Qr.min,$r.min),Qr.expandByPoint(eo),eo.addVectors(Qr.max,$r.max),Qr.expandByPoint(eo)):(Qr.expandByPoint($r.min),Qr.expandByPoint($r.max))}Qr.getCenter(n);let i=0;for(let t=0,r=e.count;t<r;t++)eo.fromBufferAttribute(e,t),i=Math.max(i,n.distanceToSquared(eo));if(t)for(let r=0,o=t.length;r<o;r++){const o=t[r],s=this.morphTargetsRelative;for(let t=0,r=o.count;t<r;t++)eo.fromBufferAttribute(o,t),s&&(Kr.fromBufferAttribute(e,t),eo.add(Kr)),i=Math.max(i,n.distanceToSquared(eo))}this.boundingSphere.radius=Math.sqrt(i),isNaN(this.boundingSphere.radius)&&console.error('THREE.BufferGeometry.computeBoundingSphere(): Computed radius is NaN. The "position" attribute is likely to have NaN values.',this)}},computeFaceNormals:function(){},computeVertexNormals:function(){const e=this.index,t=this.getAttribute("position");if(void 0!==t){let n=this.getAttribute("normal");if(void 0===n)n=new kr(new Float32Array(3*t.count),3),this.setAttribute("normal",n);else for(let e=0,t=n.count;e<t;e++)n.setXYZ(e,0,0,0);const i=new oi,r=new oi,o=new oi,s=new oi,a=new oi,l=new oi,c=new oi,u=new oi;if(e)for(let h=0,d=e.count;h<d;h+=3){const d=e.getX(h+0),p=e.getX(h+1),f=e.getX(h+2);i.fromBufferAttribute(t,d),r.fromBufferAttribute(t,p),o.fromBufferAttribute(t,f),c.subVectors(o,r),u.subVectors(i,r),c.cross(u),s.fromBufferAttribute(n,d),a.fromBufferAttribute(n,p),l.fromBufferAttribute(n,f),s.add(c),a.add(c),l.add(c),n.setXYZ(d,s.x,s.y,s.z),n.setXYZ(p,a.x,a.y,a.z),n.setXYZ(f,l.x,l.y,l.z)}else for(let e=0,h=t.count;e<h;e+=3)i.fromBufferAttribute(t,e+0),r.fromBufferAttribute(t,e+1),o.fromBufferAttribute(t,e+2),c.subVectors(o,r),u.subVectors(i,r),c.cross(u),n.setXYZ(e+0,c.x,c.y,c.z),n.setXYZ(e+1,c.x,c.y,c.z),n.setXYZ(e+2,c.x,c.y,c.z);this.normalizeNormals(),n.needsUpdate=!0}},merge:function(e,t){if(!e||!e.isBufferGeometry)return void console.error("THREE.BufferGeometry.merge(): geometry not an instance of THREE.BufferGeometry.",e);void 0===t&&(t=0,console.warn("THREE.BufferGeometry.merge(): Overwriting original geometry, starting at offset=0. Use BufferGeometryUtils.mergeBufferGeometries() for lossless merge."));const n=this.attributes;for(const i in n){if(void 0===e.attributes[i])continue;const r=n[i].array,o=e.attributes[i],s=o.array,a=o.itemSize*t,l=Math.min(s.length,r.length-a);for(let e=0,t=a;e<l;e++,t++)r[t]=s[e]}return this},normalizeNormals:function(){const e=this.attributes.normal;for(let t=0,n=e.count;t<n;t++)eo.fromBufferAttribute(e,t),eo.normalize(),e.setXYZ(t,eo.x,eo.y,eo.z)},toNonIndexed:function(){function e(e,t){const n=e.array,i=e.itemSize,r=e.normalized,o=new n.constructor(t.length*i);let s=0,a=0;for(let l=0,c=t.length;l<c;l++){s=t[l]*i;for(let e=0;e<i;e++)o[a++]=n[s++]}return new kr(o,i,r)}if(null===this.index)return console.warn("THREE.BufferGeometry.toNonIndexed(): Geometry is already non-indexed."),this;const t=new to,n=this.index.array,i=this.attributes;for(const s in i){const r=e(i[s],n);t.setAttribute(s,r)}const r=this.morphAttributes;for(const s in r){const i=[],o=r[s];for(let t=0,r=o.length;t<r;t++){const r=e(o[t],n);i.push(r)}t.morphAttributes[s]=i}t.morphTargetsRelative=this.morphTargetsRelative;const o=this.groups;for(let s=0,a=o.length;s<a;s++){const e=o[s];t.addGroup(e.start,e.count,e.materialIndex)}return t},toJSON:function(){const e={metadata:{version:4.5,type:"BufferGeometry",generator:"BufferGeometry.toJSON"}};if(e.uuid=this.uuid,e.type=this.type,""!==this.name&&(e.name=this.name),Object.keys(this.userData).length>0&&(e.userData=this.userData),void 0!==this.parameters){const t=this.parameters;for(const n in t)void 0!==t[n]&&(e[n]=t[n]);return e}e.data={attributes:{}};const t=this.index;null!==t&&(e.data.index={type:t.array.constructor.name,array:Array.prototype.slice.call(t.array)});const n=this.attributes;for(const a in n){const t=n[a],i=t.toJSON(e.data);""!==t.name&&(i.name=t.name),e.data.attributes[a]=i}const i={};let r=!1;for(const a in this.morphAttributes){const t=this.morphAttributes[a],n=[];for(let i=0,r=t.length;i<r;i++){const r=t[i],o=r.toJSON(e.data);""!==r.name&&(o.name=r.name),n.push(o)}n.length>0&&(i[a]=n,r=!0)}r&&(e.data.morphAttributes=i,e.data.morphTargetsRelative=this.morphTargetsRelative);const o=this.groups;o.length>0&&(e.data.groups=JSON.parse(JSON.stringify(o)));const s=this.boundingSphere;return null!==s&&(e.data.boundingSphere={center:s.center.toArray(),radius:s.radius}),e},clone:function(){return(new to).copy(this)},copy:function(e){this.index=null,this.attributes={},this.morphAttributes={},this.groups=[],this.boundingBox=null,this.boundingSphere=null;const t={};this.name=e.name;const n=e.index;null!==n&&this.setIndex(n.clone(t));const i=e.attributes;for(const l in i){const e=i[l];this.setAttribute(l,e.clone(t))}const r=e.morphAttributes;for(const l in r){const e=[],n=r[l];for(let i=0,r=n.length;i<r;i++)e.push(n[i].clone(t));this.morphAttributes[l]=e}this.morphTargetsRelative=e.morphTargetsRelative;const o=e.groups;for(let l=0,c=o.length;l<c;l++){const e=o[l];this.addGroup(e.start,e.count,e.materialIndex)}const s=e.boundingBox;null!==s&&(this.boundingBox=s.clone());const a=e.boundingSphere;return null!==a&&(this.boundingSphere=a.clone()),this.drawRange.start=e.drawRange.start,this.drawRange.count=e.drawRange.count,this.userData=e.userData,this},dispose:function(){this.dispatchEvent({type:"dispose"})}});const no=new ki,io=new Ni,ro=new Mi,oo=new oi,so=new oi,ao=new oi,lo=new oi,co=new oi,uo=new oi,ho=new oi,po=new oi,fo=new oi,mo=new Yn,go=new Yn,vo=new Yn,yo=new oi,xo=new oi;function bo(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new to,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new Lr;rr.call(this),this.type="Mesh",this.geometry=e,this.material=t,this.updateMorphTargets()}function wo(e,t,n,i,r,o,s,a){let l;if(l=t.side===S?i.intersectTriangle(s,o,r,!0,a):i.intersectTriangle(r,o,s,t.side!==M,a),null===l)return null;xo.copy(a),xo.applyMatrix4(e.matrixWorld);const c=n.ray.origin.distanceTo(xo);return c<n.near||c>n.far?null:{distance:c,point:xo.clone(),object:e}}function _o(e,t,n,i,r,o,s,a,l,c,u,h){oo.fromBufferAttribute(r,c),so.fromBufferAttribute(r,u),ao.fromBufferAttribute(r,h);const d=e.morphTargetInfluences;if(t.morphTargets&&o&&d){ho.set(0,0,0),po.set(0,0,0),fo.set(0,0,0);for(let e=0,t=o.length;e<t;e++){const t=d[e],n=o[e];0!==t&&(lo.fromBufferAttribute(n,c),co.fromBufferAttribute(n,u),uo.fromBufferAttribute(n,h),s?(ho.addScaledVector(lo,t),po.addScaledVector(co,t),fo.addScaledVector(uo,t)):(ho.addScaledVector(lo.sub(oo),t),po.addScaledVector(co.sub(so),t),fo.addScaledVector(uo.sub(ao),t)))}oo.add(ho),so.add(po),ao.add(fo)}e.isSkinnedMesh&&(e.boneTransform(c,oo),e.boneTransform(u,so),e.boneTransform(h,ao));const p=wo(e,t,n,i,oo,so,ao,yo);if(p){a&&(mo.fromBufferAttribute(a,c),go.fromBufferAttribute(a,u),vo.fromBufferAttribute(a,h),p.uv=xr.getUV(yo,oo,so,ao,mo,go,vo,new Yn)),l&&(mo.fromBufferAttribute(l,c),go.fromBufferAttribute(l,u),vo.fromBufferAttribute(l,h),p.uv2=xr.getUV(yo,oo,so,ao,mo,go,vo,new Yn));const e=new Ar(c,u,h);xr.getNormal(oo,so,ao,e.normal),p.face=e}return p}bo.prototype=Object.assign(Object.create(rr.prototype),{constructor:bo,isMesh:!0,copy:function(e){return rr.prototype.copy.call(this,e),void 0!==e.morphTargetInfluences&&(this.morphTargetInfluences=e.morphTargetInfluences.slice()),void 0!==e.morphTargetDictionary&&(this.morphTargetDictionary=Object.assign({},e.morphTargetDictionary)),this.material=e.material,this.geometry=e.geometry,this},updateMorphTargets:function(){const e=this.geometry;if(e.isBufferGeometry){const t=e.morphAttributes,n=Object.keys(t);if(n.length>0){const e=t[n[0]];if(void 0!==e){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let t=0,n=e.length;t<n;t++){const n=e[t].name||String(t);this.morphTargetInfluences.push(0),this.morphTargetDictionary[n]=t}}}}else{const t=e.morphTargets;void 0!==t&&t.length>0&&console.error("THREE.Mesh.updateMorphTargets() no longer supports THREE.Geometry. Use THREE.BufferGeometry instead.")}},raycast:function(e,t){const n=this.geometry,i=this.material,r=this.matrixWorld;if(void 0===i)return;if(null===n.boundingSphere&&n.computeBoundingSphere(),ro.copy(n.boundingSphere),ro.applyMatrix4(r),!1===e.ray.intersectsSphere(ro))return;if(no.copy(r).invert(),io.copy(e.ray).applyMatrix4(no),null!==n.boundingBox&&!1===io.intersectsBox(n.boundingBox))return;let o;if(n.isBufferGeometry){const r=n.index,s=n.attributes.position,a=n.morphAttributes.position,l=n.morphTargetsRelative,c=n.attributes.uv,u=n.attributes.uv2,h=n.groups,d=n.drawRange;if(null!==r)if(Array.isArray(i))for(let n=0,p=h.length;n<p;n++){const p=h[n],f=i[p.materialIndex];for(let n=Math.max(p.start,d.start),i=Math.min(p.start+p.count,d.start+d.count);n<i;n+=3){const i=r.getX(n),h=r.getX(n+1),d=r.getX(n+2);o=_o(this,f,e,io,s,a,l,c,u,i,h,d),o&&(o.faceIndex=Math.floor(n/3),o.face.materialIndex=p.materialIndex,t.push(o))}}else{for(let n=Math.max(0,d.start),h=Math.min(r.count,d.start+d.count);n<h;n+=3){const h=r.getX(n),d=r.getX(n+1),p=r.getX(n+2);o=_o(this,i,e,io,s,a,l,c,u,h,d,p),o&&(o.faceIndex=Math.floor(n/3),t.push(o))}}else if(void 0!==s)if(Array.isArray(i))for(let n=0,p=h.length;n<p;n++){const r=h[n],p=i[r.materialIndex];for(let n=Math.max(r.start,d.start),i=Math.min(r.start+r.count,d.start+d.count);n<i;n+=3){o=_o(this,p,e,io,s,a,l,c,u,n,n+1,n+2),o&&(o.faceIndex=Math.floor(n/3),o.face.materialIndex=r.materialIndex,t.push(o))}}else{for(let n=Math.max(0,d.start),r=Math.min(s.count,d.start+d.count);n<r;n+=3){o=_o(this,i,e,io,s,a,l,c,u,n,n+1,n+2),o&&(o.faceIndex=Math.floor(n/3),t.push(o))}}}else if(n.isGeometry){const r=Array.isArray(i),s=n.vertices,a=n.faces;let l;const c=n.faceVertexUvs[0];c.length>0&&(l=c);for(let n=0,u=a.length;n<u;n++){const c=a[n],u=r?i[c.materialIndex]:i;if(void 0===u)continue;const h=s[c.a],d=s[c.b],p=s[c.c];if(o=wo(this,u,e,io,h,d,p,yo),o){if(l&&l[n]){const e=l[n];mo.copy(e[0]),go.copy(e[1]),vo.copy(e[2]),o.uv=xr.getUV(yo,h,d,p,mo,go,vo,new Yn)}o.face=c,o.faceIndex=n,t.push(o)}}}}});class So extends to{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1,r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:1,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:1;super(),this.type="BoxBufferGeometry",this.parameters={width:e,height:t,depth:n,widthSegments:i,heightSegments:r,depthSegments:o};const s=this;i=Math.floor(i),r=Math.floor(r),o=Math.floor(o);const a=[],l=[],c=[],u=[];let h=0,d=0;function p(e,t,n,i,r,o,p,f,m,g,v){const y=o/m,x=p/g,b=o/2,w=p/2,_=f/2,S=m+1,M=g+1;let E=0,T=0;const A=new oi;for(let s=0;s<M;s++){const o=s*x-w;for(let a=0;a<S;a++){const h=a*y-b;A[e]=h*i,A[t]=o*r,A[n]=_,l.push(A.x,A.y,A.z),A[e]=0,A[t]=0,A[n]=f>0?1:-1,c.push(A.x,A.y,A.z),u.push(a/m),u.push(1-s/g),E+=1}}for(let s=0;s<g;s++)for(let e=0;e<m;e++){const t=h+e+S*s,n=h+e+S*(s+1),i=h+(e+1)+S*(s+1),r=h+(e+1)+S*s;a.push(t,n,r),a.push(n,i,r),T+=6}s.addGroup(d,T,v),d+=T,h+=E}p("z","y","x",-1,-1,n,t,e,o,r,0),p("z","y","x",1,-1,n,t,-e,o,r,1),p("x","z","y",1,1,e,n,t,i,o,2),p("x","z","y",1,-1,e,n,-t,i,o,3),p("x","y","z",1,-1,e,t,n,i,r,4),p("x","y","z",-1,-1,e,t,-n,i,r,5),this.setIndex(a),this.setAttribute("position",new Hr(l,3)),this.setAttribute("normal",new Hr(c,3)),this.setAttribute("uv",new Hr(u,2))}}function Mo(e){const t={};for(const n in e){t[n]={};for(const i in e[n]){const r=e[n][i];r&&(r.isColor||r.isMatrix3||r.isMatrix4||r.isVector2||r.isVector3||r.isVector4||r.isTexture)?t[n][i]=r.clone():Array.isArray(r)?t[n][i]=r.slice():t[n][i]=r}}return t}function Eo(e){const t={};for(let n=0;n<e.length;n++){const i=Mo(e[n]);for(const e in i)t[e]=i[e]}return t}const To={clone:Mo,merge:Eo};var Ao="void main() {\n\tgl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );\n}",Co="void main() {\n\tgl_FragColor = vec4( 1.0, 0.0, 0.0, 1.0 );\n}";function Ro(e){Rr.call(this),this.type="ShaderMaterial",this.defines={},this.uniforms={},this.vertexShader=Ao,this.fragmentShader=Co,this.linewidth=1,this.wireframe=!1,this.wireframeLinewidth=1,this.fog=!1,this.lights=!1,this.clipping=!1,this.skinning=!1,this.morphTargets=!1,this.morphNormals=!1,this.extensions={derivatives:!1,fragDepth:!1,drawBuffers:!1,shaderTextureLOD:!1},this.defaultAttributeValues={color:[1,1,1],uv:[0,0],uv2:[0,0]},this.index0AttributeName=void 0,this.uniformsNeedUpdate=!1,this.glslVersion=null,void 0!==e&&(void 0!==e.attributes&&console.error("THREE.ShaderMaterial: attributes should now be defined in THREE.BufferGeometry instead."),this.setValues(e))}function Lo(){rr.call(this),this.type="Camera",this.matrixWorldInverse=new ki,this.projectionMatrix=new ki,this.projectionMatrixInverse=new ki}function Po(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:50,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:.1,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:2e3;Lo.call(this),this.type="PerspectiveCamera",this.fov=e,this.zoom=1,this.near=n,this.far=i,this.focus=10,this.aspect=t,this.view=null,this.filmGauge=35,this.filmOffset=0,this.updateProjectionMatrix()}Ro.prototype=Object.create(Rr.prototype),Ro.prototype.constructor=Ro,Ro.prototype.isShaderMaterial=!0,Ro.prototype.copy=function(e){return Rr.prototype.copy.call(this,e),this.fragmentShader=e.fragmentShader,this.vertexShader=e.vertexShader,this.uniforms=Mo(e.uniforms),this.defines=Object.assign({},e.defines),this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.lights=e.lights,this.clipping=e.clipping,this.skinning=e.skinning,this.morphTargets=e.morphTargets,this.morphNormals=e.morphNormals,this.extensions=Object.assign({},e.extensions),this.glslVersion=e.glslVersion,this},Ro.prototype.toJSON=function(e){const t=Rr.prototype.toJSON.call(this,e);t.glslVersion=this.glslVersion,t.uniforms={};for(const i in this.uniforms){const n=this.uniforms[i].value;n&&n.isTexture?t.uniforms[i]={type:"t",value:n.toJSON(e).uuid}:n&&n.isColor?t.uniforms[i]={type:"c",value:n.getHex()}:n&&n.isVector2?t.uniforms[i]={type:"v2",value:n.toArray()}:n&&n.isVector3?t.uniforms[i]={type:"v3",value:n.toArray()}:n&&n.isVector4?t.uniforms[i]={type:"v4",value:n.toArray()}:n&&n.isMatrix3?t.uniforms[i]={type:"m3",value:n.toArray()}:n&&n.isMatrix4?t.uniforms[i]={type:"m4",value:n.toArray()}:t.uniforms[i]={value:n}}Object.keys(this.defines).length>0&&(t.defines=this.defines),t.vertexShader=this.vertexShader,t.fragmentShader=this.fragmentShader;const n={};for(const i in this.extensions)!0===this.extensions[i]&&(n[i]=!0);return Object.keys(n).length>0&&(t.extensions=n),t},Lo.prototype=Object.assign(Object.create(rr.prototype),{constructor:Lo,isCamera:!0,copy:function(e,t){return rr.prototype.copy.call(this,e,t),this.matrixWorldInverse.copy(e.matrixWorldInverse),this.projectionMatrix.copy(e.projectionMatrix),this.projectionMatrixInverse.copy(e.projectionMatrixInverse),this},getWorldDirection:function(e){void 0===e&&(console.warn("THREE.Camera: .getWorldDirection() target is now required"),e=new oi),this.updateWorldMatrix(!0,!1);const t=this.matrixWorld.elements;return e.set(-t[8],-t[9],-t[10]).normalize()},updateMatrixWorld:function(e){rr.prototype.updateMatrixWorld.call(this,e),this.matrixWorldInverse.copy(this.matrixWorld).invert()},updateWorldMatrix:function(e,t){rr.prototype.updateWorldMatrix.call(this,e,t),this.matrixWorldInverse.copy(this.matrixWorld).invert()},clone:function(){return(new this.constructor).copy(this)}}),Po.prototype=Object.assign(Object.create(Lo.prototype),{constructor:Po,isPerspectiveCamera:!0,copy:function(e,t){return Lo.prototype.copy.call(this,e,t),this.fov=e.fov,this.zoom=e.zoom,this.near=e.near,this.far=e.far,this.focus=e.focus,this.aspect=e.aspect,this.view=null===e.view?null:Object.assign({},e.view),this.filmGauge=e.filmGauge,this.filmOffset=e.filmOffset,this},setFocalLength:function(e){const t=.5*this.getFilmHeight()/e;this.fov=2*Xn.RAD2DEG*Math.atan(t),this.updateProjectionMatrix()},getFocalLength:function(){const e=Math.tan(.5*Xn.DEG2RAD*this.fov);return.5*this.getFilmHeight()/e},getEffectiveFOV:function(){return 2*Xn.RAD2DEG*Math.atan(Math.tan(.5*Xn.DEG2RAD*this.fov)/this.zoom)},getFilmWidth:function(){return this.filmGauge*Math.min(this.aspect,1)},getFilmHeight:function(){return this.filmGauge/Math.max(this.aspect,1)},setViewOffset:function(e,t,n,i,r,o){this.aspect=e/t,null===this.view&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=e,this.view.fullHeight=t,this.view.offsetX=n,this.view.offsetY=i,this.view.width=r,this.view.height=o,this.updateProjectionMatrix()},clearViewOffset:function(){null!==this.view&&(this.view.enabled=!1),this.updateProjectionMatrix()},updateProjectionMatrix:function(){const e=this.near;let t=e*Math.tan(.5*Xn.DEG2RAD*this.fov)/this.zoom,n=2*t,i=this.aspect*n,r=-.5*i;const o=this.view;if(null!==this.view&&this.view.enabled){const e=o.fullWidth,s=o.fullHeight;r+=o.offsetX*i/e,t-=o.offsetY*n/s,i*=o.width/e,n*=o.height/s}const s=this.filmOffset;0!==s&&(r+=e*s/this.getFilmWidth()),this.projectionMatrix.makePerspective(r,r+i,t,t-n,e,this.far),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()},toJSON:function(e){const t=rr.prototype.toJSON.call(this,e);return t.object.fov=this.fov,t.object.zoom=this.zoom,t.object.near=this.near,t.object.far=this.far,t.object.focus=this.focus,t.object.aspect=this.aspect,null!==this.view&&(t.object.view=Object.assign({},this.view)),t.object.filmGauge=this.filmGauge,t.object.filmOffset=this.filmOffset,t}});const No=90,ko=1;function Oo(e,t,n){if(rr.call(this),this.type="CubeCamera",!0!==n.isWebGLCubeRenderTarget)return void console.error("THREE.CubeCamera: The constructor now expects an instance of WebGLCubeRenderTarget as third parameter.");this.renderTarget=n;const i=new Po(No,ko,e,t);i.layers=this.layers,i.up.set(0,-1,0),i.lookAt(new oi(1,0,0)),this.add(i);const r=new Po(No,ko,e,t);r.layers=this.layers,r.up.set(0,-1,0),r.lookAt(new oi(-1,0,0)),this.add(r);const o=new Po(No,ko,e,t);o.layers=this.layers,o.up.set(0,0,1),o.lookAt(new oi(0,1,0)),this.add(o);const s=new Po(No,ko,e,t);s.layers=this.layers,s.up.set(0,0,-1),s.lookAt(new oi(0,-1,0)),this.add(s);const a=new Po(No,ko,e,t);a.layers=this.layers,a.up.set(0,-1,0),a.lookAt(new oi(0,0,1)),this.add(a);const l=new Po(No,ko,e,t);l.layers=this.layers,l.up.set(0,-1,0),l.lookAt(new oi(0,0,-1)),this.add(l),this.update=function(e,t){null===this.parent&&this.updateMatrixWorld();const c=e.xr.enabled,u=e.getRenderTarget();e.xr.enabled=!1;const h=n.texture.generateMipmaps;n.texture.generateMipmaps=!1,e.setRenderTarget(n,0),e.render(t,i),e.setRenderTarget(n,1),e.render(t,r),e.setRenderTarget(n,2),e.render(t,o),e.setRenderTarget(n,3),e.render(t,s),e.setRenderTarget(n,4),e.render(t,a),n.texture.generateMipmaps=h,e.setRenderTarget(n,5),e.render(t,l),e.setRenderTarget(u),e.xr.enabled=c}}function Do(e,t,n,i,r,o,s,a,l,c){e=void 0!==e?e:[],t=void 0!==t?t:pe,s=void 0!==s?s:We,$n.call(this,e,t,n,i,r,o,s,a,l,c),this.flipY=!1,this._needsFlipEnvMap=!0}function jo(e,t,n){Number.isInteger(t)&&(console.warn("THREE.WebGLCubeRenderTarget: constructor signature is now WebGLCubeRenderTarget( size, options )"),t=n),ni.call(this,e,e,t),t=t||{},this.texture=new Do(void 0,t.mapping,t.wrapS,t.wrapT,t.magFilter,t.minFilter,t.format,t.type,t.anisotropy,t.encoding),this.texture._needsFlipEnvMap=!1}function Fo(e,t,n,i,r,o,s,a,l,c,u,h){$n.call(this,null,o,s,a,l,c,i,r,u,h),this.image={data:e||null,width:t||1,height:n||1},this.magFilter=void 0!==l?l:_e,this.minFilter=void 0!==c?c:_e,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1,this.needsUpdate=!0}Oo.prototype=Object.create(rr.prototype),Oo.prototype.constructor=Oo,Do.prototype=Object.create($n.prototype),Do.prototype.constructor=Do,Do.prototype.isCubeTexture=!0,Object.defineProperty(Do.prototype,"images",{get:function(){return this.image},set:function(e){this.image=e}}),jo.prototype=Object.create(ni.prototype),jo.prototype.constructor=jo,jo.prototype.isWebGLCubeRenderTarget=!0,jo.prototype.fromEquirectangularTexture=function(e,t){this.texture.type=t.type,this.texture.format=qe,this.texture.encoding=t.encoding,this.texture.generateMipmaps=t.generateMipmaps,this.texture.minFilter=t.minFilter,this.texture.magFilter=t.magFilter;const n={tEquirect:{value:null}},i="\n\n\t\t\tvarying vec3 vWorldDirection;\n\n\t\t\tvec3 transformDirection( in vec3 dir, in mat4 matrix ) {\n\n\t\t\t\treturn normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );\n\n\t\t\t}\n\n\t\t\tvoid main() {\n\n\t\t\t\tvWorldDirection = transformDirection( position, modelMatrix );\n\n\t\t\t\t#include <begin_vertex>\n\t\t\t\t#include <project_vertex>\n\n\t\t\t}\n\t\t",r="\n\n\t\t\tuniform sampler2D tEquirect;\n\n\t\t\tvarying vec3 vWorldDirection;\n\n\t\t\t#include <common>\n\n\t\t\tvoid main() {\n\n\t\t\t\tvec3 direction = normalize( vWorldDirection );\n\n\t\t\t\tvec2 sampleUV = equirectUv( direction );\n\n\t\t\t\tgl_FragColor = texture2D( tEquirect, sampleUV );\n\n\t\t\t}\n\t\t",o=new So(5,5,5),s=new Ro({name:"CubemapFromEquirect",uniforms:Mo(n),vertexShader:i,fragmentShader:r,side:S,blending:A});s.uniforms.tEquirect.value=t;const a=new bo(o,s),l=t.minFilter;t.minFilter===Le&&(t.minFilter=Ae);return new Oo(1,10,this).update(e,a),t.minFilter=l,a.geometry.dispose(),a.material.dispose(),this},jo.prototype.clear=function(e,t,n,i){const r=e.getRenderTarget();for(let o=0;o<6;o++)e.setRenderTarget(this,o),e.clear(t,n,i);e.setRenderTarget(r)},Fo.prototype=Object.create($n.prototype),Fo.prototype.constructor=Fo,Fo.prototype.isDataTexture=!0;const Io=new Mi,zo=new oi;class Bo{constructor(e,t,n,i,r,o){this.planes=[void 0!==e?e:new lr,void 0!==t?t:new lr,void 0!==n?n:new lr,void 0!==i?i:new lr,void 0!==r?r:new lr,void 0!==o?o:new lr]}set(e,t,n,i,r,o){const s=this.planes;return s[0].copy(e),s[1].copy(t),s[2].copy(n),s[3].copy(i),s[4].copy(r),s[5].copy(o),this}clone(){return(new this.constructor).copy(this)}copy(e){const t=this.planes;for(let n=0;n<6;n++)t[n].copy(e.planes[n]);return this}setFromProjectionMatrix(e){const t=this.planes,n=e.elements,i=n[0],r=n[1],o=n[2],s=n[3],a=n[4],l=n[5],c=n[6],u=n[7],h=n[8],d=n[9],p=n[10],f=n[11],m=n[12],g=n[13],v=n[14],y=n[15];return t[0].setComponents(s-i,u-a,f-h,y-m).normalize(),t[1].setComponents(s+i,u+a,f+h,y+m).normalize(),t[2].setComponents(s+r,u+l,f+d,y+g).normalize(),t[3].setComponents(s-r,u-l,f-d,y-g).normalize(),t[4].setComponents(s-o,u-c,f-p,y-v).normalize(),t[5].setComponents(s+o,u+c,f+p,y+v).normalize(),this}intersectsObject(e){const t=e.geometry;return null===t.boundingSphere&&t.computeBoundingSphere(),Io.copy(t.boundingSphere).applyMatrix4(e.matrixWorld),this.intersectsSphere(Io)}intersectsSprite(e){return Io.center.set(0,0,0),Io.radius=.7071067811865476,Io.applyMatrix4(e.matrixWorld),this.intersectsSphere(Io)}intersectsSphere(e){const t=this.planes,n=e.center,i=-e.radius;for(let r=0;r<6;r++){if(t[r].distanceToPoint(n)<i)return!1}return!0}intersectsBox(e){const t=this.planes;for(let n=0;n<6;n++){const i=t[n];if(zo.x=i.normal.x>0?e.max.x:e.min.x,zo.y=i.normal.y>0?e.max.y:e.min.y,zo.z=i.normal.z>0?e.max.z:e.min.z,i.distanceToPoint(zo)<0)return!1}return!0}containsPoint(e){const t=this.planes;for(let n=0;n<6;n++)if(t[n].distanceToPoint(e)<0)return!1;return!0}}function Uo(){let e=null,t=!1,n=null,i=null;function r(t,o){n(t,o),i=e.requestAnimationFrame(r)}return{start:function(){!0!==t&&null!==n&&(i=e.requestAnimationFrame(r),t=!0)},stop:function(){e.cancelAnimationFrame(i),t=!1},setAnimationLoop:function(e){n=e},setContext:function(t){e=t}}}function Ho(e,t){const n=t.isWebGL2,i=new WeakMap;return{get:function(e){return e.isInterleavedBufferAttribute&&(e=e.data),i.get(e)},remove:function(t){t.isInterleavedBufferAttribute&&(t=t.data);const n=i.get(t);n&&(e.deleteBuffer(n.buffer),i.delete(t))},update:function(t,r){if(t.isGLBufferAttribute){const e=i.get(t);return void((!e||e.version<t.version)&&i.set(t,{buffer:t.buffer,type:t.type,bytesPerElement:t.elementSize,version:t.version}))}t.isInterleavedBufferAttribute&&(t=t.data);const o=i.get(t);void 0===o?i.set(t,function(t,i){const r=t.array,o=t.usage,s=e.createBuffer();e.bindBuffer(i,s),e.bufferData(i,r,o),t.onUploadCallback();let a=5126;return r instanceof Float32Array?a=5126:r instanceof Float64Array?console.warn("THREE.WebGLAttributes: Unsupported data buffer format: Float64Array."):r instanceof Uint16Array?t.isFloat16BufferAttribute?n?a=5131:console.warn("THREE.WebGLAttributes: Usage of Float16BufferAttribute requires WebGL2."):a=5123:r instanceof Int16Array?a=5122:r instanceof Uint32Array?a=5125:r instanceof Int32Array?a=5124:r instanceof Int8Array?a=5120:r instanceof Uint8Array&&(a=5121),{buffer:s,type:a,bytesPerElement:r.BYTES_PER_ELEMENT,version:t.version}}(t,r)):o.version<t.version&&(!function(t,i,r){const o=i.array,s=i.updateRange;e.bindBuffer(r,t),-1===s.count?e.bufferSubData(r,0,o):(n?e.bufferSubData(r,s.offset*o.BYTES_PER_ELEMENT,o,s.offset,s.count):e.bufferSubData(r,s.offset*o.BYTES_PER_ELEMENT,o.subarray(s.offset,s.offset+s.count)),s.count=-1)}(o.buffer,t,r),o.version=t.version)}}}class Go extends to{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1;super(),this.type="PlaneBufferGeometry",this.parameters={width:e,height:t,widthSegments:n,heightSegments:i};const r=e/2,o=t/2,s=Math.floor(n),a=Math.floor(i),l=s+1,c=a+1,u=e/s,h=t/a,d=[],p=[],f=[],m=[];for(let g=0;g<c;g++){const e=g*h-o;for(let t=0;t<l;t++){const n=t*u-r;p.push(n,-e,0),f.push(0,0,1),m.push(t/s),m.push(1-g/a)}}for(let g=0;g<a;g++)for(let e=0;e<s;e++){const t=e+l*g,n=e+l*(g+1),i=e+1+l*(g+1),r=e+1+l*g;d.push(t,n,r),d.push(n,i,r)}this.setIndex(d),this.setAttribute("position",new Hr(p,3)),this.setAttribute("normal",new Hr(f,3)),this.setAttribute("uv",new Hr(m,2))}}const Vo={alphamap_fragment:"#ifdef USE_ALPHAMAP\n\tdiffuseColor.a *= texture2D( alphaMap, vUv ).g;\n#endif",alphamap_pars_fragment:"#ifdef USE_ALPHAMAP\n\tuniform sampler2D alphaMap;\n#endif",alphatest_fragment:"#ifdef ALPHATEST\n\tif ( diffuseColor.a < ALPHATEST ) discard;\n#endif",aomap_fragment:"#ifdef USE_AOMAP\n\tfloat ambientOcclusion = ( texture2D( aoMap, vUv2 ).r - 1.0 ) * aoMapIntensity + 1.0;\n\treflectedLight.indirectDiffuse *= ambientOcclusion;\n\t#if defined( USE_ENVMAP ) && defined( STANDARD )\n\t\tfloat dotNV = saturate( dot( geometry.normal, geometry.viewDir ) );\n\t\treflectedLight.indirectSpecular *= computeSpecularOcclusion( dotNV, ambientOcclusion, material.specularRoughness );\n\t#endif\n#endif",aomap_pars_fragment:"#ifdef USE_AOMAP\n\tuniform sampler2D aoMap;\n\tuniform float aoMapIntensity;\n#endif",begin_vertex:"vec3 transformed = vec3( position );",beginnormal_vertex:"vec3 objectNormal = vec3( normal );\n#ifdef USE_TANGENT\n\tvec3 objectTangent = vec3( tangent.xyz );\n#endif",bsdfs:"vec2 integrateSpecularBRDF( const in float dotNV, const in float roughness ) {\n\tconst vec4 c0 = vec4( - 1, - 0.0275, - 0.572, 0.022 );\n\tconst vec4 c1 = vec4( 1, 0.0425, 1.04, - 0.04 );\n\tvec4 r = roughness * c0 + c1;\n\tfloat a004 = min( r.x * r.x, exp2( - 9.28 * dotNV ) ) * r.x + r.y;\n\treturn vec2( -1.04, 1.04 ) * a004 + r.zw;\n}\nfloat punctualLightIntensityToIrradianceFactor( const in float lightDistance, const in float cutoffDistance, const in float decayExponent ) {\n#if defined ( PHYSICALLY_CORRECT_LIGHTS )\n\tfloat distanceFalloff = 1.0 / max( pow( lightDistance, decayExponent ), 0.01 );\n\tif( cutoffDistance > 0.0 ) {\n\t\tdistanceFalloff *= pow2( saturate( 1.0 - pow4( lightDistance / cutoffDistance ) ) );\n\t}\n\treturn distanceFalloff;\n#else\n\tif( cutoffDistance > 0.0 && decayExponent > 0.0 ) {\n\t\treturn pow( saturate( -lightDistance / cutoffDistance + 1.0 ), decayExponent );\n\t}\n\treturn 1.0;\n#endif\n}\nvec3 BRDF_Diffuse_Lambert( const in vec3 diffuseColor ) {\n\treturn RECIPROCAL_PI * diffuseColor;\n}\nvec3 F_Schlick( const in vec3 specularColor, const in float dotLH ) {\n\tfloat fresnel = exp2( ( -5.55473 * dotLH - 6.98316 ) * dotLH );\n\treturn ( 1.0 - specularColor ) * fresnel + specularColor;\n}\nvec3 F_Schlick_RoughnessDependent( const in vec3 F0, const in float dotNV, const in float roughness ) {\n\tfloat fresnel = exp2( ( -5.55473 * dotNV - 6.98316 ) * dotNV );\n\tvec3 Fr = max( vec3( 1.0 - roughness ), F0 ) - F0;\n\treturn Fr * fresnel + F0;\n}\nfloat G_GGX_Smith( const in float alpha, const in float dotNL, const in float dotNV ) {\n\tfloat a2 = pow2( alpha );\n\tfloat gl = dotNL + sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNL ) );\n\tfloat gv = dotNV + sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNV ) );\n\treturn 1.0 / ( gl * gv );\n}\nfloat G_GGX_SmithCorrelated( const in float alpha, const in float dotNL, const in float dotNV ) {\n\tfloat a2 = pow2( alpha );\n\tfloat gv = dotNL * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNV ) );\n\tfloat gl = dotNV * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNL ) );\n\treturn 0.5 / max( gv + gl, EPSILON );\n}\nfloat D_GGX( const in float alpha, const in float dotNH ) {\n\tfloat a2 = pow2( alpha );\n\tfloat denom = pow2( dotNH ) * ( a2 - 1.0 ) + 1.0;\n\treturn RECIPROCAL_PI * a2 / pow2( denom );\n}\nvec3 BRDF_Specular_GGX( const in IncidentLight incidentLight, const in vec3 viewDir, const in vec3 normal, const in vec3 specularColor, const in float roughness ) {\n\tfloat alpha = pow2( roughness );\n\tvec3 halfDir = normalize( incidentLight.direction + viewDir );\n\tfloat dotNL = saturate( dot( normal, incidentLight.direction ) );\n\tfloat dotNV = saturate( dot( normal, viewDir ) );\n\tfloat dotNH = saturate( dot( normal, halfDir ) );\n\tfloat dotLH = saturate( dot( incidentLight.direction, halfDir ) );\n\tvec3 F = F_Schlick( specularColor, dotLH );\n\tfloat G = G_GGX_SmithCorrelated( alpha, dotNL, dotNV );\n\tfloat D = D_GGX( alpha, dotNH );\n\treturn F * ( G * D );\n}\nvec2 LTC_Uv( const in vec3 N, const in vec3 V, const in float roughness ) {\n\tconst float LUT_SIZE = 64.0;\n\tconst float LUT_SCALE = ( LUT_SIZE - 1.0 ) / LUT_SIZE;\n\tconst float LUT_BIAS = 0.5 / LUT_SIZE;\n\tfloat dotNV = saturate( dot( N, V ) );\n\tvec2 uv = vec2( roughness, sqrt( 1.0 - dotNV ) );\n\tuv = uv * LUT_SCALE + LUT_BIAS;\n\treturn uv;\n}\nfloat LTC_ClippedSphereFormFactor( const in vec3 f ) {\n\tfloat l = length( f );\n\treturn max( ( l * l + f.z ) / ( l + 1.0 ), 0.0 );\n}\nvec3 LTC_EdgeVectorFormFactor( const in vec3 v1, const in vec3 v2 ) {\n\tfloat x = dot( v1, v2 );\n\tfloat y = abs( x );\n\tfloat a = 0.8543985 + ( 0.4965155 + 0.0145206 * y ) * y;\n\tfloat b = 3.4175940 + ( 4.1616724 + y ) * y;\n\tfloat v = a / b;\n\tfloat theta_sintheta = ( x > 0.0 ) ? v : 0.5 * inversesqrt( max( 1.0 - x * x, 1e-7 ) ) - v;\n\treturn cross( v1, v2 ) * theta_sintheta;\n}\nvec3 LTC_Evaluate( const in vec3 N, const in vec3 V, const in vec3 P, const in mat3 mInv, const in vec3 rectCoords[ 4 ] ) {\n\tvec3 v1 = rectCoords[ 1 ] - rectCoords[ 0 ];\n\tvec3 v2 = rectCoords[ 3 ] - rectCoords[ 0 ];\n\tvec3 lightNormal = cross( v1, v2 );\n\tif( dot( lightNormal, P - rectCoords[ 0 ] ) < 0.0 ) return vec3( 0.0 );\n\tvec3 T1, T2;\n\tT1 = normalize( V - N * dot( V, N ) );\n\tT2 = - cross( N, T1 );\n\tmat3 mat = mInv * transposeMat3( mat3( T1, T2, N ) );\n\tvec3 coords[ 4 ];\n\tcoords[ 0 ] = mat * ( rectCoords[ 0 ] - P );\n\tcoords[ 1 ] = mat * ( rectCoords[ 1 ] - P );\n\tcoords[ 2 ] = mat * ( rectCoords[ 2 ] - P );\n\tcoords[ 3 ] = mat * ( rectCoords[ 3 ] - P );\n\tcoords[ 0 ] = normalize( coords[ 0 ] );\n\tcoords[ 1 ] = normalize( coords[ 1 ] );\n\tcoords[ 2 ] = normalize( coords[ 2 ] );\n\tcoords[ 3 ] = normalize( coords[ 3 ] );\n\tvec3 vectorFormFactor = vec3( 0.0 );\n\tvectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 0 ], coords[ 1 ] );\n\tvectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 1 ], coords[ 2 ] );\n\tvectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 2 ], coords[ 3 ] );\n\tvectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 3 ], coords[ 0 ] );\n\tfloat result = LTC_ClippedSphereFormFactor( vectorFormFactor );\n\treturn vec3( result );\n}\nvec3 BRDF_Specular_GGX_Environment( const in vec3 viewDir, const in vec3 normal, const in vec3 specularColor, const in float roughness ) {\n\tfloat dotNV = saturate( dot( normal, viewDir ) );\n\tvec2 brdf = integrateSpecularBRDF( dotNV, roughness );\n\treturn specularColor * brdf.x + brdf.y;\n}\nvoid BRDF_Specular_Multiscattering_Environment( const in GeometricContext geometry, const in vec3 specularColor, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {\n\tfloat dotNV = saturate( dot( geometry.normal, geometry.viewDir ) );\n\tvec3 F = F_Schlick_RoughnessDependent( specularColor, dotNV, roughness );\n\tvec2 brdf = integrateSpecularBRDF( dotNV, roughness );\n\tvec3 FssEss = F * brdf.x + brdf.y;\n\tfloat Ess = brdf.x + brdf.y;\n\tfloat Ems = 1.0 - Ess;\n\tvec3 Favg = specularColor + ( 1.0 - specularColor ) * 0.047619;\tvec3 Fms = FssEss * Favg / ( 1.0 - Ems * Favg );\n\tsingleScatter += FssEss;\n\tmultiScatter += Fms * Ems;\n}\nfloat G_BlinnPhong_Implicit( ) {\n\treturn 0.25;\n}\nfloat D_BlinnPhong( const in float shininess, const in float dotNH ) {\n\treturn RECIPROCAL_PI * ( shininess * 0.5 + 1.0 ) * pow( dotNH, shininess );\n}\nvec3 BRDF_Specular_BlinnPhong( const in IncidentLight incidentLight, const in GeometricContext geometry, const in vec3 specularColor, const in float shininess ) {\n\tvec3 halfDir = normalize( incidentLight.direction + geometry.viewDir );\n\tfloat dotNH = saturate( dot( geometry.normal, halfDir ) );\n\tfloat dotLH = saturate( dot( incidentLight.direction, halfDir ) );\n\tvec3 F = F_Schlick( specularColor, dotLH );\n\tfloat G = G_BlinnPhong_Implicit( );\n\tfloat D = D_BlinnPhong( shininess, dotNH );\n\treturn F * ( G * D );\n}\nfloat GGXRoughnessToBlinnExponent( const in float ggxRoughness ) {\n\treturn ( 2.0 / pow2( ggxRoughness + 0.0001 ) - 2.0 );\n}\nfloat BlinnExponentToGGXRoughness( const in float blinnExponent ) {\n\treturn sqrt( 2.0 / ( blinnExponent + 2.0 ) );\n}\n#if defined( USE_SHEEN )\nfloat D_Charlie(float roughness, float NoH) {\n\tfloat invAlpha = 1.0 / roughness;\n\tfloat cos2h = NoH * NoH;\n\tfloat sin2h = max(1.0 - cos2h, 0.0078125);\treturn (2.0 + invAlpha) * pow(sin2h, invAlpha * 0.5) / (2.0 * PI);\n}\nfloat V_Neubelt(float NoV, float NoL) {\n\treturn saturate(1.0 / (4.0 * (NoL + NoV - NoL * NoV)));\n}\nvec3 BRDF_Specular_Sheen( const in float roughness, const in vec3 L, const in GeometricContext geometry, vec3 specularColor ) {\n\tvec3 N = geometry.normal;\n\tvec3 V = geometry.viewDir;\n\tvec3 H = normalize( V + L );\n\tfloat dotNH = saturate( dot( N, H ) );\n\treturn specularColor * D_Charlie( roughness, dotNH ) * V_Neubelt( dot(N, V), dot(N, L) );\n}\n#endif",bumpmap_pars_fragment:"#ifdef USE_BUMPMAP\n\tuniform sampler2D bumpMap;\n\tuniform float bumpScale;\n\tvec2 dHdxy_fwd() {\n\t\tvec2 dSTdx = dFdx( vUv );\n\t\tvec2 dSTdy = dFdy( vUv );\n\t\tfloat Hll = bumpScale * texture2D( bumpMap, vUv ).x;\n\t\tfloat dBx = bumpScale * texture2D( bumpMap, vUv + dSTdx ).x - Hll;\n\t\tfloat dBy = bumpScale * texture2D( bumpMap, vUv + dSTdy ).x - Hll;\n\t\treturn vec2( dBx, dBy );\n\t}\n\tvec3 perturbNormalArb( vec3 surf_pos, vec3 surf_norm, vec2 dHdxy ) {\n\t\tvec3 vSigmaX = vec3( dFdx( surf_pos.x ), dFdx( surf_pos.y ), dFdx( surf_pos.z ) );\n\t\tvec3 vSigmaY = vec3( dFdy( surf_pos.x ), dFdy( surf_pos.y ), dFdy( surf_pos.z ) );\n\t\tvec3 vN = surf_norm;\n\t\tvec3 R1 = cross( vSigmaY, vN );\n\t\tvec3 R2 = cross( vN, vSigmaX );\n\t\tfloat fDet = dot( vSigmaX, R1 );\n\t\tfDet *= ( float( gl_FrontFacing ) * 2.0 - 1.0 );\n\t\tvec3 vGrad = sign( fDet ) * ( dHdxy.x * R1 + dHdxy.y * R2 );\n\t\treturn normalize( abs( fDet ) * surf_norm - vGrad );\n\t}\n#endif",clipping_planes_fragment:"#if NUM_CLIPPING_PLANES > 0\n\tvec4 plane;\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < UNION_CLIPPING_PLANES; i ++ ) {\n\t\tplane = clippingPlanes[ i ];\n\t\tif ( dot( vClipPosition, plane.xyz ) > plane.w ) discard;\n\t}\n\t#pragma unroll_loop_end\n\t#if UNION_CLIPPING_PLANES < NUM_CLIPPING_PLANES\n\t\tbool clipped = true;\n\t\t#pragma unroll_loop_start\n\t\tfor ( int i = UNION_CLIPPING_PLANES; i < NUM_CLIPPING_PLANES; i ++ ) {\n\t\t\tplane = clippingPlanes[ i ];\n\t\t\tclipped = ( dot( vClipPosition, plane.xyz ) > plane.w ) && clipped;\n\t\t}\n\t\t#pragma unroll_loop_end\n\t\tif ( clipped ) discard;\n\t#endif\n#endif",clipping_planes_pars_fragment:"#if NUM_CLIPPING_PLANES > 0\n\tvarying vec3 vClipPosition;\n\tuniform vec4 clippingPlanes[ NUM_CLIPPING_PLANES ];\n#endif",clipping_planes_pars_vertex:"#if NUM_CLIPPING_PLANES > 0\n\tvarying vec3 vClipPosition;\n#endif",clipping_planes_vertex:"#if NUM_CLIPPING_PLANES > 0\n\tvClipPosition = - mvPosition.xyz;\n#endif",color_fragment:"#ifdef USE_COLOR\n\tdiffuseColor.rgb *= vColor;\n#endif",color_pars_fragment:"#ifdef USE_COLOR\n\tvarying vec3 vColor;\n#endif",color_pars_vertex:"#if defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR )\n\tvarying vec3 vColor;\n#endif",color_vertex:"#if defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR )\n\tvColor = vec3( 1.0 );\n#endif\n#ifdef USE_COLOR\n\tvColor.xyz *= color.xyz;\n#endif\n#ifdef USE_INSTANCING_COLOR\n\tvColor.xyz *= instanceColor.xyz;\n#endif",common:"#define PI 3.141592653589793\n#define PI2 6.283185307179586\n#define PI_HALF 1.5707963267948966\n#define RECIPROCAL_PI 0.3183098861837907\n#define RECIPROCAL_PI2 0.15915494309189535\n#define EPSILON 1e-6\n#ifndef saturate\n#define saturate(a) clamp( a, 0.0, 1.0 )\n#endif\n#define whiteComplement(a) ( 1.0 - saturate( a ) )\nfloat pow2( const in float x ) { return x*x; }\nfloat pow3( const in float x ) { return x*x*x; }\nfloat pow4( const in float x ) { float x2 = x*x; return x2*x2; }\nfloat average( const in vec3 color ) { return dot( color, vec3( 0.3333 ) ); }\nhighp float rand( const in vec2 uv ) {\n\tconst highp float a = 12.9898, b = 78.233, c = 43758.5453;\n\thighp float dt = dot( uv.xy, vec2( a,b ) ), sn = mod( dt, PI );\n\treturn fract(sin(sn) * c);\n}\n#ifdef HIGH_PRECISION\n\tfloat precisionSafeLength( vec3 v ) { return length( v ); }\n#else\n\tfloat max3( vec3 v ) { return max( max( v.x, v.y ), v.z ); }\n\tfloat precisionSafeLength( vec3 v ) {\n\t\tfloat maxComponent = max3( abs( v ) );\n\t\treturn length( v / maxComponent ) * maxComponent;\n\t}\n#endif\nstruct IncidentLight {\n\tvec3 color;\n\tvec3 direction;\n\tbool visible;\n};\nstruct ReflectedLight {\n\tvec3 directDiffuse;\n\tvec3 directSpecular;\n\tvec3 indirectDiffuse;\n\tvec3 indirectSpecular;\n};\nstruct GeometricContext {\n\tvec3 position;\n\tvec3 normal;\n\tvec3 viewDir;\n#ifdef CLEARCOAT\n\tvec3 clearcoatNormal;\n#endif\n};\nvec3 transformDirection( in vec3 dir, in mat4 matrix ) {\n\treturn normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );\n}\nvec3 inverseTransformDirection( in vec3 dir, in mat4 matrix ) {\n\treturn normalize( ( vec4( dir, 0.0 ) * matrix ).xyz );\n}\nvec3 projectOnPlane(in vec3 point, in vec3 pointOnPlane, in vec3 planeNormal ) {\n\tfloat distance = dot( planeNormal, point - pointOnPlane );\n\treturn - distance * planeNormal + point;\n}\nfloat sideOfPlane( in vec3 point, in vec3 pointOnPlane, in vec3 planeNormal ) {\n\treturn sign( dot( point - pointOnPlane, planeNormal ) );\n}\nvec3 linePlaneIntersect( in vec3 pointOnLine, in vec3 lineDirection, in vec3 pointOnPlane, in vec3 planeNormal ) {\n\treturn lineDirection * ( dot( planeNormal, pointOnPlane - pointOnLine ) / dot( planeNormal, lineDirection ) ) + pointOnLine;\n}\nmat3 transposeMat3( const in mat3 m ) {\n\tmat3 tmp;\n\ttmp[ 0 ] = vec3( m[ 0 ].x, m[ 1 ].x, m[ 2 ].x );\n\ttmp[ 1 ] = vec3( m[ 0 ].y, m[ 1 ].y, m[ 2 ].y );\n\ttmp[ 2 ] = vec3( m[ 0 ].z, m[ 1 ].z, m[ 2 ].z );\n\treturn tmp;\n}\nfloat linearToRelativeLuminance( const in vec3 color ) {\n\tvec3 weights = vec3( 0.2126, 0.7152, 0.0722 );\n\treturn dot( weights, color.rgb );\n}\nbool isPerspectiveMatrix( mat4 m ) {\n\treturn m[ 2 ][ 3 ] == - 1.0;\n}\nvec2 equirectUv( in vec3 dir ) {\n\tfloat u = atan( dir.z, dir.x ) * RECIPROCAL_PI2 + 0.5;\n\tfloat v = asin( clamp( dir.y, - 1.0, 1.0 ) ) * RECIPROCAL_PI + 0.5;\n\treturn vec2( u, v );\n}",cube_uv_reflection_fragment:"#ifdef ENVMAP_TYPE_CUBE_UV\n\t#define cubeUV_maxMipLevel 8.0\n\t#define cubeUV_minMipLevel 4.0\n\t#define cubeUV_maxTileSize 256.0\n\t#define cubeUV_minTileSize 16.0\n\tfloat getFace( vec3 direction ) {\n\t\tvec3 absDirection = abs( direction );\n\t\tfloat face = - 1.0;\n\t\tif ( absDirection.x > absDirection.z ) {\n\t\t\tif ( absDirection.x > absDirection.y )\n\t\t\t\tface = direction.x > 0.0 ? 0.0 : 3.0;\n\t\t\telse\n\t\t\t\tface = direction.y > 0.0 ? 1.0 : 4.0;\n\t\t} else {\n\t\t\tif ( absDirection.z > absDirection.y )\n\t\t\t\tface = direction.z > 0.0 ? 2.0 : 5.0;\n\t\t\telse\n\t\t\t\tface = direction.y > 0.0 ? 1.0 : 4.0;\n\t\t}\n\t\treturn face;\n\t}\n\tvec2 getUV( vec3 direction, float face ) {\n\t\tvec2 uv;\n\t\tif ( face == 0.0 ) {\n\t\t\tuv = vec2( direction.z, direction.y ) / abs( direction.x );\n\t\t} else if ( face == 1.0 ) {\n\t\t\tuv = vec2( - direction.x, - direction.z ) / abs( direction.y );\n\t\t} else if ( face == 2.0 ) {\n\t\t\tuv = vec2( - direction.x, direction.y ) / abs( direction.z );\n\t\t} else if ( face == 3.0 ) {\n\t\t\tuv = vec2( - direction.z, direction.y ) / abs( direction.x );\n\t\t} else if ( face == 4.0 ) {\n\t\t\tuv = vec2( - direction.x, direction.z ) / abs( direction.y );\n\t\t} else {\n\t\t\tuv = vec2( direction.x, direction.y ) / abs( direction.z );\n\t\t}\n\t\treturn 0.5 * ( uv + 1.0 );\n\t}\n\tvec3 bilinearCubeUV( sampler2D envMap, vec3 direction, float mipInt ) {\n\t\tfloat face = getFace( direction );\n\t\tfloat filterInt = max( cubeUV_minMipLevel - mipInt, 0.0 );\n\t\tmipInt = max( mipInt, cubeUV_minMipLevel );\n\t\tfloat faceSize = exp2( mipInt );\n\t\tfloat texelSize = 1.0 / ( 3.0 * cubeUV_maxTileSize );\n\t\tvec2 uv = getUV( direction, face ) * ( faceSize - 1.0 );\n\t\tvec2 f = fract( uv );\n\t\tuv += 0.5 - f;\n\t\tif ( face > 2.0 ) {\n\t\t\tuv.y += faceSize;\n\t\t\tface -= 3.0;\n\t\t}\n\t\tuv.x += face * faceSize;\n\t\tif ( mipInt < cubeUV_maxMipLevel ) {\n\t\t\tuv.y += 2.0 * cubeUV_maxTileSize;\n\t\t}\n\t\tuv.y += filterInt * 2.0 * cubeUV_minTileSize;\n\t\tuv.x += 3.0 * max( 0.0, cubeUV_maxTileSize - 2.0 * faceSize );\n\t\tuv *= texelSize;\n\t\tvec3 tl = envMapTexelToLinear( texture2D( envMap, uv ) ).rgb;\n\t\tuv.x += texelSize;\n\t\tvec3 tr = envMapTexelToLinear( texture2D( envMap, uv ) ).rgb;\n\t\tuv.y += texelSize;\n\t\tvec3 br = envMapTexelToLinear( texture2D( envMap, uv ) ).rgb;\n\t\tuv.x -= texelSize;\n\t\tvec3 bl = envMapTexelToLinear( texture2D( envMap, uv ) ).rgb;\n\t\tvec3 tm = mix( tl, tr, f.x );\n\t\tvec3 bm = mix( bl, br, f.x );\n\t\treturn mix( tm, bm, f.y );\n\t}\n\t#define r0 1.0\n\t#define v0 0.339\n\t#define m0 - 2.0\n\t#define r1 0.8\n\t#define v1 0.276\n\t#define m1 - 1.0\n\t#define r4 0.4\n\t#define v4 0.046\n\t#define m4 2.0\n\t#define r5 0.305\n\t#define v5 0.016\n\t#define m5 3.0\n\t#define r6 0.21\n\t#define v6 0.0038\n\t#define m6 4.0\n\tfloat roughnessToMip( float roughness ) {\n\t\tfloat mip = 0.0;\n\t\tif ( roughness >= r1 ) {\n\t\t\tmip = ( r0 - roughness ) * ( m1 - m0 ) / ( r0 - r1 ) + m0;\n\t\t} else if ( roughness >= r4 ) {\n\t\t\tmip = ( r1 - roughness ) * ( m4 - m1 ) / ( r1 - r4 ) + m1;\n\t\t} else if ( roughness >= r5 ) {\n\t\t\tmip = ( r4 - roughness ) * ( m5 - m4 ) / ( r4 - r5 ) + m4;\n\t\t} else if ( roughness >= r6 ) {\n\t\t\tmip = ( r5 - roughness ) * ( m6 - m5 ) / ( r5 - r6 ) + m5;\n\t\t} else {\n\t\t\tmip = - 2.0 * log2( 1.16 * roughness );\t\t}\n\t\treturn mip;\n\t}\n\tvec4 textureCubeUV( sampler2D envMap, vec3 sampleDir, float roughness ) {\n\t\tfloat mip = clamp( roughnessToMip( roughness ), m0, cubeUV_maxMipLevel );\n\t\tfloat mipF = fract( mip );\n\t\tfloat mipInt = floor( mip );\n\t\tvec3 color0 = bilinearCubeUV( envMap, sampleDir, mipInt );\n\t\tif ( mipF == 0.0 ) {\n\t\t\treturn vec4( color0, 1.0 );\n\t\t} else {\n\t\t\tvec3 color1 = bilinearCubeUV( envMap, sampleDir, mipInt + 1.0 );\n\t\t\treturn vec4( mix( color0, color1, mipF ), 1.0 );\n\t\t}\n\t}\n#endif",defaultnormal_vertex:"vec3 transformedNormal = objectNormal;\n#ifdef USE_INSTANCING\n\tmat3 m = mat3( instanceMatrix );\n\ttransformedNormal /= vec3( dot( m[ 0 ], m[ 0 ] ), dot( m[ 1 ], m[ 1 ] ), dot( m[ 2 ], m[ 2 ] ) );\n\ttransformedNormal = m * transformedNormal;\n#endif\ntransformedNormal = normalMatrix * transformedNormal;\n#ifdef FLIP_SIDED\n\ttransformedNormal = - transformedNormal;\n#endif\n#ifdef USE_TANGENT\n\tvec3 transformedTangent = ( modelViewMatrix * vec4( objectTangent, 0.0 ) ).xyz;\n\t#ifdef FLIP_SIDED\n\t\ttransformedTangent = - transformedTangent;\n\t#endif\n#endif",displacementmap_pars_vertex:"#ifdef USE_DISPLACEMENTMAP\n\tuniform sampler2D displacementMap;\n\tuniform float displacementScale;\n\tuniform float displacementBias;\n#endif",displacementmap_vertex:"#ifdef USE_DISPLACEMENTMAP\n\ttransformed += normalize( objectNormal ) * ( texture2D( displacementMap, vUv ).x * displacementScale + displacementBias );\n#endif",emissivemap_fragment:"#ifdef USE_EMISSIVEMAP\n\tvec4 emissiveColor = texture2D( emissiveMap, vUv );\n\temissiveColor.rgb = emissiveMapTexelToLinear( emissiveColor ).rgb;\n\ttotalEmissiveRadiance *= emissiveColor.rgb;\n#endif",emissivemap_pars_fragment:"#ifdef USE_EMISSIVEMAP\n\tuniform sampler2D emissiveMap;\n#endif",encodings_fragment:"gl_FragColor = linearToOutputTexel( gl_FragColor );",encodings_pars_fragment:"\nvec4 LinearToLinear( in vec4 value ) {\n\treturn value;\n}\nvec4 GammaToLinear( in vec4 value, in float gammaFactor ) {\n\treturn vec4( pow( value.rgb, vec3( gammaFactor ) ), value.a );\n}\nvec4 LinearToGamma( in vec4 value, in float gammaFactor ) {\n\treturn vec4( pow( value.rgb, vec3( 1.0 / gammaFactor ) ), value.a );\n}\nvec4 sRGBToLinear( in vec4 value ) {\n\treturn vec4( mix( pow( value.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), value.rgb * 0.0773993808, vec3( lessThanEqual( value.rgb, vec3( 0.04045 ) ) ) ), value.a );\n}\nvec4 LinearTosRGB( in vec4 value ) {\n\treturn vec4( mix( pow( value.rgb, vec3( 0.41666 ) ) * 1.055 - vec3( 0.055 ), value.rgb * 12.92, vec3( lessThanEqual( value.rgb, vec3( 0.0031308 ) ) ) ), value.a );\n}\nvec4 RGBEToLinear( in vec4 value ) {\n\treturn vec4( value.rgb * exp2( value.a * 255.0 - 128.0 ), 1.0 );\n}\nvec4 LinearToRGBE( in vec4 value ) {\n\tfloat maxComponent = max( max( value.r, value.g ), value.b );\n\tfloat fExp = clamp( ceil( log2( maxComponent ) ), -128.0, 127.0 );\n\treturn vec4( value.rgb / exp2( fExp ), ( fExp + 128.0 ) / 255.0 );\n}\nvec4 RGBMToLinear( in vec4 value, in float maxRange ) {\n\treturn vec4( value.rgb * value.a * maxRange, 1.0 );\n}\nvec4 LinearToRGBM( in vec4 value, in float maxRange ) {\n\tfloat maxRGB = max( value.r, max( value.g, value.b ) );\n\tfloat M = clamp( maxRGB / maxRange, 0.0, 1.0 );\n\tM = ceil( M * 255.0 ) / 255.0;\n\treturn vec4( value.rgb / ( M * maxRange ), M );\n}\nvec4 RGBDToLinear( in vec4 value, in float maxRange ) {\n\treturn vec4( value.rgb * ( ( maxRange / 255.0 ) / value.a ), 1.0 );\n}\nvec4 LinearToRGBD( in vec4 value, in float maxRange ) {\n\tfloat maxRGB = max( value.r, max( value.g, value.b ) );\n\tfloat D = max( maxRange / maxRGB, 1.0 );\n\tD = clamp( floor( D ) / 255.0, 0.0, 1.0 );\n\treturn vec4( value.rgb * ( D * ( 255.0 / maxRange ) ), D );\n}\nconst mat3 cLogLuvM = mat3( 0.2209, 0.3390, 0.4184, 0.1138, 0.6780, 0.7319, 0.0102, 0.1130, 0.2969 );\nvec4 LinearToLogLuv( in vec4 value ) {\n\tvec3 Xp_Y_XYZp = cLogLuvM * value.rgb;\n\tXp_Y_XYZp = max( Xp_Y_XYZp, vec3( 1e-6, 1e-6, 1e-6 ) );\n\tvec4 vResult;\n\tvResult.xy = Xp_Y_XYZp.xy / Xp_Y_XYZp.z;\n\tfloat Le = 2.0 * log2(Xp_Y_XYZp.y) + 127.0;\n\tvResult.w = fract( Le );\n\tvResult.z = ( Le - ( floor( vResult.w * 255.0 ) ) / 255.0 ) / 255.0;\n\treturn vResult;\n}\nconst mat3 cLogLuvInverseM = mat3( 6.0014, -2.7008, -1.7996, -1.3320, 3.1029, -5.7721, 0.3008, -1.0882, 5.6268 );\nvec4 LogLuvToLinear( in vec4 value ) {\n\tfloat Le = value.z * 255.0 + value.w;\n\tvec3 Xp_Y_XYZp;\n\tXp_Y_XYZp.y = exp2( ( Le - 127.0 ) / 2.0 );\n\tXp_Y_XYZp.z = Xp_Y_XYZp.y / value.y;\n\tXp_Y_XYZp.x = value.x * Xp_Y_XYZp.z;\n\tvec3 vRGB = cLogLuvInverseM * Xp_Y_XYZp.rgb;\n\treturn vec4( max( vRGB, 0.0 ), 1.0 );\n}",envmap_fragment:"#ifdef USE_ENVMAP\n\t#ifdef ENV_WORLDPOS\n\t\tvec3 cameraToFrag;\n\t\tif ( isOrthographic ) {\n\t\t\tcameraToFrag = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );\n\t\t} else {\n\t\t\tcameraToFrag = normalize( vWorldPosition - cameraPosition );\n\t\t}\n\t\tvec3 worldNormal = inverseTransformDirection( normal, viewMatrix );\n\t\t#ifdef ENVMAP_MODE_REFLECTION\n\t\t\tvec3 reflectVec = reflect( cameraToFrag, worldNormal );\n\t\t#else\n\t\t\tvec3 reflectVec = refract( cameraToFrag, worldNormal, refractionRatio );\n\t\t#endif\n\t#else\n\t\tvec3 reflectVec = vReflect;\n\t#endif\n\t#ifdef ENVMAP_TYPE_CUBE\n\t\tvec4 envColor = textureCube( envMap, vec3( flipEnvMap * reflectVec.x, reflectVec.yz ) );\n\t#elif defined( ENVMAP_TYPE_CUBE_UV )\n\t\tvec4 envColor = textureCubeUV( envMap, reflectVec, 0.0 );\n\t#else\n\t\tvec4 envColor = vec4( 0.0 );\n\t#endif\n\t#ifndef ENVMAP_TYPE_CUBE_UV\n\t\tenvColor = envMapTexelToLinear( envColor );\n\t#endif\n\t#ifdef ENVMAP_BLENDING_MULTIPLY\n\t\toutgoingLight = mix( outgoingLight, outgoingLight * envColor.xyz, specularStrength * reflectivity );\n\t#elif defined( ENVMAP_BLENDING_MIX )\n\t\toutgoingLight = mix( outgoingLight, envColor.xyz, specularStrength * reflectivity );\n\t#elif defined( ENVMAP_BLENDING_ADD )\n\t\toutgoingLight += envColor.xyz * specularStrength * reflectivity;\n\t#endif\n#endif",envmap_common_pars_fragment:"#ifdef USE_ENVMAP\n\tuniform float envMapIntensity;\n\tuniform float flipEnvMap;\n\tuniform int maxMipLevel;\n\t#ifdef ENVMAP_TYPE_CUBE\n\t\tuniform samplerCube envMap;\n\t#else\n\t\tuniform sampler2D envMap;\n\t#endif\n\t\n#endif",envmap_pars_fragment:"#ifdef USE_ENVMAP\n\tuniform float reflectivity;\n\t#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG )\n\t\t#define ENV_WORLDPOS\n\t#endif\n\t#ifdef ENV_WORLDPOS\n\t\tvarying vec3 vWorldPosition;\n\t\tuniform float refractionRatio;\n\t#else\n\t\tvarying vec3 vReflect;\n\t#endif\n#endif",envmap_pars_vertex:"#ifdef USE_ENVMAP\n\t#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) ||defined( PHONG )\n\t\t#define ENV_WORLDPOS\n\t#endif\n\t#ifdef ENV_WORLDPOS\n\t\t\n\t\tvarying vec3 vWorldPosition;\n\t#else\n\t\tvarying vec3 vReflect;\n\t\tuniform float refractionRatio;\n\t#endif\n#endif",envmap_physical_pars_fragment:"#if defined( USE_ENVMAP )\n\t#ifdef ENVMAP_MODE_REFRACTION\n\t\tuniform float refractionRatio;\n\t#endif\n\tvec3 getLightProbeIndirectIrradiance( const in GeometricContext geometry, const in int maxMIPLevel ) {\n\t\tvec3 worldNormal = inverseTransformDirection( geometry.normal, viewMatrix );\n\t\t#ifdef ENVMAP_TYPE_CUBE\n\t\t\tvec3 queryVec = vec3( flipEnvMap * worldNormal.x, worldNormal.yz );\n\t\t\t#ifdef TEXTURE_LOD_EXT\n\t\t\t\tvec4 envMapColor = textureCubeLodEXT( envMap, queryVec, float( maxMIPLevel ) );\n\t\t\t#else\n\t\t\t\tvec4 envMapColor = textureCube( envMap, queryVec, float( maxMIPLevel ) );\n\t\t\t#endif\n\t\t\tenvMapColor.rgb = envMapTexelToLinear( envMapColor ).rgb;\n\t\t#elif defined( ENVMAP_TYPE_CUBE_UV )\n\t\t\tvec4 envMapColor = textureCubeUV( envMap, worldNormal, 1.0 );\n\t\t#else\n\t\t\tvec4 envMapColor = vec4( 0.0 );\n\t\t#endif\n\t\treturn PI * envMapColor.rgb * envMapIntensity;\n\t}\n\tfloat getSpecularMIPLevel( const in float roughness, const in int maxMIPLevel ) {\n\t\tfloat maxMIPLevelScalar = float( maxMIPLevel );\n\t\tfloat sigma = PI * roughness * roughness / ( 1.0 + roughness );\n\t\tfloat desiredMIPLevel = maxMIPLevelScalar + log2( sigma );\n\t\treturn clamp( desiredMIPLevel, 0.0, maxMIPLevelScalar );\n\t}\n\tvec3 getLightProbeIndirectRadiance( const in vec3 viewDir, const in vec3 normal, const in float roughness, const in int maxMIPLevel ) {\n\t\t#ifdef ENVMAP_MODE_REFLECTION\n\t\t\tvec3 reflectVec = reflect( -viewDir, normal );\n\t\t\treflectVec = normalize( mix( reflectVec, normal, roughness * roughness) );\n\t\t#else\n\t\t\tvec3 reflectVec = refract( -viewDir, normal, refractionRatio );\n\t\t#endif\n\t\treflectVec = inverseTransformDirection( reflectVec, viewMatrix );\n\t\tfloat specularMIPLevel = getSpecularMIPLevel( roughness, maxMIPLevel );\n\t\t#ifdef ENVMAP_TYPE_CUBE\n\t\t\tvec3 queryReflectVec = vec3( flipEnvMap * reflectVec.x, reflectVec.yz );\n\t\t\t#ifdef TEXTURE_LOD_EXT\n\t\t\t\tvec4 envMapColor = textureCubeLodEXT( envMap, queryReflectVec, specularMIPLevel );\n\t\t\t#else\n\t\t\t\tvec4 envMapColor = textureCube( envMap, queryReflectVec, specularMIPLevel );\n\t\t\t#endif\n\t\t\tenvMapColor.rgb = envMapTexelToLinear( envMapColor ).rgb;\n\t\t#elif defined( ENVMAP_TYPE_CUBE_UV )\n\t\t\tvec4 envMapColor = textureCubeUV( envMap, reflectVec, roughness );\n\t\t#endif\n\t\treturn envMapColor.rgb * envMapIntensity;\n\t}\n#endif",envmap_vertex:"#ifdef USE_ENVMAP\n\t#ifdef ENV_WORLDPOS\n\t\tvWorldPosition = worldPosition.xyz;\n\t#else\n\t\tvec3 cameraToVertex;\n\t\tif ( isOrthographic ) {\n\t\t\tcameraToVertex = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );\n\t\t} else {\n\t\t\tcameraToVertex = normalize( worldPosition.xyz - cameraPosition );\n\t\t}\n\t\tvec3 worldNormal = inverseTransformDirection( transformedNormal, viewMatrix );\n\t\t#ifdef ENVMAP_MODE_REFLECTION\n\t\t\tvReflect = reflect( cameraToVertex, worldNormal );\n\t\t#else\n\t\t\tvReflect = refract( cameraToVertex, worldNormal, refractionRatio );\n\t\t#endif\n\t#endif\n#endif",fog_vertex:"#ifdef USE_FOG\n\tfogDepth = - mvPosition.z;\n#endif",fog_pars_vertex:"#ifdef USE_FOG\n\tvarying float fogDepth;\n#endif",fog_fragment:"#ifdef USE_FOG\n\t#ifdef FOG_EXP2\n\t\tfloat fogFactor = 1.0 - exp( - fogDensity * fogDensity * fogDepth * fogDepth );\n\t#else\n\t\tfloat fogFactor = smoothstep( fogNear, fogFar, fogDepth );\n\t#endif\n\tgl_FragColor.rgb = mix( gl_FragColor.rgb, fogColor, fogFactor );\n#endif",fog_pars_fragment:"#ifdef USE_FOG\n\tuniform vec3 fogColor;\n\tvarying float fogDepth;\n\t#ifdef FOG_EXP2\n\t\tuniform float fogDensity;\n\t#else\n\t\tuniform float fogNear;\n\t\tuniform float fogFar;\n\t#endif\n#endif",gradientmap_pars_fragment:"#ifdef USE_GRADIENTMAP\n\tuniform sampler2D gradientMap;\n#endif\nvec3 getGradientIrradiance( vec3 normal, vec3 lightDirection ) {\n\tfloat dotNL = dot( normal, lightDirection );\n\tvec2 coord = vec2( dotNL * 0.5 + 0.5, 0.0 );\n\t#ifdef USE_GRADIENTMAP\n\t\treturn texture2D( gradientMap, coord ).rgb;\n\t#else\n\t\treturn ( coord.x < 0.7 ) ? vec3( 0.7 ) : vec3( 1.0 );\n\t#endif\n}",lightmap_fragment:"#ifdef USE_LIGHTMAP\n\tvec4 lightMapTexel= texture2D( lightMap, vUv2 );\n\treflectedLight.indirectDiffuse += PI * lightMapTexelToLinear( lightMapTexel ).rgb * lightMapIntensity;\n#endif",lightmap_pars_fragment:"#ifdef USE_LIGHTMAP\n\tuniform sampler2D lightMap;\n\tuniform float lightMapIntensity;\n#endif",lights_lambert_vertex:"vec3 diffuse = vec3( 1.0 );\nGeometricContext geometry;\ngeometry.position = mvPosition.xyz;\ngeometry.normal = normalize( transformedNormal );\ngeometry.viewDir = ( isOrthographic ) ? vec3( 0, 0, 1 ) : normalize( -mvPosition.xyz );\nGeometricContext backGeometry;\nbackGeometry.position = geometry.position;\nbackGeometry.normal = -geometry.normal;\nbackGeometry.viewDir = geometry.viewDir;\nvLightFront = vec3( 0.0 );\nvIndirectFront = vec3( 0.0 );\n#ifdef DOUBLE_SIDED\n\tvLightBack = vec3( 0.0 );\n\tvIndirectBack = vec3( 0.0 );\n#endif\nIncidentLight directLight;\nfloat dotNL;\nvec3 directLightColor_Diffuse;\nvIndirectFront += getAmbientLightIrradiance( ambientLightColor );\nvIndirectFront += getLightProbeIrradiance( lightProbe, geometry );\n#ifdef DOUBLE_SIDED\n\tvIndirectBack += getAmbientLightIrradiance( ambientLightColor );\n\tvIndirectBack += getLightProbeIrradiance( lightProbe, backGeometry );\n#endif\n#if NUM_POINT_LIGHTS > 0\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {\n\t\tgetPointDirectLightIrradiance( pointLights[ i ], geometry, directLight );\n\t\tdotNL = dot( geometry.normal, directLight.direction );\n\t\tdirectLightColor_Diffuse = PI * directLight.color;\n\t\tvLightFront += saturate( dotNL ) * directLightColor_Diffuse;\n\t\t#ifdef DOUBLE_SIDED\n\t\t\tvLightBack += saturate( -dotNL ) * directLightColor_Diffuse;\n\t\t#endif\n\t}\n\t#pragma unroll_loop_end\n#endif\n#if NUM_SPOT_LIGHTS > 0\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {\n\t\tgetSpotDirectLightIrradiance( spotLights[ i ], geometry, directLight );\n\t\tdotNL = dot( geometry.normal, directLight.direction );\n\t\tdirectLightColor_Diffuse = PI * directLight.color;\n\t\tvLightFront += saturate( dotNL ) * directLightColor_Diffuse;\n\t\t#ifdef DOUBLE_SIDED\n\t\t\tvLightBack += saturate( -dotNL ) * directLightColor_Diffuse;\n\t\t#endif\n\t}\n\t#pragma unroll_loop_end\n#endif\n#if NUM_DIR_LIGHTS > 0\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {\n\t\tgetDirectionalDirectLightIrradiance( directionalLights[ i ], geometry, directLight );\n\t\tdotNL = dot( geometry.normal, directLight.direction );\n\t\tdirectLightColor_Diffuse = PI * directLight.color;\n\t\tvLightFront += saturate( dotNL ) * directLightColor_Diffuse;\n\t\t#ifdef DOUBLE_SIDED\n\t\t\tvLightBack += saturate( -dotNL ) * directLightColor_Diffuse;\n\t\t#endif\n\t}\n\t#pragma unroll_loop_end\n#endif\n#if NUM_HEMI_LIGHTS > 0\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_HEMI_LIGHTS; i ++ ) {\n\t\tvIndirectFront += getHemisphereLightIrradiance( hemisphereLights[ i ], geometry );\n\t\t#ifdef DOUBLE_SIDED\n\t\t\tvIndirectBack += getHemisphereLightIrradiance( hemisphereLights[ i ], backGeometry );\n\t\t#endif\n\t}\n\t#pragma unroll_loop_end\n#endif",lights_pars_begin:"uniform bool receiveShadow;\nuniform vec3 ambientLightColor;\nuniform vec3 lightProbe[ 9 ];\nvec3 shGetIrradianceAt( in vec3 normal, in vec3 shCoefficients[ 9 ] ) {\n\tfloat x = normal.x, y = normal.y, z = normal.z;\n\tvec3 result = shCoefficients[ 0 ] * 0.886227;\n\tresult += shCoefficients[ 1 ] * 2.0 * 0.511664 * y;\n\tresult += shCoefficients[ 2 ] * 2.0 * 0.511664 * z;\n\tresult += shCoefficients[ 3 ] * 2.0 * 0.511664 * x;\n\tresult += shCoefficients[ 4 ] * 2.0 * 0.429043 * x * y;\n\tresult += shCoefficients[ 5 ] * 2.0 * 0.429043 * y * z;\n\tresult += shCoefficients[ 6 ] * ( 0.743125 * z * z - 0.247708 );\n\tresult += shCoefficients[ 7 ] * 2.0 * 0.429043 * x * z;\n\tresult += shCoefficients[ 8 ] * 0.429043 * ( x * x - y * y );\n\treturn result;\n}\nvec3 getLightProbeIrradiance( const in vec3 lightProbe[ 9 ], const in GeometricContext geometry ) {\n\tvec3 worldNormal = inverseTransformDirection( geometry.normal, viewMatrix );\n\tvec3 irradiance = shGetIrradianceAt( worldNormal, lightProbe );\n\treturn irradiance;\n}\nvec3 getAmbientLightIrradiance( const in vec3 ambientLightColor ) {\n\tvec3 irradiance = ambientLightColor;\n\t#ifndef PHYSICALLY_CORRECT_LIGHTS\n\t\tirradiance *= PI;\n\t#endif\n\treturn irradiance;\n}\n#if NUM_DIR_LIGHTS > 0\n\tstruct DirectionalLight {\n\t\tvec3 direction;\n\t\tvec3 color;\n\t};\n\tuniform DirectionalLight directionalLights[ NUM_DIR_LIGHTS ];\n\tvoid getDirectionalDirectLightIrradiance( const in DirectionalLight directionalLight, const in GeometricContext geometry, out IncidentLight directLight ) {\n\t\tdirectLight.color = directionalLight.color;\n\t\tdirectLight.direction = directionalLight.direction;\n\t\tdirectLight.visible = true;\n\t}\n#endif\n#if NUM_POINT_LIGHTS > 0\n\tstruct PointLight {\n\t\tvec3 position;\n\t\tvec3 color;\n\t\tfloat distance;\n\t\tfloat decay;\n\t};\n\tuniform PointLight pointLights[ NUM_POINT_LIGHTS ];\n\tvoid getPointDirectLightIrradiance( const in PointLight pointLight, const in GeometricContext geometry, out IncidentLight directLight ) {\n\t\tvec3 lVector = pointLight.position - geometry.position;\n\t\tdirectLight.direction = normalize( lVector );\n\t\tfloat lightDistance = length( lVector );\n\t\tdirectLight.color = pointLight.color;\n\t\tdirectLight.color *= punctualLightIntensityToIrradianceFactor( lightDistance, pointLight.distance, pointLight.decay );\n\t\tdirectLight.visible = ( directLight.color != vec3( 0.0 ) );\n\t}\n#endif\n#if NUM_SPOT_LIGHTS > 0\n\tstruct SpotLight {\n\t\tvec3 position;\n\t\tvec3 direction;\n\t\tvec3 color;\n\t\tfloat distance;\n\t\tfloat decay;\n\t\tfloat coneCos;\n\t\tfloat penumbraCos;\n\t};\n\tuniform SpotLight spotLights[ NUM_SPOT_LIGHTS ];\n\tvoid getSpotDirectLightIrradiance( const in SpotLight spotLight, const in GeometricContext geometry, out IncidentLight directLight ) {\n\t\tvec3 lVector = spotLight.position - geometry.position;\n\t\tdirectLight.direction = normalize( lVector );\n\t\tfloat lightDistance = length( lVector );\n\t\tfloat angleCos = dot( directLight.direction, spotLight.direction );\n\t\tif ( angleCos > spotLight.coneCos ) {\n\t\t\tfloat spotEffect = smoothstep( spotLight.coneCos, spotLight.penumbraCos, angleCos );\n\t\t\tdirectLight.color = spotLight.color;\n\t\t\tdirectLight.color *= spotEffect * punctualLightIntensityToIrradianceFactor( lightDistance, spotLight.distance, spotLight.decay );\n\t\t\tdirectLight.visible = true;\n\t\t} else {\n\t\t\tdirectLight.color = vec3( 0.0 );\n\t\t\tdirectLight.visible = false;\n\t\t}\n\t}\n#endif\n#if NUM_RECT_AREA_LIGHTS > 0\n\tstruct RectAreaLight {\n\t\tvec3 color;\n\t\tvec3 position;\n\t\tvec3 halfWidth;\n\t\tvec3 halfHeight;\n\t};\n\tuniform sampler2D ltc_1;\tuniform sampler2D ltc_2;\n\tuniform RectAreaLight rectAreaLights[ NUM_RECT_AREA_LIGHTS ];\n#endif\n#if NUM_HEMI_LIGHTS > 0\n\tstruct HemisphereLight {\n\t\tvec3 direction;\n\t\tvec3 skyColor;\n\t\tvec3 groundColor;\n\t};\n\tuniform HemisphereLight hemisphereLights[ NUM_HEMI_LIGHTS ];\n\tvec3 getHemisphereLightIrradiance( const in HemisphereLight hemiLight, const in GeometricContext geometry ) {\n\t\tfloat dotNL = dot( geometry.normal, hemiLight.direction );\n\t\tfloat hemiDiffuseWeight = 0.5 * dotNL + 0.5;\n\t\tvec3 irradiance = mix( hemiLight.groundColor, hemiLight.skyColor, hemiDiffuseWeight );\n\t\t#ifndef PHYSICALLY_CORRECT_LIGHTS\n\t\t\tirradiance *= PI;\n\t\t#endif\n\t\treturn irradiance;\n\t}\n#endif",lights_toon_fragment:"ToonMaterial material;\nmaterial.diffuseColor = diffuseColor.rgb;",lights_toon_pars_fragment:"varying vec3 vViewPosition;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n#endif\nstruct ToonMaterial {\n\tvec3 diffuseColor;\n};\nvoid RE_Direct_Toon( const in IncidentLight directLight, const in GeometricContext geometry, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {\n\tvec3 irradiance = getGradientIrradiance( geometry.normal, directLight.direction ) * directLight.color;\n\t#ifndef PHYSICALLY_CORRECT_LIGHTS\n\t\tirradiance *= PI;\n\t#endif\n\treflectedLight.directDiffuse += irradiance * BRDF_Diffuse_Lambert( material.diffuseColor );\n}\nvoid RE_IndirectDiffuse_Toon( const in vec3 irradiance, const in GeometricContext geometry, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {\n\treflectedLight.indirectDiffuse += irradiance * BRDF_Diffuse_Lambert( material.diffuseColor );\n}\n#define RE_Direct\t\t\t\tRE_Direct_Toon\n#define RE_IndirectDiffuse\t\tRE_IndirectDiffuse_Toon\n#define Material_LightProbeLOD( material )\t(0)",lights_phong_fragment:"BlinnPhongMaterial material;\nmaterial.diffuseColor = diffuseColor.rgb;\nmaterial.specularColor = specular;\nmaterial.specularShininess = shininess;\nmaterial.specularStrength = specularStrength;",lights_phong_pars_fragment:"varying vec3 vViewPosition;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n#endif\nstruct BlinnPhongMaterial {\n\tvec3 diffuseColor;\n\tvec3 specularColor;\n\tfloat specularShininess;\n\tfloat specularStrength;\n};\nvoid RE_Direct_BlinnPhong( const in IncidentLight directLight, const in GeometricContext geometry, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {\n\tfloat dotNL = saturate( dot( geometry.normal, directLight.direction ) );\n\tvec3 irradiance = dotNL * directLight.color;\n\t#ifndef PHYSICALLY_CORRECT_LIGHTS\n\t\tirradiance *= PI;\n\t#endif\n\treflectedLight.directDiffuse += irradiance * BRDF_Diffuse_Lambert( material.diffuseColor );\n\treflectedLight.directSpecular += irradiance * BRDF_Specular_BlinnPhong( directLight, geometry, material.specularColor, material.specularShininess ) * material.specularStrength;\n}\nvoid RE_IndirectDiffuse_BlinnPhong( const in vec3 irradiance, const in GeometricContext geometry, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {\n\treflectedLight.indirectDiffuse += irradiance * BRDF_Diffuse_Lambert( material.diffuseColor );\n}\n#define RE_Direct\t\t\t\tRE_Direct_BlinnPhong\n#define RE_IndirectDiffuse\t\tRE_IndirectDiffuse_BlinnPhong\n#define Material_LightProbeLOD( material )\t(0)",lights_physical_fragment:"PhysicalMaterial material;\nmaterial.diffuseColor = diffuseColor.rgb * ( 1.0 - metalnessFactor );\nvec3 dxy = max( abs( dFdx( geometryNormal ) ), abs( dFdy( geometryNormal ) ) );\nfloat geometryRoughness = max( max( dxy.x, dxy.y ), dxy.z );\nmaterial.specularRoughness = max( roughnessFactor, 0.0525 );material.specularRoughness += geometryRoughness;\nmaterial.specularRoughness = min( material.specularRoughness, 1.0 );\n#ifdef REFLECTIVITY\n\tmaterial.specularColor = mix( vec3( MAXIMUM_SPECULAR_COEFFICIENT * pow2( reflectivity ) ), diffuseColor.rgb, metalnessFactor );\n#else\n\tmaterial.specularColor = mix( vec3( DEFAULT_SPECULAR_COEFFICIENT ), diffuseColor.rgb, metalnessFactor );\n#endif\n#ifdef CLEARCOAT\n\tmaterial.clearcoat = clearcoat;\n\tmaterial.clearcoatRoughness = clearcoatRoughness;\n\t#ifdef USE_CLEARCOATMAP\n\t\tmaterial.clearcoat *= texture2D( clearcoatMap, vUv ).x;\n\t#endif\n\t#ifdef USE_CLEARCOAT_ROUGHNESSMAP\n\t\tmaterial.clearcoatRoughness *= texture2D( clearcoatRoughnessMap, vUv ).y;\n\t#endif\n\tmaterial.clearcoat = saturate( material.clearcoat );\tmaterial.clearcoatRoughness = max( material.clearcoatRoughness, 0.0525 );\n\tmaterial.clearcoatRoughness += geometryRoughness;\n\tmaterial.clearcoatRoughness = min( material.clearcoatRoughness, 1.0 );\n#endif\n#ifdef USE_SHEEN\n\tmaterial.sheenColor = sheen;\n#endif",lights_physical_pars_fragment:"struct PhysicalMaterial {\n\tvec3 diffuseColor;\n\tfloat specularRoughness;\n\tvec3 specularColor;\n#ifdef CLEARCOAT\n\tfloat clearcoat;\n\tfloat clearcoatRoughness;\n#endif\n#ifdef USE_SHEEN\n\tvec3 sheenColor;\n#endif\n};\n#define MAXIMUM_SPECULAR_COEFFICIENT 0.16\n#define DEFAULT_SPECULAR_COEFFICIENT 0.04\nfloat clearcoatDHRApprox( const in float roughness, const in float dotNL ) {\n\treturn DEFAULT_SPECULAR_COEFFICIENT + ( 1.0 - DEFAULT_SPECULAR_COEFFICIENT ) * ( pow( 1.0 - dotNL, 5.0 ) * pow( 1.0 - roughness, 2.0 ) );\n}\n#if NUM_RECT_AREA_LIGHTS > 0\n\tvoid RE_Direct_RectArea_Physical( const in RectAreaLight rectAreaLight, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {\n\t\tvec3 normal = geometry.normal;\n\t\tvec3 viewDir = geometry.viewDir;\n\t\tvec3 position = geometry.position;\n\t\tvec3 lightPos = rectAreaLight.position;\n\t\tvec3 halfWidth = rectAreaLight.halfWidth;\n\t\tvec3 halfHeight = rectAreaLight.halfHeight;\n\t\tvec3 lightColor = rectAreaLight.color;\n\t\tfloat roughness = material.specularRoughness;\n\t\tvec3 rectCoords[ 4 ];\n\t\trectCoords[ 0 ] = lightPos + halfWidth - halfHeight;\t\trectCoords[ 1 ] = lightPos - halfWidth - halfHeight;\n\t\trectCoords[ 2 ] = lightPos - halfWidth + halfHeight;\n\t\trectCoords[ 3 ] = lightPos + halfWidth + halfHeight;\n\t\tvec2 uv = LTC_Uv( normal, viewDir, roughness );\n\t\tvec4 t1 = texture2D( ltc_1, uv );\n\t\tvec4 t2 = texture2D( ltc_2, uv );\n\t\tmat3 mInv = mat3(\n\t\t\tvec3( t1.x, 0, t1.y ),\n\t\t\tvec3(    0, 1,    0 ),\n\t\t\tvec3( t1.z, 0, t1.w )\n\t\t);\n\t\tvec3 fresnel = ( material.specularColor * t2.x + ( vec3( 1.0 ) - material.specularColor ) * t2.y );\n\t\treflectedLight.directSpecular += lightColor * fresnel * LTC_Evaluate( normal, viewDir, position, mInv, rectCoords );\n\t\treflectedLight.directDiffuse += lightColor * material.diffuseColor * LTC_Evaluate( normal, viewDir, position, mat3( 1.0 ), rectCoords );\n\t}\n#endif\nvoid RE_Direct_Physical( const in IncidentLight directLight, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {\n\tfloat dotNL = saturate( dot( geometry.normal, directLight.direction ) );\n\tvec3 irradiance = dotNL * directLight.color;\n\t#ifndef PHYSICALLY_CORRECT_LIGHTS\n\t\tirradiance *= PI;\n\t#endif\n\t#ifdef CLEARCOAT\n\t\tfloat ccDotNL = saturate( dot( geometry.clearcoatNormal, directLight.direction ) );\n\t\tvec3 ccIrradiance = ccDotNL * directLight.color;\n\t\t#ifndef PHYSICALLY_CORRECT_LIGHTS\n\t\t\tccIrradiance *= PI;\n\t\t#endif\n\t\tfloat clearcoatDHR = material.clearcoat * clearcoatDHRApprox( material.clearcoatRoughness, ccDotNL );\n\t\treflectedLight.directSpecular += ccIrradiance * material.clearcoat * BRDF_Specular_GGX( directLight, geometry.viewDir, geometry.clearcoatNormal, vec3( DEFAULT_SPECULAR_COEFFICIENT ), material.clearcoatRoughness );\n\t#else\n\t\tfloat clearcoatDHR = 0.0;\n\t#endif\n\t#ifdef USE_SHEEN\n\t\treflectedLight.directSpecular += ( 1.0 - clearcoatDHR ) * irradiance * BRDF_Specular_Sheen(\n\t\t\tmaterial.specularRoughness,\n\t\t\tdirectLight.direction,\n\t\t\tgeometry,\n\t\t\tmaterial.sheenColor\n\t\t);\n\t#else\n\t\treflectedLight.directSpecular += ( 1.0 - clearcoatDHR ) * irradiance * BRDF_Specular_GGX( directLight, geometry.viewDir, geometry.normal, material.specularColor, material.specularRoughness);\n\t#endif\n\treflectedLight.directDiffuse += ( 1.0 - clearcoatDHR ) * irradiance * BRDF_Diffuse_Lambert( material.diffuseColor );\n}\nvoid RE_IndirectDiffuse_Physical( const in vec3 irradiance, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {\n\treflectedLight.indirectDiffuse += irradiance * BRDF_Diffuse_Lambert( material.diffuseColor );\n}\nvoid RE_IndirectSpecular_Physical( const in vec3 radiance, const in vec3 irradiance, const in vec3 clearcoatRadiance, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight) {\n\t#ifdef CLEARCOAT\n\t\tfloat ccDotNV = saturate( dot( geometry.clearcoatNormal, geometry.viewDir ) );\n\t\treflectedLight.indirectSpecular += clearcoatRadiance * material.clearcoat * BRDF_Specular_GGX_Environment( geometry.viewDir, geometry.clearcoatNormal, vec3( DEFAULT_SPECULAR_COEFFICIENT ), material.clearcoatRoughness );\n\t\tfloat ccDotNL = ccDotNV;\n\t\tfloat clearcoatDHR = material.clearcoat * clearcoatDHRApprox( material.clearcoatRoughness, ccDotNL );\n\t#else\n\t\tfloat clearcoatDHR = 0.0;\n\t#endif\n\tfloat clearcoatInv = 1.0 - clearcoatDHR;\n\tvec3 singleScattering = vec3( 0.0 );\n\tvec3 multiScattering = vec3( 0.0 );\n\tvec3 cosineWeightedIrradiance = irradiance * RECIPROCAL_PI;\n\tBRDF_Specular_Multiscattering_Environment( geometry, material.specularColor, material.specularRoughness, singleScattering, multiScattering );\n\tvec3 diffuse = material.diffuseColor * ( 1.0 - ( singleScattering + multiScattering ) );\n\treflectedLight.indirectSpecular += clearcoatInv * radiance * singleScattering;\n\treflectedLight.indirectSpecular += multiScattering * cosineWeightedIrradiance;\n\treflectedLight.indirectDiffuse += diffuse * cosineWeightedIrradiance;\n}\n#define RE_Direct\t\t\t\tRE_Direct_Physical\n#define RE_Direct_RectArea\t\tRE_Direct_RectArea_Physical\n#define RE_IndirectDiffuse\t\tRE_IndirectDiffuse_Physical\n#define RE_IndirectSpecular\t\tRE_IndirectSpecular_Physical\nfloat computeSpecularOcclusion( const in float dotNV, const in float ambientOcclusion, const in float roughness ) {\n\treturn saturate( pow( dotNV + ambientOcclusion, exp2( - 16.0 * roughness - 1.0 ) ) - 1.0 + ambientOcclusion );\n}",lights_fragment_begin:"\nGeometricContext geometry;\ngeometry.position = - vViewPosition;\ngeometry.normal = normal;\ngeometry.viewDir = ( isOrthographic ) ? vec3( 0, 0, 1 ) : normalize( vViewPosition );\n#ifdef CLEARCOAT\n\tgeometry.clearcoatNormal = clearcoatNormal;\n#endif\nIncidentLight directLight;\n#if ( NUM_POINT_LIGHTS > 0 ) && defined( RE_Direct )\n\tPointLight pointLight;\n\t#if defined( USE_SHADOWMAP ) && NUM_POINT_LIGHT_SHADOWS > 0\n\tPointLightShadow pointLightShadow;\n\t#endif\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {\n\t\tpointLight = pointLights[ i ];\n\t\tgetPointDirectLightIrradiance( pointLight, geometry, directLight );\n\t\t#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_POINT_LIGHT_SHADOWS )\n\t\tpointLightShadow = pointLightShadows[ i ];\n\t\tdirectLight.color *= all( bvec2( directLight.visible, receiveShadow ) ) ? getPointShadow( pointShadowMap[ i ], pointLightShadow.shadowMapSize, pointLightShadow.shadowBias, pointLightShadow.shadowRadius, vPointShadowCoord[ i ], pointLightShadow.shadowCameraNear, pointLightShadow.shadowCameraFar ) : 1.0;\n\t\t#endif\n\t\tRE_Direct( directLight, geometry, material, reflectedLight );\n\t}\n\t#pragma unroll_loop_end\n#endif\n#if ( NUM_SPOT_LIGHTS > 0 ) && defined( RE_Direct )\n\tSpotLight spotLight;\n\t#if defined( USE_SHADOWMAP ) && NUM_SPOT_LIGHT_SHADOWS > 0\n\tSpotLightShadow spotLightShadow;\n\t#endif\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {\n\t\tspotLight = spotLights[ i ];\n\t\tgetSpotDirectLightIrradiance( spotLight, geometry, directLight );\n\t\t#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )\n\t\tspotLightShadow = spotLightShadows[ i ];\n\t\tdirectLight.color *= all( bvec2( directLight.visible, receiveShadow ) ) ? getShadow( spotShadowMap[ i ], spotLightShadow.shadowMapSize, spotLightShadow.shadowBias, spotLightShadow.shadowRadius, vSpotShadowCoord[ i ] ) : 1.0;\n\t\t#endif\n\t\tRE_Direct( directLight, geometry, material, reflectedLight );\n\t}\n\t#pragma unroll_loop_end\n#endif\n#if ( NUM_DIR_LIGHTS > 0 ) && defined( RE_Direct )\n\tDirectionalLight directionalLight;\n\t#if defined( USE_SHADOWMAP ) && NUM_DIR_LIGHT_SHADOWS > 0\n\tDirectionalLightShadow directionalLightShadow;\n\t#endif\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {\n\t\tdirectionalLight = directionalLights[ i ];\n\t\tgetDirectionalDirectLightIrradiance( directionalLight, geometry, directLight );\n\t\t#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_DIR_LIGHT_SHADOWS )\n\t\tdirectionalLightShadow = directionalLightShadows[ i ];\n\t\tdirectLight.color *= all( bvec2( directLight.visible, receiveShadow ) ) ? getShadow( directionalShadowMap[ i ], directionalLightShadow.shadowMapSize, directionalLightShadow.shadowBias, directionalLightShadow.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;\n\t\t#endif\n\t\tRE_Direct( directLight, geometry, material, reflectedLight );\n\t}\n\t#pragma unroll_loop_end\n#endif\n#if ( NUM_RECT_AREA_LIGHTS > 0 ) && defined( RE_Direct_RectArea )\n\tRectAreaLight rectAreaLight;\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_RECT_AREA_LIGHTS; i ++ ) {\n\t\trectAreaLight = rectAreaLights[ i ];\n\t\tRE_Direct_RectArea( rectAreaLight, geometry, material, reflectedLight );\n\t}\n\t#pragma unroll_loop_end\n#endif\n#if defined( RE_IndirectDiffuse )\n\tvec3 iblIrradiance = vec3( 0.0 );\n\tvec3 irradiance = getAmbientLightIrradiance( ambientLightColor );\n\tirradiance += getLightProbeIrradiance( lightProbe, geometry );\n\t#if ( NUM_HEMI_LIGHTS > 0 )\n\t\t#pragma unroll_loop_start\n\t\tfor ( int i = 0; i < NUM_HEMI_LIGHTS; i ++ ) {\n\t\t\tirradiance += getHemisphereLightIrradiance( hemisphereLights[ i ], geometry );\n\t\t}\n\t\t#pragma unroll_loop_end\n\t#endif\n#endif\n#if defined( RE_IndirectSpecular )\n\tvec3 radiance = vec3( 0.0 );\n\tvec3 clearcoatRadiance = vec3( 0.0 );\n#endif",lights_fragment_maps:"#if defined( RE_IndirectDiffuse )\n\t#ifdef USE_LIGHTMAP\n\t\tvec4 lightMapTexel= texture2D( lightMap, vUv2 );\n\t\tvec3 lightMapIrradiance = lightMapTexelToLinear( lightMapTexel ).rgb * lightMapIntensity;\n\t\t#ifndef PHYSICALLY_CORRECT_LIGHTS\n\t\t\tlightMapIrradiance *= PI;\n\t\t#endif\n\t\tirradiance += lightMapIrradiance;\n\t#endif\n\t#if defined( USE_ENVMAP ) && defined( STANDARD ) && defined( ENVMAP_TYPE_CUBE_UV )\n\t\tiblIrradiance += getLightProbeIndirectIrradiance( geometry, maxMipLevel );\n\t#endif\n#endif\n#if defined( USE_ENVMAP ) && defined( RE_IndirectSpecular )\n\tradiance += getLightProbeIndirectRadiance( geometry.viewDir, geometry.normal, material.specularRoughness, maxMipLevel );\n\t#ifdef CLEARCOAT\n\t\tclearcoatRadiance += getLightProbeIndirectRadiance( geometry.viewDir, geometry.clearcoatNormal, material.clearcoatRoughness, maxMipLevel );\n\t#endif\n#endif",lights_fragment_end:"#if defined( RE_IndirectDiffuse )\n\tRE_IndirectDiffuse( irradiance, geometry, material, reflectedLight );\n#endif\n#if defined( RE_IndirectSpecular )\n\tRE_IndirectSpecular( radiance, iblIrradiance, clearcoatRadiance, geometry, material, reflectedLight );\n#endif",logdepthbuf_fragment:"#if defined( USE_LOGDEPTHBUF ) && defined( USE_LOGDEPTHBUF_EXT )\n\tgl_FragDepthEXT = vIsPerspective == 0.0 ? gl_FragCoord.z : log2( vFragDepth ) * logDepthBufFC * 0.5;\n#endif",logdepthbuf_pars_fragment:"#if defined( USE_LOGDEPTHBUF ) && defined( USE_LOGDEPTHBUF_EXT )\n\tuniform float logDepthBufFC;\n\tvarying float vFragDepth;\n\tvarying float vIsPerspective;\n#endif",logdepthbuf_pars_vertex:"#ifdef USE_LOGDEPTHBUF\n\t#ifdef USE_LOGDEPTHBUF_EXT\n\t\tvarying float vFragDepth;\n\t\tvarying float vIsPerspective;\n\t#else\n\t\tuniform float logDepthBufFC;\n\t#endif\n#endif",logdepthbuf_vertex:"#ifdef USE_LOGDEPTHBUF\n\t#ifdef USE_LOGDEPTHBUF_EXT\n\t\tvFragDepth = 1.0 + gl_Position.w;\n\t\tvIsPerspective = float( isPerspectiveMatrix( projectionMatrix ) );\n\t#else\n\t\tif ( isPerspectiveMatrix( projectionMatrix ) ) {\n\t\t\tgl_Position.z = log2( max( EPSILON, gl_Position.w + 1.0 ) ) * logDepthBufFC - 1.0;\n\t\t\tgl_Position.z *= gl_Position.w;\n\t\t}\n\t#endif\n#endif",map_fragment:"#ifdef USE_MAP\n\tvec4 texelColor = texture2D( map, vUv );\n\ttexelColor = mapTexelToLinear( texelColor );\n\tdiffuseColor *= texelColor;\n#endif",map_pars_fragment:"#ifdef USE_MAP\n\tuniform sampler2D map;\n#endif",map_particle_fragment:"#if defined( USE_MAP ) || defined( USE_ALPHAMAP )\n\tvec2 uv = ( uvTransform * vec3( gl_PointCoord.x, 1.0 - gl_PointCoord.y, 1 ) ).xy;\n#endif\n#ifdef USE_MAP\n\tvec4 mapTexel = texture2D( map, uv );\n\tdiffuseColor *= mapTexelToLinear( mapTexel );\n#endif\n#ifdef USE_ALPHAMAP\n\tdiffuseColor.a *= texture2D( alphaMap, uv ).g;\n#endif",map_particle_pars_fragment:"#if defined( USE_MAP ) || defined( USE_ALPHAMAP )\n\tuniform mat3 uvTransform;\n#endif\n#ifdef USE_MAP\n\tuniform sampler2D map;\n#endif\n#ifdef USE_ALPHAMAP\n\tuniform sampler2D alphaMap;\n#endif",metalnessmap_fragment:"float metalnessFactor = metalness;\n#ifdef USE_METALNESSMAP\n\tvec4 texelMetalness = texture2D( metalnessMap, vUv );\n\tmetalnessFactor *= texelMetalness.b;\n#endif",metalnessmap_pars_fragment:"#ifdef USE_METALNESSMAP\n\tuniform sampler2D metalnessMap;\n#endif",morphnormal_vertex:"#ifdef USE_MORPHNORMALS\n\tobjectNormal *= morphTargetBaseInfluence;\n\tobjectNormal += morphNormal0 * morphTargetInfluences[ 0 ];\n\tobjectNormal += morphNormal1 * morphTargetInfluences[ 1 ];\n\tobjectNormal += morphNormal2 * morphTargetInfluences[ 2 ];\n\tobjectNormal += morphNormal3 * morphTargetInfluences[ 3 ];\n#endif",morphtarget_pars_vertex:"#ifdef USE_MORPHTARGETS\n\tuniform float morphTargetBaseInfluence;\n\t#ifndef USE_MORPHNORMALS\n\t\tuniform float morphTargetInfluences[ 8 ];\n\t#else\n\t\tuniform float morphTargetInfluences[ 4 ];\n\t#endif\n#endif",morphtarget_vertex:"#ifdef USE_MORPHTARGETS\n\ttransformed *= morphTargetBaseInfluence;\n\ttransformed += morphTarget0 * morphTargetInfluences[ 0 ];\n\ttransformed += morphTarget1 * morphTargetInfluences[ 1 ];\n\ttransformed += morphTarget2 * morphTargetInfluences[ 2 ];\n\ttransformed += morphTarget3 * morphTargetInfluences[ 3 ];\n\t#ifndef USE_MORPHNORMALS\n\t\ttransformed += morphTarget4 * morphTargetInfluences[ 4 ];\n\t\ttransformed += morphTarget5 * morphTargetInfluences[ 5 ];\n\t\ttransformed += morphTarget6 * morphTargetInfluences[ 6 ];\n\t\ttransformed += morphTarget7 * morphTargetInfluences[ 7 ];\n\t#endif\n#endif",normal_fragment_begin:"#ifdef FLAT_SHADED\n\tvec3 fdx = vec3( dFdx( vViewPosition.x ), dFdx( vViewPosition.y ), dFdx( vViewPosition.z ) );\n\tvec3 fdy = vec3( dFdy( vViewPosition.x ), dFdy( vViewPosition.y ), dFdy( vViewPosition.z ) );\n\tvec3 normal = normalize( cross( fdx, fdy ) );\n#else\n\tvec3 normal = normalize( vNormal );\n\t#ifdef DOUBLE_SIDED\n\t\tnormal = normal * ( float( gl_FrontFacing ) * 2.0 - 1.0 );\n\t#endif\n\t#ifdef USE_TANGENT\n\t\tvec3 tangent = normalize( vTangent );\n\t\tvec3 bitangent = normalize( vBitangent );\n\t\t#ifdef DOUBLE_SIDED\n\t\t\ttangent = tangent * ( float( gl_FrontFacing ) * 2.0 - 1.0 );\n\t\t\tbitangent = bitangent * ( float( gl_FrontFacing ) * 2.0 - 1.0 );\n\t\t#endif\n\t\t#if defined( TANGENTSPACE_NORMALMAP ) || defined( USE_CLEARCOAT_NORMALMAP )\n\t\t\tmat3 vTBN = mat3( tangent, bitangent, normal );\n\t\t#endif\n\t#endif\n#endif\nvec3 geometryNormal = normal;",normal_fragment_maps:"#ifdef OBJECTSPACE_NORMALMAP\n\tnormal = texture2D( normalMap, vUv ).xyz * 2.0 - 1.0;\n\t#ifdef FLIP_SIDED\n\t\tnormal = - normal;\n\t#endif\n\t#ifdef DOUBLE_SIDED\n\t\tnormal = normal * ( float( gl_FrontFacing ) * 2.0 - 1.0 );\n\t#endif\n\tnormal = normalize( normalMatrix * normal );\n#elif defined( TANGENTSPACE_NORMALMAP )\n\tvec3 mapN = texture2D( normalMap, vUv ).xyz * 2.0 - 1.0;\n\tmapN.xy *= normalScale;\n\t#ifdef USE_TANGENT\n\t\tnormal = normalize( vTBN * mapN );\n\t#else\n\t\tnormal = perturbNormal2Arb( -vViewPosition, normal, mapN );\n\t#endif\n#elif defined( USE_BUMPMAP )\n\tnormal = perturbNormalArb( -vViewPosition, normal, dHdxy_fwd() );\n#endif",normalmap_pars_fragment:"#ifdef USE_NORMALMAP\n\tuniform sampler2D normalMap;\n\tuniform vec2 normalScale;\n#endif\n#ifdef OBJECTSPACE_NORMALMAP\n\tuniform mat3 normalMatrix;\n#endif\n#if ! defined ( USE_TANGENT ) && ( defined ( TANGENTSPACE_NORMALMAP ) || defined ( USE_CLEARCOAT_NORMALMAP ) )\n\tvec3 perturbNormal2Arb( vec3 eye_pos, vec3 surf_norm, vec3 mapN ) {\n\t\tvec3 q0 = vec3( dFdx( eye_pos.x ), dFdx( eye_pos.y ), dFdx( eye_pos.z ) );\n\t\tvec3 q1 = vec3( dFdy( eye_pos.x ), dFdy( eye_pos.y ), dFdy( eye_pos.z ) );\n\t\tvec2 st0 = dFdx( vUv.st );\n\t\tvec2 st1 = dFdy( vUv.st );\n\t\tfloat scale = sign( st1.t * st0.s - st0.t * st1.s );\n\t\tvec3 S = normalize( ( q0 * st1.t - q1 * st0.t ) * scale );\n\t\tvec3 T = normalize( ( - q0 * st1.s + q1 * st0.s ) * scale );\n\t\tvec3 N = normalize( surf_norm );\n\t\tmat3 tsn = mat3( S, T, N );\n\t\tmapN.xy *= ( float( gl_FrontFacing ) * 2.0 - 1.0 );\n\t\treturn normalize( tsn * mapN );\n\t}\n#endif",clearcoat_normal_fragment_begin:"#ifdef CLEARCOAT\n\tvec3 clearcoatNormal = geometryNormal;\n#endif",clearcoat_normal_fragment_maps:"#ifdef USE_CLEARCOAT_NORMALMAP\n\tvec3 clearcoatMapN = texture2D( clearcoatNormalMap, vUv ).xyz * 2.0 - 1.0;\n\tclearcoatMapN.xy *= clearcoatNormalScale;\n\t#ifdef USE_TANGENT\n\t\tclearcoatNormal = normalize( vTBN * clearcoatMapN );\n\t#else\n\t\tclearcoatNormal = perturbNormal2Arb( - vViewPosition, clearcoatNormal, clearcoatMapN );\n\t#endif\n#endif",clearcoat_pars_fragment:"#ifdef USE_CLEARCOATMAP\n\tuniform sampler2D clearcoatMap;\n#endif\n#ifdef USE_CLEARCOAT_ROUGHNESSMAP\n\tuniform sampler2D clearcoatRoughnessMap;\n#endif\n#ifdef USE_CLEARCOAT_NORMALMAP\n\tuniform sampler2D clearcoatNormalMap;\n\tuniform vec2 clearcoatNormalScale;\n#endif",packing:"vec3 packNormalToRGB( const in vec3 normal ) {\n\treturn normalize( normal ) * 0.5 + 0.5;\n}\nvec3 unpackRGBToNormal( const in vec3 rgb ) {\n\treturn 2.0 * rgb.xyz - 1.0;\n}\nconst float PackUpscale = 256. / 255.;const float UnpackDownscale = 255. / 256.;\nconst vec3 PackFactors = vec3( 256. * 256. * 256., 256. * 256., 256. );\nconst vec4 UnpackFactors = UnpackDownscale / vec4( PackFactors, 1. );\nconst float ShiftRight8 = 1. / 256.;\nvec4 packDepthToRGBA( const in float v ) {\n\tvec4 r = vec4( fract( v * PackFactors ), v );\n\tr.yzw -= r.xyz * ShiftRight8;\treturn r * PackUpscale;\n}\nfloat unpackRGBAToDepth( const in vec4 v ) {\n\treturn dot( v, UnpackFactors );\n}\nvec4 pack2HalfToRGBA( vec2 v ) {\n\tvec4 r = vec4( v.x, fract( v.x * 255.0 ), v.y, fract( v.y * 255.0 ));\n\treturn vec4( r.x - r.y / 255.0, r.y, r.z - r.w / 255.0, r.w);\n}\nvec2 unpackRGBATo2Half( vec4 v ) {\n\treturn vec2( v.x + ( v.y / 255.0 ), v.z + ( v.w / 255.0 ) );\n}\nfloat viewZToOrthographicDepth( const in float viewZ, const in float near, const in float far ) {\n\treturn ( viewZ + near ) / ( near - far );\n}\nfloat orthographicDepthToViewZ( const in float linearClipZ, const in float near, const in float far ) {\n\treturn linearClipZ * ( near - far ) - near;\n}\nfloat viewZToPerspectiveDepth( const in float viewZ, const in float near, const in float far ) {\n\treturn (( near + viewZ ) * far ) / (( far - near ) * viewZ );\n}\nfloat perspectiveDepthToViewZ( const in float invClipZ, const in float near, const in float far ) {\n\treturn ( near * far ) / ( ( far - near ) * invClipZ - far );\n}",premultiplied_alpha_fragment:"#ifdef PREMULTIPLIED_ALPHA\n\tgl_FragColor.rgb *= gl_FragColor.a;\n#endif",project_vertex:"vec4 mvPosition = vec4( transformed, 1.0 );\n#ifdef USE_INSTANCING\n\tmvPosition = instanceMatrix * mvPosition;\n#endif\nmvPosition = modelViewMatrix * mvPosition;\ngl_Position = projectionMatrix * mvPosition;",dithering_fragment:"#ifdef DITHERING\n\tgl_FragColor.rgb = dithering( gl_FragColor.rgb );\n#endif",dithering_pars_fragment:"#ifdef DITHERING\n\tvec3 dithering( vec3 color ) {\n\t\tfloat grid_position = rand( gl_FragCoord.xy );\n\t\tvec3 dither_shift_RGB = vec3( 0.25 / 255.0, -0.25 / 255.0, 0.25 / 255.0 );\n\t\tdither_shift_RGB = mix( 2.0 * dither_shift_RGB, -2.0 * dither_shift_RGB, grid_position );\n\t\treturn color + dither_shift_RGB;\n\t}\n#endif",roughnessmap_fragment:"float roughnessFactor = roughness;\n#ifdef USE_ROUGHNESSMAP\n\tvec4 texelRoughness = texture2D( roughnessMap, vUv );\n\troughnessFactor *= texelRoughness.g;\n#endif",roughnessmap_pars_fragment:"#ifdef USE_ROUGHNESSMAP\n\tuniform sampler2D roughnessMap;\n#endif",shadowmap_pars_fragment:"#ifdef USE_SHADOWMAP\n\t#if NUM_DIR_LIGHT_SHADOWS > 0\n\t\tuniform sampler2D directionalShadowMap[ NUM_DIR_LIGHT_SHADOWS ];\n\t\tvarying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];\n\t\tstruct DirectionalLightShadow {\n\t\t\tfloat shadowBias;\n\t\t\tfloat shadowNormalBias;\n\t\t\tfloat shadowRadius;\n\t\t\tvec2 shadowMapSize;\n\t\t};\n\t\tuniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];\n\t#endif\n\t#if NUM_SPOT_LIGHT_SHADOWS > 0\n\t\tuniform sampler2D spotShadowMap[ NUM_SPOT_LIGHT_SHADOWS ];\n\t\tvarying vec4 vSpotShadowCoord[ NUM_SPOT_LIGHT_SHADOWS ];\n\t\tstruct SpotLightShadow {\n\t\t\tfloat shadowBias;\n\t\t\tfloat shadowNormalBias;\n\t\t\tfloat shadowRadius;\n\t\t\tvec2 shadowMapSize;\n\t\t};\n\t\tuniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];\n\t#endif\n\t#if NUM_POINT_LIGHT_SHADOWS > 0\n\t\tuniform sampler2D pointShadowMap[ NUM_POINT_LIGHT_SHADOWS ];\n\t\tvarying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];\n\t\tstruct PointLightShadow {\n\t\t\tfloat shadowBias;\n\t\t\tfloat shadowNormalBias;\n\t\t\tfloat shadowRadius;\n\t\t\tvec2 shadowMapSize;\n\t\t\tfloat shadowCameraNear;\n\t\t\tfloat shadowCameraFar;\n\t\t};\n\t\tuniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];\n\t#endif\n\tfloat texture2DCompare( sampler2D depths, vec2 uv, float compare ) {\n\t\treturn step( compare, unpackRGBAToDepth( texture2D( depths, uv ) ) );\n\t}\n\tvec2 texture2DDistribution( sampler2D shadow, vec2 uv ) {\n\t\treturn unpackRGBATo2Half( texture2D( shadow, uv ) );\n\t}\n\tfloat VSMShadow (sampler2D shadow, vec2 uv, float compare ){\n\t\tfloat occlusion = 1.0;\n\t\tvec2 distribution = texture2DDistribution( shadow, uv );\n\t\tfloat hard_shadow = step( compare , distribution.x );\n\t\tif (hard_shadow != 1.0 ) {\n\t\t\tfloat distance = compare - distribution.x ;\n\t\t\tfloat variance = max( 0.00000, distribution.y * distribution.y );\n\t\t\tfloat softness_probability = variance / (variance + distance * distance );\t\t\tsoftness_probability = clamp( ( softness_probability - 0.3 ) / ( 0.95 - 0.3 ), 0.0, 1.0 );\t\t\tocclusion = clamp( max( hard_shadow, softness_probability ), 0.0, 1.0 );\n\t\t}\n\t\treturn occlusion;\n\t}\n\tfloat getShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord ) {\n\t\tfloat shadow = 1.0;\n\t\tshadowCoord.xyz /= shadowCoord.w;\n\t\tshadowCoord.z += shadowBias;\n\t\tbvec4 inFrustumVec = bvec4 ( shadowCoord.x >= 0.0, shadowCoord.x <= 1.0, shadowCoord.y >= 0.0, shadowCoord.y <= 1.0 );\n\t\tbool inFrustum = all( inFrustumVec );\n\t\tbvec2 frustumTestVec = bvec2( inFrustum, shadowCoord.z <= 1.0 );\n\t\tbool frustumTest = all( frustumTestVec );\n\t\tif ( frustumTest ) {\n\t\t#if defined( SHADOWMAP_TYPE_PCF )\n\t\t\tvec2 texelSize = vec2( 1.0 ) / shadowMapSize;\n\t\t\tfloat dx0 = - texelSize.x * shadowRadius;\n\t\t\tfloat dy0 = - texelSize.y * shadowRadius;\n\t\t\tfloat dx1 = + texelSize.x * shadowRadius;\n\t\t\tfloat dy1 = + texelSize.y * shadowRadius;\n\t\t\tfloat dx2 = dx0 / 2.0;\n\t\t\tfloat dy2 = dy0 / 2.0;\n\t\t\tfloat dx3 = dx1 / 2.0;\n\t\t\tfloat dy3 = dy1 / 2.0;\n\t\t\tshadow = (\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy2 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy2 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy2 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy3 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy3 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy3 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy1 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy1 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy1 ), shadowCoord.z )\n\t\t\t) * ( 1.0 / 17.0 );\n\t\t#elif defined( SHADOWMAP_TYPE_PCF_SOFT )\n\t\t\tvec2 texelSize = vec2( 1.0 ) / shadowMapSize;\n\t\t\tfloat dx = texelSize.x;\n\t\t\tfloat dy = texelSize.y;\n\t\t\tvec2 uv = shadowCoord.xy;\n\t\t\tvec2 f = fract( uv * shadowMapSize + 0.5 );\n\t\t\tuv -= f * texelSize;\n\t\t\tshadow = (\n\t\t\t\ttexture2DCompare( shadowMap, uv, shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, uv + vec2( dx, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, uv + vec2( 0.0, dy ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, uv + texelSize, shadowCoord.z ) +\n\t\t\t\tmix( texture2DCompare( shadowMap, uv + vec2( -dx, 0.0 ), shadowCoord.z ), \n\t\t\t\t\t texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 0.0 ), shadowCoord.z ),\n\t\t\t\t\t f.x ) +\n\t\t\t\tmix( texture2DCompare( shadowMap, uv + vec2( -dx, dy ), shadowCoord.z ), \n\t\t\t\t\t texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, dy ), shadowCoord.z ),\n\t\t\t\t\t f.x ) +\n\t\t\t\tmix( texture2DCompare( shadowMap, uv + vec2( 0.0, -dy ), shadowCoord.z ), \n\t\t\t\t\t texture2DCompare( shadowMap, uv + vec2( 0.0, 2.0 * dy ), shadowCoord.z ),\n\t\t\t\t\t f.y ) +\n\t\t\t\tmix( texture2DCompare( shadowMap, uv + vec2( dx, -dy ), shadowCoord.z ), \n\t\t\t\t\t texture2DCompare( shadowMap, uv + vec2( dx, 2.0 * dy ), shadowCoord.z ),\n\t\t\t\t\t f.y ) +\n\t\t\t\tmix( mix( texture2DCompare( shadowMap, uv + vec2( -dx, -dy ), shadowCoord.z ), \n\t\t\t\t\t\t  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, -dy ), shadowCoord.z ),\n\t\t\t\t\t\t  f.x ),\n\t\t\t\t\t mix( texture2DCompare( shadowMap, uv + vec2( -dx, 2.0 * dy ), shadowCoord.z ), \n\t\t\t\t\t\t  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 2.0 * dy ), shadowCoord.z ),\n\t\t\t\t\t\t  f.x ),\n\t\t\t\t\t f.y )\n\t\t\t) * ( 1.0 / 9.0 );\n\t\t#elif defined( SHADOWMAP_TYPE_VSM )\n\t\t\tshadow = VSMShadow( shadowMap, shadowCoord.xy, shadowCoord.z );\n\t\t#else\n\t\t\tshadow = texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z );\n\t\t#endif\n\t\t}\n\t\treturn shadow;\n\t}\n\tvec2 cubeToUV( vec3 v, float texelSizeY ) {\n\t\tvec3 absV = abs( v );\n\t\tfloat scaleToCube = 1.0 / max( absV.x, max( absV.y, absV.z ) );\n\t\tabsV *= scaleToCube;\n\t\tv *= scaleToCube * ( 1.0 - 2.0 * texelSizeY );\n\t\tvec2 planar = v.xy;\n\t\tfloat almostATexel = 1.5 * texelSizeY;\n\t\tfloat almostOne = 1.0 - almostATexel;\n\t\tif ( absV.z >= almostOne ) {\n\t\t\tif ( v.z > 0.0 )\n\t\t\t\tplanar.x = 4.0 - v.x;\n\t\t} else if ( absV.x >= almostOne ) {\n\t\t\tfloat signX = sign( v.x );\n\t\t\tplanar.x = v.z * signX + 2.0 * signX;\n\t\t} else if ( absV.y >= almostOne ) {\n\t\t\tfloat signY = sign( v.y );\n\t\t\tplanar.x = v.x + 2.0 * signY + 2.0;\n\t\t\tplanar.y = v.z * signY - 2.0;\n\t\t}\n\t\treturn vec2( 0.125, 0.25 ) * planar + vec2( 0.375, 0.75 );\n\t}\n\tfloat getPointShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord, float shadowCameraNear, float shadowCameraFar ) {\n\t\tvec2 texelSize = vec2( 1.0 ) / ( shadowMapSize * vec2( 4.0, 2.0 ) );\n\t\tvec3 lightToPosition = shadowCoord.xyz;\n\t\tfloat dp = ( length( lightToPosition ) - shadowCameraNear ) / ( shadowCameraFar - shadowCameraNear );\t\tdp += shadowBias;\n\t\tvec3 bd3D = normalize( lightToPosition );\n\t\t#if defined( SHADOWMAP_TYPE_PCF ) || defined( SHADOWMAP_TYPE_PCF_SOFT ) || defined( SHADOWMAP_TYPE_VSM )\n\t\t\tvec2 offset = vec2( - 1, 1 ) * shadowRadius * texelSize.y;\n\t\t\treturn (\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyy, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyy, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyx, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyx, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxy, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxy, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxx, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxx, texelSize.y ), dp )\n\t\t\t) * ( 1.0 / 9.0 );\n\t\t#else\n\t\t\treturn texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp );\n\t\t#endif\n\t}\n#endif",shadowmap_pars_vertex:"#ifdef USE_SHADOWMAP\n\t#if NUM_DIR_LIGHT_SHADOWS > 0\n\t\tuniform mat4 directionalShadowMatrix[ NUM_DIR_LIGHT_SHADOWS ];\n\t\tvarying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];\n\t\tstruct DirectionalLightShadow {\n\t\t\tfloat shadowBias;\n\t\t\tfloat shadowNormalBias;\n\t\t\tfloat shadowRadius;\n\t\t\tvec2 shadowMapSize;\n\t\t};\n\t\tuniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];\n\t#endif\n\t#if NUM_SPOT_LIGHT_SHADOWS > 0\n\t\tuniform mat4 spotShadowMatrix[ NUM_SPOT_LIGHT_SHADOWS ];\n\t\tvarying vec4 vSpotShadowCoord[ NUM_SPOT_LIGHT_SHADOWS ];\n\t\tstruct SpotLightShadow {\n\t\t\tfloat shadowBias;\n\t\t\tfloat shadowNormalBias;\n\t\t\tfloat shadowRadius;\n\t\t\tvec2 shadowMapSize;\n\t\t};\n\t\tuniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];\n\t#endif\n\t#if NUM_POINT_LIGHT_SHADOWS > 0\n\t\tuniform mat4 pointShadowMatrix[ NUM_POINT_LIGHT_SHADOWS ];\n\t\tvarying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];\n\t\tstruct PointLightShadow {\n\t\t\tfloat shadowBias;\n\t\t\tfloat shadowNormalBias;\n\t\t\tfloat shadowRadius;\n\t\t\tvec2 shadowMapSize;\n\t\t\tfloat shadowCameraNear;\n\t\t\tfloat shadowCameraFar;\n\t\t};\n\t\tuniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];\n\t#endif\n#endif",shadowmap_vertex:"#ifdef USE_SHADOWMAP\n\t#if NUM_DIR_LIGHT_SHADOWS > 0 || NUM_SPOT_LIGHT_SHADOWS > 0 || NUM_POINT_LIGHT_SHADOWS > 0\n\t\tvec3 shadowWorldNormal = inverseTransformDirection( transformedNormal, viewMatrix );\n\t\tvec4 shadowWorldPosition;\n\t#endif\n\t#if NUM_DIR_LIGHT_SHADOWS > 0\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {\n\t\tshadowWorldPosition = worldPosition + vec4( shadowWorldNormal * directionalLightShadows[ i ].shadowNormalBias, 0 );\n\t\tvDirectionalShadowCoord[ i ] = directionalShadowMatrix[ i ] * shadowWorldPosition;\n\t}\n\t#pragma unroll_loop_end\n\t#endif\n\t#if NUM_SPOT_LIGHT_SHADOWS > 0\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_SPOT_LIGHT_SHADOWS; i ++ ) {\n\t\tshadowWorldPosition = worldPosition + vec4( shadowWorldNormal * spotLightShadows[ i ].shadowNormalBias, 0 );\n\t\tvSpotShadowCoord[ i ] = spotShadowMatrix[ i ] * shadowWorldPosition;\n\t}\n\t#pragma unroll_loop_end\n\t#endif\n\t#if NUM_POINT_LIGHT_SHADOWS > 0\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {\n\t\tshadowWorldPosition = worldPosition + vec4( shadowWorldNormal * pointLightShadows[ i ].shadowNormalBias, 0 );\n\t\tvPointShadowCoord[ i ] = pointShadowMatrix[ i ] * shadowWorldPosition;\n\t}\n\t#pragma unroll_loop_end\n\t#endif\n#endif",shadowmask_pars_fragment:"float getShadowMask() {\n\tfloat shadow = 1.0;\n\t#ifdef USE_SHADOWMAP\n\t#if NUM_DIR_LIGHT_SHADOWS > 0\n\tDirectionalLightShadow directionalLight;\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {\n\t\tdirectionalLight = directionalLightShadows[ i ];\n\t\tshadow *= receiveShadow ? getShadow( directionalShadowMap[ i ], directionalLight.shadowMapSize, directionalLight.shadowBias, directionalLight.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;\n\t}\n\t#pragma unroll_loop_end\n\t#endif\n\t#if NUM_SPOT_LIGHT_SHADOWS > 0\n\tSpotLightShadow spotLight;\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_SPOT_LIGHT_SHADOWS; i ++ ) {\n\t\tspotLight = spotLightShadows[ i ];\n\t\tshadow *= receiveShadow ? getShadow( spotShadowMap[ i ], spotLight.shadowMapSize, spotLight.shadowBias, spotLight.shadowRadius, vSpotShadowCoord[ i ] ) : 1.0;\n\t}\n\t#pragma unroll_loop_end\n\t#endif\n\t#if NUM_POINT_LIGHT_SHADOWS > 0\n\tPointLightShadow pointLight;\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {\n\t\tpointLight = pointLightShadows[ i ];\n\t\tshadow *= receiveShadow ? getPointShadow( pointShadowMap[ i ], pointLight.shadowMapSize, pointLight.shadowBias, pointLight.shadowRadius, vPointShadowCoord[ i ], pointLight.shadowCameraNear, pointLight.shadowCameraFar ) : 1.0;\n\t}\n\t#pragma unroll_loop_end\n\t#endif\n\t#endif\n\treturn shadow;\n}",skinbase_vertex:"#ifdef USE_SKINNING\n\tmat4 boneMatX = getBoneMatrix( skinIndex.x );\n\tmat4 boneMatY = getBoneMatrix( skinIndex.y );\n\tmat4 boneMatZ = getBoneMatrix( skinIndex.z );\n\tmat4 boneMatW = getBoneMatrix( skinIndex.w );\n#endif",skinning_pars_vertex:"#ifdef USE_SKINNING\n\tuniform mat4 bindMatrix;\n\tuniform mat4 bindMatrixInverse;\n\t#ifdef BONE_TEXTURE\n\t\tuniform highp sampler2D boneTexture;\n\t\tuniform int boneTextureSize;\n\t\tmat4 getBoneMatrix( const in float i ) {\n\t\t\tfloat j = i * 4.0;\n\t\t\tfloat x = mod( j, float( boneTextureSize ) );\n\t\t\tfloat y = floor( j / float( boneTextureSize ) );\n\t\t\tfloat dx = 1.0 / float( boneTextureSize );\n\t\t\tfloat dy = 1.0 / float( boneTextureSize );\n\t\t\ty = dy * ( y + 0.5 );\n\t\t\tvec4 v1 = texture2D( boneTexture, vec2( dx * ( x + 0.5 ), y ) );\n\t\t\tvec4 v2 = texture2D( boneTexture, vec2( dx * ( x + 1.5 ), y ) );\n\t\t\tvec4 v3 = texture2D( boneTexture, vec2( dx * ( x + 2.5 ), y ) );\n\t\t\tvec4 v4 = texture2D( boneTexture, vec2( dx * ( x + 3.5 ), y ) );\n\t\t\tmat4 bone = mat4( v1, v2, v3, v4 );\n\t\t\treturn bone;\n\t\t}\n\t#else\n\t\tuniform mat4 boneMatrices[ MAX_BONES ];\n\t\tmat4 getBoneMatrix( const in float i ) {\n\t\t\tmat4 bone = boneMatrices[ int(i) ];\n\t\t\treturn bone;\n\t\t}\n\t#endif\n#endif",skinning_vertex:"#ifdef USE_SKINNING\n\tvec4 skinVertex = bindMatrix * vec4( transformed, 1.0 );\n\tvec4 skinned = vec4( 0.0 );\n\tskinned += boneMatX * skinVertex * skinWeight.x;\n\tskinned += boneMatY * skinVertex * skinWeight.y;\n\tskinned += boneMatZ * skinVertex * skinWeight.z;\n\tskinned += boneMatW * skinVertex * skinWeight.w;\n\ttransformed = ( bindMatrixInverse * skinned ).xyz;\n#endif",skinnormal_vertex:"#ifdef USE_SKINNING\n\tmat4 skinMatrix = mat4( 0.0 );\n\tskinMatrix += skinWeight.x * boneMatX;\n\tskinMatrix += skinWeight.y * boneMatY;\n\tskinMatrix += skinWeight.z * boneMatZ;\n\tskinMatrix += skinWeight.w * boneMatW;\n\tskinMatrix = bindMatrixInverse * skinMatrix * bindMatrix;\n\tobjectNormal = vec4( skinMatrix * vec4( objectNormal, 0.0 ) ).xyz;\n\t#ifdef USE_TANGENT\n\t\tobjectTangent = vec4( skinMatrix * vec4( objectTangent, 0.0 ) ).xyz;\n\t#endif\n#endif",specularmap_fragment:"float specularStrength;\n#ifdef USE_SPECULARMAP\n\tvec4 texelSpecular = texture2D( specularMap, vUv );\n\tspecularStrength = texelSpecular.r;\n#else\n\tspecularStrength = 1.0;\n#endif",specularmap_pars_fragment:"#ifdef USE_SPECULARMAP\n\tuniform sampler2D specularMap;\n#endif",tonemapping_fragment:"#if defined( TONE_MAPPING )\n\tgl_FragColor.rgb = toneMapping( gl_FragColor.rgb );\n#endif",tonemapping_pars_fragment:"#ifndef saturate\n#define saturate(a) clamp( a, 0.0, 1.0 )\n#endif\nuniform float toneMappingExposure;\nvec3 LinearToneMapping( vec3 color ) {\n\treturn toneMappingExposure * color;\n}\nvec3 ReinhardToneMapping( vec3 color ) {\n\tcolor *= toneMappingExposure;\n\treturn saturate( color / ( vec3( 1.0 ) + color ) );\n}\nvec3 OptimizedCineonToneMapping( vec3 color ) {\n\tcolor *= toneMappingExposure;\n\tcolor = max( vec3( 0.0 ), color - 0.004 );\n\treturn pow( ( color * ( 6.2 * color + 0.5 ) ) / ( color * ( 6.2 * color + 1.7 ) + 0.06 ), vec3( 2.2 ) );\n}\nvec3 RRTAndODTFit( vec3 v ) {\n\tvec3 a = v * ( v + 0.0245786 ) - 0.000090537;\n\tvec3 b = v * ( 0.983729 * v + 0.4329510 ) + 0.238081;\n\treturn a / b;\n}\nvec3 ACESFilmicToneMapping( vec3 color ) {\n\tconst mat3 ACESInputMat = mat3(\n\t\tvec3( 0.59719, 0.07600, 0.02840 ),\t\tvec3( 0.35458, 0.90834, 0.13383 ),\n\t\tvec3( 0.04823, 0.01566, 0.83777 )\n\t);\n\tconst mat3 ACESOutputMat = mat3(\n\t\tvec3(  1.60475, -0.10208, -0.00327 ),\t\tvec3( -0.53108,  1.10813, -0.07276 ),\n\t\tvec3( -0.07367, -0.00605,  1.07602 )\n\t);\n\tcolor *= toneMappingExposure / 0.6;\n\tcolor = ACESInputMat * color;\n\tcolor = RRTAndODTFit( color );\n\tcolor = ACESOutputMat * color;\n\treturn saturate( color );\n}\nvec3 CustomToneMapping( vec3 color ) { return color; }",transmissionmap_fragment:"#ifdef USE_TRANSMISSIONMAP\n\ttotalTransmission *= texture2D( transmissionMap, vUv ).r;\n#endif",transmissionmap_pars_fragment:"#ifdef USE_TRANSMISSIONMAP\n\tuniform sampler2D transmissionMap;\n#endif",uv_pars_fragment:"#if ( defined( USE_UV ) && ! defined( UVS_VERTEX_ONLY ) )\n\tvarying vec2 vUv;\n#endif",uv_pars_vertex:"#ifdef USE_UV\n\t#ifdef UVS_VERTEX_ONLY\n\t\tvec2 vUv;\n\t#else\n\t\tvarying vec2 vUv;\n\t#endif\n\tuniform mat3 uvTransform;\n#endif",uv_vertex:"#ifdef USE_UV\n\tvUv = ( uvTransform * vec3( uv, 1 ) ).xy;\n#endif",uv2_pars_fragment:"#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )\n\tvarying vec2 vUv2;\n#endif",uv2_pars_vertex:"#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )\n\tattribute vec2 uv2;\n\tvarying vec2 vUv2;\n\tuniform mat3 uv2Transform;\n#endif",uv2_vertex:"#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )\n\tvUv2 = ( uv2Transform * vec3( uv2, 1 ) ).xy;\n#endif",worldpos_vertex:"#if defined( USE_ENVMAP ) || defined( DISTANCE ) || defined ( USE_SHADOWMAP )\n\tvec4 worldPosition = vec4( transformed, 1.0 );\n\t#ifdef USE_INSTANCING\n\t\tworldPosition = instanceMatrix * worldPosition;\n\t#endif\n\tworldPosition = modelMatrix * worldPosition;\n#endif",background_frag:"uniform sampler2D t2D;\nvarying vec2 vUv;\nvoid main() {\n\tvec4 texColor = texture2D( t2D, vUv );\n\tgl_FragColor = mapTexelToLinear( texColor );\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n}",background_vert:"varying vec2 vUv;\nuniform mat3 uvTransform;\nvoid main() {\n\tvUv = ( uvTransform * vec3( uv, 1 ) ).xy;\n\tgl_Position = vec4( position.xy, 1.0, 1.0 );\n}",cube_frag:"#include <envmap_common_pars_fragment>\nuniform float opacity;\nvarying vec3 vWorldDirection;\n#include <cube_uv_reflection_fragment>\nvoid main() {\n\tvec3 vReflect = vWorldDirection;\n\t#include <envmap_fragment>\n\tgl_FragColor = envColor;\n\tgl_FragColor.a *= opacity;\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n}",cube_vert:"varying vec3 vWorldDirection;\n#include <common>\nvoid main() {\n\tvWorldDirection = transformDirection( position, modelMatrix );\n\t#include <begin_vertex>\n\t#include <project_vertex>\n\tgl_Position.z = gl_Position.w;\n}",depth_frag:"#if DEPTH_PACKING == 3200\n\tuniform float opacity;\n#endif\n#include <common>\n#include <packing>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvarying vec2 vHighPrecisionZW;\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( 1.0 );\n\t#if DEPTH_PACKING == 3200\n\t\tdiffuseColor.a = opacity;\n\t#endif\n\t#include <map_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <logdepthbuf_fragment>\n\tfloat fragCoordZ = 0.5 * vHighPrecisionZW[0] / vHighPrecisionZW[1] + 0.5;\n\t#if DEPTH_PACKING == 3200\n\t\tgl_FragColor = vec4( vec3( 1.0 - fragCoordZ ), opacity );\n\t#elif DEPTH_PACKING == 3201\n\t\tgl_FragColor = packDepthToRGBA( fragCoordZ );\n\t#endif\n}",depth_vert:"#include <common>\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvarying vec2 vHighPrecisionZW;\nvoid main() {\n\t#include <uv_vertex>\n\t#include <skinbase_vertex>\n\t#ifdef USE_DISPLACEMENTMAP\n\t\t#include <beginnormal_vertex>\n\t\t#include <morphnormal_vertex>\n\t\t#include <skinnormal_vertex>\n\t#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\tvHighPrecisionZW = gl_Position.zw;\n}",distanceRGBA_frag:"#define DISTANCE\nuniform vec3 referencePosition;\nuniform float nearDistance;\nuniform float farDistance;\nvarying vec3 vWorldPosition;\n#include <common>\n#include <packing>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main () {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( 1.0 );\n\t#include <map_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\tfloat dist = length( vWorldPosition - referencePosition );\n\tdist = ( dist - nearDistance ) / ( farDistance - nearDistance );\n\tdist = saturate( dist );\n\tgl_FragColor = packDepthToRGBA( dist );\n}",distanceRGBA_vert:"#define DISTANCE\nvarying vec3 vWorldPosition;\n#include <common>\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <skinbase_vertex>\n\t#ifdef USE_DISPLACEMENTMAP\n\t\t#include <beginnormal_vertex>\n\t\t#include <morphnormal_vertex>\n\t\t#include <skinnormal_vertex>\n\t#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <worldpos_vertex>\n\t#include <clipping_planes_vertex>\n\tvWorldPosition = worldPosition.xyz;\n}",equirect_frag:"uniform sampler2D tEquirect;\nvarying vec3 vWorldDirection;\n#include <common>\nvoid main() {\n\tvec3 direction = normalize( vWorldDirection );\n\tvec2 sampleUV = equirectUv( direction );\n\tvec4 texColor = texture2D( tEquirect, sampleUV );\n\tgl_FragColor = mapTexelToLinear( texColor );\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n}",equirect_vert:"varying vec3 vWorldDirection;\n#include <common>\nvoid main() {\n\tvWorldDirection = transformDirection( position, modelMatrix );\n\t#include <begin_vertex>\n\t#include <project_vertex>\n}",linedashed_frag:"uniform vec3 diffuse;\nuniform float opacity;\nuniform float dashSize;\nuniform float totalSize;\nvarying float vLineDistance;\n#include <common>\n#include <color_pars_fragment>\n#include <fog_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tif ( mod( vLineDistance, totalSize ) > dashSize ) {\n\t\tdiscard;\n\t}\n\tvec3 outgoingLight = vec3( 0.0 );\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <logdepthbuf_fragment>\n\t#include <color_fragment>\n\toutgoingLight = diffuseColor.rgb;\n\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n}",linedashed_vert:"uniform float scale;\nattribute float lineDistance;\nvarying float vLineDistance;\n#include <common>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\tvLineDistance = scale * lineDistance;\n\t#include <color_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <fog_vertex>\n}",meshbasic_frag:"uniform vec3 diffuse;\nuniform float opacity;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n#endif\n#include <common>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <uv2_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <envmap_common_pars_fragment>\n#include <envmap_pars_fragment>\n#include <cube_uv_reflection_fragment>\n#include <fog_pars_fragment>\n#include <specularmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <specularmap_fragment>\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\t#ifdef USE_LIGHTMAP\n\t\n\t\tvec4 lightMapTexel= texture2D( lightMap, vUv2 );\n\t\treflectedLight.indirectDiffuse += lightMapTexelToLinear( lightMapTexel ).rgb * lightMapIntensity;\n\t#else\n\t\treflectedLight.indirectDiffuse += vec3( 1.0 );\n\t#endif\n\t#include <aomap_fragment>\n\treflectedLight.indirectDiffuse *= diffuseColor.rgb;\n\tvec3 outgoingLight = reflectedLight.indirectDiffuse;\n\t#include <envmap_fragment>\n\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}",meshbasic_vert:"#include <common>\n#include <uv_pars_vertex>\n#include <uv2_pars_vertex>\n#include <envmap_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <uv2_vertex>\n\t#include <color_vertex>\n\t#include <skinbase_vertex>\n\t#ifdef USE_ENVMAP\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <worldpos_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <envmap_vertex>\n\t#include <fog_vertex>\n}",meshlambert_frag:"uniform vec3 diffuse;\nuniform vec3 emissive;\nuniform float opacity;\nvarying vec3 vLightFront;\nvarying vec3 vIndirectFront;\n#ifdef DOUBLE_SIDED\n\tvarying vec3 vLightBack;\n\tvarying vec3 vIndirectBack;\n#endif\n#include <common>\n#include <packing>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <uv2_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <emissivemap_pars_fragment>\n#include <envmap_common_pars_fragment>\n#include <envmap_pars_fragment>\n#include <cube_uv_reflection_fragment>\n#include <bsdfs>\n#include <lights_pars_begin>\n#include <fog_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <shadowmask_pars_fragment>\n#include <specularmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\tvec3 totalEmissiveRadiance = emissive;\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <specularmap_fragment>\n\t#include <emissivemap_fragment>\n\t#ifdef DOUBLE_SIDED\n\t\treflectedLight.indirectDiffuse += ( gl_FrontFacing ) ? vIndirectFront : vIndirectBack;\n\t#else\n\t\treflectedLight.indirectDiffuse += vIndirectFront;\n\t#endif\n\t#include <lightmap_fragment>\n\treflectedLight.indirectDiffuse *= BRDF_Diffuse_Lambert( diffuseColor.rgb );\n\t#ifdef DOUBLE_SIDED\n\t\treflectedLight.directDiffuse = ( gl_FrontFacing ) ? vLightFront : vLightBack;\n\t#else\n\t\treflectedLight.directDiffuse = vLightFront;\n\t#endif\n\treflectedLight.directDiffuse *= BRDF_Diffuse_Lambert( diffuseColor.rgb ) * getShadowMask();\n\t#include <aomap_fragment>\n\tvec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;\n\t#include <envmap_fragment>\n\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}",meshlambert_vert:"#define LAMBERT\nvarying vec3 vLightFront;\nvarying vec3 vIndirectFront;\n#ifdef DOUBLE_SIDED\n\tvarying vec3 vLightBack;\n\tvarying vec3 vIndirectBack;\n#endif\n#include <common>\n#include <uv_pars_vertex>\n#include <uv2_pars_vertex>\n#include <envmap_pars_vertex>\n#include <bsdfs>\n#include <lights_pars_begin>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <shadowmap_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <uv2_vertex>\n\t#include <color_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <worldpos_vertex>\n\t#include <envmap_vertex>\n\t#include <lights_lambert_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n}",meshmatcap_frag:"#define MATCAP\nuniform vec3 diffuse;\nuniform float opacity;\nuniform sampler2D matcap;\nvarying vec3 vViewPosition;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n#endif\n#include <common>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <fog_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\tvec3 viewDir = normalize( vViewPosition );\n\tvec3 x = normalize( vec3( viewDir.z, 0.0, - viewDir.x ) );\n\tvec3 y = cross( viewDir, x );\n\tvec2 uv = vec2( dot( x, normal ), dot( y, normal ) ) * 0.495 + 0.5;\n\t#ifdef USE_MATCAP\n\t\tvec4 matcapColor = texture2D( matcap, uv );\n\t\tmatcapColor = matcapTexelToLinear( matcapColor );\n\t#else\n\t\tvec4 matcapColor = vec4( 1.0 );\n\t#endif\n\tvec3 outgoingLight = diffuseColor.rgb * matcapColor.rgb;\n\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}",meshmatcap_vert:"#define MATCAP\nvarying vec3 vViewPosition;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n#endif\n#include <common>\n#include <uv_pars_vertex>\n#include <color_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <color_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#ifndef FLAT_SHADED\n\t\tvNormal = normalize( transformedNormal );\n\t#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <fog_vertex>\n\tvViewPosition = - mvPosition.xyz;\n}",meshtoon_frag:"#define TOON\nuniform vec3 diffuse;\nuniform vec3 emissive;\nuniform float opacity;\n#include <common>\n#include <packing>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <uv2_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <emissivemap_pars_fragment>\n#include <gradientmap_pars_fragment>\n#include <fog_pars_fragment>\n#include <bsdfs>\n#include <lights_pars_begin>\n#include <lights_toon_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\tvec3 totalEmissiveRadiance = emissive;\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\t#include <emissivemap_fragment>\n\t#include <lights_toon_fragment>\n\t#include <lights_fragment_begin>\n\t#include <lights_fragment_maps>\n\t#include <lights_fragment_end>\n\t#include <aomap_fragment>\n\tvec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;\n\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}",meshtoon_vert:"#define TOON\nvarying vec3 vViewPosition;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n#endif\n#include <common>\n#include <uv_pars_vertex>\n#include <uv2_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <shadowmap_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <uv2_vertex>\n\t#include <color_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n#ifndef FLAT_SHADED\n\tvNormal = normalize( transformedNormal );\n#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\tvViewPosition = - mvPosition.xyz;\n\t#include <worldpos_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n}",meshphong_frag:"#define PHONG\nuniform vec3 diffuse;\nuniform vec3 emissive;\nuniform vec3 specular;\nuniform float shininess;\nuniform float opacity;\n#include <common>\n#include <packing>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <uv2_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <emissivemap_pars_fragment>\n#include <envmap_common_pars_fragment>\n#include <envmap_pars_fragment>\n#include <cube_uv_reflection_fragment>\n#include <fog_pars_fragment>\n#include <bsdfs>\n#include <lights_pars_begin>\n#include <lights_phong_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <specularmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\tvec3 totalEmissiveRadiance = emissive;\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <specularmap_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\t#include <emissivemap_fragment>\n\t#include <lights_phong_fragment>\n\t#include <lights_fragment_begin>\n\t#include <lights_fragment_maps>\n\t#include <lights_fragment_end>\n\t#include <aomap_fragment>\n\tvec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + reflectedLight.directSpecular + reflectedLight.indirectSpecular + totalEmissiveRadiance;\n\t#include <envmap_fragment>\n\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}",meshphong_vert:"#define PHONG\nvarying vec3 vViewPosition;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n#endif\n#include <common>\n#include <uv_pars_vertex>\n#include <uv2_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <envmap_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <shadowmap_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <uv2_vertex>\n\t#include <color_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n#ifndef FLAT_SHADED\n\tvNormal = normalize( transformedNormal );\n#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\tvViewPosition = - mvPosition.xyz;\n\t#include <worldpos_vertex>\n\t#include <envmap_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n}",meshphysical_frag:"#define STANDARD\n#ifdef PHYSICAL\n\t#define REFLECTIVITY\n\t#define CLEARCOAT\n\t#define TRANSMISSION\n#endif\nuniform vec3 diffuse;\nuniform vec3 emissive;\nuniform float roughness;\nuniform float metalness;\nuniform float opacity;\n#ifdef TRANSMISSION\n\tuniform float transmission;\n#endif\n#ifdef REFLECTIVITY\n\tuniform float reflectivity;\n#endif\n#ifdef CLEARCOAT\n\tuniform float clearcoat;\n\tuniform float clearcoatRoughness;\n#endif\n#ifdef USE_SHEEN\n\tuniform vec3 sheen;\n#endif\nvarying vec3 vViewPosition;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n\t#ifdef USE_TANGENT\n\t\tvarying vec3 vTangent;\n\t\tvarying vec3 vBitangent;\n\t#endif\n#endif\n#include <common>\n#include <packing>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <uv2_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <emissivemap_pars_fragment>\n#include <transmissionmap_pars_fragment>\n#include <bsdfs>\n#include <cube_uv_reflection_fragment>\n#include <envmap_common_pars_fragment>\n#include <envmap_physical_pars_fragment>\n#include <fog_pars_fragment>\n#include <lights_pars_begin>\n#include <lights_physical_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <clearcoat_pars_fragment>\n#include <roughnessmap_pars_fragment>\n#include <metalnessmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\tvec3 totalEmissiveRadiance = emissive;\n\t#ifdef TRANSMISSION\n\t\tfloat totalTransmission = transmission;\n\t#endif\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <roughnessmap_fragment>\n\t#include <metalnessmap_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\t#include <clearcoat_normal_fragment_begin>\n\t#include <clearcoat_normal_fragment_maps>\n\t#include <emissivemap_fragment>\n\t#include <transmissionmap_fragment>\n\t#include <lights_physical_fragment>\n\t#include <lights_fragment_begin>\n\t#include <lights_fragment_maps>\n\t#include <lights_fragment_end>\n\t#include <aomap_fragment>\n\tvec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + reflectedLight.directSpecular + reflectedLight.indirectSpecular + totalEmissiveRadiance;\n\t#ifdef TRANSMISSION\n\t\tdiffuseColor.a *= mix( saturate( 1. - totalTransmission + linearToRelativeLuminance( reflectedLight.directSpecular + reflectedLight.indirectSpecular ) ), 1.0, metalness );\n\t#endif\n\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}",meshphysical_vert:"#define STANDARD\nvarying vec3 vViewPosition;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n\t#ifdef USE_TANGENT\n\t\tvarying vec3 vTangent;\n\t\tvarying vec3 vBitangent;\n\t#endif\n#endif\n#include <common>\n#include <uv_pars_vertex>\n#include <uv2_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <shadowmap_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <uv2_vertex>\n\t#include <color_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n#ifndef FLAT_SHADED\n\tvNormal = normalize( transformedNormal );\n\t#ifdef USE_TANGENT\n\t\tvTangent = normalize( transformedTangent );\n\t\tvBitangent = normalize( cross( vNormal, vTangent ) * tangent.w );\n\t#endif\n#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\tvViewPosition = - mvPosition.xyz;\n\t#include <worldpos_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n}",normal_frag:"#define NORMAL\nuniform float opacity;\n#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( TANGENTSPACE_NORMALMAP )\n\tvarying vec3 vViewPosition;\n#endif\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n\t#ifdef USE_TANGENT\n\t\tvarying vec3 vTangent;\n\t\tvarying vec3 vBitangent;\n\t#endif\n#endif\n#include <packing>\n#include <uv_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\t#include <logdepthbuf_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\tgl_FragColor = vec4( packNormalToRGB( normal ), opacity );\n}",normal_vert:"#define NORMAL\n#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( TANGENTSPACE_NORMALMAP )\n\tvarying vec3 vViewPosition;\n#endif\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n\t#ifdef USE_TANGENT\n\t\tvarying vec3 vTangent;\n\t\tvarying vec3 vBitangent;\n\t#endif\n#endif\n#include <common>\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n#ifndef FLAT_SHADED\n\tvNormal = normalize( transformedNormal );\n\t#ifdef USE_TANGENT\n\t\tvTangent = normalize( transformedTangent );\n\t\tvBitangent = normalize( cross( vNormal, vTangent ) * tangent.w );\n\t#endif\n#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( TANGENTSPACE_NORMALMAP )\n\tvViewPosition = - mvPosition.xyz;\n#endif\n}",points_frag:"uniform vec3 diffuse;\nuniform float opacity;\n#include <common>\n#include <color_pars_fragment>\n#include <map_particle_pars_fragment>\n#include <fog_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec3 outgoingLight = vec3( 0.0 );\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <logdepthbuf_fragment>\n\t#include <map_particle_fragment>\n\t#include <color_fragment>\n\t#include <alphatest_fragment>\n\toutgoingLight = diffuseColor.rgb;\n\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n}",points_vert:"uniform float size;\nuniform float scale;\n#include <common>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <color_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <project_vertex>\n\tgl_PointSize = size;\n\t#ifdef USE_SIZEATTENUATION\n\t\tbool isPerspective = isPerspectiveMatrix( projectionMatrix );\n\t\tif ( isPerspective ) gl_PointSize *= ( scale / - mvPosition.z );\n\t#endif\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <worldpos_vertex>\n\t#include <fog_vertex>\n}",shadow_frag:"uniform vec3 color;\nuniform float opacity;\n#include <common>\n#include <packing>\n#include <fog_pars_fragment>\n#include <bsdfs>\n#include <lights_pars_begin>\n#include <shadowmap_pars_fragment>\n#include <shadowmask_pars_fragment>\nvoid main() {\n\tgl_FragColor = vec4( color, opacity * ( 1.0 - getShadowMask() ) );\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n}",shadow_vert:"#include <common>\n#include <fog_pars_vertex>\n#include <shadowmap_pars_vertex>\nvoid main() {\n\t#include <begin_vertex>\n\t#include <project_vertex>\n\t#include <worldpos_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n}",sprite_frag:"uniform vec3 diffuse;\nuniform float opacity;\n#include <common>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <fog_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec3 outgoingLight = vec3( 0.0 );\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\toutgoingLight = diffuseColor.rgb;\n\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n}",sprite_vert:"uniform float rotation;\nuniform vec2 center;\n#include <common>\n#include <uv_pars_vertex>\n#include <fog_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\tvec4 mvPosition = modelViewMatrix * vec4( 0.0, 0.0, 0.0, 1.0 );\n\tvec2 scale;\n\tscale.x = length( vec3( modelMatrix[ 0 ].x, modelMatrix[ 0 ].y, modelMatrix[ 0 ].z ) );\n\tscale.y = length( vec3( modelMatrix[ 1 ].x, modelMatrix[ 1 ].y, modelMatrix[ 1 ].z ) );\n\t#ifndef USE_SIZEATTENUATION\n\t\tbool isPerspective = isPerspectiveMatrix( projectionMatrix );\n\t\tif ( isPerspective ) scale *= - mvPosition.z;\n\t#endif\n\tvec2 alignedPosition = ( position.xy - ( center - vec2( 0.5 ) ) ) * scale;\n\tvec2 rotatedPosition;\n\trotatedPosition.x = cos( rotation ) * alignedPosition.x - sin( rotation ) * alignedPosition.y;\n\trotatedPosition.y = sin( rotation ) * alignedPosition.x + cos( rotation ) * alignedPosition.y;\n\tmvPosition.xy += rotatedPosition;\n\tgl_Position = projectionMatrix * mvPosition;\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <fog_vertex>\n}"},Wo={common:{diffuse:{value:new Tr(15658734)},opacity:{value:1},map:{value:null},uvTransform:{value:new Jn},uv2Transform:{value:new Jn},alphaMap:{value:null}},specularmap:{specularMap:{value:null}},envmap:{envMap:{value:null},flipEnvMap:{value:-1},reflectivity:{value:1},refractionRatio:{value:.98},maxMipLevel:{value:0}},aomap:{aoMap:{value:null},aoMapIntensity:{value:1}},lightmap:{lightMap:{value:null},lightMapIntensity:{value:1}},emissivemap:{emissiveMap:{value:null}},bumpmap:{bumpMap:{value:null},bumpScale:{value:1}},normalmap:{normalMap:{value:null},normalScale:{value:new Yn(1,1)}},displacementmap:{displacementMap:{value:null},displacementScale:{value:1},displacementBias:{value:0}},roughnessmap:{roughnessMap:{value:null}},metalnessmap:{metalnessMap:{value:null}},gradientmap:{gradientMap:{value:null}},fog:{fogDensity:{value:25e-5},fogNear:{value:1},fogFar:{value:2e3},fogColor:{value:new Tr(16777215)}},lights:{ambientLightColor:{value:[]},lightProbe:{value:[]},directionalLights:{value:[],properties:{direction:{},color:{}}},directionalLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},directionalShadowMap:{value:[]},directionalShadowMatrix:{value:[]},spotLights:{value:[],properties:{color:{},position:{},direction:{},distance:{},coneCos:{},penumbraCos:{},decay:{}}},spotLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},spotShadowMap:{value:[]},spotShadowMatrix:{value:[]},pointLights:{value:[],properties:{color:{},position:{},decay:{},distance:{}}},pointLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{},shadowCameraNear:{},shadowCameraFar:{}}},pointShadowMap:{value:[]},pointShadowMatrix:{value:[]},hemisphereLights:{value:[],properties:{direction:{},skyColor:{},groundColor:{}}},rectAreaLights:{value:[],properties:{color:{},position:{},width:{},height:{}}},ltc_1:{value:null},ltc_2:{value:null}},points:{diffuse:{value:new Tr(15658734)},opacity:{value:1},size:{value:1},scale:{value:1},map:{value:null},alphaMap:{value:null},uvTransform:{value:new Jn}},sprite:{diffuse:{value:new Tr(15658734)},opacity:{value:1},center:{value:new Yn(.5,.5)},rotation:{value:0},map:{value:null},alphaMap:{value:null},uvTransform:{value:new Jn}}},qo={basic:{uniforms:Eo([Wo.common,Wo.specularmap,Wo.envmap,Wo.aomap,Wo.lightmap,Wo.fog]),vertexShader:Vo.meshbasic_vert,fragmentShader:Vo.meshbasic_frag},lambert:{uniforms:Eo([Wo.common,Wo.specularmap,Wo.envmap,Wo.aomap,Wo.lightmap,Wo.emissivemap,Wo.fog,Wo.lights,{emissive:{value:new Tr(0)}}]),vertexShader:Vo.meshlambert_vert,fragmentShader:Vo.meshlambert_frag},phong:{uniforms:Eo([Wo.common,Wo.specularmap,Wo.envmap,Wo.aomap,Wo.lightmap,Wo.emissivemap,Wo.bumpmap,Wo.normalmap,Wo.displacementmap,Wo.fog,Wo.lights,{emissive:{value:new Tr(0)},specular:{value:new Tr(1118481)},shininess:{value:30}}]),vertexShader:Vo.meshphong_vert,fragmentShader:Vo.meshphong_frag},standard:{uniforms:Eo([Wo.common,Wo.envmap,Wo.aomap,Wo.lightmap,Wo.emissivemap,Wo.bumpmap,Wo.normalmap,Wo.displacementmap,Wo.roughnessmap,Wo.metalnessmap,Wo.fog,Wo.lights,{emissive:{value:new Tr(0)},roughness:{value:1},metalness:{value:0},envMapIntensity:{value:1}}]),vertexShader:Vo.meshphysical_vert,fragmentShader:Vo.meshphysical_frag},toon:{uniforms:Eo([Wo.common,Wo.aomap,Wo.lightmap,Wo.emissivemap,Wo.bumpmap,Wo.normalmap,Wo.displacementmap,Wo.gradientmap,Wo.fog,Wo.lights,{emissive:{value:new Tr(0)}}]),vertexShader:Vo.meshtoon_vert,fragmentShader:Vo.meshtoon_frag},matcap:{uniforms:Eo([Wo.common,Wo.bumpmap,Wo.normalmap,Wo.displacementmap,Wo.fog,{matcap:{value:null}}]),vertexShader:Vo.meshmatcap_vert,fragmentShader:Vo.meshmatcap_frag},points:{uniforms:Eo([Wo.points,Wo.fog]),vertexShader:Vo.points_vert,fragmentShader:Vo.points_frag},dashed:{uniforms:Eo([Wo.common,Wo.fog,{scale:{value:1},dashSize:{value:1},totalSize:{value:2}}]),vertexShader:Vo.linedashed_vert,fragmentShader:Vo.linedashed_frag},depth:{uniforms:Eo([Wo.common,Wo.displacementmap]),vertexShader:Vo.depth_vert,fragmentShader:Vo.depth_frag},normal:{uniforms:Eo([Wo.common,Wo.bumpmap,Wo.normalmap,Wo.displacementmap,{opacity:{value:1}}]),vertexShader:Vo.normal_vert,fragmentShader:Vo.normal_frag},sprite:{uniforms:Eo([Wo.sprite,Wo.fog]),vertexShader:Vo.sprite_vert,fragmentShader:Vo.sprite_frag},background:{uniforms:{uvTransform:{value:new Jn},t2D:{value:null}},vertexShader:Vo.background_vert,fragmentShader:Vo.background_frag},cube:{uniforms:Eo([Wo.envmap,{opacity:{value:1}}]),vertexShader:Vo.cube_vert,fragmentShader:Vo.cube_frag},equirect:{uniforms:{tEquirect:{value:null}},vertexShader:Vo.equirect_vert,fragmentShader:Vo.equirect_frag},distanceRGBA:{uniforms:Eo([Wo.common,Wo.displacementmap,{referencePosition:{value:new oi},nearDistance:{value:1},farDistance:{value:1e3}}]),vertexShader:Vo.distanceRGBA_vert,fragmentShader:Vo.distanceRGBA_frag},shadow:{uniforms:Eo([Wo.lights,Wo.fog,{color:{value:new Tr(0)},opacity:{value:1}}]),vertexShader:Vo.shadow_vert,fragmentShader:Vo.shadow_frag}};function Xo(e,t,n,i,r){const o=new Tr(0);let s,a,l=0,c=null,u=0,h=null;function d(e,t){n.buffers.color.setClear(e.r,e.g,e.b,t,r)}return{getClearColor:function(){return o},setClearColor:function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;o.set(e),l=t,d(o,l)},getClearAlpha:function(){return l},setClearAlpha:function(e){l=e,d(o,l)},render:function(n,r,p,f){let m=!0===r.isScene?r.background:null;m&&m.isTexture&&(m=t.get(m));const g=e.xr,v=g.getSession&&g.getSession();v&&"additive"===v.environmentBlendMode&&(m=null),null===m?d(o,l):m&&m.isColor&&(d(m,1),f=!0),(e.autoClear||f)&&e.clear(e.autoClearColor,e.autoClearDepth,e.autoClearStencil),m&&(m.isCubeTexture||m.isWebGLCubeRenderTarget||m.mapping===ve)?(void 0===a&&(a=new bo(new So(1,1,1),new Ro({name:"BackgroundCubeMaterial",uniforms:Mo(qo.cube.uniforms),vertexShader:qo.cube.vertexShader,fragmentShader:qo.cube.fragmentShader,side:S,depthTest:!1,depthWrite:!1,fog:!1})),a.geometry.deleteAttribute("normal"),a.geometry.deleteAttribute("uv"),a.onBeforeRender=function(e,t,n){this.matrixWorld.copyPosition(n.matrixWorld)},Object.defineProperty(a.material,"envMap",{get:function(){return this.uniforms.envMap.value}}),i.update(a)),m.isWebGLCubeRenderTarget&&(m=m.texture),a.material.uniforms.envMap.value=m,a.material.uniforms.flipEnvMap.value=m.isCubeTexture&&m._needsFlipEnvMap?-1:1,c===m&&u===m.version&&h===e.toneMapping||(a.material.needsUpdate=!0,c=m,u=m.version,h=e.toneMapping),n.unshift(a,a.geometry,a.material,0,0,null)):m&&m.isTexture&&(void 0===s&&(s=new bo(new Go(2,2),new Ro({name:"BackgroundMaterial",uniforms:Mo(qo.background.uniforms),vertexShader:qo.background.vertexShader,fragmentShader:qo.background.fragmentShader,side:_,depthTest:!1,depthWrite:!1,fog:!1})),s.geometry.deleteAttribute("normal"),Object.defineProperty(s.material,"map",{get:function(){return this.uniforms.t2D.value}}),i.update(s)),s.material.uniforms.t2D.value=m,!0===m.matrixAutoUpdate&&m.updateMatrix(),s.material.uniforms.uvTransform.value.copy(m.matrix),c===m&&u===m.version&&h===e.toneMapping||(s.material.needsUpdate=!0,c=m,u=m.version,h=e.toneMapping),n.unshift(s,s.geometry,s.material,0,0,null))}}}function Yo(e,t,n,i){const r=e.getParameter(34921),o=i.isWebGL2?null:t.get("OES_vertex_array_object"),s=i.isWebGL2||null!==o,a={},l=d(null);let c=l;function u(t){return i.isWebGL2?e.bindVertexArray(t):o.bindVertexArrayOES(t)}function h(t){return i.isWebGL2?e.deleteVertexArray(t):o.deleteVertexArrayOES(t)}function d(e){const t=[],n=[],i=[];for(let o=0;o<r;o++)t[o]=0,n[o]=0,i[o]=0;return{geometry:null,program:null,wireframe:!1,newAttributes:t,enabledAttributes:n,attributeDivisors:i,object:e,attributes:{},index:null}}function p(){const e=c.newAttributes;for(let t=0,n=e.length;t<n;t++)e[t]=0}function f(e){m(e,0)}function m(n,r){const o=c.newAttributes,s=c.enabledAttributes,a=c.attributeDivisors;if(o[n]=1,0===s[n]&&(e.enableVertexAttribArray(n),s[n]=1),a[n]!==r){(i.isWebGL2?e:t.get("ANGLE_instanced_arrays"))[i.isWebGL2?"vertexAttribDivisor":"vertexAttribDivisorANGLE"](n,r),a[n]=r}}function g(){const t=c.newAttributes,n=c.enabledAttributes;for(let i=0,r=n.length;i<r;i++)n[i]!==t[i]&&(e.disableVertexAttribArray(i),n[i]=0)}function v(t,n,r,o,s,a){!0!==i.isWebGL2||5124!==r&&5125!==r?e.vertexAttribPointer(t,n,r,o,s,a):e.vertexAttribIPointer(t,n,r,s,a)}function y(){x(),c!==l&&(c=l,u(c.object))}function x(){l.geometry=null,l.program=null,l.wireframe=!1}return{setup:function(r,l,h,y,x){let b=!1;if(s){const t=function(t,n,r){const s=!0===r.wireframe;let l=a[t.id];void 0===l&&(l={},a[t.id]=l);let c=l[n.id];void 0===c&&(c={},l[n.id]=c);let u=c[s];void 0===u&&(u=d(i.isWebGL2?e.createVertexArray():o.createVertexArrayOES()),c[s]=u);return u}(y,h,l);c!==t&&(c=t,u(c.object)),b=function(e,t){const n=c.attributes,i=e.attributes;let r=0;for(const o in i){const e=n[o],t=i[o];if(void 0===e)return!0;if(e.attribute!==t)return!0;if(e.data!==t.data)return!0;r++}return c.attributesNum!==r||c.index!==t}(y,x),b&&function(e,t){const n={},i=e.attributes;let r=0;for(const o in i){const e=i[o],t={};t.attribute=e,e.data&&(t.data=e.data),n[o]=t,r++}c.attributes=n,c.attributesNum=r,c.index=t}(y,x)}else{const e=!0===l.wireframe;c.geometry===y.id&&c.program===h.id&&c.wireframe===e||(c.geometry=y.id,c.program=h.id,c.wireframe=e,b=!0)}!0===r.isInstancedMesh&&(b=!0),null!==x&&n.update(x,34963),b&&(!function(r,o,s,a){if(!1===i.isWebGL2&&(r.isInstancedMesh||a.isInstancedBufferGeometry)&&null===t.get("ANGLE_instanced_arrays"))return;p();const l=a.attributes,c=s.getAttributes(),u=o.defaultAttributeValues;for(const t in c){const i=c[t];if(i>=0){const o=l[t];if(void 0!==o){const t=o.normalized,r=o.itemSize,s=n.get(o);if(void 0===s)continue;const l=s.buffer,c=s.type,u=s.bytesPerElement;if(o.isInterleavedBufferAttribute){const n=o.data,s=n.stride,h=o.offset;n&&n.isInstancedInterleavedBuffer?(m(i,n.meshPerAttribute),void 0===a._maxInstanceCount&&(a._maxInstanceCount=n.meshPerAttribute*n.count)):f(i),e.bindBuffer(34962,l),v(i,r,c,t,s*u,h*u)}else o.isInstancedBufferAttribute?(m(i,o.meshPerAttribute),void 0===a._maxInstanceCount&&(a._maxInstanceCount=o.meshPerAttribute*o.count)):f(i),e.bindBuffer(34962,l),v(i,r,c,t,0,0)}else if("instanceMatrix"===t){const t=n.get(r.instanceMatrix);if(void 0===t)continue;const o=t.buffer,s=t.type;m(i+0,1),m(i+1,1),m(i+2,1),m(i+3,1),e.bindBuffer(34962,o),e.vertexAttribPointer(i+0,4,s,!1,64,0),e.vertexAttribPointer(i+1,4,s,!1,64,16),e.vertexAttribPointer(i+2,4,s,!1,64,32),e.vertexAttribPointer(i+3,4,s,!1,64,48)}else if("instanceColor"===t){const t=n.get(r.instanceColor);if(void 0===t)continue;const o=t.buffer,s=t.type;m(i,1),e.bindBuffer(34962,o),e.vertexAttribPointer(i,3,s,!1,12,0)}else if(void 0!==u){const n=u[t];if(void 0!==n)switch(n.length){case 2:e.vertexAttrib2fv(i,n);break;case 3:e.vertexAttrib3fv(i,n);break;case 4:e.vertexAttrib4fv(i,n);break;default:e.vertexAttrib1fv(i,n)}}}}g()}(r,l,h,y),null!==x&&e.bindBuffer(34963,n.get(x).buffer))},reset:y,resetDefaultState:x,dispose:function(){y();for(const e in a){const t=a[e];for(const e in t){const n=t[e];for(const e in n)h(n[e].object),delete n[e];delete t[e]}delete a[e]}},releaseStatesOfGeometry:function(e){if(void 0===a[e.id])return;const t=a[e.id];for(const n in t){const e=t[n];for(const t in e)h(e[t].object),delete e[t];delete t[n]}delete a[e.id]},releaseStatesOfProgram:function(e){for(const t in a){const n=a[t];if(void 0===n[e.id])continue;const i=n[e.id];for(const e in i)h(i[e].object),delete i[e];delete n[e.id]}},initAttributes:p,enableAttribute:f,disableUnusedAttributes:g}}function Jo(e,t,n,i){const r=i.isWebGL2;let o;this.setMode=function(e){o=e},this.render=function(t,i){e.drawArrays(o,t,i),n.update(i,o,1)},this.renderInstances=function(i,s,a){if(0===a)return;let l,c;if(r)l=e,c="drawArraysInstanced";else if(l=t.get("ANGLE_instanced_arrays"),c="drawArraysInstancedANGLE",null===l)return void console.error("THREE.WebGLBufferRenderer: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.");l[c](o,i,s,a),n.update(s,o,a)}}function Zo(e,t,n){let i;function r(t){if("highp"===t){if(e.getShaderPrecisionFormat(35633,36338).precision>0&&e.getShaderPrecisionFormat(35632,36338).precision>0)return"highp";t="mediump"}return"mediump"===t&&e.getShaderPrecisionFormat(35633,36337).precision>0&&e.getShaderPrecisionFormat(35632,36337).precision>0?"mediump":"lowp"}const o="undefined"!==typeof WebGL2RenderingContext&&e instanceof WebGL2RenderingContext||"undefined"!==typeof WebGL2ComputeRenderingContext&&e instanceof WebGL2ComputeRenderingContext;let s=void 0!==n.precision?n.precision:"highp";const a=r(s);a!==s&&(console.warn("THREE.WebGLRenderer:",s,"not supported, using",a,"instead."),s=a);const l=!0===n.logarithmicDepthBuffer,c=e.getParameter(34930),u=e.getParameter(35660),h=e.getParameter(3379),d=e.getParameter(34076),p=e.getParameter(34921),f=e.getParameter(36347),m=e.getParameter(36348),g=e.getParameter(36349),v=u>0,y=o||!!t.get("OES_texture_float");return{isWebGL2:o,getMaxAnisotropy:function(){if(void 0!==i)return i;const n=t.get("EXT_texture_filter_anisotropic");return i=null!==n?e.getParameter(n.MAX_TEXTURE_MAX_ANISOTROPY_EXT):0,i},getMaxPrecision:r,precision:s,logarithmicDepthBuffer:l,maxTextures:c,maxVertexTextures:u,maxTextureSize:h,maxCubemapSize:d,maxAttributes:p,maxVertexUniforms:f,maxVaryings:m,maxFragmentUniforms:g,vertexTextures:v,floatFragmentTextures:y,floatVertexTextures:v&&y,maxSamples:o?e.getParameter(36183):0}}function Ko(e){const t=this;let n=null,i=0,r=!1,o=!1;const s=new lr,a=new Jn,l={value:null,needsUpdate:!1};function c(){l.value!==n&&(l.value=n,l.needsUpdate=i>0),t.numPlanes=i,t.numIntersection=0}function u(e,n,i,r){const o=null!==e?e.length:0;let c=null;if(0!==o){if(c=l.value,!0!==r||null===c){const t=i+4*o,r=n.matrixWorldInverse;a.getNormalMatrix(r),(null===c||c.length<t)&&(c=new Float32Array(t));for(let n=0,l=i;n!==o;++n,l+=4)s.copy(e[n]).applyMatrix4(r,a),s.normal.toArray(c,l),c[l+3]=s.constant}l.value=c,l.needsUpdate=!0}return t.numPlanes=o,t.numIntersection=0,c}this.uniform=l,this.numPlanes=0,this.numIntersection=0,this.init=function(e,t,o){const s=0!==e.length||t||0!==i||r;return r=t,n=u(e,o,0),i=e.length,s},this.beginShadows=function(){o=!0,u(null)},this.endShadows=function(){o=!1,c()},this.setState=function(t,s,a){const h=t.clippingPlanes,d=t.clipIntersection,p=t.clipShadows,f=e.get(t);if(!r||null===h||0===h.length||o&&!p)o?u(null):c();else{const e=o?0:i,t=4*e;let r=f.clippingState||null;l.value=r,r=u(h,s,t,a);for(let i=0;i!==t;++i)r[i]=n[i];f.clippingState=r,this.numIntersection=d?this.numPlanes:0,this.numPlanes+=e}}}function Qo(e){let t=new WeakMap;function n(e,t){return t===me?e.mapping=pe:t===ge&&(e.mapping=fe),e}function i(e){const n=e.target;n.removeEventListener("dispose",i);const r=t.get(n);void 0!==r&&(t.delete(n),r.dispose())}return{get:function(r){if(r&&r.isTexture){const o=r.mapping;if(o===me||o===ge){if(t.has(r)){return n(t.get(r).texture,r.mapping)}{const o=r.image;if(o&&o.height>0){const s=e.getRenderList(),a=e.getRenderTarget(),l=new jo(o.height/2);return l.fromEquirectangularTexture(e,r),t.set(r,l),e.setRenderTarget(a),e.setRenderList(s),r.addEventListener("dispose",i),n(l.texture,r.mapping)}return null}}}return r},dispose:function(){t=new WeakMap}}}function $o(e){const t={};return{has:function(n){if(void 0!==t[n])return null!==t[n];let i;switch(n){case"WEBGL_depth_texture":i=e.getExtension("WEBGL_depth_texture")||e.getExtension("MOZ_WEBGL_depth_texture")||e.getExtension("WEBKIT_WEBGL_depth_texture");break;case"EXT_texture_filter_anisotropic":i=e.getExtension("EXT_texture_filter_anisotropic")||e.getExtension("MOZ_EXT_texture_filter_anisotropic")||e.getExtension("WEBKIT_EXT_texture_filter_anisotropic");break;case"WEBGL_compressed_texture_s3tc":i=e.getExtension("WEBGL_compressed_texture_s3tc")||e.getExtension("MOZ_WEBGL_compressed_texture_s3tc")||e.getExtension("WEBKIT_WEBGL_compressed_texture_s3tc");break;case"WEBGL_compressed_texture_pvrtc":i=e.getExtension("WEBGL_compressed_texture_pvrtc")||e.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc");break;default:i=e.getExtension(n)}return t[n]=i,null!==i},get:function(e){return this.has(e)||console.warn("THREE.WebGLRenderer: "+e+" extension not supported."),t[e]}}}function es(e,t,n,i){const r=new WeakMap,o=new WeakMap;function s(e){const a=e.target,l=r.get(a);null!==l.index&&t.remove(l.index);for(const n in l.attributes)t.remove(l.attributes[n]);a.removeEventListener("dispose",s),r.delete(a);const c=o.get(l);c&&(t.remove(c),o.delete(l)),i.releaseStatesOfGeometry(l),!0===a.isInstancedBufferGeometry&&delete a._maxInstanceCount,n.memory.geometries--}function a(e){const n=[],i=e.index,r=e.attributes.position;let s=0;if(null!==i){const e=i.array;s=i.version;for(let t=0,i=e.length;t<i;t+=3){const i=e[t+0],r=e[t+1],o=e[t+2];n.push(i,r,r,o,o,i)}}else{const e=r.array;s=r.version;for(let t=0,i=e.length/3-1;t<i;t+=3){const e=t+0,i=t+1,r=t+2;n.push(e,i,i,r,r,e)}}const a=new(Wr(n)>65535?Br:Ir)(n,1);a.version=s;const l=o.get(e);l&&t.remove(l),o.set(e,a)}return{get:function(e,t){let i=r.get(t);return i||(t.addEventListener("dispose",s),t.isBufferGeometry?i=t:t.isGeometry&&(void 0===t._bufferGeometry&&(t._bufferGeometry=(new to).setFromObject(e)),i=t._bufferGeometry),r.set(t,i),n.memory.geometries++,i)},update:function(e){const n=e.attributes;for(const r in n)t.update(n[r],34962);const i=e.morphAttributes;for(const r in i){const e=i[r];for(let n=0,i=e.length;n<i;n++)t.update(e[n],34962)}},getWireframeAttribute:function(e){const t=o.get(e);if(t){const n=e.index;null!==n&&t.version<n.version&&a(e)}else a(e);return o.get(e)}}}function ts(e,t,n,i){const r=i.isWebGL2;let o,s,a;this.setMode=function(e){o=e},this.setIndex=function(e){s=e.type,a=e.bytesPerElement},this.render=function(t,i){e.drawElements(o,i,s,t*a),n.update(i,o,1)},this.renderInstances=function(i,l,c){if(0===c)return;let u,h;if(r)u=e,h="drawElementsInstanced";else if(u=t.get("ANGLE_instanced_arrays"),h="drawElementsInstancedANGLE",null===u)return void console.error("THREE.WebGLIndexedBufferRenderer: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.");u[h](o,l,s,i*a,c),n.update(l,o,c)}}function ns(e){const t={frame:0,calls:0,triangles:0,points:0,lines:0};return{memory:{geometries:0,textures:0},render:t,programs:null,autoReset:!0,reset:function(){t.frame++,t.calls=0,t.triangles=0,t.points=0,t.lines=0},update:function(e,n,i){switch(t.calls++,n){case 4:t.triangles+=i*(e/3);break;case 1:t.lines+=i*(e/2);break;case 3:t.lines+=i*(e-1);break;case 2:t.lines+=i*e;break;case 0:t.points+=i*e;break;default:console.error("THREE.WebGLInfo: Unknown draw mode:",n)}}}}function is(e,t){return e[0]-t[0]}function rs(e,t){return Math.abs(t[1])-Math.abs(e[1])}function os(e){const t={},n=new Float32Array(8),i=[];for(let r=0;r<8;r++)i[r]=[r,0];return{update:function(r,o,s,a){const l=r.morphTargetInfluences,c=void 0===l?0:l.length;let u=t[o.id];if(void 0===u){u=[];for(let e=0;e<c;e++)u[e]=[e,0];t[o.id]=u}for(let e=0;e<c;e++){const t=u[e];t[0]=e,t[1]=l[e]}u.sort(rs);for(let e=0;e<8;e++)e<c&&u[e][1]?(i[e][0]=u[e][0],i[e][1]=u[e][1]):(i[e][0]=Number.MAX_SAFE_INTEGER,i[e][1]=0);i.sort(is);const h=s.morphTargets&&o.morphAttributes.position,d=s.morphNormals&&o.morphAttributes.normal;let p=0;for(let e=0;e<8;e++){const t=i[e],r=t[0],s=t[1];r!==Number.MAX_SAFE_INTEGER&&s?(h&&o.getAttribute("morphTarget"+e)!==h[r]&&o.setAttribute("morphTarget"+e,h[r]),d&&o.getAttribute("morphNormal"+e)!==d[r]&&o.setAttribute("morphNormal"+e,d[r]),n[e]=s,p+=s):(h&&!0===o.hasAttribute("morphTarget"+e)&&o.deleteAttribute("morphTarget"+e),d&&!0===o.hasAttribute("morphNormal"+e)&&o.deleteAttribute("morphNormal"+e),n[e]=0)}const f=o.morphTargetsRelative?1:1-p;a.getUniforms().setValue(e,"morphTargetBaseInfluence",f),a.getUniforms().setValue(e,"morphTargetInfluences",n)}}}function ss(e,t,n,i){let r=new WeakMap;function o(e){const t=e.target;t.removeEventListener("dispose",o),n.remove(t.instanceMatrix),null!==t.instanceColor&&n.remove(t.instanceColor)}return{update:function(e){const s=i.render.frame,a=e.geometry,l=t.get(e,a);return r.get(l)!==s&&(a.isGeometry&&l.updateFromObject(e),t.update(l),r.set(l,s)),e.isInstancedMesh&&(!1===e.hasEventListener("dispose",o)&&e.addEventListener("dispose",o),n.update(e.instanceMatrix,34962),null!==e.instanceColor&&n.update(e.instanceColor,34962)),l},dispose:function(){r=new WeakMap}}}function as(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1;$n.call(this,null),this.image={data:e,width:t,height:n,depth:i},this.magFilter=_e,this.minFilter=_e,this.wrapR=be,this.generateMipmaps=!1,this.flipY=!1,this.needsUpdate=!0}function ls(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1;$n.call(this,null),this.image={data:e,width:t,height:n,depth:i},this.magFilter=_e,this.minFilter=_e,this.wrapR=be,this.generateMipmaps=!1,this.flipY=!1,this.needsUpdate=!0}qo.physical={uniforms:Eo([qo.standard.uniforms,{clearcoat:{value:0},clearcoatMap:{value:null},clearcoatRoughness:{value:0},clearcoatRoughnessMap:{value:null},clearcoatNormalScale:{value:new Yn(1,1)},clearcoatNormalMap:{value:null},sheen:{value:new Tr(0)},transmission:{value:0},transmissionMap:{value:null}}]),vertexShader:Vo.meshphysical_vert,fragmentShader:Vo.meshphysical_frag},as.prototype=Object.create($n.prototype),as.prototype.constructor=as,as.prototype.isDataTexture2DArray=!0,ls.prototype=Object.create($n.prototype),ls.prototype.constructor=ls,ls.prototype.isDataTexture3D=!0;const cs=new $n,us=new as,hs=new ls,ds=new Do,ps=[],fs=[],ms=new Float32Array(16),gs=new Float32Array(9),vs=new Float32Array(4);function ys(e,t,n){const i=e[0];if(i<=0||i>0)return e;const r=t*n;let o=ps[r];if(void 0===o&&(o=new Float32Array(r),ps[r]=o),0!==t){i.toArray(o,0);for(let i=1,r=0;i!==t;++i)r+=n,e[i].toArray(o,r)}return o}function xs(e,t){if(e.length!==t.length)return!1;for(let n=0,i=e.length;n<i;n++)if(e[n]!==t[n])return!1;return!0}function bs(e,t){for(let n=0,i=t.length;n<i;n++)e[n]=t[n]}function ws(e,t){let n=fs[t];void 0===n&&(n=new Int32Array(t),fs[t]=n);for(let i=0;i!==t;++i)n[i]=e.allocateTextureUnit();return n}function _s(e,t){const n=this.cache;n[0]!==t&&(e.uniform1f(this.addr,t),n[0]=t)}function Ss(e,t){const n=this.cache;if(void 0!==t.x)n[0]===t.x&&n[1]===t.y||(e.uniform2f(this.addr,t.x,t.y),n[0]=t.x,n[1]=t.y);else{if(xs(n,t))return;e.uniform2fv(this.addr,t),bs(n,t)}}function Ms(e,t){const n=this.cache;if(void 0!==t.x)n[0]===t.x&&n[1]===t.y&&n[2]===t.z||(e.uniform3f(this.addr,t.x,t.y,t.z),n[0]=t.x,n[1]=t.y,n[2]=t.z);else if(void 0!==t.r)n[0]===t.r&&n[1]===t.g&&n[2]===t.b||(e.uniform3f(this.addr,t.r,t.g,t.b),n[0]=t.r,n[1]=t.g,n[2]=t.b);else{if(xs(n,t))return;e.uniform3fv(this.addr,t),bs(n,t)}}function Es(e,t){const n=this.cache;if(void 0!==t.x)n[0]===t.x&&n[1]===t.y&&n[2]===t.z&&n[3]===t.w||(e.uniform4f(this.addr,t.x,t.y,t.z,t.w),n[0]=t.x,n[1]=t.y,n[2]=t.z,n[3]=t.w);else{if(xs(n,t))return;e.uniform4fv(this.addr,t),bs(n,t)}}function Ts(e,t){const n=this.cache,i=t.elements;if(void 0===i){if(xs(n,t))return;e.uniformMatrix2fv(this.addr,!1,t),bs(n,t)}else{if(xs(n,i))return;vs.set(i),e.uniformMatrix2fv(this.addr,!1,vs),bs(n,i)}}function As(e,t){const n=this.cache,i=t.elements;if(void 0===i){if(xs(n,t))return;e.uniformMatrix3fv(this.addr,!1,t),bs(n,t)}else{if(xs(n,i))return;gs.set(i),e.uniformMatrix3fv(this.addr,!1,gs),bs(n,i)}}function Cs(e,t){const n=this.cache,i=t.elements;if(void 0===i){if(xs(n,t))return;e.uniformMatrix4fv(this.addr,!1,t),bs(n,t)}else{if(xs(n,i))return;ms.set(i),e.uniformMatrix4fv(this.addr,!1,ms),bs(n,i)}}function Rs(e,t,n){const i=this.cache,r=n.allocateTextureUnit();i[0]!==r&&(e.uniform1i(this.addr,r),i[0]=r),n.safeSetTexture2D(t||cs,r)}function Ls(e,t,n){const i=this.cache,r=n.allocateTextureUnit();i[0]!==r&&(e.uniform1i(this.addr,r),i[0]=r),n.setTexture2DArray(t||us,r)}function Ps(e,t,n){const i=this.cache,r=n.allocateTextureUnit();i[0]!==r&&(e.uniform1i(this.addr,r),i[0]=r),n.setTexture3D(t||hs,r)}function Ns(e,t,n){const i=this.cache,r=n.allocateTextureUnit();i[0]!==r&&(e.uniform1i(this.addr,r),i[0]=r),n.safeSetTextureCube(t||ds,r)}function ks(e,t){const n=this.cache;n[0]!==t&&(e.uniform1i(this.addr,t),n[0]=t)}function Os(e,t){const n=this.cache;xs(n,t)||(e.uniform2iv(this.addr,t),bs(n,t))}function Ds(e,t){const n=this.cache;xs(n,t)||(e.uniform3iv(this.addr,t),bs(n,t))}function js(e,t){const n=this.cache;xs(n,t)||(e.uniform4iv(this.addr,t),bs(n,t))}function Fs(e,t){const n=this.cache;n[0]!==t&&(e.uniform1ui(this.addr,t),n[0]=t)}function Is(e,t){e.uniform1fv(this.addr,t)}function zs(e,t){e.uniform1iv(this.addr,t)}function Bs(e,t){e.uniform2iv(this.addr,t)}function Us(e,t){e.uniform3iv(this.addr,t)}function Hs(e,t){e.uniform4iv(this.addr,t)}function Gs(e,t){const n=ys(t,this.size,2);e.uniform2fv(this.addr,n)}function Vs(e,t){const n=ys(t,this.size,3);e.uniform3fv(this.addr,n)}function Ws(e,t){const n=ys(t,this.size,4);e.uniform4fv(this.addr,n)}function qs(e,t){const n=ys(t,this.size,4);e.uniformMatrix2fv(this.addr,!1,n)}function Xs(e,t){const n=ys(t,this.size,9);e.uniformMatrix3fv(this.addr,!1,n)}function Ys(e,t){const n=ys(t,this.size,16);e.uniformMatrix4fv(this.addr,!1,n)}function Js(e,t,n){const i=t.length,r=ws(n,i);e.uniform1iv(this.addr,r);for(let o=0;o!==i;++o)n.safeSetTexture2D(t[o]||cs,r[o])}function Zs(e,t,n){const i=t.length,r=ws(n,i);e.uniform1iv(this.addr,r);for(let o=0;o!==i;++o)n.safeSetTextureCube(t[o]||ds,r[o])}function Ks(e,t,n){this.id=e,this.addr=n,this.cache=[],this.setValue=function(e){switch(e){case 5126:return _s;case 35664:return Ss;case 35665:return Ms;case 35666:return Es;case 35674:return Ts;case 35675:return As;case 35676:return Cs;case 5124:case 35670:return ks;case 35667:case 35671:return Os;case 35668:case 35672:return Ds;case 35669:case 35673:return js;case 5125:return Fs;case 35678:case 36198:case 36298:case 36306:case 35682:return Rs;case 35679:case 36299:case 36307:return Ps;case 35680:case 36300:case 36308:case 36293:return Ns;case 36289:case 36303:case 36311:case 36292:return Ls}}(t.type)}function Qs(e,t,n){this.id=e,this.addr=n,this.cache=[],this.size=t.size,this.setValue=function(e){switch(e){case 5126:return Is;case 35664:return Gs;case 35665:return Vs;case 35666:return Ws;case 35674:return qs;case 35675:return Xs;case 35676:return Ys;case 5124:case 35670:return zs;case 35667:case 35671:return Bs;case 35668:case 35672:return Us;case 35669:case 35673:return Hs;case 35678:case 36198:case 36298:case 36306:case 35682:return Js;case 35680:case 36300:case 36308:case 36293:return Zs}}(t.type)}function $s(e){this.id=e,this.seq=[],this.map={}}Qs.prototype.updateCache=function(e){const t=this.cache;e instanceof Float32Array&&t.length!==e.length&&(this.cache=new Float32Array(e.length)),bs(t,e)},$s.prototype.setValue=function(e,t,n){const i=this.seq;for(let r=0,o=i.length;r!==o;++r){const o=i[r];o.setValue(e,t[o.id],n)}};const ea=/(\w+)(\])?(\[|\.)?/g;function ta(e,t){e.seq.push(t),e.map[t.id]=t}function na(e,t,n){const i=e.name,r=i.length;for(ea.lastIndex=0;;){const o=ea.exec(i),s=ea.lastIndex;let a=o[1];const l="]"===o[2],c=o[3];if(l&&(a|=0),void 0===c||"["===c&&s+2===r){ta(n,void 0===c?new Ks(a,e,t):new Qs(a,e,t));break}{let e=n.map[a];void 0===e&&(e=new $s(a),ta(n,e)),n=e}}}function ia(e,t){this.seq=[],this.map={};const n=e.getProgramParameter(t,35718);for(let i=0;i<n;++i){const n=e.getActiveUniform(t,i);na(n,e.getUniformLocation(t,n.name),this)}}function ra(e,t,n){const i=e.createShader(t);return e.shaderSource(i,n),e.compileShader(i),i}ia.prototype.setValue=function(e,t,n,i){const r=this.map[t];void 0!==r&&r.setValue(e,n,i)},ia.prototype.setOptional=function(e,t,n){const i=t[n];void 0!==i&&this.setValue(e,n,i)},ia.upload=function(e,t,n,i){for(let r=0,o=t.length;r!==o;++r){const o=t[r],s=n[o.id];!1!==s.needsUpdate&&o.setValue(e,s.value,i)}},ia.seqWithValue=function(e,t){const n=[];for(let i=0,r=e.length;i!==r;++i){const r=e[i];r.id in t&&n.push(r)}return n};let oa=0;function sa(e){switch(e){case on:return["Linear","( value )"];case sn:return["sRGB","( value )"];case ln:return["RGBE","( value )"];case un:return["RGBM","( value, 7.0 )"];case hn:return["RGBM","( value, 16.0 )"];case dn:return["RGBD","( value, 256.0 )"];case an:return["Gamma","( value, float( GAMMA_FACTOR ) )"];case cn:return["LogLuv","( value )"];default:return console.warn("THREE.WebGLProgram: Unsupported encoding:",e),["Linear","( value )"]}}function aa(e,t,n){const i=e.getShaderParameter(t,35713),r=e.getShaderInfoLog(t).trim();if(i&&""===r)return"";return"THREE.WebGLShader: gl.getShaderInfoLog() "+n+"\n"+r+function(e){const t=e.split("\n");for(let n=0;n<t.length;n++)t[n]=n+1+": "+t[n];return t.join("\n")}(e.getShaderSource(t))}function la(e,t){const n=sa(t);return"vec4 "+e+"( vec4 value ) { return "+n[0]+"ToLinear"+n[1]+"; }"}function ca(e,t){const n=sa(t);return"vec4 "+e+"( vec4 value ) { return LinearTo"+n[0]+n[1]+"; }"}function ua(e,t){let n;switch(t){case ae:n="Linear";break;case le:n="Reinhard";break;case ce:n="OptimizedCineon";break;case ue:n="ACESFilmic";break;case he:n="Custom";break;default:console.warn("THREE.WebGLProgram: Unsupported toneMapping:",t),n="Linear"}return"vec3 "+e+"( vec3 color ) { return "+n+"ToneMapping( color ); }"}function ha(e){return""!==e}function da(e,t){return e.replace(/NUM_DIR_LIGHTS/g,t.numDirLights).replace(/NUM_SPOT_LIGHTS/g,t.numSpotLights).replace(/NUM_RECT_AREA_LIGHTS/g,t.numRectAreaLights).replace(/NUM_POINT_LIGHTS/g,t.numPointLights).replace(/NUM_HEMI_LIGHTS/g,t.numHemiLights).replace(/NUM_DIR_LIGHT_SHADOWS/g,t.numDirLightShadows).replace(/NUM_SPOT_LIGHT_SHADOWS/g,t.numSpotLightShadows).replace(/NUM_POINT_LIGHT_SHADOWS/g,t.numPointLightShadows)}function pa(e,t){return e.replace(/NUM_CLIPPING_PLANES/g,t.numClippingPlanes).replace(/UNION_CLIPPING_PLANES/g,t.numClippingPlanes-t.numClipIntersection)}const fa=/^[ \t]*#include +<([\w\d./]+)>/gm;function ma(e){return e.replace(fa,ga)}function ga(e,t){const n=Vo[t];if(void 0===n)throw new Error("Can not resolve #include <"+t+">");return ma(n)}const va=/#pragma unroll_loop[\s]+?for \( int i \= (\d+)\; i < (\d+)\; i \+\+ \) \{([\s\S]+?)(?=\})\}/g,ya=/#pragma unroll_loop_start\s+for\s*\(\s*int\s+i\s*=\s*(\d+)\s*;\s*i\s*<\s*(\d+)\s*;\s*i\s*\+\+\s*\)\s*{([\s\S]+?)}\s+#pragma unroll_loop_end/g;function xa(e){return e.replace(ya,wa).replace(va,ba)}function ba(e,t,n,i){return console.warn("WebGLProgram: #pragma unroll_loop shader syntax is deprecated. Please use #pragma unroll_loop_start syntax instead."),wa(e,t,n,i)}function wa(e,t,n,i){let r="";for(let o=parseInt(t);o<parseInt(n);o++)r+=i.replace(/\[\s*i\s*\]/g,"[ "+o+" ]").replace(/UNROLLED_LOOP_INDEX/g,o);return r}function _a(e){let t="precision "+e.precision+" float;\nprecision "+e.precision+" int;";return"highp"===e.precision?t+="\n#define HIGH_PRECISION":"mediump"===e.precision?t+="\n#define MEDIUM_PRECISION":"lowp"===e.precision&&(t+="\n#define LOW_PRECISION"),t}function Sa(e,t,n,i){const r=e.getContext(),o=n.defines;let s=n.vertexShader,a=n.fragmentShader;const l=function(e){let t="SHADOWMAP_TYPE_BASIC";return e.shadowMapType===x?t="SHADOWMAP_TYPE_PCF":e.shadowMapType===b?t="SHADOWMAP_TYPE_PCF_SOFT":e.shadowMapType===w&&(t="SHADOWMAP_TYPE_VSM"),t}(n),c=function(e){let t="ENVMAP_TYPE_CUBE";if(e.envMap)switch(e.envMapMode){case pe:case fe:t="ENVMAP_TYPE_CUBE";break;case ve:case ye:t="ENVMAP_TYPE_CUBE_UV"}return t}(n),u=function(e){let t="ENVMAP_MODE_REFLECTION";if(e.envMap)switch(e.envMapMode){case fe:case ye:t="ENVMAP_MODE_REFRACTION"}return t}(n),h=function(e){let t="ENVMAP_BLENDING_NONE";if(e.envMap)switch(e.combine){case ie:t="ENVMAP_BLENDING_MULTIPLY";break;case re:t="ENVMAP_BLENDING_MIX";break;case oe:t="ENVMAP_BLENDING_ADD"}return t}(n),d=e.gammaFactor>0?e.gammaFactor:1,p=n.isWebGL2?"":function(e){return[e.extensionDerivatives||e.envMapCubeUV||e.bumpMap||e.tangentSpaceNormalMap||e.clearcoatNormalMap||e.flatShading||"physical"===e.shaderID?"#extension GL_OES_standard_derivatives : enable":"",(e.extensionFragDepth||e.logarithmicDepthBuffer)&&e.rendererExtensionFragDepth?"#extension GL_EXT_frag_depth : enable":"",e.extensionDrawBuffers&&e.rendererExtensionDrawBuffers?"#extension GL_EXT_draw_buffers : require":"",(e.extensionShaderTextureLOD||e.envMap)&&e.rendererExtensionShaderTextureLod?"#extension GL_EXT_shader_texture_lod : enable":""].filter(ha).join("\n")}(n),f=function(e){const t=[];for(const n in e){const i=e[n];!1!==i&&t.push("#define "+n+" "+i)}return t.join("\n")}(o),m=r.createProgram();let g,v,y=n.glslVersion?"#version "+n.glslVersion+"\n":"";n.isRawShaderMaterial?(g=[f].filter(ha).join("\n"),g.length>0&&(g+="\n"),v=[p,f].filter(ha).join("\n"),v.length>0&&(v+="\n")):(g=[_a(n),"#define SHADER_NAME "+n.shaderName,f,n.instancing?"#define USE_INSTANCING":"",n.instancingColor?"#define USE_INSTANCING_COLOR":"",n.supportsVertexTextures?"#define VERTEX_TEXTURES":"","#define GAMMA_FACTOR "+d,"#define MAX_BONES "+n.maxBones,n.useFog&&n.fog?"#define USE_FOG":"",n.useFog&&n.fogExp2?"#define FOG_EXP2":"",n.map?"#define USE_MAP":"",n.envMap?"#define USE_ENVMAP":"",n.envMap?"#define "+u:"",n.lightMap?"#define USE_LIGHTMAP":"",n.aoMap?"#define USE_AOMAP":"",n.emissiveMap?"#define USE_EMISSIVEMAP":"",n.bumpMap?"#define USE_BUMPMAP":"",n.normalMap?"#define USE_NORMALMAP":"",n.normalMap&&n.objectSpaceNormalMap?"#define OBJECTSPACE_NORMALMAP":"",n.normalMap&&n.tangentSpaceNormalMap?"#define TANGENTSPACE_NORMALMAP":"",n.clearcoatMap?"#define USE_CLEARCOATMAP":"",n.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",n.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",n.displacementMap&&n.supportsVertexTextures?"#define USE_DISPLACEMENTMAP":"",n.specularMap?"#define USE_SPECULARMAP":"",n.roughnessMap?"#define USE_ROUGHNESSMAP":"",n.metalnessMap?"#define USE_METALNESSMAP":"",n.alphaMap?"#define USE_ALPHAMAP":"",n.transmissionMap?"#define USE_TRANSMISSIONMAP":"",n.vertexTangents?"#define USE_TANGENT":"",n.vertexColors?"#define USE_COLOR":"",n.vertexUvs?"#define USE_UV":"",n.uvsVertexOnly?"#define UVS_VERTEX_ONLY":"",n.flatShading?"#define FLAT_SHADED":"",n.skinning?"#define USE_SKINNING":"",n.useVertexTexture?"#define BONE_TEXTURE":"",n.morphTargets?"#define USE_MORPHTARGETS":"",n.morphNormals&&!1===n.flatShading?"#define USE_MORPHNORMALS":"",n.doubleSided?"#define DOUBLE_SIDED":"",n.flipSided?"#define FLIP_SIDED":"",n.shadowMapEnabled?"#define USE_SHADOWMAP":"",n.shadowMapEnabled?"#define "+l:"",n.sizeAttenuation?"#define USE_SIZEATTENUATION":"",n.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",n.logarithmicDepthBuffer&&n.rendererExtensionFragDepth?"#define USE_LOGDEPTHBUF_EXT":"","uniform mat4 modelMatrix;","uniform mat4 modelViewMatrix;","uniform mat4 projectionMatrix;","uniform mat4 viewMatrix;","uniform mat3 normalMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;","#ifdef USE_INSTANCING","\tattribute mat4 instanceMatrix;","#endif","#ifdef USE_INSTANCING_COLOR","\tattribute vec3 instanceColor;","#endif","attribute vec3 position;","attribute vec3 normal;","attribute vec2 uv;","#ifdef USE_TANGENT","\tattribute vec4 tangent;","#endif","#ifdef USE_COLOR","\tattribute vec3 color;","#endif","#ifdef USE_MORPHTARGETS","\tattribute vec3 morphTarget0;","\tattribute vec3 morphTarget1;","\tattribute vec3 morphTarget2;","\tattribute vec3 morphTarget3;","\t#ifdef USE_MORPHNORMALS","\t\tattribute vec3 morphNormal0;","\t\tattribute vec3 morphNormal1;","\t\tattribute vec3 morphNormal2;","\t\tattribute vec3 morphNormal3;","\t#else","\t\tattribute vec3 morphTarget4;","\t\tattribute vec3 morphTarget5;","\t\tattribute vec3 morphTarget6;","\t\tattribute vec3 morphTarget7;","\t#endif","#endif","#ifdef USE_SKINNING","\tattribute vec4 skinIndex;","\tattribute vec4 skinWeight;","#endif","\n"].filter(ha).join("\n"),v=[p,_a(n),"#define SHADER_NAME "+n.shaderName,f,n.alphaTest?"#define ALPHATEST "+n.alphaTest+(n.alphaTest%1?"":".0"):"","#define GAMMA_FACTOR "+d,n.useFog&&n.fog?"#define USE_FOG":"",n.useFog&&n.fogExp2?"#define FOG_EXP2":"",n.map?"#define USE_MAP":"",n.matcap?"#define USE_MATCAP":"",n.envMap?"#define USE_ENVMAP":"",n.envMap?"#define "+c:"",n.envMap?"#define "+u:"",n.envMap?"#define "+h:"",n.lightMap?"#define USE_LIGHTMAP":"",n.aoMap?"#define USE_AOMAP":"",n.emissiveMap?"#define USE_EMISSIVEMAP":"",n.bumpMap?"#define USE_BUMPMAP":"",n.normalMap?"#define USE_NORMALMAP":"",n.normalMap&&n.objectSpaceNormalMap?"#define OBJECTSPACE_NORMALMAP":"",n.normalMap&&n.tangentSpaceNormalMap?"#define TANGENTSPACE_NORMALMAP":"",n.clearcoatMap?"#define USE_CLEARCOATMAP":"",n.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",n.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",n.specularMap?"#define USE_SPECULARMAP":"",n.roughnessMap?"#define USE_ROUGHNESSMAP":"",n.metalnessMap?"#define USE_METALNESSMAP":"",n.alphaMap?"#define USE_ALPHAMAP":"",n.sheen?"#define USE_SHEEN":"",n.transmissionMap?"#define USE_TRANSMISSIONMAP":"",n.vertexTangents?"#define USE_TANGENT":"",n.vertexColors||n.instancingColor?"#define USE_COLOR":"",n.vertexUvs?"#define USE_UV":"",n.uvsVertexOnly?"#define UVS_VERTEX_ONLY":"",n.gradientMap?"#define USE_GRADIENTMAP":"",n.flatShading?"#define FLAT_SHADED":"",n.doubleSided?"#define DOUBLE_SIDED":"",n.flipSided?"#define FLIP_SIDED":"",n.shadowMapEnabled?"#define USE_SHADOWMAP":"",n.shadowMapEnabled?"#define "+l:"",n.premultipliedAlpha?"#define PREMULTIPLIED_ALPHA":"",n.physicallyCorrectLights?"#define PHYSICALLY_CORRECT_LIGHTS":"",n.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",n.logarithmicDepthBuffer&&n.rendererExtensionFragDepth?"#define USE_LOGDEPTHBUF_EXT":"",(n.extensionShaderTextureLOD||n.envMap)&&n.rendererExtensionShaderTextureLod?"#define TEXTURE_LOD_EXT":"","uniform mat4 viewMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;",n.toneMapping!==se?"#define TONE_MAPPING":"",n.toneMapping!==se?Vo.tonemapping_pars_fragment:"",n.toneMapping!==se?ua("toneMapping",n.toneMapping):"",n.dithering?"#define DITHERING":"",Vo.encodings_pars_fragment,n.map?la("mapTexelToLinear",n.mapEncoding):"",n.matcap?la("matcapTexelToLinear",n.matcapEncoding):"",n.envMap?la("envMapTexelToLinear",n.envMapEncoding):"",n.emissiveMap?la("emissiveMapTexelToLinear",n.emissiveMapEncoding):"",n.lightMap?la("lightMapTexelToLinear",n.lightMapEncoding):"",ca("linearToOutputTexel",n.outputEncoding),n.depthPacking?"#define DEPTH_PACKING "+n.depthPacking:"","\n"].filter(ha).join("\n")),s=ma(s),s=da(s,n),s=pa(s,n),a=ma(a),a=da(a,n),a=pa(a,n),s=xa(s),a=xa(a),n.isWebGL2&&!0!==n.isRawShaderMaterial&&(y="#version 300 es\n",g=["#define attribute in","#define varying out","#define texture2D texture"].join("\n")+"\n"+g,v=["#define varying in",n.glslVersion===Gn?"":"out highp vec4 pc_fragColor;",n.glslVersion===Gn?"":"#define gl_FragColor pc_fragColor","#define gl_FragDepthEXT gl_FragDepth","#define texture2D texture","#define textureCube texture","#define texture2DProj textureProj","#define texture2DLodEXT textureLod","#define texture2DProjLodEXT textureProjLod","#define textureCubeLodEXT textureLod","#define texture2DGradEXT textureGrad","#define texture2DProjGradEXT textureProjGrad","#define textureCubeGradEXT textureGrad"].join("\n")+"\n"+v);const _=y+v+a,S=ra(r,35633,y+g+s),M=ra(r,35632,_);if(r.attachShader(m,S),r.attachShader(m,M),void 0!==n.index0AttributeName?r.bindAttribLocation(m,0,n.index0AttributeName):!0===n.morphTargets&&r.bindAttribLocation(m,0,"position"),r.linkProgram(m),e.debug.checkShaderErrors){const e=r.getProgramInfoLog(m).trim(),t=r.getShaderInfoLog(S).trim(),n=r.getShaderInfoLog(M).trim();let i=!0,o=!0;if(!1===r.getProgramParameter(m,35714)){i=!1;const t=aa(r,S,"vertex"),n=aa(r,M,"fragment");console.error("THREE.WebGLProgram: shader error: ",r.getError(),"35715",r.getProgramParameter(m,35715),"gl.getProgramInfoLog",e,t,n)}else""!==e?console.warn("THREE.WebGLProgram: gl.getProgramInfoLog()",e):""!==t&&""!==n||(o=!1);o&&(this.diagnostics={runnable:i,programLog:e,vertexShader:{log:t,prefix:g},fragmentShader:{log:n,prefix:v}})}let E,T;return r.deleteShader(S),r.deleteShader(M),this.getUniforms=function(){return void 0===E&&(E=new ia(r,m)),E},this.getAttributes=function(){return void 0===T&&(T=function(e,t){const n={},i=e.getProgramParameter(t,35721);for(let r=0;r<i;r++){const i=e.getActiveAttrib(t,r).name;n[i]=e.getAttribLocation(t,i)}return n}(r,m)),T},this.destroy=function(){i.releaseStatesOfProgram(this),r.deleteProgram(m),this.program=void 0},this.name=n.shaderName,this.id=oa++,this.cacheKey=t,this.usedTimes=1,this.program=m,this.vertexShader=S,this.fragmentShader=M,this}function Ma(e,t,n,i,r,o){const s=[],a=i.isWebGL2,l=i.logarithmicDepthBuffer,c=i.floatVertexTextures,u=i.maxVertexUniforms,h=i.vertexTextures;let d=i.precision;const p={MeshDepthMaterial:"depth",MeshDistanceMaterial:"distanceRGBA",MeshNormalMaterial:"normal",MeshBasicMaterial:"basic",MeshLambertMaterial:"lambert",MeshPhongMaterial:"phong",MeshToonMaterial:"toon",MeshStandardMaterial:"physical",MeshPhysicalMaterial:"physical",MeshMatcapMaterial:"matcap",LineBasicMaterial:"basic",LineDashedMaterial:"dashed",PointsMaterial:"points",ShadowMaterial:"shadow",SpriteMaterial:"sprite"},f=["precision","isWebGL2","supportsVertexTextures","outputEncoding","instancing","instancingColor","map","mapEncoding","matcap","matcapEncoding","envMap","envMapMode","envMapEncoding","envMapCubeUV","lightMap","lightMapEncoding","aoMap","emissiveMap","emissiveMapEncoding","bumpMap","normalMap","objectSpaceNormalMap","tangentSpaceNormalMap","clearcoatMap","clearcoatRoughnessMap","clearcoatNormalMap","displacementMap","specularMap","roughnessMap","metalnessMap","gradientMap","alphaMap","combine","vertexColors","vertexTangents","vertexUvs","uvsVertexOnly","fog","useFog","fogExp2","flatShading","sizeAttenuation","logarithmicDepthBuffer","skinning","maxBones","useVertexTexture","morphTargets","morphNormals","maxMorphTargets","maxMorphNormals","premultipliedAlpha","numDirLights","numPointLights","numSpotLights","numHemiLights","numRectAreaLights","numDirLightShadows","numPointLightShadows","numSpotLightShadows","shadowMapEnabled","shadowMapType","toneMapping","physicallyCorrectLights","alphaTest","doubleSided","flipSided","numClippingPlanes","numClipIntersection","depthPacking","dithering","sheen","transmissionMap"];function m(e){let t;return e&&e.isTexture?t=e.encoding:e&&e.isWebGLRenderTarget?(console.warn("THREE.WebGLPrograms.getTextureEncodingFromMap: don't use render targets as textures. Use their .texture property instead."),t=e.texture.encoding):t=on,t}return{getParameters:function(r,s,f,g,v){const y=g.fog,x=r.isMeshStandardMaterial?g.environment:null,b=t.get(r.envMap||x),w=p[r.type],_=v.isSkinnedMesh?function(e){const t=e.skeleton.bones;if(c)return 1024;{const e=u,n=Math.floor((e-20)/4),i=Math.min(n,t.length);return i<t.length?(console.warn("THREE.WebGLRenderer: Skeleton has "+t.length+" bones. This GPU supports "+i+"."),0):i}}(v):0;let E,T;if(null!==r.precision&&(d=i.getMaxPrecision(r.precision),d!==r.precision&&console.warn("THREE.WebGLProgram.getParameters:",r.precision,"not supported, using",d,"instead.")),w){const e=qo[w];E=e.vertexShader,T=e.fragmentShader}else E=r.vertexShader,T=r.fragmentShader;const A=e.getRenderTarget();return{isWebGL2:a,shaderID:w,shaderName:r.type,vertexShader:E,fragmentShader:T,defines:r.defines,isRawShaderMaterial:!0===r.isRawShaderMaterial,glslVersion:r.glslVersion,precision:d,instancing:!0===v.isInstancedMesh,instancingColor:!0===v.isInstancedMesh&&null!==v.instanceColor,supportsVertexTextures:h,outputEncoding:null!==A?m(A.texture):e.outputEncoding,map:!!r.map,mapEncoding:m(r.map),matcap:!!r.matcap,matcapEncoding:m(r.matcap),envMap:!!b,envMapMode:b&&b.mapping,envMapEncoding:m(b),envMapCubeUV:!!b&&(b.mapping===ve||b.mapping===ye),lightMap:!!r.lightMap,lightMapEncoding:m(r.lightMap),aoMap:!!r.aoMap,emissiveMap:!!r.emissiveMap,emissiveMapEncoding:m(r.emissiveMap),bumpMap:!!r.bumpMap,normalMap:!!r.normalMap,objectSpaceNormalMap:r.normalMapType===gn,tangentSpaceNormalMap:r.normalMapType===mn,clearcoatMap:!!r.clearcoatMap,clearcoatRoughnessMap:!!r.clearcoatRoughnessMap,clearcoatNormalMap:!!r.clearcoatNormalMap,displacementMap:!!r.displacementMap,roughnessMap:!!r.roughnessMap,metalnessMap:!!r.metalnessMap,specularMap:!!r.specularMap,alphaMap:!!r.alphaMap,gradientMap:!!r.gradientMap,sheen:!!r.sheen,transmissionMap:!!r.transmissionMap,combine:r.combine,vertexTangents:r.normalMap&&r.vertexTangents,vertexColors:r.vertexColors,vertexUvs:!!r.map||!!r.bumpMap||!!r.normalMap||!!r.specularMap||!!r.alphaMap||!!r.emissiveMap||!!r.roughnessMap||!!r.metalnessMap||!!r.clearcoatMap||!!r.clearcoatRoughnessMap||!!r.clearcoatNormalMap||!!r.displacementMap||!!r.transmissionMap,uvsVertexOnly:!(r.map||r.bumpMap||r.normalMap||r.specularMap||r.alphaMap||r.emissiveMap||r.roughnessMap||r.metalnessMap||r.clearcoatNormalMap||r.transmissionMap)&&!!r.displacementMap,fog:!!y,useFog:r.fog,fogExp2:y&&y.isFogExp2,flatShading:r.flatShading,sizeAttenuation:r.sizeAttenuation,logarithmicDepthBuffer:l,skinning:r.skinning&&_>0,maxBones:_,useVertexTexture:c,morphTargets:r.morphTargets,morphNormals:r.morphNormals,maxMorphTargets:e.maxMorphTargets,maxMorphNormals:e.maxMorphNormals,numDirLights:s.directional.length,numPointLights:s.point.length,numSpotLights:s.spot.length,numRectAreaLights:s.rectArea.length,numHemiLights:s.hemi.length,numDirLightShadows:s.directionalShadowMap.length,numPointLightShadows:s.pointShadowMap.length,numSpotLightShadows:s.spotShadowMap.length,numClippingPlanes:o.numPlanes,numClipIntersection:o.numIntersection,dithering:r.dithering,shadowMapEnabled:e.shadowMap.enabled&&f.length>0,shadowMapType:e.shadowMap.type,toneMapping:r.toneMapped?e.toneMapping:se,physicallyCorrectLights:e.physicallyCorrectLights,premultipliedAlpha:r.premultipliedAlpha,alphaTest:r.alphaTest,doubleSided:r.side===M,flipSided:r.side===S,depthPacking:void 0!==r.depthPacking&&r.depthPacking,index0AttributeName:r.index0AttributeName,extensionDerivatives:r.extensions&&r.extensions.derivatives,extensionFragDepth:r.extensions&&r.extensions.fragDepth,extensionDrawBuffers:r.extensions&&r.extensions.drawBuffers,extensionShaderTextureLOD:r.extensions&&r.extensions.shaderTextureLOD,rendererExtensionFragDepth:a||n.has("EXT_frag_depth"),rendererExtensionDrawBuffers:a||n.has("WEBGL_draw_buffers"),rendererExtensionShaderTextureLod:a||n.has("EXT_shader_texture_lod"),customProgramCacheKey:r.customProgramCacheKey()}},getProgramCacheKey:function(t){const n=[];if(t.shaderID?n.push(t.shaderID):(n.push(t.fragmentShader),n.push(t.vertexShader)),void 0!==t.defines)for(const e in t.defines)n.push(e),n.push(t.defines[e]);if(!1===t.isRawShaderMaterial){for(let e=0;e<f.length;e++)n.push(t[f[e]]);n.push(e.outputEncoding),n.push(e.gammaFactor)}return n.push(t.customProgramCacheKey),n.join()},getUniforms:function(e){const t=p[e.type];let n;if(t){const e=qo[t];n=To.clone(e.uniforms)}else n=e.uniforms;return n},acquireProgram:function(t,n){let i;for(let e=0,r=s.length;e<r;e++){const t=s[e];if(t.cacheKey===n){i=t,++i.usedTimes;break}}return void 0===i&&(i=new Sa(e,n,t,r),s.push(i)),i},releaseProgram:function(e){if(0===--e.usedTimes){const t=s.indexOf(e);s[t]=s[s.length-1],s.pop(),e.destroy()}},programs:s}}function Ea(){let e=new WeakMap;return{get:function(t){let n=e.get(t);return void 0===n&&(n={},e.set(t,n)),n},remove:function(t){e.delete(t)},update:function(t,n,i){e.get(t)[n]=i},dispose:function(){e=new WeakMap}}}function Ta(e,t){return e.groupOrder!==t.groupOrder?e.groupOrder-t.groupOrder:e.renderOrder!==t.renderOrder?e.renderOrder-t.renderOrder:e.program!==t.program?e.program.id-t.program.id:e.material.id!==t.material.id?e.material.id-t.material.id:e.z!==t.z?e.z-t.z:e.id-t.id}function Aa(e,t){return e.groupOrder!==t.groupOrder?e.groupOrder-t.groupOrder:e.renderOrder!==t.renderOrder?e.renderOrder-t.renderOrder:e.z!==t.z?t.z-e.z:e.id-t.id}function Ca(e){const t=[];let n=0;const i=[],r=[],o={id:-1};function s(i,r,s,a,l,c){let u=t[n];const h=e.get(s);return void 0===u?(u={id:i.id,object:i,geometry:r,material:s,program:h.program||o,groupOrder:a,renderOrder:i.renderOrder,z:l,group:c},t[n]=u):(u.id=i.id,u.object=i,u.geometry=r,u.material=s,u.program=h.program||o,u.groupOrder=a,u.renderOrder=i.renderOrder,u.z=l,u.group=c),n++,u}return{opaque:i,transparent:r,init:function(){n=0,i.length=0,r.length=0},push:function(e,t,n,o,a,l){const c=s(e,t,n,o,a,l);(!0===n.transparent?r:i).push(c)},unshift:function(e,t,n,o,a,l){const c=s(e,t,n,o,a,l);(!0===n.transparent?r:i).unshift(c)},finish:function(){for(let e=n,i=t.length;e<i;e++){const n=t[e];if(null===n.id)break;n.id=null,n.object=null,n.geometry=null,n.material=null,n.program=null,n.group=null}},sort:function(e,t){i.length>1&&i.sort(e||Ta),r.length>1&&r.sort(t||Aa)}}}function Ra(e){let t=new WeakMap;return{get:function(n,i){const r=t.get(n);let o;return void 0===r?(o=new Ca(e),t.set(n,new WeakMap),t.get(n).set(i,o)):(o=r.get(i),void 0===o&&(o=new Ca(e),r.set(i,o))),o},dispose:function(){t=new WeakMap}}}function La(){const e={};return{get:function(t){if(void 0!==e[t.id])return e[t.id];let n;switch(t.type){case"DirectionalLight":n={direction:new oi,color:new Tr};break;case"SpotLight":n={position:new oi,direction:new oi,color:new Tr,distance:0,coneCos:0,penumbraCos:0,decay:0};break;case"PointLight":n={position:new oi,color:new Tr,distance:0,decay:0};break;case"HemisphereLight":n={direction:new oi,skyColor:new Tr,groundColor:new Tr};break;case"RectAreaLight":n={color:new Tr,position:new oi,halfWidth:new oi,halfHeight:new oi}}return e[t.id]=n,n}}}let Pa=0;function Na(e,t){return(t.castShadow?1:0)-(e.castShadow?1:0)}function ka(e,t){const n=new La,i=function(){const e={};return{get:function(t){if(void 0!==e[t.id])return e[t.id];let n;switch(t.type){case"DirectionalLight":case"SpotLight":n={shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new Yn};break;case"PointLight":n={shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new Yn,shadowCameraNear:1,shadowCameraFar:1e3}}return e[t.id]=n,n}}}(),r={version:0,hash:{directionalLength:-1,pointLength:-1,spotLength:-1,rectAreaLength:-1,hemiLength:-1,numDirectionalShadows:-1,numPointShadows:-1,numSpotShadows:-1},ambient:[0,0,0],probe:[],directional:[],directionalShadow:[],directionalShadowMap:[],directionalShadowMatrix:[],spot:[],spotShadow:[],spotShadowMap:[],spotShadowMatrix:[],rectArea:[],rectAreaLTC1:null,rectAreaLTC2:null,point:[],pointShadow:[],pointShadowMap:[],pointShadowMatrix:[],hemi:[]};for(let l=0;l<9;l++)r.probe.push(new oi);const o=new oi,s=new ki,a=new ki;return{setup:function(o){let s=0,a=0,l=0;for(let e=0;e<9;e++)r.probe[e].set(0,0,0);let c=0,u=0,h=0,d=0,p=0,f=0,m=0,g=0;o.sort(Na);for(let e=0,t=o.length;e<t;e++){const t=o[e],v=t.color,y=t.intensity,x=t.distance,b=t.shadow&&t.shadow.map?t.shadow.map.texture:null;if(t.isAmbientLight)s+=v.r*y,a+=v.g*y,l+=v.b*y;else if(t.isLightProbe)for(let e=0;e<9;e++)r.probe[e].addScaledVector(t.sh.coefficients[e],y);else if(t.isDirectionalLight){const e=n.get(t);if(e.color.copy(t.color).multiplyScalar(t.intensity),t.castShadow){const e=t.shadow,n=i.get(t);n.shadowBias=e.bias,n.shadowNormalBias=e.normalBias,n.shadowRadius=e.radius,n.shadowMapSize=e.mapSize,r.directionalShadow[c]=n,r.directionalShadowMap[c]=b,r.directionalShadowMatrix[c]=t.shadow.matrix,f++}r.directional[c]=e,c++}else if(t.isSpotLight){const e=n.get(t);if(e.position.setFromMatrixPosition(t.matrixWorld),e.color.copy(v).multiplyScalar(y),e.distance=x,e.coneCos=Math.cos(t.angle),e.penumbraCos=Math.cos(t.angle*(1-t.penumbra)),e.decay=t.decay,t.castShadow){const e=t.shadow,n=i.get(t);n.shadowBias=e.bias,n.shadowNormalBias=e.normalBias,n.shadowRadius=e.radius,n.shadowMapSize=e.mapSize,r.spotShadow[h]=n,r.spotShadowMap[h]=b,r.spotShadowMatrix[h]=t.shadow.matrix,g++}r.spot[h]=e,h++}else if(t.isRectAreaLight){const e=n.get(t);e.color.copy(v).multiplyScalar(y),e.halfWidth.set(.5*t.width,0,0),e.halfHeight.set(0,.5*t.height,0),r.rectArea[d]=e,d++}else if(t.isPointLight){const e=n.get(t);if(e.color.copy(t.color).multiplyScalar(t.intensity),e.distance=t.distance,e.decay=t.decay,t.castShadow){const e=t.shadow,n=i.get(t);n.shadowBias=e.bias,n.shadowNormalBias=e.normalBias,n.shadowRadius=e.radius,n.shadowMapSize=e.mapSize,n.shadowCameraNear=e.camera.near,n.shadowCameraFar=e.camera.far,r.pointShadow[u]=n,r.pointShadowMap[u]=b,r.pointShadowMatrix[u]=t.shadow.matrix,m++}r.point[u]=e,u++}else if(t.isHemisphereLight){const e=n.get(t);e.skyColor.copy(t.color).multiplyScalar(y),e.groundColor.copy(t.groundColor).multiplyScalar(y),r.hemi[p]=e,p++}}d>0&&(t.isWebGL2||!0===e.has("OES_texture_float_linear")?(r.rectAreaLTC1=Wo.LTC_FLOAT_1,r.rectAreaLTC2=Wo.LTC_FLOAT_2):!0===e.has("OES_texture_half_float_linear")?(r.rectAreaLTC1=Wo.LTC_HALF_1,r.rectAreaLTC2=Wo.LTC_HALF_2):console.error("THREE.WebGLRenderer: Unable to use RectAreaLight. Missing WebGL extensions.")),r.ambient[0]=s,r.ambient[1]=a,r.ambient[2]=l;const v=r.hash;v.directionalLength===c&&v.pointLength===u&&v.spotLength===h&&v.rectAreaLength===d&&v.hemiLength===p&&v.numDirectionalShadows===f&&v.numPointShadows===m&&v.numSpotShadows===g||(r.directional.length=c,r.spot.length=h,r.rectArea.length=d,r.point.length=u,r.hemi.length=p,r.directionalShadow.length=f,r.directionalShadowMap.length=f,r.pointShadow.length=m,r.pointShadowMap.length=m,r.spotShadow.length=g,r.spotShadowMap.length=g,r.directionalShadowMatrix.length=f,r.pointShadowMatrix.length=m,r.spotShadowMatrix.length=g,v.directionalLength=c,v.pointLength=u,v.spotLength=h,v.rectAreaLength=d,v.hemiLength=p,v.numDirectionalShadows=f,v.numPointShadows=m,v.numSpotShadows=g,r.version=Pa++)},setupView:function(e,t){let n=0,i=0,l=0,c=0,u=0;const h=t.matrixWorldInverse;for(let d=0,p=e.length;d<p;d++){const t=e[d];if(t.isDirectionalLight){const e=r.directional[n];e.direction.setFromMatrixPosition(t.matrixWorld),o.setFromMatrixPosition(t.target.matrixWorld),e.direction.sub(o),e.direction.transformDirection(h),n++}else if(t.isSpotLight){const e=r.spot[l];e.position.setFromMatrixPosition(t.matrixWorld),e.position.applyMatrix4(h),e.direction.setFromMatrixPosition(t.matrixWorld),o.setFromMatrixPosition(t.target.matrixWorld),e.direction.sub(o),e.direction.transformDirection(h),l++}else if(t.isRectAreaLight){const e=r.rectArea[c];e.position.setFromMatrixPosition(t.matrixWorld),e.position.applyMatrix4(h),a.identity(),s.copy(t.matrixWorld),s.premultiply(h),a.extractRotation(s),e.halfWidth.set(.5*t.width,0,0),e.halfHeight.set(0,.5*t.height,0),e.halfWidth.applyMatrix4(a),e.halfHeight.applyMatrix4(a),c++}else if(t.isPointLight){const e=r.point[i];e.position.setFromMatrixPosition(t.matrixWorld),e.position.applyMatrix4(h),i++}else if(t.isHemisphereLight){const e=r.hemi[u];e.direction.setFromMatrixPosition(t.matrixWorld),e.direction.transformDirection(h),e.direction.normalize(),u++}}},state:r}}function Oa(e,t){const n=new ka(e,t),i=[],r=[];return{init:function(){i.length=0,r.length=0},state:{lightsArray:i,shadowsArray:r,lights:n},setupLights:function(){n.setup(i)},setupLightsView:function(e){n.setupView(i,e)},pushLight:function(e){i.push(e)},pushShadow:function(e){r.push(e)}}}function Da(e,t){let n=new WeakMap;return{get:function(i){let r,o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return!1===n.has(i)?(r=new Oa(e,t),n.set(i,[]),n.get(i).push(r)):o>=n.get(i).length?(r=new Oa(e,t),n.get(i).push(r)):r=n.get(i)[o],r},dispose:function(){n=new WeakMap}}}function ja(e){Rr.call(this),this.type="MeshDepthMaterial",this.depthPacking=pn,this.skinning=!1,this.morphTargets=!1,this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.fog=!1,this.setValues(e)}function Fa(e){Rr.call(this),this.type="MeshDistanceMaterial",this.referencePosition=new oi,this.nearDistance=1,this.farDistance=1e3,this.skinning=!1,this.morphTargets=!1,this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.fog=!1,this.setValues(e)}ja.prototype=Object.create(Rr.prototype),ja.prototype.constructor=ja,ja.prototype.isMeshDepthMaterial=!0,ja.prototype.copy=function(e){return Rr.prototype.copy.call(this,e),this.depthPacking=e.depthPacking,this.skinning=e.skinning,this.morphTargets=e.morphTargets,this.map=e.map,this.alphaMap=e.alphaMap,this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this},Fa.prototype=Object.create(Rr.prototype),Fa.prototype.constructor=Fa,Fa.prototype.isMeshDistanceMaterial=!0,Fa.prototype.copy=function(e){return Rr.prototype.copy.call(this,e),this.referencePosition.copy(e.referencePosition),this.nearDistance=e.nearDistance,this.farDistance=e.farDistance,this.skinning=e.skinning,this.morphTargets=e.morphTargets,this.map=e.map,this.alphaMap=e.alphaMap,this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this};var Ia="uniform sampler2D shadow_pass;\nuniform vec2 resolution;\nuniform float radius;\n#include <packing>\nvoid main() {\n\tfloat mean = 0.0;\n\tfloat squared_mean = 0.0;\n\tfloat depth = unpackRGBAToDepth( texture2D( shadow_pass, ( gl_FragCoord.xy ) / resolution ) );\n\tfor ( float i = -1.0; i < 1.0 ; i += SAMPLE_RATE) {\n\t\t#ifdef HORIZONTAL_PASS\n\t\t\tvec2 distribution = unpackRGBATo2Half( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( i, 0.0 ) * radius ) / resolution ) );\n\t\t\tmean += distribution.x;\n\t\t\tsquared_mean += distribution.y * distribution.y + distribution.x * distribution.x;\n\t\t#else\n\t\t\tfloat depth = unpackRGBAToDepth( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( 0.0, i ) * radius ) / resolution ) );\n\t\t\tmean += depth;\n\t\t\tsquared_mean += depth * depth;\n\t\t#endif\n\t}\n\tmean = mean * HALF_SAMPLE_RATE;\n\tsquared_mean = squared_mean * HALF_SAMPLE_RATE;\n\tfloat std_dev = sqrt( squared_mean - mean * mean );\n\tgl_FragColor = pack2HalfToRGBA( vec2( mean, std_dev ) );\n}",za="void main() {\n\tgl_Position = vec4( position, 1.0 );\n}";function Ba(e,t,n){let i=new Bo;const r=new Yn,o=new Yn,s=new ti,a=[],l=[],c={},u={0:S,1:_,2:M},h=new Ro({defines:{SAMPLE_RATE:2/8,HALF_SAMPLE_RATE:1/8},uniforms:{shadow_pass:{value:null},resolution:{value:new Yn},radius:{value:4}},vertexShader:za,fragmentShader:Ia}),d=h.clone();d.defines.HORIZONTAL_PASS=1;const p=new to;p.setAttribute("position",new kr(new Float32Array([-1,-1,.5,3,-1,.5,-1,3,.5]),3));const f=new bo(p,h),m=this;function g(n,i){const r=t.update(f);h.uniforms.shadow_pass.value=n.map.texture,h.uniforms.resolution.value=n.mapSize,h.uniforms.radius.value=n.radius,e.setRenderTarget(n.mapPass),e.clear(),e.renderBufferDirect(i,null,r,h,f,null),d.uniforms.shadow_pass.value=n.mapPass.texture,d.uniforms.resolution.value=n.mapSize,d.uniforms.radius.value=n.radius,e.setRenderTarget(n.map),e.clear(),e.renderBufferDirect(i,null,r,d,f,null)}function v(e,t,n){const i=e|t<<1|n<<2;let r=a[i];return void 0===r&&(r=new ja({depthPacking:fn,morphTargets:e,skinning:t}),a[i]=r),r}function y(e,t,n){const i=e|t<<1|n<<2;let r=l[i];return void 0===r&&(r=new Fa({morphTargets:e,skinning:t}),l[i]=r),r}function b(t,n,i,r,o,s,a){let l=null,h=v,d=t.customDepthMaterial;if(!0===r.isPointLight&&(h=y,d=t.customDistanceMaterial),void 0===d){let e=!1;!0===i.morphTargets&&(e=n.morphAttributes&&n.morphAttributes.position&&n.morphAttributes.position.length>0);let r=!1;!0===t.isSkinnedMesh&&(!0===i.skinning?r=!0:console.warn("THREE.WebGLShadowMap: THREE.SkinnedMesh with material.skinning set to false:",t));l=h(e,r,!0===t.isInstancedMesh)}else l=d;if(e.localClippingEnabled&&!0===i.clipShadows&&0!==i.clippingPlanes.length){const e=l.uuid,t=i.uuid;let n=c[e];void 0===n&&(n={},c[e]=n);let r=n[t];void 0===r&&(r=l.clone(),n[t]=r),l=r}return l.visible=i.visible,l.wireframe=i.wireframe,l.side=a===w?null!==i.shadowSide?i.shadowSide:i.side:null!==i.shadowSide?i.shadowSide:u[i.side],l.clipShadows=i.clipShadows,l.clippingPlanes=i.clippingPlanes,l.clipIntersection=i.clipIntersection,l.wireframeLinewidth=i.wireframeLinewidth,l.linewidth=i.linewidth,!0===r.isPointLight&&!0===l.isMeshDistanceMaterial&&(l.referencePosition.setFromMatrixPosition(r.matrixWorld),l.nearDistance=o,l.farDistance=s),l}function E(n,r,o,s,a){if(!1===n.visible)return;if(n.layers.test(r.layers)&&(n.isMesh||n.isLine||n.isPoints)&&(n.castShadow||n.receiveShadow&&a===w)&&(!n.frustumCulled||i.intersectsObject(n))){n.modelViewMatrix.multiplyMatrices(o.matrixWorldInverse,n.matrixWorld);const i=t.update(n),r=n.material;if(Array.isArray(r)){const t=i.groups;for(let l=0,c=t.length;l<c;l++){const c=t[l],u=r[c.materialIndex];if(u&&u.visible){const t=b(n,i,u,s,o.near,o.far,a);e.renderBufferDirect(o,null,i,t,n,c)}}}else if(r.visible){const t=b(n,i,r,s,o.near,o.far,a);e.renderBufferDirect(o,null,i,t,n,null)}}const l=n.children;for(let e=0,t=l.length;e<t;e++)E(l[e],r,o,s,a)}this.enabled=!1,this.autoUpdate=!0,this.needsUpdate=!1,this.type=x,this.render=function(t,a,l){if(!1===m.enabled)return;if(!1===m.autoUpdate&&!1===m.needsUpdate)return;if(0===t.length)return;const c=e.getRenderTarget(),u=e.getActiveCubeFace(),h=e.getActiveMipmapLevel(),d=e.state;d.setBlending(A),d.buffers.color.setClear(1,1,1,1),d.buffers.depth.setTest(!0),d.setScissorTest(!1);for(let p=0,f=t.length;p<f;p++){const c=t[p],u=c.shadow;if(void 0===u){console.warn("THREE.WebGLShadowMap:",c,"has no shadow.");continue}if(!1===u.autoUpdate&&!1===u.needsUpdate)continue;r.copy(u.mapSize);const h=u.getFrameExtents();if(r.multiply(h),o.copy(u.mapSize),(r.x>n||r.y>n)&&(r.x>n&&(o.x=Math.floor(n/h.x),r.x=o.x*h.x,u.mapSize.x=o.x),r.y>n&&(o.y=Math.floor(n/h.y),r.y=o.y*h.y,u.mapSize.y=o.y)),null===u.map&&!u.isPointLightShadow&&this.type===w){const e={minFilter:Ae,magFilter:Ae,format:qe};u.map=new ni(r.x,r.y,e),u.map.texture.name=c.name+".shadowMap",u.mapPass=new ni(r.x,r.y,e),u.camera.updateProjectionMatrix()}if(null===u.map){const e={minFilter:_e,magFilter:_e,format:qe};u.map=new ni(r.x,r.y,e),u.map.texture.name=c.name+".shadowMap",u.camera.updateProjectionMatrix()}e.setRenderTarget(u.map),e.clear();const f=u.getViewportCount();for(let e=0;e<f;e++){const t=u.getViewport(e);s.set(o.x*t.x,o.y*t.y,o.x*t.z,o.y*t.w),d.viewport(s),u.updateMatrices(c,e),i=u.getFrustum(),E(a,l,u.camera,c,this.type)}u.isPointLightShadow||this.type!==w||g(u,l),u.needsUpdate=!1}m.needsUpdate=!1,e.setRenderTarget(c,u,h)}}function Ua(e,t,n){const i=n.isWebGL2;const r=new function(){let t=!1;const n=new ti;let i=null;const r=new ti(0,0,0,0);return{setMask:function(n){i===n||t||(e.colorMask(n,n,n,n),i=n)},setLocked:function(e){t=e},setClear:function(t,i,o,s,a){!0===a&&(t*=s,i*=s,o*=s),n.set(t,i,o,s),!1===r.equals(n)&&(e.clearColor(t,i,o,s),r.copy(n))},reset:function(){t=!1,i=null,r.set(-1,0,0,0)}}},o=new function(){let t=!1,n=null,i=null,r=null;return{setTest:function(e){e?fe(2929):me(2929)},setMask:function(i){n===i||t||(e.depthMask(i),n=i)},setFunc:function(t){if(i!==t){if(t)switch(t){case J:e.depthFunc(512);break;case Z:e.depthFunc(519);break;case K:e.depthFunc(513);break;case Q:e.depthFunc(515);break;case $:e.depthFunc(514);break;case ee:e.depthFunc(518);break;case te:e.depthFunc(516);break;case ne:e.depthFunc(517);break;default:e.depthFunc(515)}else e.depthFunc(515);i=t}},setLocked:function(e){t=e},setClear:function(t){r!==t&&(e.clearDepth(t),r=t)},reset:function(){t=!1,n=null,i=null,r=null}}},s=new function(){let t=!1,n=null,i=null,r=null,o=null,s=null,a=null,l=null,c=null;return{setTest:function(e){t||(e?fe(2960):me(2960))},setMask:function(i){n===i||t||(e.stencilMask(i),n=i)},setFunc:function(t,n,s){i===t&&r===n&&o===s||(e.stencilFunc(t,n,s),i=t,r=n,o=s)},setOp:function(t,n,i){s===t&&a===n&&l===i||(e.stencilOp(t,n,i),s=t,a=n,l=i)},setLocked:function(e){t=e},setClear:function(t){c!==t&&(e.clearStencil(t),c=t)},reset:function(){t=!1,n=null,i=null,r=null,o=null,s=null,a=null,l=null,c=null}}};let a={},l=null,c=null,u=null,h=null,d=null,p=null,v=null,y=null,x=null,b=!1,w=null,_=null,E=null,T=null,ie=null;const re=e.getParameter(35661);let oe=!1,se=0;const ae=e.getParameter(7938);-1!==ae.indexOf("WebGL")?(se=parseFloat(/^WebGL (\d)/.exec(ae)[1]),oe=se>=1):-1!==ae.indexOf("OpenGL ES")&&(se=parseFloat(/^OpenGL ES (\d)/.exec(ae)[1]),oe=se>=2);let le=null,ce={};const ue=new ti,he=new ti;function de(t,n,i){const r=new Uint8Array(4),o=e.createTexture();e.bindTexture(t,o),e.texParameteri(t,10241,9728),e.texParameteri(t,10240,9728);for(let s=0;s<i;s++)e.texImage2D(n+s,0,6408,1,1,0,6408,5121,r);return o}const pe={};function fe(t){!0!==a[t]&&(e.enable(t),a[t]=!0)}function me(t){!1!==a[t]&&(e.disable(t),a[t]=!1)}pe[3553]=de(3553,3553,1),pe[34067]=de(34067,34069,6),r.setClear(0,0,0,1),o.setClear(1),s.setClear(0),fe(2929),o.setFunc(Q),xe(!1),be(m),fe(2884),ye(A);const ge={[k]:32774,[O]:32778,[D]:32779};if(i)ge[j]=32775,ge[F]=32776;else{const e=t.get("EXT_blend_minmax");null!==e&&(ge[j]=e.MIN_EXT,ge[F]=e.MAX_EXT)}const ve={[I]:0,[z]:1,[B]:768,[H]:770,[Y]:776,[q]:774,[V]:772,[U]:769,[G]:771,[X]:775,[W]:773};function ye(t,n,i,r,o,s,a,l){if(t!==A){if(c||(fe(3042),c=!0),t===N)o=o||n,s=s||i,a=a||r,n===h&&o===v||(e.blendEquationSeparate(ge[n],ge[o]),h=n,v=o),i===d&&r===p&&s===y&&a===x||(e.blendFuncSeparate(ve[i],ve[r],ve[s],ve[a]),d=i,p=r,y=s,x=a),u=t,b=null;else if(t!==u||l!==b){if(h===k&&v===k||(e.blendEquation(32774),h=k,v=k),l)switch(t){case C:e.blendFuncSeparate(1,771,1,771);break;case R:e.blendFunc(1,1);break;case L:e.blendFuncSeparate(0,0,769,771);break;case P:e.blendFuncSeparate(0,768,0,770);break;default:console.error("THREE.WebGLState: Invalid blending: ",t)}else switch(t){case C:e.blendFuncSeparate(770,771,1,771);break;case R:e.blendFunc(770,1);break;case L:e.blendFunc(0,769);break;case P:e.blendFunc(0,768);break;default:console.error("THREE.WebGLState: Invalid blending: ",t)}d=null,p=null,y=null,x=null,u=t,b=l}}else c&&(me(3042),c=!1)}function xe(t){w!==t&&(t?e.frontFace(2304):e.frontFace(2305),w=t)}function be(t){t!==f?(fe(2884),t!==_&&(t===m?e.cullFace(1029):t===g?e.cullFace(1028):e.cullFace(1032))):me(2884),_=t}function we(t,n,i){t?(fe(32823),T===n&&ie===i||(e.polygonOffset(n,i),T=n,ie=i)):me(32823)}function _e(t){void 0===t&&(t=33984+re-1),le!==t&&(e.activeTexture(t),le=t)}return{buffers:{color:r,depth:o,stencil:s},enable:fe,disable:me,useProgram:function(t){return l!==t&&(e.useProgram(t),l=t,!0)},setBlending:ye,setMaterial:function(e,t){e.side===M?me(2884):fe(2884);let n=e.side===S;t&&(n=!n),xe(n),e.blending===C&&!1===e.transparent?ye(A):ye(e.blending,e.blendEquation,e.blendSrc,e.blendDst,e.blendEquationAlpha,e.blendSrcAlpha,e.blendDstAlpha,e.premultipliedAlpha),o.setFunc(e.depthFunc),o.setTest(e.depthTest),o.setMask(e.depthWrite),r.setMask(e.colorWrite);const i=e.stencilWrite;s.setTest(i),i&&(s.setMask(e.stencilWriteMask),s.setFunc(e.stencilFunc,e.stencilRef,e.stencilFuncMask),s.setOp(e.stencilFail,e.stencilZFail,e.stencilZPass)),we(e.polygonOffset,e.polygonOffsetFactor,e.polygonOffsetUnits)},setFlipSided:xe,setCullFace:be,setLineWidth:function(t){t!==E&&(oe&&e.lineWidth(t),E=t)},setPolygonOffset:we,setScissorTest:function(e){e?fe(3089):me(3089)},activeTexture:_e,bindTexture:function(t,n){null===le&&_e();let i=ce[le];void 0===i&&(i={type:void 0,texture:void 0},ce[le]=i),i.type===t&&i.texture===n||(e.bindTexture(t,n||pe[t]),i.type=t,i.texture=n)},unbindTexture:function(){const t=ce[le];void 0!==t&&void 0!==t.type&&(e.bindTexture(t.type,null),t.type=void 0,t.texture=void 0)},compressedTexImage2D:function(){try{e.compressedTexImage2D.apply(e,arguments)}catch(t){console.error("THREE.WebGLState:",t)}},texImage2D:function(){try{e.texImage2D.apply(e,arguments)}catch(t){console.error("THREE.WebGLState:",t)}},texImage3D:function(){try{e.texImage3D.apply(e,arguments)}catch(t){console.error("THREE.WebGLState:",t)}},scissor:function(t){!1===ue.equals(t)&&(e.scissor(t.x,t.y,t.z,t.w),ue.copy(t))},viewport:function(t){!1===he.equals(t)&&(e.viewport(t.x,t.y,t.z,t.w),he.copy(t))},reset:function(){a={},le=null,ce={},l=null,c=null,u=null,h=null,d=null,p=null,v=null,y=null,x=null,b=!1,w=null,_=null,E=null,T=null,ie=null,r.reset(),o.reset(),s.reset()}}}function Ha(e,t,n,i,r,o,s){const a=r.isWebGL2,l=r.maxTextures,c=r.maxCubemapSize,u=r.maxTextureSize,h=r.maxSamples,d=new WeakMap;let p,f=!1;try{f="undefined"!==typeof OffscreenCanvas&&null!==new OffscreenCanvas(1,1).getContext("2d")}catch(I){}function m(e,t){return f?new OffscreenCanvas(e,t):document.createElementNS("http://www.w3.org/1999/xhtml","canvas")}function g(e,t,n,i){let r=1;if((e.width>i||e.height>i)&&(r=i/Math.max(e.width,e.height)),r<1||!0===t){if("undefined"!==typeof HTMLImageElement&&e instanceof HTMLImageElement||"undefined"!==typeof HTMLCanvasElement&&e instanceof HTMLCanvasElement||"undefined"!==typeof ImageBitmap&&e instanceof ImageBitmap){const i=t?Xn.floorPowerOfTwo:Math.floor,o=i(r*e.width),s=i(r*e.height);void 0===p&&(p=m(o,s));const a=n?m(o,s):p;a.width=o,a.height=s;return a.getContext("2d").drawImage(e,0,0,o,s),console.warn("THREE.WebGLRenderer: Texture has been resized from ("+e.width+"x"+e.height+") to ("+o+"x"+s+")."),a}return"data"in e&&console.warn("THREE.WebGLRenderer: Image in DataTexture is too big ("+e.width+"x"+e.height+")."),e}return e}function v(e){return Xn.isPowerOfTwo(e.width)&&Xn.isPowerOfTwo(e.height)}function y(e,t){return e.generateMipmaps&&t&&e.minFilter!==_e&&e.minFilter!==Ae}function x(t,n,r,o){e.generateMipmap(t);i.get(n).__maxMipLevel=Math.log(Math.max(r,o))*Math.LOG2E}function b(n,i,r){if(!1===a)return i;if(null!==n){if(void 0!==e[n])return e[n];console.warn("THREE.WebGLRenderer: Attempt to use non-existing WebGL internal format '"+n+"'")}let o=i;return 6403===i&&(5126===r&&(o=33326),5131===r&&(o=33325),5121===r&&(o=33321)),6407===i&&(5126===r&&(o=34837),5131===r&&(o=34843),5121===r&&(o=32849)),6408===i&&(5126===r&&(o=34836),5131===r&&(o=34842),5121===r&&(o=32856)),33325!==o&&33326!==o&&34842!==o&&34836!==o||t.get("EXT_color_buffer_float"),o}function w(e){return e===_e||e===Se||e===Ee?9728:9729}function _(t){const n=t.target;n.removeEventListener("dispose",_),function(t){const n=i.get(t);if(void 0===n.__webglInit)return;e.deleteTexture(n.__webglTexture),i.remove(t)}(n),n.isVideoTexture&&d.delete(n),s.memory.textures--}function S(t){const n=t.target;n.removeEventListener("dispose",S),function(t){const n=i.get(t),r=i.get(t.texture);if(!t)return;void 0!==r.__webglTexture&&e.deleteTexture(r.__webglTexture);t.depthTexture&&t.depthTexture.dispose();if(t.isWebGLCubeRenderTarget)for(let i=0;i<6;i++)e.deleteFramebuffer(n.__webglFramebuffer[i]),n.__webglDepthbuffer&&e.deleteRenderbuffer(n.__webglDepthbuffer[i]);else e.deleteFramebuffer(n.__webglFramebuffer),n.__webglDepthbuffer&&e.deleteRenderbuffer(n.__webglDepthbuffer),n.__webglMultisampledFramebuffer&&e.deleteFramebuffer(n.__webglMultisampledFramebuffer),n.__webglColorRenderbuffer&&e.deleteRenderbuffer(n.__webglColorRenderbuffer),n.__webglDepthRenderbuffer&&e.deleteRenderbuffer(n.__webglDepthRenderbuffer);i.remove(t.texture),i.remove(t)}(n),s.memory.textures--}let M=0;function E(e,t){const r=i.get(e);if(e.isVideoTexture&&function(e){const t=s.render.frame;d.get(e)!==t&&(d.set(e,t),e.update())}(e),e.version>0&&r.__version!==e.version){const n=e.image;if(void 0===n)console.warn("THREE.WebGLRenderer: Texture marked for update but image is undefined");else{if(!1!==n.complete)return void P(r,e,t);console.warn("THREE.WebGLRenderer: Texture marked for update but image is incomplete")}}n.activeTexture(33984+t),n.bindTexture(3553,r.__webglTexture)}function T(t,r){const s=i.get(t);t.version>0&&s.__version!==t.version?function(t,i,r){if(6!==i.image.length)return;L(t,i),n.activeTexture(33984+r),n.bindTexture(34067,t.__webglTexture),e.pixelStorei(37440,i.flipY);const s=i&&(i.isCompressedTexture||i.image[0].isCompressedTexture),l=i.image[0]&&i.image[0].isDataTexture,u=[];for(let e=0;e<6;e++)u[e]=s||l?l?i.image[e].image:i.image[e]:g(i.image[e],!1,!0,c);const h=u[0],d=v(h)||a,p=o.convert(i.format),f=o.convert(i.type),m=b(i.internalFormat,p,f);let w;if(R(34067,i,d),s){for(let e=0;e<6;e++){w=u[e].mipmaps;for(let t=0;t<w.length;t++){const r=w[t];i.format!==qe&&i.format!==We?null!==p?n.compressedTexImage2D(34069+e,t,m,r.width,r.height,0,r.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .setTextureCube()"):n.texImage2D(34069+e,t,m,r.width,r.height,0,p,f,r.data)}}t.__maxMipLevel=w.length-1}else{w=i.mipmaps;for(let e=0;e<6;e++)if(l){n.texImage2D(34069+e,0,m,u[e].width,u[e].height,0,p,f,u[e].data);for(let t=0;t<w.length;t++){const i=w[t].image[e].image;n.texImage2D(34069+e,t+1,m,i.width,i.height,0,p,f,i.data)}}else{n.texImage2D(34069+e,0,m,p,f,u[e]);for(let t=0;t<w.length;t++){const i=w[t];n.texImage2D(34069+e,t+1,m,p,f,i.image[e])}}t.__maxMipLevel=w.length}y(i,d)&&x(34067,i,h.width,h.height);t.__version=i.version,i.onUpdate&&i.onUpdate(i)}(s,t,r):(n.activeTexture(33984+r),n.bindTexture(34067,s.__webglTexture))}const A={[xe]:10497,[be]:33071,[we]:33648},C={[_e]:9728,[Se]:9984,[Ee]:9986,[Ae]:9729,[Ce]:9985,[Le]:9987};function R(n,o,s){s?(e.texParameteri(n,10242,A[o.wrapS]),e.texParameteri(n,10243,A[o.wrapT]),32879!==n&&35866!==n||e.texParameteri(n,32882,A[o.wrapR]),e.texParameteri(n,10240,C[o.magFilter]),e.texParameteri(n,10241,C[o.minFilter])):(e.texParameteri(n,10242,33071),e.texParameteri(n,10243,33071),32879!==n&&35866!==n||e.texParameteri(n,32882,33071),o.wrapS===be&&o.wrapT===be||console.warn("THREE.WebGLRenderer: Texture is not power of two. Texture.wrapS and Texture.wrapT should be set to THREE.ClampToEdgeWrapping."),e.texParameteri(n,10240,w(o.magFilter)),e.texParameteri(n,10241,w(o.minFilter)),o.minFilter!==_e&&o.minFilter!==Ae&&console.warn("THREE.WebGLRenderer: Texture is not power of two. Texture.minFilter should be set to THREE.NearestFilter or THREE.LinearFilter."));const l=t.get("EXT_texture_filter_anisotropic");if(l){if(o.type===Ie&&null===t.get("OES_texture_float_linear"))return;if(o.type===ze&&null===(a||t.get("OES_texture_half_float_linear")))return;(o.anisotropy>1||i.get(o).__currentAnisotropy)&&(e.texParameterf(n,l.TEXTURE_MAX_ANISOTROPY_EXT,Math.min(o.anisotropy,r.getMaxAnisotropy())),i.get(o).__currentAnisotropy=o.anisotropy)}}function L(t,n){void 0===t.__webglInit&&(t.__webglInit=!0,n.addEventListener("dispose",_),t.__webglTexture=e.createTexture(),s.memory.textures++)}function P(t,i,r){let s=3553;i.isDataTexture2DArray&&(s=35866),i.isDataTexture3D&&(s=32879),L(t,i),n.activeTexture(33984+r),n.bindTexture(s,t.__webglTexture),e.pixelStorei(37440,i.flipY),e.pixelStorei(37441,i.premultiplyAlpha),e.pixelStorei(3317,i.unpackAlignment);const l=function(e){return!a&&(e.wrapS!==be||e.wrapT!==be||e.minFilter!==_e&&e.minFilter!==Ae)}(i)&&!1===v(i.image),c=g(i.image,l,!1,u),h=v(c)||a,d=o.convert(i.format);let p,f=o.convert(i.type),m=b(i.internalFormat,d,f);R(s,i,h);const w=i.mipmaps;if(i.isDepthTexture)m=6402,a?m=i.type===Ie?36012:i.type===Fe?33190:i.type===Ge?35056:33189:i.type===Ie&&console.error("WebGLRenderer: Floating point depth texture requires WebGL2."),i.format===Ze&&6402===m&&i.type!==De&&i.type!==Fe&&(console.warn("THREE.WebGLRenderer: Use UnsignedShortType or UnsignedIntType for DepthFormat DepthTexture."),i.type=De,f=o.convert(i.type)),i.format===Ke&&6402===m&&(m=34041,i.type!==Ge&&(console.warn("THREE.WebGLRenderer: Use UnsignedInt248Type for DepthStencilFormat DepthTexture."),i.type=Ge,f=o.convert(i.type))),n.texImage2D(3553,0,m,c.width,c.height,0,d,f,null);else if(i.isDataTexture)if(w.length>0&&h){for(let e=0,t=w.length;e<t;e++)p=w[e],n.texImage2D(3553,e,m,p.width,p.height,0,d,f,p.data);i.generateMipmaps=!1,t.__maxMipLevel=w.length-1}else n.texImage2D(3553,0,m,c.width,c.height,0,d,f,c.data),t.__maxMipLevel=0;else if(i.isCompressedTexture){for(let e=0,t=w.length;e<t;e++)p=w[e],i.format!==qe&&i.format!==We?null!==d?n.compressedTexImage2D(3553,e,m,p.width,p.height,0,p.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()"):n.texImage2D(3553,e,m,p.width,p.height,0,d,f,p.data);t.__maxMipLevel=w.length-1}else if(i.isDataTexture2DArray)n.texImage3D(35866,0,m,c.width,c.height,c.depth,0,d,f,c.data),t.__maxMipLevel=0;else if(i.isDataTexture3D)n.texImage3D(32879,0,m,c.width,c.height,c.depth,0,d,f,c.data),t.__maxMipLevel=0;else if(w.length>0&&h){for(let e=0,t=w.length;e<t;e++)p=w[e],n.texImage2D(3553,e,m,d,f,p);i.generateMipmaps=!1,t.__maxMipLevel=w.length-1}else n.texImage2D(3553,0,m,d,f,c),t.__maxMipLevel=0;y(i,h)&&x(s,i,c.width,c.height),t.__version=i.version,i.onUpdate&&i.onUpdate(i)}function N(t,r,s,a){const l=o.convert(r.texture.format),c=o.convert(r.texture.type),u=b(r.texture.internalFormat,l,c);n.texImage2D(a,0,u,r.width,r.height,0,l,c,null),e.bindFramebuffer(36160,t),e.framebufferTexture2D(36160,s,a,i.get(r.texture).__webglTexture,0),e.bindFramebuffer(36160,null)}function k(t,n,i){if(e.bindRenderbuffer(36161,t),n.depthBuffer&&!n.stencilBuffer){let r=33189;if(i){const t=n.depthTexture;t&&t.isDepthTexture&&(t.type===Ie?r=36012:t.type===Fe&&(r=33190));const i=D(n);e.renderbufferStorageMultisample(36161,i,r,n.width,n.height)}else e.renderbufferStorage(36161,r,n.width,n.height);e.framebufferRenderbuffer(36160,36096,36161,t)}else if(n.depthBuffer&&n.stencilBuffer){if(i){const t=D(n);e.renderbufferStorageMultisample(36161,t,35056,n.width,n.height)}else e.renderbufferStorage(36161,34041,n.width,n.height);e.framebufferRenderbuffer(36160,33306,36161,t)}else{const t=o.convert(n.texture.format),r=o.convert(n.texture.type),s=b(n.texture.internalFormat,t,r);if(i){const t=D(n);e.renderbufferStorageMultisample(36161,t,s,n.width,n.height)}else e.renderbufferStorage(36161,s,n.width,n.height)}e.bindRenderbuffer(36161,null)}function O(t){const n=i.get(t),r=!0===t.isWebGLCubeRenderTarget;if(t.depthTexture){if(r)throw new Error("target.depthTexture not supported in Cube render targets");!function(t,n){if(n&&n.isWebGLCubeRenderTarget)throw new Error("Depth Texture with cube render targets is not supported");if(e.bindFramebuffer(36160,t),!n.depthTexture||!n.depthTexture.isDepthTexture)throw new Error("renderTarget.depthTexture must be an instance of THREE.DepthTexture");i.get(n.depthTexture).__webglTexture&&n.depthTexture.image.width===n.width&&n.depthTexture.image.height===n.height||(n.depthTexture.image.width=n.width,n.depthTexture.image.height=n.height,n.depthTexture.needsUpdate=!0),E(n.depthTexture,0);const r=i.get(n.depthTexture).__webglTexture;if(n.depthTexture.format===Ze)e.framebufferTexture2D(36160,36096,3553,r,0);else{if(n.depthTexture.format!==Ke)throw new Error("Unknown depthTexture format");e.framebufferTexture2D(36160,33306,3553,r,0)}}(n.__webglFramebuffer,t)}else if(r){n.__webglDepthbuffer=[];for(let i=0;i<6;i++)e.bindFramebuffer(36160,n.__webglFramebuffer[i]),n.__webglDepthbuffer[i]=e.createRenderbuffer(),k(n.__webglDepthbuffer[i],t,!1)}else e.bindFramebuffer(36160,n.__webglFramebuffer),n.__webglDepthbuffer=e.createRenderbuffer(),k(n.__webglDepthbuffer,t,!1);e.bindFramebuffer(36160,null)}function D(e){return a&&e.isWebGLMultisampleRenderTarget?Math.min(h,e.samples):0}let j=!1,F=!1;this.allocateTextureUnit=function(){const e=M;return e>=l&&console.warn("THREE.WebGLTextures: Trying to use "+e+" texture units while this GPU supports only "+l),M+=1,e},this.resetTextureUnits=function(){M=0},this.setTexture2D=E,this.setTexture2DArray=function(e,t){const r=i.get(e);e.version>0&&r.__version!==e.version?P(r,e,t):(n.activeTexture(33984+t),n.bindTexture(35866,r.__webglTexture))},this.setTexture3D=function(e,t){const r=i.get(e);e.version>0&&r.__version!==e.version?P(r,e,t):(n.activeTexture(33984+t),n.bindTexture(32879,r.__webglTexture))},this.setTextureCube=T,this.setupRenderTarget=function(t){const r=i.get(t),l=i.get(t.texture);t.addEventListener("dispose",S),l.__webglTexture=e.createTexture(),s.memory.textures++;const c=!0===t.isWebGLCubeRenderTarget,u=!0===t.isWebGLMultisampleRenderTarget,h=v(t)||a;if(!a||t.texture.format!==We||t.texture.type!==Ie&&t.texture.type!==ze||(t.texture.format=qe,console.warn("THREE.WebGLRenderer: Rendering to textures with RGB format is not supported. Using RGBA format instead.")),c){r.__webglFramebuffer=[];for(let t=0;t<6;t++)r.__webglFramebuffer[t]=e.createFramebuffer()}else if(r.__webglFramebuffer=e.createFramebuffer(),u)if(a){r.__webglMultisampledFramebuffer=e.createFramebuffer(),r.__webglColorRenderbuffer=e.createRenderbuffer(),e.bindRenderbuffer(36161,r.__webglColorRenderbuffer);const n=o.convert(t.texture.format),i=o.convert(t.texture.type),s=b(t.texture.internalFormat,n,i),a=D(t);e.renderbufferStorageMultisample(36161,a,s,t.width,t.height),e.bindFramebuffer(36160,r.__webglMultisampledFramebuffer),e.framebufferRenderbuffer(36160,36064,36161,r.__webglColorRenderbuffer),e.bindRenderbuffer(36161,null),t.depthBuffer&&(r.__webglDepthRenderbuffer=e.createRenderbuffer(),k(r.__webglDepthRenderbuffer,t,!0)),e.bindFramebuffer(36160,null)}else console.warn("THREE.WebGLRenderer: WebGLMultisampleRenderTarget can only be used with WebGL2.");if(c){n.bindTexture(34067,l.__webglTexture),R(34067,t.texture,h);for(let e=0;e<6;e++)N(r.__webglFramebuffer[e],t,36064,34069+e);y(t.texture,h)&&x(34067,t.texture,t.width,t.height),n.bindTexture(34067,null)}else n.bindTexture(3553,l.__webglTexture),R(3553,t.texture,h),N(r.__webglFramebuffer,t,36064,3553),y(t.texture,h)&&x(3553,t.texture,t.width,t.height),n.bindTexture(3553,null);t.depthBuffer&&O(t)},this.updateRenderTargetMipmap=function(e){const t=e.texture;if(y(t,v(e)||a)){const r=e.isWebGLCubeRenderTarget?34067:3553,o=i.get(t).__webglTexture;n.bindTexture(r,o),x(r,t,e.width,e.height),n.bindTexture(r,null)}},this.updateMultisampleRenderTarget=function(t){if(t.isWebGLMultisampleRenderTarget)if(a){const n=i.get(t);e.bindFramebuffer(36008,n.__webglMultisampledFramebuffer),e.bindFramebuffer(36009,n.__webglFramebuffer);const r=t.width,o=t.height;let s=16384;t.depthBuffer&&(s|=256),t.stencilBuffer&&(s|=1024),e.blitFramebuffer(0,0,r,o,0,0,r,o,s,9728),e.bindFramebuffer(36160,n.__webglMultisampledFramebuffer)}else console.warn("THREE.WebGLRenderer: WebGLMultisampleRenderTarget can only be used with WebGL2.")},this.safeSetTexture2D=function(e,t){e&&e.isWebGLRenderTarget&&(!1===j&&(console.warn("THREE.WebGLTextures.safeSetTexture2D: don't use render targets as textures. Use their .texture property instead."),j=!0),e=e.texture),E(e,t)},this.safeSetTextureCube=function(e,t){e&&e.isWebGLCubeRenderTarget&&(!1===F&&(console.warn("THREE.WebGLTextures.safeSetTextureCube: don't use cube render targets as textures. Use their .texture property instead."),F=!0),e=e.texture),T(e,t)}}function Ga(e,t,n){const i=n.isWebGL2;return{convert:function(e){let n;if(e===Ne)return 5121;if(e===Be)return 32819;if(e===Ue)return 32820;if(e===He)return 33635;if(e===ke)return 5120;if(e===Oe)return 5122;if(e===De)return 5123;if(e===je)return 5124;if(e===Fe)return 5125;if(e===Ie)return 5126;if(e===ze)return i?5131:(n=t.get("OES_texture_half_float"),null!==n?n.HALF_FLOAT_OES:null);if(e===Ve)return 6406;if(e===We)return 6407;if(e===qe)return 6408;if(e===Xe)return 6409;if(e===Ye)return 6410;if(e===Ze)return 6402;if(e===Ke)return 34041;if(e===Qe)return 6403;if(e===$e)return 36244;if(e===et)return 33319;if(e===tt)return 33320;if(e===nt)return 36248;if(e===it)return 36249;if(e===rt||e===ot||e===st||e===at){if(n=t.get("WEBGL_compressed_texture_s3tc"),null===n)return null;if(e===rt)return n.COMPRESSED_RGB_S3TC_DXT1_EXT;if(e===ot)return n.COMPRESSED_RGBA_S3TC_DXT1_EXT;if(e===st)return n.COMPRESSED_RGBA_S3TC_DXT3_EXT;if(e===at)return n.COMPRESSED_RGBA_S3TC_DXT5_EXT}if(e===lt||e===ct||e===ut||e===ht){if(n=t.get("WEBGL_compressed_texture_pvrtc"),null===n)return null;if(e===lt)return n.COMPRESSED_RGB_PVRTC_4BPPV1_IMG;if(e===ct)return n.COMPRESSED_RGB_PVRTC_2BPPV1_IMG;if(e===ut)return n.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG;if(e===ht)return n.COMPRESSED_RGBA_PVRTC_2BPPV1_IMG}if(e===dt)return n=t.get("WEBGL_compressed_texture_etc1"),null!==n?n.COMPRESSED_RGB_ETC1_WEBGL:null;if((e===pt||e===ft)&&(n=t.get("WEBGL_compressed_texture_etc"),null!==n)){if(e===pt)return n.COMPRESSED_RGB8_ETC2;if(e===ft)return n.COMPRESSED_RGBA8_ETC2_EAC}return e===mt||e===gt||e===vt||e===yt||e===xt||e===bt||e===wt||e===_t||e===St||e===Mt||e===Et||e===Tt||e===At||e===Ct||e===Lt||e===Pt||e===Nt||e===kt||e===Ot||e===Dt||e===jt||e===Ft||e===It||e===zt||e===Bt||e===Ut||e===Ht||e===Gt?(n=t.get("WEBGL_compressed_texture_astc"),null!==n?e:null):e===Rt?(n=t.get("EXT_texture_compression_bptc"),null!==n?e:null):e===Ge?i?34042:(n=t.get("WEBGL_depth_texture"),null!==n?n.UNSIGNED_INT_24_8_WEBGL:null):void 0}}}function Va(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];Po.call(this),this.cameras=e}function Wa(){rr.call(this),this.type="Group"}function qa(){this._targetRay=null,this._grip=null,this._hand=null}function Xa(e,t){const n=this;let i=null,r=1,o=null,s="local-floor",a=null;const l=[],c=new Map,u=new Po;u.layers.enable(1),u.viewport=new ti;const h=new Po;h.layers.enable(2),h.viewport=new ti;const d=[u,h],p=new Va;p.layers.enable(1),p.layers.enable(2);let f=null,m=null;function g(e){const t=c.get(e.inputSource);t&&t.dispatchEvent({type:e.type,data:e.inputSource})}function v(){c.forEach((function(e,t){e.disconnect(t)})),c.clear(),e.setFramebuffer(null),e.setRenderTarget(e.getRenderTarget()),M.stop(),n.isPresenting=!1,n.dispatchEvent({type:"sessionend"})}function y(e){o=e,M.setContext(i),M.start(),n.isPresenting=!0,n.dispatchEvent({type:"sessionstart"})}function x(e){const t=i.inputSources;for(let n=0;n<l.length;n++)c.set(t[n],l[n]);for(let n=0;n<e.removed.length;n++){const t=e.removed[n],i=c.get(t);i&&(i.dispatchEvent({type:"disconnected",data:t}),c.delete(t))}for(let n=0;n<e.added.length;n++){const t=e.added[n],i=c.get(t);i&&i.dispatchEvent({type:"connected",data:t})}}this.enabled=!1,this.isPresenting=!1,this.getController=function(e){let t=l[e];return void 0===t&&(t=new qa,l[e]=t),t.getTargetRaySpace()},this.getControllerGrip=function(e){let t=l[e];return void 0===t&&(t=new qa,l[e]=t),t.getGripSpace()},this.getHand=function(e){let t=l[e];return void 0===t&&(t=new qa,l[e]=t),t.getHandSpace()},this.setFramebufferScaleFactor=function(e){r=e,!0===n.isPresenting&&console.warn("THREE.WebXRManager: Cannot change framebuffer scale while presenting.")},this.setReferenceSpaceType=function(e){s=e,!0===n.isPresenting&&console.warn("THREE.WebXRManager: Cannot change reference space type while presenting.")},this.getReferenceSpace=function(){return o},this.getSession=function(){return i},this.setSession=function(e){if(i=e,null!==i){i.addEventListener("select",g),i.addEventListener("selectstart",g),i.addEventListener("selectend",g),i.addEventListener("squeeze",g),i.addEventListener("squeezestart",g),i.addEventListener("squeezeend",g),i.addEventListener("end",v);const e=t.getContextAttributes();!0!==e.xrCompatible&&t.makeXRCompatible();const n={antialias:e.antialias,alpha:e.alpha,depth:e.depth,stencil:e.stencil,framebufferScaleFactor:r},o=new XRWebGLLayer(i,t,n);i.updateRenderState({baseLayer:o}),i.requestReferenceSpace(s).then(y),i.addEventListener("inputsourceschange",x)}};const b=new oi,w=new oi;function _(e,t){null===t?e.matrixWorld.copy(e.matrix):e.matrixWorld.multiplyMatrices(t.matrixWorld,e.matrix),e.matrixWorldInverse.copy(e.matrixWorld).invert()}this.getCamera=function(e){p.near=h.near=u.near=e.near,p.far=h.far=u.far=e.far,f===p.near&&m===p.far||(i.updateRenderState({depthNear:p.near,depthFar:p.far}),f=p.near,m=p.far);const t=e.parent,n=p.cameras;_(p,t);for(let i=0;i<n.length;i++)_(n[i],t);e.matrixWorld.copy(p.matrixWorld);const r=e.children;for(let i=0,o=r.length;i<o;i++)r[i].updateMatrixWorld(!0);return 2===n.length?function(e,t,n){b.setFromMatrixPosition(t.matrixWorld),w.setFromMatrixPosition(n.matrixWorld);const i=b.distanceTo(w),r=t.projectionMatrix.elements,o=n.projectionMatrix.elements,s=r[14]/(r[10]-1),a=r[14]/(r[10]+1),l=(r[9]+1)/r[5],c=(r[9]-1)/r[5],u=(r[8]-1)/r[0],h=(o[8]+1)/o[0],d=s*u,p=s*h,f=i/(-u+h),m=f*-u;t.matrixWorld.decompose(e.position,e.quaternion,e.scale),e.translateX(m),e.translateZ(f),e.matrixWorld.compose(e.position,e.quaternion,e.scale),e.matrixWorldInverse.copy(e.matrixWorld).invert();const g=s+f,v=a+f,y=d-m,x=p+(i-m),_=l*a/v*g,S=c*a/v*g;e.projectionMatrix.makePerspective(y,x,_,S,g,v)}(p,u,h):p.projectionMatrix.copy(u.projectionMatrix),p};let S=null;const M=new Uo;M.setAnimationLoop((function(t,n){if(a=n.getViewerPose(o),null!==a){const t=a.views,n=i.renderState.baseLayer;e.setFramebuffer(n.framebuffer);let r=!1;t.length!==p.cameras.length&&(p.cameras.length=0,r=!0);for(let e=0;e<t.length;e++){const i=t[e],o=n.getViewport(i),s=d[e];s.matrix.fromArray(i.transform.matrix),s.projectionMatrix.fromArray(i.projectionMatrix),s.viewport.set(o.x,o.y,o.width,o.height),0===e&&p.matrix.copy(s.matrix),!0===r&&p.cameras.push(s)}}const r=i.inputSources;for(let e=0;e<l.length;e++){const t=l[e],i=r[e];t.update(i,n,o)}S&&S(t,n)})),this.setAnimationLoop=function(e){S=e},this.dispose=function(){}}function Ya(e){function t(t,n){t.opacity.value=n.opacity,n.color&&t.diffuse.value.copy(n.color),n.emissive&&t.emissive.value.copy(n.emissive).multiplyScalar(n.emissiveIntensity),n.map&&(t.map.value=n.map),n.alphaMap&&(t.alphaMap.value=n.alphaMap),n.specularMap&&(t.specularMap.value=n.specularMap);const i=e.get(n).envMap;if(i){t.envMap.value=i,t.flipEnvMap.value=i.isCubeTexture&&i._needsFlipEnvMap?-1:1,t.reflectivity.value=n.reflectivity,t.refractionRatio.value=n.refractionRatio;const r=e.get(i).__maxMipLevel;void 0!==r&&(t.maxMipLevel.value=r)}let r,o;n.lightMap&&(t.lightMap.value=n.lightMap,t.lightMapIntensity.value=n.lightMapIntensity),n.aoMap&&(t.aoMap.value=n.aoMap,t.aoMapIntensity.value=n.aoMapIntensity),n.map?r=n.map:n.specularMap?r=n.specularMap:n.displacementMap?r=n.displacementMap:n.normalMap?r=n.normalMap:n.bumpMap?r=n.bumpMap:n.roughnessMap?r=n.roughnessMap:n.metalnessMap?r=n.metalnessMap:n.alphaMap?r=n.alphaMap:n.emissiveMap?r=n.emissiveMap:n.clearcoatMap?r=n.clearcoatMap:n.clearcoatNormalMap?r=n.clearcoatNormalMap:n.clearcoatRoughnessMap&&(r=n.clearcoatRoughnessMap),void 0!==r&&(r.isWebGLRenderTarget&&(r=r.texture),!0===r.matrixAutoUpdate&&r.updateMatrix(),t.uvTransform.value.copy(r.matrix)),n.aoMap?o=n.aoMap:n.lightMap&&(o=n.lightMap),void 0!==o&&(o.isWebGLRenderTarget&&(o=o.texture),!0===o.matrixAutoUpdate&&o.updateMatrix(),t.uv2Transform.value.copy(o.matrix))}function n(t,n){t.roughness.value=n.roughness,t.metalness.value=n.metalness,n.roughnessMap&&(t.roughnessMap.value=n.roughnessMap),n.metalnessMap&&(t.metalnessMap.value=n.metalnessMap),n.emissiveMap&&(t.emissiveMap.value=n.emissiveMap),n.bumpMap&&(t.bumpMap.value=n.bumpMap,t.bumpScale.value=n.bumpScale,n.side===S&&(t.bumpScale.value*=-1)),n.normalMap&&(t.normalMap.value=n.normalMap,t.normalScale.value.copy(n.normalScale),n.side===S&&t.normalScale.value.negate()),n.displacementMap&&(t.displacementMap.value=n.displacementMap,t.displacementScale.value=n.displacementScale,t.displacementBias.value=n.displacementBias);e.get(n).envMap&&(t.envMapIntensity.value=n.envMapIntensity)}return{refreshFogUniforms:function(e,t){e.fogColor.value.copy(t.color),t.isFog?(e.fogNear.value=t.near,e.fogFar.value=t.far):t.isFogExp2&&(e.fogDensity.value=t.density)},refreshMaterialUniforms:function(e,i,r,o){i.isMeshBasicMaterial?t(e,i):i.isMeshLambertMaterial?(t(e,i),function(e,t){t.emissiveMap&&(e.emissiveMap.value=t.emissiveMap)}(e,i)):i.isMeshToonMaterial?(t(e,i),function(e,t){t.gradientMap&&(e.gradientMap.value=t.gradientMap);t.emissiveMap&&(e.emissiveMap.value=t.emissiveMap);t.bumpMap&&(e.bumpMap.value=t.bumpMap,e.bumpScale.value=t.bumpScale,t.side===S&&(e.bumpScale.value*=-1));t.normalMap&&(e.normalMap.value=t.normalMap,e.normalScale.value.copy(t.normalScale),t.side===S&&e.normalScale.value.negate());t.displacementMap&&(e.displacementMap.value=t.displacementMap,e.displacementScale.value=t.displacementScale,e.displacementBias.value=t.displacementBias)}(e,i)):i.isMeshPhongMaterial?(t(e,i),function(e,t){e.specular.value.copy(t.specular),e.shininess.value=Math.max(t.shininess,1e-4),t.emissiveMap&&(e.emissiveMap.value=t.emissiveMap);t.bumpMap&&(e.bumpMap.value=t.bumpMap,e.bumpScale.value=t.bumpScale,t.side===S&&(e.bumpScale.value*=-1));t.normalMap&&(e.normalMap.value=t.normalMap,e.normalScale.value.copy(t.normalScale),t.side===S&&e.normalScale.value.negate());t.displacementMap&&(e.displacementMap.value=t.displacementMap,e.displacementScale.value=t.displacementScale,e.displacementBias.value=t.displacementBias)}(e,i)):i.isMeshStandardMaterial?(t(e,i),i.isMeshPhysicalMaterial?function(e,t){n(e,t),e.reflectivity.value=t.reflectivity,e.clearcoat.value=t.clearcoat,e.clearcoatRoughness.value=t.clearcoatRoughness,t.sheen&&e.sheen.value.copy(t.sheen);t.clearcoatMap&&(e.clearcoatMap.value=t.clearcoatMap);t.clearcoatRoughnessMap&&(e.clearcoatRoughnessMap.value=t.clearcoatRoughnessMap);t.clearcoatNormalMap&&(e.clearcoatNormalScale.value.copy(t.clearcoatNormalScale),e.clearcoatNormalMap.value=t.clearcoatNormalMap,t.side===S&&e.clearcoatNormalScale.value.negate());e.transmission.value=t.transmission,t.transmissionMap&&(e.transmissionMap.value=t.transmissionMap)}(e,i):n(e,i)):i.isMeshMatcapMaterial?(t(e,i),function(e,t){t.matcap&&(e.matcap.value=t.matcap);t.bumpMap&&(e.bumpMap.value=t.bumpMap,e.bumpScale.value=t.bumpScale,t.side===S&&(e.bumpScale.value*=-1));t.normalMap&&(e.normalMap.value=t.normalMap,e.normalScale.value.copy(t.normalScale),t.side===S&&e.normalScale.value.negate());t.displacementMap&&(e.displacementMap.value=t.displacementMap,e.displacementScale.value=t.displacementScale,e.displacementBias.value=t.displacementBias)}(e,i)):i.isMeshDepthMaterial?(t(e,i),function(e,t){t.displacementMap&&(e.displacementMap.value=t.displacementMap,e.displacementScale.value=t.displacementScale,e.displacementBias.value=t.displacementBias)}(e,i)):i.isMeshDistanceMaterial?(t(e,i),function(e,t){t.displacementMap&&(e.displacementMap.value=t.displacementMap,e.displacementScale.value=t.displacementScale,e.displacementBias.value=t.displacementBias);e.referencePosition.value.copy(t.referencePosition),e.nearDistance.value=t.nearDistance,e.farDistance.value=t.farDistance}(e,i)):i.isMeshNormalMaterial?(t(e,i),function(e,t){t.bumpMap&&(e.bumpMap.value=t.bumpMap,e.bumpScale.value=t.bumpScale,t.side===S&&(e.bumpScale.value*=-1));t.normalMap&&(e.normalMap.value=t.normalMap,e.normalScale.value.copy(t.normalScale),t.side===S&&e.normalScale.value.negate());t.displacementMap&&(e.displacementMap.value=t.displacementMap,e.displacementScale.value=t.displacementScale,e.displacementBias.value=t.displacementBias)}(e,i)):i.isLineBasicMaterial?(function(e,t){e.diffuse.value.copy(t.color),e.opacity.value=t.opacity}(e,i),i.isLineDashedMaterial&&function(e,t){e.dashSize.value=t.dashSize,e.totalSize.value=t.dashSize+t.gapSize,e.scale.value=t.scale}(e,i)):i.isPointsMaterial?function(e,t,n,i){e.diffuse.value.copy(t.color),e.opacity.value=t.opacity,e.size.value=t.size*n,e.scale.value=.5*i,t.map&&(e.map.value=t.map);t.alphaMap&&(e.alphaMap.value=t.alphaMap);let r;t.map?r=t.map:t.alphaMap&&(r=t.alphaMap);void 0!==r&&(!0===r.matrixAutoUpdate&&r.updateMatrix(),e.uvTransform.value.copy(r.matrix))}(e,i,r,o):i.isSpriteMaterial?function(e,t){e.diffuse.value.copy(t.color),e.opacity.value=t.opacity,e.rotation.value=t.rotation,t.map&&(e.map.value=t.map);t.alphaMap&&(e.alphaMap.value=t.alphaMap);let n;t.map?n=t.map:t.alphaMap&&(n=t.alphaMap);void 0!==n&&(!0===n.matrixAutoUpdate&&n.updateMatrix(),e.uvTransform.value.copy(n.matrix))}(e,i):i.isShadowMaterial?(e.color.value.copy(i.color),e.opacity.value=i.opacity):i.isShaderMaterial&&(i.uniformsNeedUpdate=!1)}}}function Ja(e){const t=void 0!==(e=e||{}).canvas?e.canvas:function(){const e=document.createElementNS("http://www.w3.org/1999/xhtml","canvas");return e.style.display="block",e}(),n=void 0!==e.context?e.context:null,i=void 0!==e.alpha&&e.alpha,r=void 0===e.depth||e.depth,o=void 0===e.stencil||e.stencil,s=void 0!==e.antialias&&e.antialias,a=void 0===e.premultipliedAlpha||e.premultipliedAlpha,l=void 0!==e.preserveDrawingBuffer&&e.preserveDrawingBuffer,c=void 0!==e.powerPreference?e.powerPreference:"default",u=void 0!==e.failIfMajorPerformanceCaveat&&e.failIfMajorPerformanceCaveat;let h=null,d=null;const p=[];this.domElement=t,this.debug={checkShaderErrors:!0},this.autoClear=!0,this.autoClearColor=!0,this.autoClearDepth=!0,this.autoClearStencil=!0,this.sortObjects=!0,this.clippingPlanes=[],this.localClippingEnabled=!1,this.gammaFactor=2,this.outputEncoding=on,this.physicallyCorrectLights=!1,this.toneMapping=se,this.toneMappingExposure=1,this.maxMorphTargets=8,this.maxMorphNormals=4;const f=this;let m=!1,g=null,v=0,y=0,x=null,b=null,w=-1,_=null;const S=new ti,M=new ti;let E=null,T=t.width,A=t.height,C=1,R=null,L=null;const P=new ti(0,0,T,A),N=new ti(0,0,T,A);let k=!1;const O=new Bo;let D=!1,j=!1;const F=new ki,I=new oi,z={background:null,fog:null,environment:null,overrideMaterial:null,isScene:!0};function B(){return null===x?C:1}let U,H,G,V,W,q,X,Y,J,Z,K,Q,$,ee,te,ne,ie,re,oe,ae,le,ce=n;function ue(e,n){for(let i=0;i<e.length;i++){const r=e[i],o=t.getContext(r,n);if(null!==o)return o}return null}try{const e={alpha:i,depth:r,stencil:o,antialias:s,premultipliedAlpha:a,preserveDrawingBuffer:l,powerPreference:c,failIfMajorPerformanceCaveat:u};if(t.addEventListener("webglcontextlost",fe,!1),t.addEventListener("webglcontextrestored",me,!1),null===ce){const t=["webgl2","webgl","experimental-webgl"];if(!0===f.isWebGL1Renderer&&t.shift(),ce=ue(t,e),null===ce)throw ue(t)?new Error("Error creating WebGL context with your selected attributes."):new Error("Error creating WebGL context.")}void 0===ce.getShaderPrecisionFormat&&(ce.getShaderPrecisionFormat=function(){return{rangeMin:1,rangeMax:1,precision:1}})}catch(Ee){throw console.error("THREE.WebGLRenderer: "+Ee.message),Ee}function he(){U=new $o(ce),H=new Zo(ce,U,e),!1===H.isWebGL2&&(U.get("WEBGL_depth_texture"),U.get("OES_texture_float"),U.get("OES_texture_half_float"),U.get("OES_texture_half_float_linear"),U.get("OES_standard_derivatives"),U.get("OES_element_index_uint"),U.get("OES_vertex_array_object"),U.get("ANGLE_instanced_arrays")),U.get("OES_texture_float_linear"),ae=new Ga(ce,U,H),G=new Ua(ce,U,H),G.scissor(M.copy(N).multiplyScalar(C).floor()),G.viewport(S.copy(P).multiplyScalar(C).floor()),V=new ns(ce),W=new Ea,q=new Ha(ce,U,G,W,H,ae,V),X=new Qo(f),Y=new Ho(ce,H),le=new Yo(ce,U,Y,H),J=new es(ce,Y,V,le),Z=new ss(ce,J,Y,V),ie=new os(ce),te=new Ko(W),K=new Ma(f,X,U,H,le,te),Q=new Ya(W),$=new Ra(W),ee=new Da(U,H),ne=new Xo(f,X,G,Z,a),re=new Jo(ce,U,V,H),oe=new ts(ce,U,V,H),V.programs=K.programs,f.capabilities=H,f.extensions=U,f.properties=W,f.renderLists=$,f.state=G,f.info=V}he();const de=new Xa(f,ce);this.xr=de;const pe=new Ba(f,Z,H.maxTextureSize);function fe(e){e.preventDefault(),console.log("THREE.WebGLRenderer: Context Lost."),m=!0}function me(){console.log("THREE.WebGLRenderer: Context Restored."),m=!1,he()}function ge(e){const t=e.target;t.removeEventListener("dispose",ge),function(e){ve(e),W.remove(e)}(t)}function ve(e){const t=W.get(e).program;void 0!==t&&K.releaseProgram(t)}this.shadowMap=pe,this.getContext=function(){return ce},this.getContextAttributes=function(){return ce.getContextAttributes()},this.forceContextLoss=function(){const e=U.get("WEBGL_lose_context");e&&e.loseContext()},this.forceContextRestore=function(){const e=U.get("WEBGL_lose_context");e&&e.restoreContext()},this.getPixelRatio=function(){return C},this.setPixelRatio=function(e){void 0!==e&&(C=e,this.setSize(T,A,!1))},this.getSize=function(e){return void 0===e&&(console.warn("WebGLRenderer: .getsize() now requires a Vector2 as an argument"),e=new Yn),e.set(T,A)},this.setSize=function(e,n,i){de.isPresenting?console.warn("THREE.WebGLRenderer: Can't change size while VR device is presenting."):(T=e,A=n,t.width=Math.floor(e*C),t.height=Math.floor(n*C),!1!==i&&(t.style.width=e+"px",t.style.height=n+"px"),this.setViewport(0,0,e,n))},this.getDrawingBufferSize=function(e){return void 0===e&&(console.warn("WebGLRenderer: .getdrawingBufferSize() now requires a Vector2 as an argument"),e=new Yn),e.set(T*C,A*C).floor()},this.setDrawingBufferSize=function(e,n,i){T=e,A=n,C=i,t.width=Math.floor(e*i),t.height=Math.floor(n*i),this.setViewport(0,0,e,n)},this.getCurrentViewport=function(e){return void 0===e&&(console.warn("WebGLRenderer: .getCurrentViewport() now requires a Vector4 as an argument"),e=new ti),e.copy(S)},this.getViewport=function(e){return e.copy(P)},this.setViewport=function(e,t,n,i){e.isVector4?P.set(e.x,e.y,e.z,e.w):P.set(e,t,n,i),G.viewport(S.copy(P).multiplyScalar(C).floor())},this.getScissor=function(e){return e.copy(N)},this.setScissor=function(e,t,n,i){e.isVector4?N.set(e.x,e.y,e.z,e.w):N.set(e,t,n,i),G.scissor(M.copy(N).multiplyScalar(C).floor())},this.getScissorTest=function(){return k},this.setScissorTest=function(e){G.setScissorTest(k=e)},this.setOpaqueSort=function(e){R=e},this.setTransparentSort=function(e){L=e},this.getClearColor=function(e){return void 0===e&&(console.warn("WebGLRenderer: .getClearColor() now requires a Color as an argument"),e=new Tr),e.copy(ne.getClearColor())},this.setClearColor=function(){ne.setClearColor.apply(ne,arguments)},this.getClearAlpha=function(){return ne.getClearAlpha()},this.setClearAlpha=function(){ne.setClearAlpha.apply(ne,arguments)},this.clear=function(e,t,n){let i=0;(void 0===e||e)&&(i|=16384),(void 0===t||t)&&(i|=256),(void 0===n||n)&&(i|=1024),ce.clear(i)},this.clearColor=function(){this.clear(!0,!1,!1)},this.clearDepth=function(){this.clear(!1,!0,!1)},this.clearStencil=function(){this.clear(!1,!1,!0)},this.dispose=function(){t.removeEventListener("webglcontextlost",fe,!1),t.removeEventListener("webglcontextrestored",me,!1),$.dispose(),ee.dispose(),W.dispose(),X.dispose(),Z.dispose(),le.dispose(),de.dispose(),xe.stop()},this.renderBufferImmediate=function(e,t){le.initAttributes();const n=W.get(e);e.hasPositions&&!n.position&&(n.position=ce.createBuffer()),e.hasNormals&&!n.normal&&(n.normal=ce.createBuffer()),e.hasUvs&&!n.uv&&(n.uv=ce.createBuffer()),e.hasColors&&!n.color&&(n.color=ce.createBuffer());const i=t.getAttributes();e.hasPositions&&(ce.bindBuffer(34962,n.position),ce.bufferData(34962,e.positionArray,35048),le.enableAttribute(i.position),ce.vertexAttribPointer(i.position,3,5126,!1,0,0)),e.hasNormals&&(ce.bindBuffer(34962,n.normal),ce.bufferData(34962,e.normalArray,35048),le.enableAttribute(i.normal),ce.vertexAttribPointer(i.normal,3,5126,!1,0,0)),e.hasUvs&&(ce.bindBuffer(34962,n.uv),ce.bufferData(34962,e.uvArray,35048),le.enableAttribute(i.uv),ce.vertexAttribPointer(i.uv,2,5126,!1,0,0)),e.hasColors&&(ce.bindBuffer(34962,n.color),ce.bufferData(34962,e.colorArray,35048),le.enableAttribute(i.color),ce.vertexAttribPointer(i.color,3,5126,!1,0,0)),le.disableUnusedAttributes(),ce.drawArrays(4,0,e.count),e.count=0},this.renderBufferDirect=function(e,t,n,i,r,o){null===t&&(t=z);const s=r.isMesh&&r.matrixWorld.determinant()<0,a=Me(e,t,i,r);G.setMaterial(i,s);let l=n.index;const c=n.attributes.position;if(null===l){if(void 0===c||0===c.count)return}else if(0===l.count)return;let u,h=1;!0===i.wireframe&&(l=J.getWireframeAttribute(n),h=2),(i.morphTargets||i.morphNormals)&&ie.update(r,n,i,a),le.setup(r,i,a,n,l);let d=re;null!==l&&(u=Y.get(l),d=oe,d.setIndex(u));const p=null!==l?l.count:c.count,f=n.drawRange.start*h,m=n.drawRange.count*h,g=null!==o?o.start*h:0,v=null!==o?o.count*h:1/0,y=Math.max(f,g),x=Math.min(p,f+m,g+v)-1,b=Math.max(0,x-y+1);if(0!==b){if(r.isMesh)!0===i.wireframe?(G.setLineWidth(i.wireframeLinewidth*B()),d.setMode(1)):d.setMode(4);else if(r.isLine){let e=i.linewidth;void 0===e&&(e=1),G.setLineWidth(e*B()),r.isLineSegments?d.setMode(1):r.isLineLoop?d.setMode(2):d.setMode(3)}else r.isPoints?d.setMode(0):r.isSprite&&d.setMode(4);if(r.isInstancedMesh)d.renderInstances(y,b,r.count);else if(n.isInstancedBufferGeometry){const e=Math.min(n.instanceCount,n._maxInstanceCount);d.renderInstances(y,b,e)}else d.render(y,b)}},this.compile=function(e,t){d=ee.get(e),d.init(),e.traverseVisible((function(e){e.isLight&&e.layers.test(t.layers)&&(d.pushLight(e),e.castShadow&&d.pushShadow(e))})),d.setupLights();const n=new WeakMap;e.traverse((function(t){const i=t.material;if(i)if(Array.isArray(i))for(let r=0;r<i.length;r++){const o=i[r];!1===n.has(o)&&(Se(o,e,t),n.set(o))}else!1===n.has(i)&&(Se(i,e,t),n.set(i))}))};let ye=null;const xe=new Uo;function be(e,t,n,i){if(!1===e.visible)return;if(e.layers.test(t.layers))if(e.isGroup)n=e.renderOrder;else if(e.isLOD)!0===e.autoUpdate&&e.update(t);else if(e.isLight)d.pushLight(e),e.castShadow&&d.pushShadow(e);else if(e.isSprite){if(!e.frustumCulled||O.intersectsSprite(e)){i&&I.setFromMatrixPosition(e.matrixWorld).applyMatrix4(F);const t=Z.update(e),r=e.material;r.visible&&h.push(e,t,r,n,I.z,null)}}else if(e.isImmediateRenderObject)i&&I.setFromMatrixPosition(e.matrixWorld).applyMatrix4(F),h.push(e,null,e.material,n,I.z,null);else if((e.isMesh||e.isLine||e.isPoints)&&(e.isSkinnedMesh&&e.skeleton.frame!==V.render.frame&&(e.skeleton.update(),e.skeleton.frame=V.render.frame),!e.frustumCulled||O.intersectsObject(e))){i&&I.setFromMatrixPosition(e.matrixWorld).applyMatrix4(F);const t=Z.update(e),r=e.material;if(Array.isArray(r)){const i=t.groups;for(let o=0,s=i.length;o<s;o++){const s=i[o],a=r[s.materialIndex];a&&a.visible&&h.push(e,t,a,n,I.z,s)}}else r.visible&&h.push(e,t,r,n,I.z,null)}const r=e.children;for(let o=0,s=r.length;o<s;o++)be(r[o],t,n,i)}function we(e,t,n){const i=!0===t.isScene?t.overrideMaterial:null;for(let r=0,o=e.length;r<o;r++){const o=e[r],s=o.object,a=o.geometry,l=null===i?o.material:i,c=o.group;if(n.isArrayCamera){const e=n.cameras;for(let n=0,i=e.length;n<i;n++){const i=e[n];s.layers.test(i.layers)&&(G.viewport(S.copy(i.viewport)),d.setupLightsView(i),_e(s,t,i,a,l,c))}}else _e(s,t,n,a,l,c)}}function _e(e,t,n,i,r,o){if(e.onBeforeRender(f,t,n,i,r,o),e.modelViewMatrix.multiplyMatrices(n.matrixWorldInverse,e.matrixWorld),e.normalMatrix.getNormalMatrix(e.modelViewMatrix),e.isImmediateRenderObject){const i=Me(n,t,r,e);G.setMaterial(r),le.reset(),function(e,t){e.render((function(e){f.renderBufferImmediate(e,t)}))}(e,i)}else f.renderBufferDirect(n,t,i,r,e,o);e.onAfterRender(f,t,n,i,r,o)}function Se(e,t,n){!0!==t.isScene&&(t=z);const i=W.get(e),r=d.state.lights,o=d.state.shadowsArray,s=r.state.version,a=K.getParameters(e,r.state,o,t,n),l=K.getProgramCacheKey(a);let c=i.program,u=!0;if(void 0===c)e.addEventListener("dispose",ge);else if(c.cacheKey!==l)ve(e);else if(i.lightsStateVersion!==s)u=!1;else{if(void 0!==a.shaderID){const n=e.isMeshStandardMaterial?t.environment:null;return void(i.envMap=X.get(e.envMap||n))}u=!1}u&&(a.uniforms=K.getUniforms(e),e.onBeforeCompile(a,f),c=K.acquireProgram(a,l),i.program=c,i.uniforms=a.uniforms,i.outputEncoding=a.outputEncoding);const h=i.uniforms;(e.isShaderMaterial||e.isRawShaderMaterial)&&!0!==e.clipping||(i.numClippingPlanes=te.numPlanes,i.numIntersection=te.numIntersection,h.clippingPlanes=te.uniform),i.environment=e.isMeshStandardMaterial?t.environment:null,i.fog=t.fog,i.envMap=X.get(e.envMap||i.environment),i.needsLights=function(e){return e.isMeshLambertMaterial||e.isMeshToonMaterial||e.isMeshPhongMaterial||e.isMeshStandardMaterial||e.isShadowMaterial||e.isShaderMaterial&&!0===e.lights}(e),i.lightsStateVersion=s,i.needsLights&&(h.ambientLightColor.value=r.state.ambient,h.lightProbe.value=r.state.probe,h.directionalLights.value=r.state.directional,h.directionalLightShadows.value=r.state.directionalShadow,h.spotLights.value=r.state.spot,h.spotLightShadows.value=r.state.spotShadow,h.rectAreaLights.value=r.state.rectArea,h.ltc_1.value=r.state.rectAreaLTC1,h.ltc_2.value=r.state.rectAreaLTC2,h.pointLights.value=r.state.point,h.pointLightShadows.value=r.state.pointShadow,h.hemisphereLights.value=r.state.hemi,h.directionalShadowMap.value=r.state.directionalShadowMap,h.directionalShadowMatrix.value=r.state.directionalShadowMatrix,h.spotShadowMap.value=r.state.spotShadowMap,h.spotShadowMatrix.value=r.state.spotShadowMatrix,h.pointShadowMap.value=r.state.pointShadowMap,h.pointShadowMatrix.value=r.state.pointShadowMatrix);const p=i.program.getUniforms(),m=ia.seqWithValue(p.seq,h);i.uniformsList=m}function Me(e,t,n,i){!0!==t.isScene&&(t=z),q.resetTextureUnits();const r=t.fog,o=n.isMeshStandardMaterial?t.environment:null,s=null===x?f.outputEncoding:x.texture.encoding,a=X.get(n.envMap||o),l=W.get(n),c=d.state.lights;if(!0===D&&(!0===j||e!==_)){const t=e===_&&n.id===w;te.setState(n,e,t)}n.version===l.__version?n.fog&&l.fog!==r||l.environment!==o||l.needsLights&&l.lightsStateVersion!==c.state.version?Se(n,t,i):void 0===l.numClippingPlanes||l.numClippingPlanes===te.numPlanes&&l.numIntersection===te.numIntersection?(l.outputEncoding!==s||l.envMap!==a)&&Se(n,t,i):Se(n,t,i):(Se(n,t,i),l.__version=n.version);let u=!1,h=!1,p=!1;const m=l.program,g=m.getUniforms(),v=l.uniforms;if(G.useProgram(m.program)&&(u=!0,h=!0,p=!0),n.id!==w&&(w=n.id,h=!0),u||_!==e){if(g.setValue(ce,"projectionMatrix",e.projectionMatrix),H.logarithmicDepthBuffer&&g.setValue(ce,"logDepthBufFC",2/(Math.log(e.far+1)/Math.LN2)),_!==e&&(_=e,h=!0,p=!0),n.isShaderMaterial||n.isMeshPhongMaterial||n.isMeshToonMaterial||n.isMeshStandardMaterial||n.envMap){const t=g.map.cameraPosition;void 0!==t&&t.setValue(ce,I.setFromMatrixPosition(e.matrixWorld))}(n.isMeshPhongMaterial||n.isMeshToonMaterial||n.isMeshLambertMaterial||n.isMeshBasicMaterial||n.isMeshStandardMaterial||n.isShaderMaterial)&&g.setValue(ce,"isOrthographic",!0===e.isOrthographicCamera),(n.isMeshPhongMaterial||n.isMeshToonMaterial||n.isMeshLambertMaterial||n.isMeshBasicMaterial||n.isMeshStandardMaterial||n.isShaderMaterial||n.isShadowMaterial||n.skinning)&&g.setValue(ce,"viewMatrix",e.matrixWorldInverse)}if(n.skinning){g.setOptional(ce,i,"bindMatrix"),g.setOptional(ce,i,"bindMatrixInverse");const e=i.skeleton;if(e){const t=e.bones;if(H.floatVertexTextures){if(null===e.boneTexture){let n=Math.sqrt(4*t.length);n=Xn.ceilPowerOfTwo(n),n=Math.max(n,4);const i=new Float32Array(n*n*4);i.set(e.boneMatrices);const r=new Fo(i,n,n,qe,Ie);e.boneMatrices=i,e.boneTexture=r,e.boneTextureSize=n}g.setValue(ce,"boneTexture",e.boneTexture,q),g.setValue(ce,"boneTextureSize",e.boneTextureSize)}else g.setOptional(ce,e,"boneMatrices")}}var y,b;return(h||l.receiveShadow!==i.receiveShadow)&&(l.receiveShadow=i.receiveShadow,g.setValue(ce,"receiveShadow",i.receiveShadow)),h&&(g.setValue(ce,"toneMappingExposure",f.toneMappingExposure),l.needsLights&&(b=p,(y=v).ambientLightColor.needsUpdate=b,y.lightProbe.needsUpdate=b,y.directionalLights.needsUpdate=b,y.directionalLightShadows.needsUpdate=b,y.pointLights.needsUpdate=b,y.pointLightShadows.needsUpdate=b,y.spotLights.needsUpdate=b,y.spotLightShadows.needsUpdate=b,y.rectAreaLights.needsUpdate=b,y.hemisphereLights.needsUpdate=b),r&&n.fog&&Q.refreshFogUniforms(v,r),Q.refreshMaterialUniforms(v,n,C,A),ia.upload(ce,l.uniformsList,v,q)),n.isShaderMaterial&&!0===n.uniformsNeedUpdate&&(ia.upload(ce,l.uniformsList,v,q),n.uniformsNeedUpdate=!1),n.isSpriteMaterial&&g.setValue(ce,"center",i.center),g.setValue(ce,"modelViewMatrix",i.modelViewMatrix),g.setValue(ce,"normalMatrix",i.normalMatrix),g.setValue(ce,"modelMatrix",i.matrixWorld),m}xe.setAnimationLoop((function(e){de.isPresenting||ye&&ye(e)})),"undefined"!==typeof window&&xe.setContext(window),this.setAnimationLoop=function(e){ye=e,de.setAnimationLoop(e),null===e?xe.stop():xe.start()},this.render=function(e,t){let n,i;if(void 0!==arguments[2]&&(console.warn("THREE.WebGLRenderer.render(): the renderTarget argument has been removed. Use .setRenderTarget() instead."),n=arguments[2]),void 0!==arguments[3]&&(console.warn("THREE.WebGLRenderer.render(): the forceClear argument has been removed. Use .clear() instead."),i=arguments[3]),void 0!==t&&!0!==t.isCamera)return void console.error("THREE.WebGLRenderer.render: camera is not an instance of THREE.Camera.");if(!0===m)return;le.resetDefaultState(),w=-1,_=null,!0===e.autoUpdate&&e.updateMatrixWorld(),null===t.parent&&t.updateMatrixWorld(),!0===de.enabled&&!0===de.isPresenting&&(t=de.getCamera(t)),!0===e.isScene&&e.onBeforeRender(f,e,t,n||x),d=ee.get(e,p.length),d.init(),p.push(d),F.multiplyMatrices(t.projectionMatrix,t.matrixWorldInverse),O.setFromProjectionMatrix(F),j=this.localClippingEnabled,D=te.init(this.clippingPlanes,j,t),h=$.get(e,t),h.init(),be(e,t,0,f.sortObjects),h.finish(),!0===f.sortObjects&&h.sort(R,L),!0===D&&te.beginShadows();const r=d.state.shadowsArray;pe.render(r,e,t),d.setupLights(),d.setupLightsView(t),!0===D&&te.endShadows(),!0===this.info.autoReset&&this.info.reset(),void 0!==n&&this.setRenderTarget(n),ne.render(h,e,t,i);const o=h.opaque,s=h.transparent;o.length>0&&we(o,e,t),s.length>0&&we(s,e,t),!0===e.isScene&&e.onAfterRender(f,e,t),null!==x&&(q.updateRenderTargetMipmap(x),q.updateMultisampleRenderTarget(x)),G.buffers.depth.setTest(!0),G.buffers.depth.setMask(!0),G.buffers.color.setMask(!0),G.setPolygonOffset(!1),p.pop(),d=p.length>0?p[p.length-1]:null,h=null},this.setFramebuffer=function(e){g!==e&&null===x&&ce.bindFramebuffer(36160,e),g=e},this.getActiveCubeFace=function(){return v},this.getActiveMipmapLevel=function(){return y},this.getRenderList=function(){return h},this.setRenderList=function(e){h=e},this.getRenderTarget=function(){return x},this.setRenderTarget=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;x=e,v=t,y=n,e&&void 0===W.get(e).__webglFramebuffer&&q.setupRenderTarget(e);let i=g,r=!1;if(e){const n=W.get(e).__webglFramebuffer;e.isWebGLCubeRenderTarget?(i=n[t],r=!0):i=e.isWebGLMultisampleRenderTarget?W.get(e).__webglMultisampledFramebuffer:n,S.copy(e.viewport),M.copy(e.scissor),E=e.scissorTest}else S.copy(P).multiplyScalar(C).floor(),M.copy(N).multiplyScalar(C).floor(),E=k;if(b!==i&&(ce.bindFramebuffer(36160,i),b=i),G.viewport(S),G.scissor(M),G.setScissorTest(E),r){const i=W.get(e.texture);ce.framebufferTexture2D(36160,36064,34069+t,i.__webglTexture,n)}},this.readRenderTargetPixels=function(e,t,n,i,r,o,s){if(!e||!e.isWebGLRenderTarget)return void console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not THREE.WebGLRenderTarget.");let a=W.get(e).__webglFramebuffer;if(e.isWebGLCubeRenderTarget&&void 0!==s&&(a=a[s]),a){let s=!1;a!==b&&(ce.bindFramebuffer(36160,a),s=!0);try{const s=e.texture,a=s.format,l=s.type;if(a!==qe&&ae.convert(a)!==ce.getParameter(35739))return void console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in RGBA or implementation defined format.");if(l!==Ne&&ae.convert(l)!==ce.getParameter(35738)&&(l!==Ie||!(H.isWebGL2||U.get("OES_texture_float")||U.get("WEBGL_color_buffer_float")))&&(l!==ze||!(H.isWebGL2?U.get("EXT_color_buffer_float"):U.get("EXT_color_buffer_half_float"))))return void console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in UnsignedByteType or implementation defined type.");36053===ce.checkFramebufferStatus(36160)?t>=0&&t<=e.width-i&&n>=0&&n<=e.height-r&&ce.readPixels(t,n,i,r,ae.convert(a),ae.convert(l),o):console.error("THREE.WebGLRenderer.readRenderTargetPixels: readPixels from renderTarget failed. Framebuffer not complete.")}finally{s&&ce.bindFramebuffer(36160,b)}}},this.copyFramebufferToTexture=function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;const i=Math.pow(2,-n),r=Math.floor(t.image.width*i),o=Math.floor(t.image.height*i),s=ae.convert(t.format);q.setTexture2D(t,0),ce.copyTexImage2D(3553,n,s,e.x,e.y,r,o,0),G.unbindTexture()},this.copyTextureToTexture=function(e,t,n){let i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0;const r=t.image.width,o=t.image.height,s=ae.convert(n.format),a=ae.convert(n.type);q.setTexture2D(n,0),ce.pixelStorei(37440,n.flipY),ce.pixelStorei(37441,n.premultiplyAlpha),ce.pixelStorei(3317,n.unpackAlignment),t.isDataTexture?ce.texSubImage2D(3553,i,e.x,e.y,r,o,s,a,t.image.data):t.isCompressedTexture?ce.compressedTexSubImage2D(3553,i,e.x,e.y,t.mipmaps[0].width,t.mipmaps[0].height,s,t.mipmaps[0].data):ce.texSubImage2D(3553,i,e.x,e.y,s,a,t.image),0===i&&n.generateMipmaps&&ce.generateMipmap(3553),G.unbindTexture()},this.initTexture=function(e){q.setTexture2D(e,0),G.unbindTexture()},this.resetState=function(){G.reset(),le.reset()},"undefined"!==typeof __THREE_DEVTOOLS__&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}function Za(e){Ja.call(this,e)}Va.prototype=Object.assign(Object.create(Po.prototype),{constructor:Va,isArrayCamera:!0}),Wa.prototype=Object.assign(Object.create(rr.prototype),{constructor:Wa,isGroup:!0}),Object.assign(qa.prototype,{constructor:qa,getHandSpace:function(){if(null===this._hand&&(this._hand=new Wa,this._hand.matrixAutoUpdate=!1,this._hand.visible=!1,this._hand.joints=[],this._hand.inputState={pinching:!1},window.XRHand))for(let e=0;e<=window.XRHand.LITTLE_PHALANX_TIP;e++){const e=new Wa;e.matrixAutoUpdate=!1,e.visible=!1,this._hand.joints.push(e),this._hand.add(e)}return this._hand},getTargetRaySpace:function(){return null===this._targetRay&&(this._targetRay=new Wa,this._targetRay.matrixAutoUpdate=!1,this._targetRay.visible=!1),this._targetRay},getGripSpace:function(){return null===this._grip&&(this._grip=new Wa,this._grip.matrixAutoUpdate=!1,this._grip.visible=!1),this._grip},dispatchEvent:function(e){return null!==this._targetRay&&this._targetRay.dispatchEvent(e),null!==this._grip&&this._grip.dispatchEvent(e),null!==this._hand&&this._hand.dispatchEvent(e),this},disconnect:function(e){return this.dispatchEvent({type:"disconnected",data:e}),null!==this._targetRay&&(this._targetRay.visible=!1),null!==this._grip&&(this._grip.visible=!1),null!==this._hand&&(this._hand.visible=!1),this},update:function(e,t,n){let i=null,r=null,o=null;const s=this._targetRay,a=this._grip,l=this._hand;if(e&&"visible-blurred"!==t.session.visibilityState)if(l&&e.hand){o=!0;for(let i=0;i<=window.XRHand.LITTLE_PHALANX_TIP;i++)if(e.hand[i]){const r=t.getJointPose(e.hand[i],n),o=l.joints[i];null!==r&&(o.matrix.fromArray(r.transform.matrix),o.matrix.decompose(o.position,o.rotation,o.scale),o.jointRadius=r.radius),o.visible=null!==r;const s=l.joints[window.XRHand.INDEX_PHALANX_TIP],a=l.joints[window.XRHand.THUMB_PHALANX_TIP],c=s.position.distanceTo(a.position),u=.02,h=.005;l.inputState.pinching&&c>u+h?(l.inputState.pinching=!1,this.dispatchEvent({type:"pinchend",handedness:e.handedness,target:this})):!l.inputState.pinching&&c<=u-h&&(l.inputState.pinching=!0,this.dispatchEvent({type:"pinchstart",handedness:e.handedness,target:this}))}}else null!==s&&(i=t.getPose(e.targetRaySpace,n),null!==i&&(s.matrix.fromArray(i.transform.matrix),s.matrix.decompose(s.position,s.rotation,s.scale))),null!==a&&e.gripSpace&&(r=t.getPose(e.gripSpace,n),null!==r&&(a.matrix.fromArray(r.transform.matrix),a.matrix.decompose(a.position,a.rotation,a.scale)));return null!==s&&(s.visible=null!==i),null!==a&&(a.visible=null!==r),null!==l&&(l.visible=null!==o),this}}),Object.assign(Xa.prototype,Vn.prototype),Za.prototype=Object.assign(Object.create(Ja.prototype),{constructor:Za,isWebGL1Renderer:!0});class Ka{constructor(e,t){Object.defineProperty(this,"isFogExp2",{value:!0}),this.name="",this.color=new Tr(e),this.density=void 0!==t?t:25e-5}clone(){return new Ka(this.color,this.density)}toJSON(){return{type:"FogExp2",color:this.color.getHex(),density:this.density}}}class Qa{constructor(e,t,n){Object.defineProperty(this,"isFog",{value:!0}),this.name="",this.color=new Tr(e),this.near=void 0!==t?t:1,this.far=void 0!==n?n:1e3}clone(){return new Qa(this.color,this.near,this.far)}toJSON(){return{type:"Fog",color:this.color.getHex(),near:this.near,far:this.far}}}class $a extends rr{constructor(){super(),Object.defineProperty(this,"isScene",{value:!0}),this.type="Scene",this.background=null,this.environment=null,this.fog=null,this.overrideMaterial=null,this.autoUpdate=!0,"undefined"!==typeof __THREE_DEVTOOLS__&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}copy(e,t){return super.copy(e,t),null!==e.background&&(this.background=e.background.clone()),null!==e.environment&&(this.environment=e.environment.clone()),null!==e.fog&&(this.fog=e.fog.clone()),null!==e.overrideMaterial&&(this.overrideMaterial=e.overrideMaterial.clone()),this.autoUpdate=e.autoUpdate,this.matrixAutoUpdate=e.matrixAutoUpdate,this}toJSON(e){const t=super.toJSON(e);return null!==this.background&&(t.object.background=this.background.toJSON(e)),null!==this.environment&&(t.object.environment=this.environment.toJSON(e)),null!==this.fog&&(t.object.fog=this.fog.toJSON()),t}}function el(e,t){this.array=e,this.stride=t,this.count=void 0!==e?e.length/t:0,this.usage=kn,this.updateRange={offset:0,count:-1},this.version=0,this.uuid=Xn.generateUUID()}Object.defineProperty(el.prototype,"needsUpdate",{set:function(e){!0===e&&this.version++}}),Object.assign(el.prototype,{isInterleavedBuffer:!0,onUploadCallback:function(){},setUsage:function(e){return this.usage=e,this},copy:function(e){return this.array=new e.array.constructor(e.array),this.count=e.count,this.stride=e.stride,this.usage=e.usage,this},copyAt:function(e,t,n){e*=this.stride,n*=t.stride;for(let i=0,r=this.stride;i<r;i++)this.array[e+i]=t.array[n+i];return this},set:function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return this.array.set(e,t),this},clone:function(e){void 0===e.arrayBuffers&&(e.arrayBuffers={}),void 0===this.array.buffer._uuid&&(this.array.buffer._uuid=Xn.generateUUID()),void 0===e.arrayBuffers[this.array.buffer._uuid]&&(e.arrayBuffers[this.array.buffer._uuid]=this.array.slice(0).buffer);const t=new el(new this.array.constructor(e.arrayBuffers[this.array.buffer._uuid]),this.stride);return t.setUsage(this.usage),t},onUpload:function(e){return this.onUploadCallback=e,this},toJSON:function(e){return void 0===e.arrayBuffers&&(e.arrayBuffers={}),void 0===this.array.buffer._uuid&&(this.array.buffer._uuid=Xn.generateUUID()),void 0===e.arrayBuffers[this.array.buffer._uuid]&&(e.arrayBuffers[this.array.buffer._uuid]=Array.prototype.slice.call(new Uint32Array(this.array.buffer))),{uuid:this.uuid,buffer:this.array.buffer._uuid,type:this.array.constructor.name,stride:this.stride}}});const tl=new oi;function nl(e,t,n,i){this.name="",this.data=e,this.itemSize=t,this.offset=n,this.normalized=!0===i}function il(e){Rr.call(this),this.type="SpriteMaterial",this.color=new Tr(16777215),this.map=null,this.alphaMap=null,this.rotation=0,this.sizeAttenuation=!0,this.transparent=!0,this.setValues(e)}let rl;Object.defineProperties(nl.prototype,{count:{get:function(){return this.data.count}},array:{get:function(){return this.data.array}},needsUpdate:{set:function(e){this.data.needsUpdate=e}}}),Object.assign(nl.prototype,{isInterleavedBufferAttribute:!0,applyMatrix4:function(e){for(let t=0,n=this.data.count;t<n;t++)tl.x=this.getX(t),tl.y=this.getY(t),tl.z=this.getZ(t),tl.applyMatrix4(e),this.setXYZ(t,tl.x,tl.y,tl.z);return this},setX:function(e,t){return this.data.array[e*this.data.stride+this.offset]=t,this},setY:function(e,t){return this.data.array[e*this.data.stride+this.offset+1]=t,this},setZ:function(e,t){return this.data.array[e*this.data.stride+this.offset+2]=t,this},setW:function(e,t){return this.data.array[e*this.data.stride+this.offset+3]=t,this},getX:function(e){return this.data.array[e*this.data.stride+this.offset]},getY:function(e){return this.data.array[e*this.data.stride+this.offset+1]},getZ:function(e){return this.data.array[e*this.data.stride+this.offset+2]},getW:function(e){return this.data.array[e*this.data.stride+this.offset+3]},setXY:function(e,t,n){return e=e*this.data.stride+this.offset,this.data.array[e+0]=t,this.data.array[e+1]=n,this},setXYZ:function(e,t,n,i){return e=e*this.data.stride+this.offset,this.data.array[e+0]=t,this.data.array[e+1]=n,this.data.array[e+2]=i,this},setXYZW:function(e,t,n,i,r){return e=e*this.data.stride+this.offset,this.data.array[e+0]=t,this.data.array[e+1]=n,this.data.array[e+2]=i,this.data.array[e+3]=r,this},clone:function(e){if(void 0===e){console.log("THREE.InterleavedBufferAttribute.clone(): Cloning an interlaved buffer attribute will deinterleave buffer data.");const e=[];for(let t=0;t<this.count;t++){const n=t*this.data.stride+this.offset;for(let t=0;t<this.itemSize;t++)e.push(this.data.array[n+t])}return new kr(new this.array.constructor(e),this.itemSize,this.normalized)}return void 0===e.interleavedBuffers&&(e.interleavedBuffers={}),void 0===e.interleavedBuffers[this.data.uuid]&&(e.interleavedBuffers[this.data.uuid]=this.data.clone(e)),new nl(e.interleavedBuffers[this.data.uuid],this.itemSize,this.offset,this.normalized)},toJSON:function(e){if(void 0===e){console.log("THREE.InterleavedBufferAttribute.toJSON(): Serializing an interlaved buffer attribute will deinterleave buffer data.");const e=[];for(let t=0;t<this.count;t++){const n=t*this.data.stride+this.offset;for(let t=0;t<this.itemSize;t++)e.push(this.data.array[n+t])}return{itemSize:this.itemSize,type:this.array.constructor.name,array:e,normalized:this.normalized}}return void 0===e.interleavedBuffers&&(e.interleavedBuffers={}),void 0===e.interleavedBuffers[this.data.uuid]&&(e.interleavedBuffers[this.data.uuid]=this.data.toJSON(e)),{isInterleavedBufferAttribute:!0,itemSize:this.itemSize,data:this.data.uuid,offset:this.offset,normalized:this.normalized}}}),il.prototype=Object.create(Rr.prototype),il.prototype.constructor=il,il.prototype.isSpriteMaterial=!0,il.prototype.copy=function(e){return Rr.prototype.copy.call(this,e),this.color.copy(e.color),this.map=e.map,this.alphaMap=e.alphaMap,this.rotation=e.rotation,this.sizeAttenuation=e.sizeAttenuation,this};const ol=new oi,sl=new oi,al=new oi,ll=new Yn,cl=new Yn,ul=new ki,hl=new oi,dl=new oi,pl=new oi,fl=new Yn,ml=new Yn,gl=new Yn;function vl(e){if(rr.call(this),this.type="Sprite",void 0===rl){rl=new to;const e=new el(new Float32Array([-.5,-.5,0,0,0,.5,-.5,0,1,0,.5,.5,0,1,1,-.5,.5,0,0,1]),5);rl.setIndex([0,1,2,0,2,3]),rl.setAttribute("position",new nl(e,3,0,!1)),rl.setAttribute("uv",new nl(e,2,3,!1))}this.geometry=rl,this.material=void 0!==e?e:new il,this.center=new Yn(.5,.5)}function yl(e,t,n,i,r,o){ll.subVectors(e,n).addScalar(.5).multiply(i),void 0!==r?(cl.x=o*ll.x-r*ll.y,cl.y=r*ll.x+o*ll.y):cl.copy(ll),e.copy(t),e.x+=cl.x,e.y+=cl.y,e.applyMatrix4(ul)}vl.prototype=Object.assign(Object.create(rr.prototype),{constructor:vl,isSprite:!0,raycast:function(e,t){null===e.camera&&console.error('THREE.Sprite: "Raycaster.camera" needs to be set in order to raycast against sprites.'),sl.setFromMatrixScale(this.matrixWorld),ul.copy(e.camera.matrixWorld),this.modelViewMatrix.multiplyMatrices(e.camera.matrixWorldInverse,this.matrixWorld),al.setFromMatrixPosition(this.modelViewMatrix),e.camera.isPerspectiveCamera&&!1===this.material.sizeAttenuation&&sl.multiplyScalar(-al.z);const n=this.material.rotation;let i,r;0!==n&&(r=Math.cos(n),i=Math.sin(n));const o=this.center;yl(hl.set(-.5,-.5,0),al,o,sl,i,r),yl(dl.set(.5,-.5,0),al,o,sl,i,r),yl(pl.set(.5,.5,0),al,o,sl,i,r),fl.set(0,0),ml.set(1,0),gl.set(1,1);let s=e.ray.intersectTriangle(hl,dl,pl,!1,ol);if(null===s&&(yl(dl.set(-.5,.5,0),al,o,sl,i,r),ml.set(0,1),s=e.ray.intersectTriangle(hl,pl,dl,!1,ol),null===s))return;const a=e.ray.origin.distanceTo(ol);a<e.near||a>e.far||t.push({distance:a,point:ol.clone(),uv:xr.getUV(ol,hl,dl,pl,fl,ml,gl,new Yn),face:null,object:this})},copy:function(e){return rr.prototype.copy.call(this,e),void 0!==e.center&&this.center.copy(e.center),this.material=e.material,this}});const xl=new oi,bl=new oi;function wl(){rr.call(this),this._currentLevel=0,this.type="LOD",Object.defineProperties(this,{levels:{enumerable:!0,value:[]}}),this.autoUpdate=!0}wl.prototype=Object.assign(Object.create(rr.prototype),{constructor:wl,isLOD:!0,copy:function(e){rr.prototype.copy.call(this,e,!1);const t=e.levels;for(let n=0,i=t.length;n<i;n++){const e=t[n];this.addLevel(e.object.clone(),e.distance)}return this.autoUpdate=e.autoUpdate,this},addLevel:function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;t=Math.abs(t);const n=this.levels;let i;for(i=0;i<n.length&&!(t<n[i].distance);i++);return n.splice(i,0,{distance:t,object:e}),this.add(e),this},getCurrentLevel:function(){return this._currentLevel},getObjectForDistance:function(e){const t=this.levels;if(t.length>0){let n,i;for(n=1,i=t.length;n<i&&!(e<t[n].distance);n++);return t[n-1].object}return null},raycast:function(e,t){if(this.levels.length>0){xl.setFromMatrixPosition(this.matrixWorld);const n=e.ray.origin.distanceTo(xl);this.getObjectForDistance(n).raycast(e,t)}},update:function(e){const t=this.levels;if(t.length>1){xl.setFromMatrixPosition(e.matrixWorld),bl.setFromMatrixPosition(this.matrixWorld);const n=xl.distanceTo(bl)/e.zoom;let i,r;for(t[0].object.visible=!0,i=1,r=t.length;i<r&&n>=t[i].distance;i++)t[i-1].object.visible=!1,t[i].object.visible=!0;for(this._currentLevel=i-1;i<r;i++)t[i].object.visible=!1}},toJSON:function(e){const t=rr.prototype.toJSON.call(this,e);!1===this.autoUpdate&&(t.object.autoUpdate=!1),t.object.levels=[];const n=this.levels;for(let i=0,r=n.length;i<r;i++){const e=n[i];t.object.levels.push({object:e.object.uuid,distance:e.distance})}return t}});const _l=new oi,Sl=new ti,Ml=new ti,El=new oi,Tl=new ki;function Al(e,t){e&&e.isGeometry&&console.error("THREE.SkinnedMesh no longer supports THREE.Geometry. Use THREE.BufferGeometry instead."),bo.call(this,e,t),this.type="SkinnedMesh",this.bindMode="attached",this.bindMatrix=new ki,this.bindMatrixInverse=new ki}function Cl(){rr.call(this),this.type="Bone"}Al.prototype=Object.assign(Object.create(bo.prototype),{constructor:Al,isSkinnedMesh:!0,copy:function(e){return bo.prototype.copy.call(this,e),this.bindMode=e.bindMode,this.bindMatrix.copy(e.bindMatrix),this.bindMatrixInverse.copy(e.bindMatrixInverse),this.skeleton=e.skeleton,this},bind:function(e,t){this.skeleton=e,void 0===t&&(this.updateMatrixWorld(!0),this.skeleton.calculateInverses(),t=this.matrixWorld),this.bindMatrix.copy(t),this.bindMatrixInverse.copy(t).invert()},pose:function(){this.skeleton.pose()},normalizeSkinWeights:function(){const e=new ti,t=this.geometry.attributes.skinWeight;for(let n=0,i=t.count;n<i;n++){e.x=t.getX(n),e.y=t.getY(n),e.z=t.getZ(n),e.w=t.getW(n);const i=1/e.manhattanLength();i!==1/0?e.multiplyScalar(i):e.set(1,0,0,0),t.setXYZW(n,e.x,e.y,e.z,e.w)}},updateMatrixWorld:function(e){bo.prototype.updateMatrixWorld.call(this,e),"attached"===this.bindMode?this.bindMatrixInverse.copy(this.matrixWorld).invert():"detached"===this.bindMode?this.bindMatrixInverse.copy(this.bindMatrix).invert():console.warn("THREE.SkinnedMesh: Unrecognized bindMode: "+this.bindMode)},boneTransform:function(e,t){const n=this.skeleton,i=this.geometry;Sl.fromBufferAttribute(i.attributes.skinIndex,e),Ml.fromBufferAttribute(i.attributes.skinWeight,e),_l.fromBufferAttribute(i.attributes.position,e).applyMatrix4(this.bindMatrix),t.set(0,0,0);for(let r=0;r<4;r++){const e=Ml.getComponent(r);if(0!==e){const i=Sl.getComponent(r);Tl.multiplyMatrices(n.bones[i].matrixWorld,n.boneInverses[i]),t.addScaledVector(El.copy(_l).applyMatrix4(Tl),e)}}return t.applyMatrix4(this.bindMatrixInverse)}}),Cl.prototype=Object.assign(Object.create(rr.prototype),{constructor:Cl,isBone:!0});const Rl=new ki,Ll=new ki;function Pl(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];this.uuid=Xn.generateUUID(),this.bones=e.slice(0),this.boneInverses=t,this.boneMatrices=null,this.boneTexture=null,this.boneTextureSize=0,this.frame=-1,this.init()}Object.assign(Pl.prototype,{init:function(){const e=this.bones,t=this.boneInverses;if(this.boneMatrices=new Float32Array(16*e.length),0===t.length)this.calculateInverses();else if(e.length!==t.length){console.warn("THREE.Skeleton: Number of inverse bone matrices does not match amount of bones."),this.boneInverses=[];for(let e=0,t=this.bones.length;e<t;e++)this.boneInverses.push(new ki)}},calculateInverses:function(){this.boneInverses.length=0;for(let e=0,t=this.bones.length;e<t;e++){const t=new ki;this.bones[e]&&t.copy(this.bones[e].matrixWorld).invert(),this.boneInverses.push(t)}},pose:function(){for(let e=0,t=this.bones.length;e<t;e++){const t=this.bones[e];t&&t.matrixWorld.copy(this.boneInverses[e]).invert()}for(let e=0,t=this.bones.length;e<t;e++){const t=this.bones[e];t&&(t.parent&&t.parent.isBone?(t.matrix.copy(t.parent.matrixWorld).invert(),t.matrix.multiply(t.matrixWorld)):t.matrix.copy(t.matrixWorld),t.matrix.decompose(t.position,t.quaternion,t.scale))}},update:function(){const e=this.bones,t=this.boneInverses,n=this.boneMatrices,i=this.boneTexture;for(let r=0,o=e.length;r<o;r++){const i=e[r]?e[r].matrixWorld:Ll;Rl.multiplyMatrices(i,t[r]),Rl.toArray(n,16*r)}null!==i&&(i.needsUpdate=!0)},clone:function(){return new Pl(this.bones,this.boneInverses)},getBoneByName:function(e){for(let t=0,n=this.bones.length;t<n;t++){const n=this.bones[t];if(n.name===e)return n}},dispose:function(){null!==this.boneTexture&&(this.boneTexture.dispose(),this.boneTexture=null)},fromJSON:function(e,t){this.uuid=e.uuid;for(let n=0,i=e.bones.length;n<i;n++){const i=e.bones[n];let r=t[i];void 0===r&&(console.warn("THREE.Skeleton: No bone found with UUID:",i),r=new Cl),this.bones.push(r),this.boneInverses.push((new ki).fromArray(e.boneInverses[n]))}return this.init(),this},toJSON:function(){const e={metadata:{version:4.5,type:"Skeleton",generator:"Skeleton.toJSON"},bones:[],boneInverses:[]};e.uuid=this.uuid;const t=this.bones,n=this.boneInverses;for(let i=0,r=t.length;i<r;i++){const r=t[i];e.bones.push(r.uuid);const o=n[i];e.boneInverses.push(o.toArray())}return e}});const Nl=new ki,kl=new ki,Ol=[],Dl=new bo;function jl(e,t,n){bo.call(this,e,t),this.instanceMatrix=new kr(new Float32Array(16*n),16),this.instanceColor=null,this.count=n,this.frustumCulled=!1}function Fl(e){Rr.call(this),this.type="LineBasicMaterial",this.color=new Tr(16777215),this.linewidth=1,this.linecap="round",this.linejoin="round",this.morphTargets=!1,this.setValues(e)}jl.prototype=Object.assign(Object.create(bo.prototype),{constructor:jl,isInstancedMesh:!0,copy:function(e){return bo.prototype.copy.call(this,e),this.instanceMatrix.copy(e.instanceMatrix),this.count=e.count,this},getColorAt:function(e,t){t.fromArray(this.instanceColor.array,3*e)},getMatrixAt:function(e,t){t.fromArray(this.instanceMatrix.array,16*e)},raycast:function(e,t){const n=this.matrixWorld,i=this.count;if(Dl.geometry=this.geometry,Dl.material=this.material,void 0!==Dl.material)for(let r=0;r<i;r++){this.getMatrixAt(r,Nl),kl.multiplyMatrices(n,Nl),Dl.matrixWorld=kl,Dl.raycast(e,Ol);for(let e=0,n=Ol.length;e<n;e++){const n=Ol[e];n.instanceId=r,n.object=this,t.push(n)}Ol.length=0}},setColorAt:function(e,t){null===this.instanceColor&&(this.instanceColor=new kr(new Float32Array(3*this.count),3)),t.toArray(this.instanceColor.array,3*e)},setMatrixAt:function(e,t){t.toArray(this.instanceMatrix.array,16*e)},updateMorphTargets:function(){},dispose:function(){this.dispatchEvent({type:"dispose"})}}),Fl.prototype=Object.create(Rr.prototype),Fl.prototype.constructor=Fl,Fl.prototype.isLineBasicMaterial=!0,Fl.prototype.copy=function(e){return Rr.prototype.copy.call(this,e),this.color.copy(e.color),this.linewidth=e.linewidth,this.linecap=e.linecap,this.linejoin=e.linejoin,this.morphTargets=e.morphTargets,this};const Il=new oi,zl=new oi,Bl=new ki,Ul=new Ni,Hl=new Mi;function Gl(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new to,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new Fl;rr.call(this),this.type="Line",this.geometry=e,this.material=t,this.updateMorphTargets()}Gl.prototype=Object.assign(Object.create(rr.prototype),{constructor:Gl,isLine:!0,copy:function(e){return rr.prototype.copy.call(this,e),this.material=e.material,this.geometry=e.geometry,this},computeLineDistances:function(){const e=this.geometry;if(e.isBufferGeometry)if(null===e.index){const t=e.attributes.position,n=[0];for(let e=1,i=t.count;e<i;e++)Il.fromBufferAttribute(t,e-1),zl.fromBufferAttribute(t,e),n[e]=n[e-1],n[e]+=Il.distanceTo(zl);e.setAttribute("lineDistance",new Hr(n,1))}else console.warn("THREE.Line.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");else if(e.isGeometry){const t=e.vertices,n=e.lineDistances;n[0]=0;for(let e=1,i=t.length;e<i;e++)n[e]=n[e-1],n[e]+=t[e-1].distanceTo(t[e])}return this},raycast:function(e,t){const n=this.geometry,i=this.matrixWorld,r=e.params.Line.threshold;if(null===n.boundingSphere&&n.computeBoundingSphere(),Hl.copy(n.boundingSphere),Hl.applyMatrix4(i),Hl.radius+=r,!1===e.ray.intersectsSphere(Hl))return;Bl.copy(i).invert(),Ul.copy(e.ray).applyMatrix4(Bl);const o=r/((this.scale.x+this.scale.y+this.scale.z)/3),s=o*o,a=new oi,l=new oi,c=new oi,u=new oi,h=this.isLineSegments?2:1;if(n.isBufferGeometry){const i=n.index,r=n.attributes.position;if(null!==i){const n=i.array;for(let i=0,o=n.length-1;i<o;i+=h){const o=n[i],h=n[i+1];a.fromBufferAttribute(r,o),l.fromBufferAttribute(r,h);if(Ul.distanceSqToSegment(a,l,u,c)>s)continue;u.applyMatrix4(this.matrixWorld);const d=e.ray.origin.distanceTo(u);d<e.near||d>e.far||t.push({distance:d,point:c.clone().applyMatrix4(this.matrixWorld),index:i,face:null,faceIndex:null,object:this})}}else for(let n=0,o=r.count-1;n<o;n+=h){a.fromBufferAttribute(r,n),l.fromBufferAttribute(r,n+1);if(Ul.distanceSqToSegment(a,l,u,c)>s)continue;u.applyMatrix4(this.matrixWorld);const i=e.ray.origin.distanceTo(u);i<e.near||i>e.far||t.push({distance:i,point:c.clone().applyMatrix4(this.matrixWorld),index:n,face:null,faceIndex:null,object:this})}}else if(n.isGeometry){const i=n.vertices,r=i.length;for(let n=0;n<r-1;n+=h){if(Ul.distanceSqToSegment(i[n],i[n+1],u,c)>s)continue;u.applyMatrix4(this.matrixWorld);const r=e.ray.origin.distanceTo(u);r<e.near||r>e.far||t.push({distance:r,point:c.clone().applyMatrix4(this.matrixWorld),index:n,face:null,faceIndex:null,object:this})}}},updateMorphTargets:function(){const e=this.geometry;if(e.isBufferGeometry){const t=e.morphAttributes,n=Object.keys(t);if(n.length>0){const e=t[n[0]];if(void 0!==e){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let t=0,n=e.length;t<n;t++){const n=e[t].name||String(t);this.morphTargetInfluences.push(0),this.morphTargetDictionary[n]=t}}}}else{const t=e.morphTargets;void 0!==t&&t.length>0&&console.error("THREE.Line.updateMorphTargets() does not support THREE.Geometry. Use THREE.BufferGeometry instead.")}}});const Vl=new oi,Wl=new oi;function ql(e,t){Gl.call(this,e,t),this.type="LineSegments"}function Xl(e,t){Gl.call(this,e,t),this.type="LineLoop"}function Yl(e){Rr.call(this),this.type="PointsMaterial",this.color=new Tr(16777215),this.map=null,this.alphaMap=null,this.size=1,this.sizeAttenuation=!0,this.morphTargets=!1,this.setValues(e)}ql.prototype=Object.assign(Object.create(Gl.prototype),{constructor:ql,isLineSegments:!0,computeLineDistances:function(){const e=this.geometry;if(e.isBufferGeometry)if(null===e.index){const t=e.attributes.position,n=[];for(let e=0,i=t.count;e<i;e+=2)Vl.fromBufferAttribute(t,e),Wl.fromBufferAttribute(t,e+1),n[e]=0===e?0:n[e-1],n[e+1]=n[e]+Vl.distanceTo(Wl);e.setAttribute("lineDistance",new Hr(n,1))}else console.warn("THREE.LineSegments.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");else if(e.isGeometry){const t=e.vertices,n=e.lineDistances;for(let e=0,i=t.length;e<i;e+=2)Vl.copy(t[e]),Wl.copy(t[e+1]),n[e]=0===e?0:n[e-1],n[e+1]=n[e]+Vl.distanceTo(Wl)}return this}}),Xl.prototype=Object.assign(Object.create(Gl.prototype),{constructor:Xl,isLineLoop:!0}),Yl.prototype=Object.create(Rr.prototype),Yl.prototype.constructor=Yl,Yl.prototype.isPointsMaterial=!0,Yl.prototype.copy=function(e){return Rr.prototype.copy.call(this,e),this.color.copy(e.color),this.map=e.map,this.alphaMap=e.alphaMap,this.size=e.size,this.sizeAttenuation=e.sizeAttenuation,this.morphTargets=e.morphTargets,this};const Jl=new ki,Zl=new Ni,Kl=new Mi,Ql=new oi;function $l(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new to,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new Yl;rr.call(this),this.type="Points",this.geometry=e,this.material=t,this.updateMorphTargets()}function ec(e,t,n,i,r,o,s){const a=Zl.distanceSqToPoint(e);if(a<n){const n=new oi;Zl.closestPointToPoint(e,n),n.applyMatrix4(i);const l=r.ray.origin.distanceTo(n);if(l<r.near||l>r.far)return;o.push({distance:l,distanceToRay:Math.sqrt(a),point:n,index:t,face:null,object:s})}}function tc(e,t,n,i,r,o,s,a,l){$n.call(this,e,t,n,i,r,o,s,a,l),this.format=void 0!==s?s:We,this.minFilter=void 0!==o?o:Ae,this.magFilter=void 0!==r?r:Ae,this.generateMipmaps=!1;const c=this;"requestVideoFrameCallback"in e&&e.requestVideoFrameCallback((function t(){c.needsUpdate=!0,e.requestVideoFrameCallback(t)}))}function nc(e,t,n,i,r,o,s,a,l,c,u,h){$n.call(this,null,o,s,a,l,c,i,r,u,h),this.image={width:t,height:n},this.mipmaps=e,this.flipY=!1,this.generateMipmaps=!1}function ic(e,t,n,i,r,o,s,a,l){$n.call(this,e,t,n,i,r,o,s,a,l),this.needsUpdate=!0}function rc(e,t,n,i,r,o,s,a,l,c){if((c=void 0!==c?c:Ze)!==Ze&&c!==Ke)throw new Error("DepthTexture format must be either THREE.DepthFormat or THREE.DepthStencilFormat");void 0===n&&c===Ze&&(n=De),void 0===n&&c===Ke&&(n=Ge),$n.call(this,null,i,r,o,s,a,c,n,l),this.image={width:e,height:t},this.magFilter=void 0!==s?s:_e,this.minFilter=void 0!==a?a:_e,this.flipY=!1,this.generateMipmaps=!1}$l.prototype=Object.assign(Object.create(rr.prototype),{constructor:$l,isPoints:!0,copy:function(e){return rr.prototype.copy.call(this,e),this.material=e.material,this.geometry=e.geometry,this},raycast:function(e,t){const n=this.geometry,i=this.matrixWorld,r=e.params.Points.threshold;if(null===n.boundingSphere&&n.computeBoundingSphere(),Kl.copy(n.boundingSphere),Kl.applyMatrix4(i),Kl.radius+=r,!1===e.ray.intersectsSphere(Kl))return;Jl.copy(i).invert(),Zl.copy(e.ray).applyMatrix4(Jl);const o=r/((this.scale.x+this.scale.y+this.scale.z)/3),s=o*o;if(n.isBufferGeometry){const r=n.index,o=n.attributes.position;if(null!==r){const n=r.array;for(let r=0,a=n.length;r<a;r++){const a=n[r];Ql.fromBufferAttribute(o,a),ec(Ql,a,s,i,e,t,this)}}else for(let n=0,a=o.count;n<a;n++)Ql.fromBufferAttribute(o,n),ec(Ql,n,s,i,e,t,this)}else{const r=n.vertices;for(let n=0,o=r.length;n<o;n++)ec(r[n],n,s,i,e,t,this)}},updateMorphTargets:function(){const e=this.geometry;if(e.isBufferGeometry){const t=e.morphAttributes,n=Object.keys(t);if(n.length>0){const e=t[n[0]];if(void 0!==e){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let t=0,n=e.length;t<n;t++){const n=e[t].name||String(t);this.morphTargetInfluences.push(0),this.morphTargetDictionary[n]=t}}}}else{const t=e.morphTargets;void 0!==t&&t.length>0&&console.error("THREE.Points.updateMorphTargets() does not support THREE.Geometry. Use THREE.BufferGeometry instead.")}}}),tc.prototype=Object.assign(Object.create($n.prototype),{constructor:tc,clone:function(){return new this.constructor(this.image).copy(this)},isVideoTexture:!0,update:function(){const e=this.image;!1==="requestVideoFrameCallback"in e&&e.readyState>=e.HAVE_CURRENT_DATA&&(this.needsUpdate=!0)}}),nc.prototype=Object.create($n.prototype),nc.prototype.constructor=nc,nc.prototype.isCompressedTexture=!0,ic.prototype=Object.create($n.prototype),ic.prototype.constructor=ic,ic.prototype.isCanvasTexture=!0,rc.prototype=Object.create($n.prototype),rc.prototype.constructor=rc,rc.prototype.isDepthTexture=!0;let oc=0;const sc=new ki,ac=new rr,lc=new oi;function cc(){Object.defineProperty(this,"id",{value:oc+=2}),this.uuid=Xn.generateUUID(),this.name="",this.type="Geometry",this.vertices=[],this.colors=[],this.faces=[],this.faceVertexUvs=[[]],this.morphTargets=[],this.morphNormals=[],this.skinWeights=[],this.skinIndices=[],this.lineDistances=[],this.boundingBox=null,this.boundingSphere=null,this.elementsNeedUpdate=!1,this.verticesNeedUpdate=!1,this.uvsNeedUpdate=!1,this.normalsNeedUpdate=!1,this.colorsNeedUpdate=!1,this.lineDistancesNeedUpdate=!1,this.groupsNeedUpdate=!1}cc.prototype=Object.assign(Object.create(Vn.prototype),{constructor:cc,isGeometry:!0,applyMatrix4:function(e){const t=(new Jn).getNormalMatrix(e);for(let n=0,i=this.vertices.length;n<i;n++){this.vertices[n].applyMatrix4(e)}for(let n=0,i=this.faces.length;n<i;n++){const e=this.faces[n];e.normal.applyMatrix3(t).normalize();for(let n=0,i=e.vertexNormals.length;n<i;n++)e.vertexNormals[n].applyMatrix3(t).normalize()}return null!==this.boundingBox&&this.computeBoundingBox(),null!==this.boundingSphere&&this.computeBoundingSphere(),this.verticesNeedUpdate=!0,this.normalsNeedUpdate=!0,this},rotateX:function(e){return sc.makeRotationX(e),this.applyMatrix4(sc),this},rotateY:function(e){return sc.makeRotationY(e),this.applyMatrix4(sc),this},rotateZ:function(e){return sc.makeRotationZ(e),this.applyMatrix4(sc),this},translate:function(e,t,n){return sc.makeTranslation(e,t,n),this.applyMatrix4(sc),this},scale:function(e,t,n){return sc.makeScale(e,t,n),this.applyMatrix4(sc),this},lookAt:function(e){return ac.lookAt(e),ac.updateMatrix(),this.applyMatrix4(ac.matrix),this},fromBufferGeometry:function(e){const t=this,n=null!==e.index?e.index:void 0,i=e.attributes;if(void 0===i.position)return console.error("THREE.Geometry.fromBufferGeometry(): Position attribute required for conversion."),this;const r=i.position,o=i.normal,s=i.color,a=i.uv,l=i.uv2;void 0!==l&&(this.faceVertexUvs[1]=[]);for(let h=0;h<r.count;h++)t.vertices.push((new oi).fromBufferAttribute(r,h)),void 0!==s&&t.colors.push((new Tr).fromBufferAttribute(s,h));function c(e,n,i,r){const c=void 0===s?[]:[t.colors[e].clone(),t.colors[n].clone(),t.colors[i].clone()],u=void 0===o?[]:[(new oi).fromBufferAttribute(o,e),(new oi).fromBufferAttribute(o,n),(new oi).fromBufferAttribute(o,i)],h=new Ar(e,n,i,u,c,r);t.faces.push(h),void 0!==a&&t.faceVertexUvs[0].push([(new Yn).fromBufferAttribute(a,e),(new Yn).fromBufferAttribute(a,n),(new Yn).fromBufferAttribute(a,i)]),void 0!==l&&t.faceVertexUvs[1].push([(new Yn).fromBufferAttribute(l,e),(new Yn).fromBufferAttribute(l,n),(new Yn).fromBufferAttribute(l,i)])}const u=e.groups;if(u.length>0)for(let h=0;h<u.length;h++){const e=u[h],t=e.start;for(let i=t,r=t+e.count;i<r;i+=3)void 0!==n?c(n.getX(i),n.getX(i+1),n.getX(i+2),e.materialIndex):c(i,i+1,i+2,e.materialIndex)}else if(void 0!==n)for(let h=0;h<n.count;h+=3)c(n.getX(h),n.getX(h+1),n.getX(h+2));else for(let h=0;h<r.count;h+=3)c(h,h+1,h+2);return this.computeFaceNormals(),null!==e.boundingBox&&(this.boundingBox=e.boundingBox.clone()),null!==e.boundingSphere&&(this.boundingSphere=e.boundingSphere.clone()),this},center:function(){return this.computeBoundingBox(),this.boundingBox.getCenter(lc).negate(),this.translate(lc.x,lc.y,lc.z),this},normalize:function(){this.computeBoundingSphere();const e=this.boundingSphere.center,t=this.boundingSphere.radius,n=0===t?1:1/t,i=new ki;return i.set(n,0,0,-n*e.x,0,n,0,-n*e.y,0,0,n,-n*e.z,0,0,0,1),this.applyMatrix4(i),this},computeFaceNormals:function(){const e=new oi,t=new oi;for(let n=0,i=this.faces.length;n<i;n++){const i=this.faces[n],r=this.vertices[i.a],o=this.vertices[i.b],s=this.vertices[i.c];e.subVectors(s,o),t.subVectors(r,o),e.cross(t),e.normalize(),i.normal.copy(e)}},computeVertexNormals:function(){let e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];const t=new Array(this.vertices.length);for(let n=0,i=this.vertices.length;n<i;n++)t[n]=new oi;if(e){const e=new oi,n=new oi;for(let i=0,r=this.faces.length;i<r;i++){const r=this.faces[i],o=this.vertices[r.a],s=this.vertices[r.b],a=this.vertices[r.c];e.subVectors(a,s),n.subVectors(o,s),e.cross(n),t[r.a].add(e),t[r.b].add(e),t[r.c].add(e)}}else{this.computeFaceNormals();for(let e=0,n=this.faces.length;e<n;e++){const n=this.faces[e];t[n.a].add(n.normal),t[n.b].add(n.normal),t[n.c].add(n.normal)}}for(let n=0,i=this.vertices.length;n<i;n++)t[n].normalize();for(let n=0,i=this.faces.length;n<i;n++){const e=this.faces[n],i=e.vertexNormals;3===i.length?(i[0].copy(t[e.a]),i[1].copy(t[e.b]),i[2].copy(t[e.c])):(i[0]=t[e.a].clone(),i[1]=t[e.b].clone(),i[2]=t[e.c].clone())}this.faces.length>0&&(this.normalsNeedUpdate=!0)},computeFlatVertexNormals:function(){this.computeFaceNormals();for(let e=0,t=this.faces.length;e<t;e++){const t=this.faces[e],n=t.vertexNormals;3===n.length?(n[0].copy(t.normal),n[1].copy(t.normal),n[2].copy(t.normal)):(n[0]=t.normal.clone(),n[1]=t.normal.clone(),n[2]=t.normal.clone())}this.faces.length>0&&(this.normalsNeedUpdate=!0)},computeMorphNormals:function(){for(let t=0,n=this.faces.length;t<n;t++){const e=this.faces[t];e.__originalFaceNormal?e.__originalFaceNormal.copy(e.normal):e.__originalFaceNormal=e.normal.clone(),e.__originalVertexNormals||(e.__originalVertexNormals=[]);for(let t=0,n=e.vertexNormals.length;t<n;t++)e.__originalVertexNormals[t]?e.__originalVertexNormals[t].copy(e.vertexNormals[t]):e.__originalVertexNormals[t]=e.vertexNormals[t].clone()}const e=new cc;e.faces=this.faces;for(let t=0,n=this.morphTargets.length;t<n;t++){if(!this.morphNormals[t]){this.morphNormals[t]={},this.morphNormals[t].faceNormals=[],this.morphNormals[t].vertexNormals=[];const e=this.morphNormals[t].faceNormals,n=this.morphNormals[t].vertexNormals;for(let t=0,i=this.faces.length;t<i;t++){const t=new oi,i={a:new oi,b:new oi,c:new oi};e.push(t),n.push(i)}}const n=this.morphNormals[t];e.vertices=this.morphTargets[t].vertices,e.computeFaceNormals(),e.computeVertexNormals();for(let e=0,t=this.faces.length;e<t;e++){const t=this.faces[e],i=n.faceNormals[e],r=n.vertexNormals[e];i.copy(t.normal),r.a.copy(t.vertexNormals[0]),r.b.copy(t.vertexNormals[1]),r.c.copy(t.vertexNormals[2])}}for(let t=0,n=this.faces.length;t<n;t++){const e=this.faces[t];e.normal=e.__originalFaceNormal,e.vertexNormals=e.__originalVertexNormals}},computeBoundingBox:function(){null===this.boundingBox&&(this.boundingBox=new li),this.boundingBox.setFromPoints(this.vertices)},computeBoundingSphere:function(){null===this.boundingSphere&&(this.boundingSphere=new Mi),this.boundingSphere.setFromPoints(this.vertices)},merge:function(e,t){let n,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;if(!e||!e.isGeometry)return void console.error("THREE.Geometry.merge(): geometry not an instance of THREE.Geometry.",e);const r=this.vertices.length,o=this.vertices,s=e.vertices,a=this.faces,l=e.faces,c=this.colors,u=e.colors;void 0!==t&&(n=(new Jn).getNormalMatrix(t));for(let h=0,d=s.length;h<d;h++){const e=s[h].clone();void 0!==t&&e.applyMatrix4(t),o.push(e)}for(let h=0,d=u.length;h<d;h++)c.push(u[h].clone());for(let h=0,d=l.length;h<d;h++){const e=l[h];let t,o;const s=e.vertexNormals,c=e.vertexColors,u=new Ar(e.a+r,e.b+r,e.c+r);u.normal.copy(e.normal),void 0!==n&&u.normal.applyMatrix3(n).normalize();for(let i=0,r=s.length;i<r;i++)t=s[i].clone(),void 0!==n&&t.applyMatrix3(n).normalize(),u.vertexNormals.push(t);u.color.copy(e.color);for(let n=0,i=c.length;n<i;n++)o=c[n],u.vertexColors.push(o.clone());u.materialIndex=e.materialIndex+i,a.push(u)}for(let h=0,d=e.faceVertexUvs.length;h<d;h++){const t=e.faceVertexUvs[h];void 0===this.faceVertexUvs[h]&&(this.faceVertexUvs[h]=[]);for(let e=0,n=t.length;e<n;e++){const n=t[e],i=[];for(let e=0,t=n.length;e<t;e++)i.push(n[e].clone());this.faceVertexUvs[h].push(i)}}},mergeMesh:function(e){e&&e.isMesh?(e.matrixAutoUpdate&&e.updateMatrix(),this.merge(e.geometry,e.matrix)):console.error("THREE.Geometry.mergeMesh(): mesh not an instance of THREE.Mesh.",e)},mergeVertices:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:4;const t={},n=[],i=[],r=Math.pow(10,e);for(let a=0,l=this.vertices.length;a<l;a++){const e=this.vertices[a],o=Math.round(e.x*r)+"_"+Math.round(e.y*r)+"_"+Math.round(e.z*r);void 0===t[o]?(t[o]=a,n.push(this.vertices[a]),i[a]=n.length-1):i[a]=i[t[o]]}const o=[];for(let a=0,l=this.faces.length;a<l;a++){const e=this.faces[a];e.a=i[e.a],e.b=i[e.b],e.c=i[e.c];const t=[e.a,e.b,e.c];for(let n=0;n<3;n++)if(t[n]===t[(n+1)%3]){o.push(a);break}}for(let a=o.length-1;a>=0;a--){const e=o[a];this.faces.splice(e,1);for(let t=0,n=this.faceVertexUvs.length;t<n;t++)this.faceVertexUvs[t].splice(e,1)}const s=this.vertices.length-n.length;return this.vertices=n,s},setFromPoints:function(e){this.vertices=[];for(let t=0,n=e.length;t<n;t++){const n=e[t];this.vertices.push(new oi(n.x,n.y,n.z||0))}return this},sortFacesByMaterialIndex:function(){const e=this.faces,t=e.length;for(let s=0;s<t;s++)e[s]._id=s;e.sort((function(e,t){return e.materialIndex-t.materialIndex}));const n=this.faceVertexUvs[0],i=this.faceVertexUvs[1];let r,o;n&&n.length===t&&(r=[]),i&&i.length===t&&(o=[]);for(let s=0;s<t;s++){const t=e[s]._id;r&&r.push(n[t]),o&&o.push(i[t])}r&&(this.faceVertexUvs[0]=r),o&&(this.faceVertexUvs[1]=o)},toJSON:function(){const e={metadata:{version:4.5,type:"Geometry",generator:"Geometry.toJSON"}};if(e.uuid=this.uuid,e.type=this.type,""!==this.name&&(e.name=this.name),void 0!==this.parameters){const t=this.parameters;for(const n in t)void 0!==t[n]&&(e[n]=t[n]);return e}const t=[];for(let p=0;p<this.vertices.length;p++){const e=this.vertices[p];t.push(e.x,e.y,e.z)}const n=[],i=[],r={},o=[],s={},a=[],l={};for(let p=0;p<this.faces.length;p++){const e=this.faces[p],t=!0,i=!1,r=void 0!==this.faceVertexUvs[0][p],o=e.normal.length()>0,s=e.vertexNormals.length>0,a=1!==e.color.r||1!==e.color.g||1!==e.color.b,l=e.vertexColors.length>0;let f=0;if(f=c(f,0,0),f=c(f,1,t),f=c(f,2,i),f=c(f,3,r),f=c(f,4,o),f=c(f,5,s),f=c(f,6,a),f=c(f,7,l),n.push(f),n.push(e.a,e.b,e.c),n.push(e.materialIndex),r){const e=this.faceVertexUvs[0][p];n.push(d(e[0]),d(e[1]),d(e[2]))}if(o&&n.push(u(e.normal)),s){const t=e.vertexNormals;n.push(u(t[0]),u(t[1]),u(t[2]))}if(a&&n.push(h(e.color)),l){const t=e.vertexColors;n.push(h(t[0]),h(t[1]),h(t[2]))}}function c(e,t,n){return n?e|1<<t:e&~(1<<t)}function u(e){const t=e.x.toString()+e.y.toString()+e.z.toString();return void 0!==r[t]||(r[t]=i.length/3,i.push(e.x,e.y,e.z)),r[t]}function h(e){const t=e.r.toString()+e.g.toString()+e.b.toString();return void 0!==s[t]||(s[t]=o.length,o.push(e.getHex())),s[t]}function d(e){const t=e.x.toString()+e.y.toString();return void 0!==l[t]||(l[t]=a.length/2,a.push(e.x,e.y)),l[t]}return e.data={},e.data.vertices=t,e.data.normals=i,o.length>0&&(e.data.colors=o),a.length>0&&(e.data.uvs=[a]),e.data.faces=n,e},clone:function(){return(new cc).copy(this)},copy:function(e){this.vertices=[],this.colors=[],this.faces=[],this.faceVertexUvs=[[]],this.morphTargets=[],this.morphNormals=[],this.skinWeights=[],this.skinIndices=[],this.lineDistances=[],this.boundingBox=null,this.boundingSphere=null,this.name=e.name;const t=e.vertices;for(let h=0,d=t.length;h<d;h++)this.vertices.push(t[h].clone());const n=e.colors;for(let h=0,d=n.length;h<d;h++)this.colors.push(n[h].clone());const i=e.faces;for(let h=0,d=i.length;h<d;h++)this.faces.push(i[h].clone());for(let h=0,d=e.faceVertexUvs.length;h<d;h++){const t=e.faceVertexUvs[h];void 0===this.faceVertexUvs[h]&&(this.faceVertexUvs[h]=[]);for(let e=0,n=t.length;e<n;e++){const n=t[e],i=[];for(let e=0,t=n.length;e<t;e++){const t=n[e];i.push(t.clone())}this.faceVertexUvs[h].push(i)}}const r=e.morphTargets;for(let h=0,d=r.length;h<d;h++){const e={};if(e.name=r[h].name,void 0!==r[h].vertices){e.vertices=[];for(let t=0,n=r[h].vertices.length;t<n;t++)e.vertices.push(r[h].vertices[t].clone())}if(void 0!==r[h].normals){e.normals=[];for(let t=0,n=r[h].normals.length;t<n;t++)e.normals.push(r[h].normals[t].clone())}this.morphTargets.push(e)}const o=e.morphNormals;for(let h=0,d=o.length;h<d;h++){const e={};if(void 0!==o[h].vertexNormals){e.vertexNormals=[];for(let t=0,n=o[h].vertexNormals.length;t<n;t++){const n=o[h].vertexNormals[t],i={};i.a=n.a.clone(),i.b=n.b.clone(),i.c=n.c.clone(),e.vertexNormals.push(i)}}if(void 0!==o[h].faceNormals){e.faceNormals=[];for(let t=0,n=o[h].faceNormals.length;t<n;t++)e.faceNormals.push(o[h].faceNormals[t].clone())}this.morphNormals.push(e)}const s=e.skinWeights;for(let h=0,d=s.length;h<d;h++)this.skinWeights.push(s[h].clone());const a=e.skinIndices;for(let h=0,d=a.length;h<d;h++)this.skinIndices.push(a[h].clone());const l=e.lineDistances;for(let h=0,d=l.length;h<d;h++)this.lineDistances.push(l[h]);const c=e.boundingBox;null!==c&&(this.boundingBox=c.clone());const u=e.boundingSphere;return null!==u&&(this.boundingSphere=u.clone()),this.elementsNeedUpdate=e.elementsNeedUpdate,this.verticesNeedUpdate=e.verticesNeedUpdate,this.uvsNeedUpdate=e.uvsNeedUpdate,this.normalsNeedUpdate=e.normalsNeedUpdate,this.colorsNeedUpdate=e.colorsNeedUpdate,this.lineDistancesNeedUpdate=e.lineDistancesNeedUpdate,this.groupsNeedUpdate=e.groupsNeedUpdate,this},dispose:function(){this.dispatchEvent({type:"dispose"})}});class uc extends cc{constructor(e,t,n,i,r,o){super(),this.type="BoxGeometry",this.parameters={width:e,height:t,depth:n,widthSegments:i,heightSegments:r,depthSegments:o},this.fromBufferGeometry(new So(e,t,n,i,r,o)),this.mergeVertices()}}class hc extends to{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:8,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:2*Math.PI;super(),this.type="CircleBufferGeometry",this.parameters={radius:e,segments:t,thetaStart:n,thetaLength:i},t=Math.max(3,t);const r=[],o=[],s=[],a=[],l=new oi,c=new Yn;o.push(0,0,0),s.push(0,0,1),a.push(.5,.5);for(let u=0,h=3;u<=t;u++,h+=3){const r=n+u/t*i;l.x=e*Math.cos(r),l.y=e*Math.sin(r),o.push(l.x,l.y,l.z),s.push(0,0,1),c.x=(o[h]/e+1)/2,c.y=(o[h+1]/e+1)/2,a.push(c.x,c.y)}for(let u=1;u<=t;u++)r.push(u,u+1,0);this.setIndex(r),this.setAttribute("position",new Hr(o,3)),this.setAttribute("normal",new Hr(s,3)),this.setAttribute("uv",new Hr(a,2))}}class dc extends cc{constructor(e,t,n,i){super(),this.type="CircleGeometry",this.parameters={radius:e,segments:t,thetaStart:n,thetaLength:i},this.fromBufferGeometry(new hc(e,t,n,i)),this.mergeVertices()}}class pc extends to{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:8,r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:1,o=arguments.length>5&&void 0!==arguments[5]&&arguments[5],s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:0,a=arguments.length>7&&void 0!==arguments[7]?arguments[7]:2*Math.PI;super(),this.type="CylinderBufferGeometry",this.parameters={radiusTop:e,radiusBottom:t,height:n,radialSegments:i,heightSegments:r,openEnded:o,thetaStart:s,thetaLength:a};const l=this;i=Math.floor(i),r=Math.floor(r);const c=[],u=[],h=[],d=[];let p=0;const f=[],m=n/2;let g=0;function v(n){const r=p,o=new Yn,f=new oi;let v=0;const y=!0===n?e:t,x=!0===n?1:-1;for(let e=1;e<=i;e++)u.push(0,m*x,0),h.push(0,x,0),d.push(.5,.5),p++;const b=p;for(let e=0;e<=i;e++){const t=e/i*a+s,n=Math.cos(t),r=Math.sin(t);f.x=y*r,f.y=m*x,f.z=y*n,u.push(f.x,f.y,f.z),h.push(0,x,0),o.x=.5*n+.5,o.y=.5*r*x+.5,d.push(o.x,o.y),p++}for(let e=0;e<i;e++){const t=r+e,i=b+e;!0===n?c.push(i,i+1,t):c.push(i+1,i,t),v+=3}l.addGroup(g,v,!0===n?1:2),g+=v}!function(){const o=new oi,v=new oi;let y=0;const x=(t-e)/n;for(let l=0;l<=r;l++){const c=[],g=l/r,y=g*(t-e)+e;for(let e=0;e<=i;e++){const t=e/i,r=t*a+s,l=Math.sin(r),f=Math.cos(r);v.x=y*l,v.y=-g*n+m,v.z=y*f,u.push(v.x,v.y,v.z),o.set(l,x,f).normalize(),h.push(o.x,o.y,o.z),d.push(t,1-g),c.push(p++)}f.push(c)}for(let e=0;e<i;e++)for(let t=0;t<r;t++){const n=f[t][e],i=f[t+1][e],r=f[t+1][e+1],o=f[t][e+1];c.push(n,i,o),c.push(i,r,o),y+=6}l.addGroup(g,y,0),g+=y}(),!1===o&&(e>0&&v(!0),t>0&&v(!1)),this.setIndex(c),this.setAttribute("position",new Hr(u,3)),this.setAttribute("normal",new Hr(h,3)),this.setAttribute("uv",new Hr(d,2))}}class fc extends cc{constructor(e,t,n,i,r,o,s,a){super(),this.type="CylinderGeometry",this.parameters={radiusTop:e,radiusBottom:t,height:n,radialSegments:i,heightSegments:r,openEnded:o,thetaStart:s,thetaLength:a},this.fromBufferGeometry(new pc(e,t,n,i,r,o,s,a)),this.mergeVertices()}}class mc extends fc{constructor(e,t,n,i,r,o,s){super(0,e,t,n,i,r,o,s),this.type="ConeGeometry",this.parameters={radius:e,height:t,radialSegments:n,heightSegments:i,openEnded:r,thetaStart:o,thetaLength:s}}}class gc extends pc{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:8,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1,r=arguments.length>4&&void 0!==arguments[4]&&arguments[4],o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:0,s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:2*Math.PI;super(0,e,t,n,i,r,o,s),this.type="ConeBufferGeometry",this.parameters={radius:e,height:t,radialSegments:n,heightSegments:i,openEnded:r,thetaStart:o,thetaLength:s}}}class vc extends to{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0;super(),this.type="PolyhedronBufferGeometry",this.parameters={vertices:e,indices:t,radius:n,detail:i};const r=[],o=[];function s(e,t,n,i){const r=i+1,o=[];for(let s=0;s<=r;s++){o[s]=[];const i=e.clone().lerp(n,s/r),a=t.clone().lerp(n,s/r),l=r-s;for(let e=0;e<=l;e++)o[s][e]=0===e&&s===r?i:i.clone().lerp(a,e/l)}for(let s=0;s<r;s++)for(let e=0;e<2*(r-s)-1;e++){const t=Math.floor(e/2);e%2===0?(a(o[s][t+1]),a(o[s+1][t]),a(o[s][t])):(a(o[s][t+1]),a(o[s+1][t+1]),a(o[s+1][t]))}}function a(e){r.push(e.x,e.y,e.z)}function l(t,n){const i=3*t;n.x=e[i+0],n.y=e[i+1],n.z=e[i+2]}function c(e,t,n,i){i<0&&1===e.x&&(o[t]=e.x-1),0===n.x&&0===n.z&&(o[t]=i/2/Math.PI+.5)}function u(e){return Math.atan2(e.z,-e.x)}!function(e){const n=new oi,i=new oi,r=new oi;for(let o=0;o<t.length;o+=3)l(t[o+0],n),l(t[o+1],i),l(t[o+2],r),s(n,i,r,e)}(i),function(e){const t=new oi;for(let n=0;n<r.length;n+=3)t.x=r[n+0],t.y=r[n+1],t.z=r[n+2],t.normalize().multiplyScalar(e),r[n+0]=t.x,r[n+1]=t.y,r[n+2]=t.z}(n),function(){const e=new oi;for(let n=0;n<r.length;n+=3){e.x=r[n+0],e.y=r[n+1],e.z=r[n+2];const i=u(e)/2/Math.PI+.5,s=(t=e,Math.atan2(-t.y,Math.sqrt(t.x*t.x+t.z*t.z))/Math.PI+.5);o.push(i,1-s)}var t;(function(){const e=new oi,t=new oi,n=new oi,i=new oi,s=new Yn,a=new Yn,l=new Yn;for(let h=0,d=0;h<r.length;h+=9,d+=6){e.set(r[h+0],r[h+1],r[h+2]),t.set(r[h+3],r[h+4],r[h+5]),n.set(r[h+6],r[h+7],r[h+8]),s.set(o[d+0],o[d+1]),a.set(o[d+2],o[d+3]),l.set(o[d+4],o[d+5]),i.copy(e).add(t).add(n).divideScalar(3);const p=u(i);c(s,d+0,e,p),c(a,d+2,t,p),c(l,d+4,n,p)}})(),function(){for(let e=0;e<o.length;e+=6){const t=o[e+0],n=o[e+2],i=o[e+4],r=Math.max(t,n,i),s=Math.min(t,n,i);r>.9&&s<.1&&(t<.2&&(o[e+0]+=1),n<.2&&(o[e+2]+=1),i<.2&&(o[e+4]+=1))}}()}(),this.setAttribute("position",new Hr(r,3)),this.setAttribute("normal",new Hr(r.slice(),3)),this.setAttribute("uv",new Hr(o,2)),0===i?this.computeVertexNormals():this.normalizeNormals()}}class yc extends vc{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;const n=(1+Math.sqrt(5))/2,i=1/n;super([-1,-1,-1,-1,-1,1,-1,1,-1,-1,1,1,1,-1,-1,1,-1,1,1,1,-1,1,1,1,0,-i,-n,0,-i,n,0,i,-n,0,i,n,-i,-n,0,-i,n,0,i,-n,0,i,n,0,-n,0,-i,n,0,-i,-n,0,i,n,0,i],[3,11,7,3,7,15,3,15,13,7,19,17,7,17,6,7,6,15,17,4,8,17,8,10,17,10,6,8,0,16,8,16,2,8,2,10,0,12,1,0,1,18,0,18,16,6,10,2,6,2,13,6,13,15,2,16,18,2,18,3,2,3,13,18,1,9,18,9,11,18,11,3,4,14,12,4,12,0,4,0,8,11,9,5,11,5,19,11,19,7,19,5,14,19,14,4,19,4,17,1,12,14,1,14,5,1,5,9],e,t),this.type="DodecahedronBufferGeometry",this.parameters={radius:e,detail:t}}}class xc extends cc{constructor(e,t){super(),this.type="DodecahedronGeometry",this.parameters={radius:e,detail:t},this.fromBufferGeometry(new yc(e,t)),this.mergeVertices()}}const bc=new oi,wc=new oi,_c=new oi,Sc=new xr;class Mc extends to{constructor(e,t){super(),this.type="EdgesGeometry",this.parameters={thresholdAngle:t},t=void 0!==t?t:1,e.isGeometry&&(e=(new to).fromGeometry(e));const n=Math.pow(10,4),i=Math.cos(Xn.DEG2RAD*t),r=e.getIndex(),o=e.getAttribute("position"),s=r?r.count:o.count,a=[0,0,0],l=["a","b","c"],c=new Array(3),u={},h=[];for(let d=0;d<s;d+=3){r?(a[0]=r.getX(d),a[1]=r.getX(d+1),a[2]=r.getX(d+2)):(a[0]=d,a[1]=d+1,a[2]=d+2);const{a:e,b:t,c:s}=Sc;if(e.fromBufferAttribute(o,a[0]),t.fromBufferAttribute(o,a[1]),s.fromBufferAttribute(o,a[2]),Sc.getNormal(_c),c[0]="".concat(Math.round(e.x*n),",").concat(Math.round(e.y*n),",").concat(Math.round(e.z*n)),c[1]="".concat(Math.round(t.x*n),",").concat(Math.round(t.y*n),",").concat(Math.round(t.z*n)),c[2]="".concat(Math.round(s.x*n),",").concat(Math.round(s.y*n),",").concat(Math.round(s.z*n)),c[0]!==c[1]&&c[1]!==c[2]&&c[2]!==c[0])for(let n=0;n<3;n++){const e=(n+1)%3,t=c[n],r=c[e],o=Sc[l[n]],s=Sc[l[e]],d="".concat(t,"_").concat(r),p="".concat(r,"_").concat(t);p in u&&u[p]?(_c.dot(u[p].normal)<=i&&(h.push(o.x,o.y,o.z),h.push(s.x,s.y,s.z)),u[p]=null):d in u||(u[d]={index0:a[n],index1:a[e],normal:_c.clone()})}}for(const d in u)if(u[d]){const{index0:e,index1:t}=u[d];bc.fromBufferAttribute(o,e),wc.fromBufferAttribute(o,t),h.push(bc.x,bc.y,bc.z),h.push(wc.x,wc.y,wc.z)}this.setAttribute("position",new Hr(h,3))}}const Ec=function(e,t,n){n=n||2;const i=t&&t.length,r=i?t[0]*n:e.length;let o=Tc(e,0,r,n,!0);const s=[];if(!o||o.next===o.prev)return s;let a,l,c,u,h,d,p;if(i&&(o=function(e,t,n,i){const r=[];let o,s,a,l,c;for(o=0,s=t.length;o<s;o++)a=t[o]*i,l=o<s-1?t[o+1]*i:e.length,c=Tc(e,a,l,i,!1),c===c.next&&(c.steiner=!0),r.push(Fc(c));for(r.sort(kc),o=0;o<r.length;o++)Oc(r[o],n),n=Ac(n,n.next);return n}(e,t,o,n)),e.length>80*n){a=c=e[0],l=u=e[1];for(let t=n;t<r;t+=n)h=e[t],d=e[t+1],h<a&&(a=h),d<l&&(l=d),h>c&&(c=h),d>u&&(u=d);p=Math.max(c-a,u-l),p=0!==p?1/p:0}return Cc(o,s,n,a,l,p),s};function Tc(e,t,n,i,r){let o,s;if(r===function(e,t,n,i){let r=0;for(let o=t,s=n-i;o<n;o+=i)r+=(e[s]-e[o])*(e[o+1]+e[s+1]),s=o;return r}(e,t,n,i)>0)for(o=t;o<n;o+=i)s=Xc(o,e[o],e[o+1],s);else for(o=n-i;o>=t;o-=i)s=Xc(o,e[o],e[o+1],s);return s&&Uc(s,s.next)&&(Yc(s),s=s.next),s}function Ac(e,t){if(!e)return e;t||(t=e);let n,i=e;do{if(n=!1,i.steiner||!Uc(i,i.next)&&0!==Bc(i.prev,i,i.next))i=i.next;else{if(Yc(i),i=t=i.prev,i===i.next)break;n=!0}}while(n||i!==t);return t}function Cc(e,t,n,i,r,o,s){if(!e)return;!s&&o&&function(e,t,n,i){let r=e;do{null===r.z&&(r.z=jc(r.x,r.y,t,n,i)),r.prevZ=r.prev,r.nextZ=r.next,r=r.next}while(r!==e);r.prevZ.nextZ=null,r.prevZ=null,function(e){let t,n,i,r,o,s,a,l,c=1;do{for(n=e,e=null,o=null,s=0;n;){for(s++,i=n,a=0,t=0;t<c&&(a++,i=i.nextZ,i);t++);for(l=c;a>0||l>0&&i;)0!==a&&(0===l||!i||n.z<=i.z)?(r=n,n=n.nextZ,a--):(r=i,i=i.nextZ,l--),o?o.nextZ=r:e=r,r.prevZ=o,o=r;n=i}o.nextZ=null,c*=2}while(s>1)}(r)}(e,i,r,o);let a,l,c=e;for(;e.prev!==e.next;)if(a=e.prev,l=e.next,o?Lc(e,i,r,o):Rc(e))t.push(a.i/n),t.push(e.i/n),t.push(l.i/n),Yc(e),e=l.next,c=l.next;else if((e=l)===c){s?1===s?Cc(e=Pc(Ac(e),t,n),t,n,i,r,o,2):2===s&&Nc(e,t,n,i,r,o):Cc(Ac(e),t,n,i,r,o,1);break}}function Rc(e){const t=e.prev,n=e,i=e.next;if(Bc(t,n,i)>=0)return!1;let r=e.next.next;for(;r!==e.prev;){if(Ic(t.x,t.y,n.x,n.y,i.x,i.y,r.x,r.y)&&Bc(r.prev,r,r.next)>=0)return!1;r=r.next}return!0}function Lc(e,t,n,i){const r=e.prev,o=e,s=e.next;if(Bc(r,o,s)>=0)return!1;const a=r.x<o.x?r.x<s.x?r.x:s.x:o.x<s.x?o.x:s.x,l=r.y<o.y?r.y<s.y?r.y:s.y:o.y<s.y?o.y:s.y,c=r.x>o.x?r.x>s.x?r.x:s.x:o.x>s.x?o.x:s.x,u=r.y>o.y?r.y>s.y?r.y:s.y:o.y>s.y?o.y:s.y,h=jc(a,l,t,n,i),d=jc(c,u,t,n,i);let p=e.prevZ,f=e.nextZ;for(;p&&p.z>=h&&f&&f.z<=d;){if(p!==e.prev&&p!==e.next&&Ic(r.x,r.y,o.x,o.y,s.x,s.y,p.x,p.y)&&Bc(p.prev,p,p.next)>=0)return!1;if(p=p.prevZ,f!==e.prev&&f!==e.next&&Ic(r.x,r.y,o.x,o.y,s.x,s.y,f.x,f.y)&&Bc(f.prev,f,f.next)>=0)return!1;f=f.nextZ}for(;p&&p.z>=h;){if(p!==e.prev&&p!==e.next&&Ic(r.x,r.y,o.x,o.y,s.x,s.y,p.x,p.y)&&Bc(p.prev,p,p.next)>=0)return!1;p=p.prevZ}for(;f&&f.z<=d;){if(f!==e.prev&&f!==e.next&&Ic(r.x,r.y,o.x,o.y,s.x,s.y,f.x,f.y)&&Bc(f.prev,f,f.next)>=0)return!1;f=f.nextZ}return!0}function Pc(e,t,n){let i=e;do{const r=i.prev,o=i.next.next;!Uc(r,o)&&Hc(r,i,i.next,o)&&Wc(r,o)&&Wc(o,r)&&(t.push(r.i/n),t.push(i.i/n),t.push(o.i/n),Yc(i),Yc(i.next),i=e=o),i=i.next}while(i!==e);return Ac(i)}function Nc(e,t,n,i,r,o){let s=e;do{let e=s.next.next;for(;e!==s.prev;){if(s.i!==e.i&&zc(s,e)){let a=qc(s,e);return s=Ac(s,s.next),a=Ac(a,a.next),Cc(s,t,n,i,r,o),void Cc(a,t,n,i,r,o)}e=e.next}s=s.next}while(s!==e)}function kc(e,t){return e.x-t.x}function Oc(e,t){if(t=function(e,t){let n=t;const i=e.x,r=e.y;let o,s=-1/0;do{if(r<=n.y&&r>=n.next.y&&n.next.y!==n.y){const e=n.x+(r-n.y)*(n.next.x-n.x)/(n.next.y-n.y);if(e<=i&&e>s){if(s=e,e===i){if(r===n.y)return n;if(r===n.next.y)return n.next}o=n.x<n.next.x?n:n.next}}n=n.next}while(n!==t);if(!o)return null;if(i===s)return o;const a=o,l=o.x,c=o.y;let u,h=1/0;n=o;do{i>=n.x&&n.x>=l&&i!==n.x&&Ic(r<c?i:s,r,l,c,r<c?s:i,r,n.x,n.y)&&(u=Math.abs(r-n.y)/(i-n.x),Wc(n,e)&&(u<h||u===h&&(n.x>o.x||n.x===o.x&&Dc(o,n)))&&(o=n,h=u)),n=n.next}while(n!==a);return o}(e,t),t){const n=qc(t,e);Ac(t,t.next),Ac(n,n.next)}}function Dc(e,t){return Bc(e.prev,e,t.prev)<0&&Bc(t.next,e,e.next)<0}function jc(e,t,n,i,r){return(e=1431655765&((e=858993459&((e=252645135&((e=16711935&((e=32767*(e-n)*r)|e<<8))|e<<4))|e<<2))|e<<1))|(t=1431655765&((t=858993459&((t=252645135&((t=16711935&((t=32767*(t-i)*r)|t<<8))|t<<4))|t<<2))|t<<1))<<1}function Fc(e){let t=e,n=e;do{(t.x<n.x||t.x===n.x&&t.y<n.y)&&(n=t),t=t.next}while(t!==e);return n}function Ic(e,t,n,i,r,o,s,a){return(r-s)*(t-a)-(e-s)*(o-a)>=0&&(e-s)*(i-a)-(n-s)*(t-a)>=0&&(n-s)*(o-a)-(r-s)*(i-a)>=0}function zc(e,t){return e.next.i!==t.i&&e.prev.i!==t.i&&!function(e,t){let n=e;do{if(n.i!==e.i&&n.next.i!==e.i&&n.i!==t.i&&n.next.i!==t.i&&Hc(n,n.next,e,t))return!0;n=n.next}while(n!==e);return!1}(e,t)&&(Wc(e,t)&&Wc(t,e)&&function(e,t){let n=e,i=!1;const r=(e.x+t.x)/2,o=(e.y+t.y)/2;do{n.y>o!==n.next.y>o&&n.next.y!==n.y&&r<(n.next.x-n.x)*(o-n.y)/(n.next.y-n.y)+n.x&&(i=!i),n=n.next}while(n!==e);return i}(e,t)&&(Bc(e.prev,e,t.prev)||Bc(e,t.prev,t))||Uc(e,t)&&Bc(e.prev,e,e.next)>0&&Bc(t.prev,t,t.next)>0)}function Bc(e,t,n){return(t.y-e.y)*(n.x-t.x)-(t.x-e.x)*(n.y-t.y)}function Uc(e,t){return e.x===t.x&&e.y===t.y}function Hc(e,t,n,i){const r=Vc(Bc(e,t,n)),o=Vc(Bc(e,t,i)),s=Vc(Bc(n,i,e)),a=Vc(Bc(n,i,t));return r!==o&&s!==a||(!(0!==r||!Gc(e,n,t))||(!(0!==o||!Gc(e,i,t))||(!(0!==s||!Gc(n,e,i))||!(0!==a||!Gc(n,t,i)))))}function Gc(e,t,n){return t.x<=Math.max(e.x,n.x)&&t.x>=Math.min(e.x,n.x)&&t.y<=Math.max(e.y,n.y)&&t.y>=Math.min(e.y,n.y)}function Vc(e){return e>0?1:e<0?-1:0}function Wc(e,t){return Bc(e.prev,e,e.next)<0?Bc(e,t,e.next)>=0&&Bc(e,e.prev,t)>=0:Bc(e,t,e.prev)<0||Bc(e,e.next,t)<0}function qc(e,t){const n=new Jc(e.i,e.x,e.y),i=new Jc(t.i,t.x,t.y),r=e.next,o=t.prev;return e.next=t,t.prev=e,n.next=r,r.prev=n,i.next=n,n.prev=i,o.next=i,i.prev=o,i}function Xc(e,t,n,i){const r=new Jc(e,t,n);return i?(r.next=i.next,r.prev=i,i.next.prev=r,i.next=r):(r.prev=r,r.next=r),r}function Yc(e){e.next.prev=e.prev,e.prev.next=e.next,e.prevZ&&(e.prevZ.nextZ=e.nextZ),e.nextZ&&(e.nextZ.prevZ=e.prevZ)}function Jc(e,t,n){this.i=e,this.x=t,this.y=n,this.prev=null,this.next=null,this.z=null,this.prevZ=null,this.nextZ=null,this.steiner=!1}const Zc={area:function(e){const t=e.length;let n=0;for(let i=t-1,r=0;r<t;i=r++)n+=e[i].x*e[r].y-e[r].x*e[i].y;return.5*n},isClockWise:function(e){return Zc.area(e)<0},triangulateShape:function(e,t){const n=[],i=[],r=[];Kc(e),Qc(n,e);let o=e.length;t.forEach(Kc);for(let a=0;a<t.length;a++)i.push(o),o+=t[a].length,Qc(n,t[a]);const s=Ec(n,i);for(let a=0;a<s.length;a+=3)r.push(s.slice(a,a+3));return r}};function Kc(e){const t=e.length;t>2&&e[t-1].equals(e[0])&&e.pop()}function Qc(e,t){for(let n=0;n<t.length;n++)e.push(t[n].x),e.push(t[n].y)}class $c extends to{constructor(e,t){super(),this.type="ExtrudeBufferGeometry",this.parameters={shapes:e,options:t},e=Array.isArray(e)?e:[e];const n=this,i=[],r=[];for(let s=0,a=e.length;s<a;s++){o(e[s])}function o(e){const o=[],s=void 0!==t.curveSegments?t.curveSegments:12,a=void 0!==t.steps?t.steps:1;let l=void 0!==t.depth?t.depth:100,c=void 0===t.bevelEnabled||t.bevelEnabled,u=void 0!==t.bevelThickness?t.bevelThickness:6,h=void 0!==t.bevelSize?t.bevelSize:u-2,d=void 0!==t.bevelOffset?t.bevelOffset:0,p=void 0!==t.bevelSegments?t.bevelSegments:3;const f=t.extrudePath,m=void 0!==t.UVGenerator?t.UVGenerator:eu;void 0!==t.amount&&(console.warn("THREE.ExtrudeBufferGeometry: amount has been renamed to depth."),l=t.amount);let g,v,y,x,b,w=!1;f&&(g=f.getSpacedPoints(a),w=!0,c=!1,v=f.computeFrenetFrames(a,!1),y=new oi,x=new oi,b=new oi),c||(p=0,u=0,h=0,d=0);const _=e.extractPoints(s);let S=_.shape;const M=_.holes;if(!Zc.isClockWise(S)){S=S.reverse();for(let e=0,t=M.length;e<t;e++){const t=M[e];Zc.isClockWise(t)&&(M[e]=t.reverse())}}const E=Zc.triangulateShape(S,M),T=S;for(let t=0,n=M.length;t<n;t++){const e=M[t];S=S.concat(e)}function A(e,t,n){return t||console.error("THREE.ExtrudeGeometry: vec does not exist"),t.clone().multiplyScalar(n).add(e)}const C=S.length,R=E.length;function L(e,t,n){let i,r,o;const s=e.x-t.x,a=e.y-t.y,l=n.x-e.x,c=n.y-e.y,u=s*s+a*a,h=s*c-a*l;if(Math.abs(h)>Number.EPSILON){const h=Math.sqrt(u),d=Math.sqrt(l*l+c*c),p=t.x-a/h,f=t.y+s/h,m=((n.x-c/d-p)*c-(n.y+l/d-f)*l)/(s*c-a*l);i=p+s*m-e.x,r=f+a*m-e.y;const g=i*i+r*r;if(g<=2)return new Yn(i,r);o=Math.sqrt(g/2)}else{let e=!1;s>Number.EPSILON?l>Number.EPSILON&&(e=!0):s<-Number.EPSILON?l<-Number.EPSILON&&(e=!0):Math.sign(a)===Math.sign(c)&&(e=!0),e?(i=-a,r=s,o=Math.sqrt(u)):(i=s,r=a,o=Math.sqrt(u/2))}return new Yn(i/o,r/o)}const P=[];for(let t=0,n=T.length,i=n-1,r=t+1;t<n;t++,i++,r++)i===n&&(i=0),r===n&&(r=0),P[t]=L(T[t],T[i],T[r]);const N=[];let k,O=P.concat();for(let t=0,n=M.length;t<n;t++){const e=M[t];k=[];for(let t=0,n=e.length,i=n-1,r=t+1;t<n;t++,i++,r++)i===n&&(i=0),r===n&&(r=0),k[t]=L(e[t],e[i],e[r]);N.push(k),O=O.concat(k)}for(let t=0;t<p;t++){const e=t/p,n=u*Math.cos(e*Math.PI/2),i=h*Math.sin(e*Math.PI/2)+d;for(let t=0,r=T.length;t<r;t++){const e=A(T[t],P[t],i);F(e.x,e.y,-n)}for(let t=0,r=M.length;t<r;t++){const e=M[t];k=N[t];for(let t=0,r=e.length;t<r;t++){const r=A(e[t],k[t],i);F(r.x,r.y,-n)}}}const D=h+d;for(let t=0;t<C;t++){const e=c?A(S[t],O[t],D):S[t];w?(x.copy(v.normals[0]).multiplyScalar(e.x),y.copy(v.binormals[0]).multiplyScalar(e.y),b.copy(g[0]).add(x).add(y),F(b.x,b.y,b.z)):F(e.x,e.y,0)}for(let t=1;t<=a;t++)for(let e=0;e<C;e++){const n=c?A(S[e],O[e],D):S[e];w?(x.copy(v.normals[t]).multiplyScalar(n.x),y.copy(v.binormals[t]).multiplyScalar(n.y),b.copy(g[t]).add(x).add(y),F(b.x,b.y,b.z)):F(n.x,n.y,l/a*t)}for(let t=p-1;t>=0;t--){const e=t/p,n=u*Math.cos(e*Math.PI/2),i=h*Math.sin(e*Math.PI/2)+d;for(let t=0,r=T.length;t<r;t++){const e=A(T[t],P[t],i);F(e.x,e.y,l+n)}for(let t=0,r=M.length;t<r;t++){const e=M[t];k=N[t];for(let t=0,r=e.length;t<r;t++){const r=A(e[t],k[t],i);w?F(r.x,r.y+g[a-1].y,g[a-1].x+n):F(r.x,r.y,l+n)}}}function j(e,t){let n=e.length;for(;--n>=0;){const i=n;let r=n-1;r<0&&(r=e.length-1);for(let e=0,n=a+2*p;e<n;e++){const n=C*e,o=C*(e+1);z(t+i+n,t+r+n,t+r+o,t+i+o)}}}function F(e,t,n){o.push(e),o.push(t),o.push(n)}function I(e,t,r){B(e),B(t),B(r);const o=i.length/3,s=m.generateTopUV(n,i,o-3,o-2,o-1);U(s[0]),U(s[1]),U(s[2])}function z(e,t,r,o){B(e),B(t),B(o),B(t),B(r),B(o);const s=i.length/3,a=m.generateSideWallUV(n,i,s-6,s-3,s-2,s-1);U(a[0]),U(a[1]),U(a[3]),U(a[1]),U(a[2]),U(a[3])}function B(e){i.push(o[3*e+0]),i.push(o[3*e+1]),i.push(o[3*e+2])}function U(e){r.push(e.x),r.push(e.y)}!function(){const e=i.length/3;if(c){let e=0,t=C*e;for(let n=0;n<R;n++){const e=E[n];I(e[2]+t,e[1]+t,e[0]+t)}e=a+2*p,t=C*e;for(let n=0;n<R;n++){const e=E[n];I(e[0]+t,e[1]+t,e[2]+t)}}else{for(let e=0;e<R;e++){const t=E[e];I(t[2],t[1],t[0])}for(let e=0;e<R;e++){const t=E[e];I(t[0]+C*a,t[1]+C*a,t[2]+C*a)}}n.addGroup(e,i.length/3-e,0)}(),function(){const e=i.length/3;let t=0;j(T,t),t+=T.length;for(let n=0,i=M.length;n<i;n++){const e=M[n];j(e,t),t+=e.length}n.addGroup(e,i.length/3-e,1)}()}this.setAttribute("position",new Hr(i,3)),this.setAttribute("uv",new Hr(r,2)),this.computeVertexNormals()}toJSON(){const e=to.prototype.toJSON.call(this);return function(e,t,n){if(n.shapes=[],Array.isArray(e))for(let i=0,r=e.length;i<r;i++){const t=e[i];n.shapes.push(t.uuid)}else n.shapes.push(e.uuid);void 0!==t.extrudePath&&(n.options.extrudePath=t.extrudePath.toJSON());return n}(this.parameters.shapes,this.parameters.options,e)}}const eu={generateTopUV:function(e,t,n,i,r){const o=t[3*n],s=t[3*n+1],a=t[3*i],l=t[3*i+1],c=t[3*r],u=t[3*r+1];return[new Yn(o,s),new Yn(a,l),new Yn(c,u)]},generateSideWallUV:function(e,t,n,i,r,o){const s=t[3*n],a=t[3*n+1],l=t[3*n+2],c=t[3*i],u=t[3*i+1],h=t[3*i+2],d=t[3*r],p=t[3*r+1],f=t[3*r+2],m=t[3*o],g=t[3*o+1],v=t[3*o+2];return Math.abs(a-u)<.01?[new Yn(s,1-l),new Yn(c,1-h),new Yn(d,1-f),new Yn(m,1-v)]:[new Yn(a,1-l),new Yn(u,1-h),new Yn(p,1-f),new Yn(g,1-v)]}};class tu extends cc{constructor(e,t){super(),this.type="ExtrudeGeometry",this.parameters={shapes:e,options:t},this.fromBufferGeometry(new $c(e,t)),this.mergeVertices()}toJSON(){const e=super.toJSON();return function(e,t,n){if(n.shapes=[],Array.isArray(e))for(let i=0,r=e.length;i<r;i++){const t=e[i];n.shapes.push(t.uuid)}else n.shapes.push(e.uuid);void 0!==t.extrudePath&&(n.options.extrudePath=t.extrudePath.toJSON());return n}(this.parameters.shapes,this.parameters.options,e)}}class nu extends vc{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;const n=(1+Math.sqrt(5))/2;super([-1,n,0,1,n,0,-1,-n,0,1,-n,0,0,-1,n,0,1,n,0,-1,-n,0,1,-n,n,0,-1,n,0,1,-n,0,-1,-n,0,1],[0,11,5,0,5,1,0,1,7,0,7,10,0,10,11,1,5,9,5,11,4,11,10,2,10,7,6,7,1,8,3,9,4,3,4,2,3,2,6,3,6,8,3,8,9,4,9,5,2,4,11,6,2,10,8,6,7,9,8,1],e,t),this.type="IcosahedronBufferGeometry",this.parameters={radius:e,detail:t}}}class iu extends cc{constructor(e,t){super(),this.type="IcosahedronGeometry",this.parameters={radius:e,detail:t},this.fromBufferGeometry(new nu(e,t)),this.mergeVertices()}}class ru extends to{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:12,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:2*Math.PI;super(),this.type="LatheBufferGeometry",this.parameters={points:e,segments:t,phiStart:n,phiLength:i},t=Math.floor(t),i=Xn.clamp(i,0,2*Math.PI);const r=[],o=[],s=[],a=1/t,l=new oi,c=new Yn;for(let u=0;u<=t;u++){const r=n+u*a*i,h=Math.sin(r),d=Math.cos(r);for(let n=0;n<=e.length-1;n++)l.x=e[n].x*h,l.y=e[n].y,l.z=e[n].x*d,o.push(l.x,l.y,l.z),c.x=u/t,c.y=n/(e.length-1),s.push(c.x,c.y)}for(let u=0;u<t;u++)for(let t=0;t<e.length-1;t++){const n=t+u*e.length,i=n,o=n+e.length,s=n+e.length+1,a=n+1;r.push(i,o,a),r.push(o,s,a)}if(this.setIndex(r),this.setAttribute("position",new Hr(o,3)),this.setAttribute("uv",new Hr(s,2)),this.computeVertexNormals(),i===2*Math.PI){const n=this.attributes.normal.array,i=new oi,r=new oi,o=new oi,s=t*e.length*3;for(let t=0,a=0;t<e.length;t++,a+=3)i.x=n[a+0],i.y=n[a+1],i.z=n[a+2],r.x=n[s+a+0],r.y=n[s+a+1],r.z=n[s+a+2],o.addVectors(i,r).normalize(),n[a+0]=n[s+a+0]=o.x,n[a+1]=n[s+a+1]=o.y,n[a+2]=n[s+a+2]=o.z}}}class ou extends cc{constructor(e,t,n,i){super(),this.type="LatheGeometry",this.parameters={points:e,segments:t,phiStart:n,phiLength:i},this.fromBufferGeometry(new ru(e,t,n,i)),this.mergeVertices()}}class su extends vc{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;super([1,0,0,-1,0,0,0,1,0,0,-1,0,0,0,1,0,0,-1],[0,2,4,0,4,3,0,3,5,0,5,2,1,2,5,1,5,3,1,3,4,1,4,2],e,t),this.type="OctahedronBufferGeometry",this.parameters={radius:e,detail:t}}}class au extends cc{constructor(e,t){super(),this.type="OctahedronGeometry",this.parameters={radius:e,detail:t},this.fromBufferGeometry(new su(e,t)),this.mergeVertices()}}function lu(e,t,n){to.call(this),this.type="ParametricBufferGeometry",this.parameters={func:e,slices:t,stacks:n};const i=[],r=[],o=[],s=[],a=1e-5,l=new oi,c=new oi,u=new oi,h=new oi,d=new oi;e.length<3&&console.error("THREE.ParametricGeometry: Function must now modify a Vector3 as third parameter.");const p=t+1;for(let f=0;f<=n;f++){const i=f/n;for(let n=0;n<=t;n++){const p=n/t;e(p,i,c),r.push(c.x,c.y,c.z),p-a>=0?(e(p-a,i,u),h.subVectors(c,u)):(e(p+a,i,u),h.subVectors(u,c)),i-a>=0?(e(p,i-a,u),d.subVectors(c,u)):(e(p,i+a,u),d.subVectors(u,c)),l.crossVectors(h,d).normalize(),o.push(l.x,l.y,l.z),s.push(p,i)}}for(let f=0;f<n;f++)for(let e=0;e<t;e++){const t=f*p+e,n=f*p+e+1,r=(f+1)*p+e+1,o=(f+1)*p+e;i.push(t,n,o),i.push(n,r,o)}this.setIndex(i),this.setAttribute("position",new Hr(r,3)),this.setAttribute("normal",new Hr(o,3)),this.setAttribute("uv",new Hr(s,2))}function cu(e,t,n){cc.call(this),this.type="ParametricGeometry",this.parameters={func:e,slices:t,stacks:n},this.fromBufferGeometry(new lu(e,t,n)),this.mergeVertices()}lu.prototype=Object.create(to.prototype),lu.prototype.constructor=lu,cu.prototype=Object.create(cc.prototype),cu.prototype.constructor=cu;class uu extends cc{constructor(e,t,n,i){super(),this.type="PlaneGeometry",this.parameters={width:e,height:t,widthSegments:n,heightSegments:i},this.fromBufferGeometry(new Go(e,t,n,i)),this.mergeVertices()}}class hu extends cc{constructor(e,t,n,i){super(),this.type="PolyhedronGeometry",this.parameters={vertices:e,indices:t,radius:n,detail:i},this.fromBufferGeometry(new vc(e,t,n,i)),this.mergeVertices()}}class du extends to{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:.5,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:8,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1,r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:2*Math.PI;super(),this.type="RingBufferGeometry",this.parameters={innerRadius:e,outerRadius:t,thetaSegments:n,phiSegments:i,thetaStart:r,thetaLength:o},n=Math.max(3,n),i=Math.max(1,i);const s=[],a=[],l=[],c=[];let u=e;const h=(t-e)/i,d=new oi,p=new Yn;for(let f=0;f<=i;f++){for(let e=0;e<=n;e++){const i=r+e/n*o;d.x=u*Math.cos(i),d.y=u*Math.sin(i),a.push(d.x,d.y,d.z),l.push(0,0,1),p.x=(d.x/t+1)/2,p.y=(d.y/t+1)/2,c.push(p.x,p.y)}u+=h}for(let f=0;f<i;f++){const e=f*(n+1);for(let t=0;t<n;t++){const i=t+e,r=i,o=i+n+1,a=i+n+2,l=i+1;s.push(r,o,l),s.push(o,a,l)}}this.setIndex(s),this.setAttribute("position",new Hr(a,3)),this.setAttribute("normal",new Hr(l,3)),this.setAttribute("uv",new Hr(c,2))}}class pu extends cc{constructor(e,t,n,i,r,o){super(),this.type="RingGeometry",this.parameters={innerRadius:e,outerRadius:t,thetaSegments:n,phiSegments:i,thetaStart:r,thetaLength:o},this.fromBufferGeometry(new du(e,t,n,i,r,o)),this.mergeVertices()}}class fu extends to{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:12;super(),this.type="ShapeBufferGeometry",this.parameters={shapes:e,curveSegments:t};const n=[],i=[],r=[],o=[];let s=0,a=0;if(!1===Array.isArray(e))l(e);else for(let c=0;c<e.length;c++)l(e[c]),this.addGroup(s,a,c),s+=a,a=0;function l(e){const s=i.length/3,l=e.extractPoints(t);let c=l.shape;const u=l.holes;!1===Zc.isClockWise(c)&&(c=c.reverse());for(let t=0,n=u.length;t<n;t++){const e=u[t];!0===Zc.isClockWise(e)&&(u[t]=e.reverse())}const h=Zc.triangulateShape(c,u);for(let t=0,n=u.length;t<n;t++){const e=u[t];c=c.concat(e)}for(let t=0,n=c.length;t<n;t++){const e=c[t];i.push(e.x,e.y,0),r.push(0,0,1),o.push(e.x,e.y)}for(let t=0,i=h.length;t<i;t++){const e=h[t],i=e[0]+s,r=e[1]+s,o=e[2]+s;n.push(i,r,o),a+=3}}this.setIndex(n),this.setAttribute("position",new Hr(i,3)),this.setAttribute("normal",new Hr(r,3)),this.setAttribute("uv",new Hr(o,2))}toJSON(){const e=to.prototype.toJSON.call(this);return function(e,t){if(t.shapes=[],Array.isArray(e))for(let n=0,i=e.length;n<i;n++){const i=e[n];t.shapes.push(i.uuid)}else t.shapes.push(e.uuid);return t}(this.parameters.shapes,e)}}class mu extends cc{constructor(e,t){super(),this.type="ShapeGeometry","object"===typeof t&&(console.warn("THREE.ShapeGeometry: Options parameter has been removed."),t=t.curveSegments),this.parameters={shapes:e,curveSegments:t},this.fromBufferGeometry(new fu(e,t)),this.mergeVertices()}toJSON(){const e=cc.prototype.toJSON.call(this);return function(e,t){if(t.shapes=[],Array.isArray(e))for(let n=0,i=e.length;n<i;n++){const i=e[n];t.shapes.push(i.uuid)}else t.shapes.push(e.uuid);return t}(this.parameters.shapes,e)}}class gu extends to{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:8,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:6,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:2*Math.PI,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:0,s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:Math.PI;super(),this.type="SphereBufferGeometry",this.parameters={radius:e,widthSegments:t,heightSegments:n,phiStart:i,phiLength:r,thetaStart:o,thetaLength:s},t=Math.max(3,Math.floor(t)),n=Math.max(2,Math.floor(n));const a=Math.min(o+s,Math.PI);let l=0;const c=[],u=new oi,h=new oi,d=[],p=[],f=[],m=[];for(let g=0;g<=n;g++){const d=[],v=g/n;let y=0;0==g&&0==o?y=.5/t:g==n&&a==Math.PI&&(y=-.5/t);for(let n=0;n<=t;n++){const a=n/t;u.x=-e*Math.cos(i+a*r)*Math.sin(o+v*s),u.y=e*Math.cos(o+v*s),u.z=e*Math.sin(i+a*r)*Math.sin(o+v*s),p.push(u.x,u.y,u.z),h.copy(u).normalize(),f.push(h.x,h.y,h.z),m.push(a+y,1-v),d.push(l++)}c.push(d)}for(let g=0;g<n;g++)for(let e=0;e<t;e++){const t=c[g][e+1],i=c[g][e],r=c[g+1][e],s=c[g+1][e+1];(0!==g||o>0)&&d.push(t,i,s),(g!==n-1||a<Math.PI)&&d.push(i,r,s)}this.setIndex(d),this.setAttribute("position",new Hr(p,3)),this.setAttribute("normal",new Hr(f,3)),this.setAttribute("uv",new Hr(m,2))}}class vu extends cc{constructor(e,t,n,i,r,o,s){super(),this.type="SphereGeometry",this.parameters={radius:e,widthSegments:t,heightSegments:n,phiStart:i,phiLength:r,thetaStart:o,thetaLength:s},this.fromBufferGeometry(new gu(e,t,n,i,r,o,s)),this.mergeVertices()}}class yu extends vc{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;super([1,1,1,-1,-1,1,-1,1,-1,1,-1,-1],[2,1,0,0,3,2,1,3,0,2,3,1],e,t),this.type="TetrahedronBufferGeometry",this.parameters={radius:e,detail:t}}}class xu extends cc{constructor(e,t){super(),this.type="TetrahedronGeometry",this.parameters={radius:e,detail:t},this.fromBufferGeometry(new yu(e,t)),this.mergeVertices()}}class bu extends $c{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const n=t.font;if(!n||!n.isFont)return console.error("THREE.TextGeometry: font parameter is not an instance of THREE.Font."),new to;const i=n.generateShapes(e,t.size);t.depth=void 0!==t.height?t.height:50,void 0===t.bevelThickness&&(t.bevelThickness=10),void 0===t.bevelSize&&(t.bevelSize=8),void 0===t.bevelEnabled&&(t.bevelEnabled=!1),super(i,t),this.type="TextBufferGeometry"}}class wu extends cc{constructor(e,t){super(),this.type="TextGeometry",this.parameters={text:e,parameters:t},this.fromBufferGeometry(new bu(e,t)),this.mergeVertices()}}class _u extends to{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:.4,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:8,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:6,r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:2*Math.PI;super(),this.type="TorusBufferGeometry",this.parameters={radius:e,tube:t,radialSegments:n,tubularSegments:i,arc:r},n=Math.floor(n),i=Math.floor(i);const o=[],s=[],a=[],l=[],c=new oi,u=new oi,h=new oi;for(let d=0;d<=n;d++)for(let o=0;o<=i;o++){const p=o/i*r,f=d/n*Math.PI*2;u.x=(e+t*Math.cos(f))*Math.cos(p),u.y=(e+t*Math.cos(f))*Math.sin(p),u.z=t*Math.sin(f),s.push(u.x,u.y,u.z),c.x=e*Math.cos(p),c.y=e*Math.sin(p),h.subVectors(u,c).normalize(),a.push(h.x,h.y,h.z),l.push(o/i),l.push(d/n)}for(let d=1;d<=n;d++)for(let e=1;e<=i;e++){const t=(i+1)*d+e-1,n=(i+1)*(d-1)+e-1,r=(i+1)*(d-1)+e,s=(i+1)*d+e;o.push(t,n,s),o.push(n,r,s)}this.setIndex(o),this.setAttribute("position",new Hr(s,3)),this.setAttribute("normal",new Hr(a,3)),this.setAttribute("uv",new Hr(l,2))}}class Su extends cc{constructor(e,t,n,i,r){super(),this.type="TorusGeometry",this.parameters={radius:e,tube:t,radialSegments:n,tubularSegments:i,arc:r},this.fromBufferGeometry(new _u(e,t,n,i,r)),this.mergeVertices()}}class Mu extends to{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:.4,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:64,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:8,r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:2,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:3;super(),this.type="TorusKnotBufferGeometry",this.parameters={radius:e,tube:t,tubularSegments:n,radialSegments:i,p:r,q:o},n=Math.floor(n),i=Math.floor(i);const s=[],a=[],l=[],c=[],u=new oi,h=new oi,d=new oi,p=new oi,f=new oi,m=new oi,g=new oi;for(let y=0;y<=n;++y){const s=y/n*r*Math.PI*2;v(s,r,o,e,d),v(s+.01,r,o,e,p),m.subVectors(p,d),g.addVectors(p,d),f.crossVectors(m,g),g.crossVectors(f,m),f.normalize(),g.normalize();for(let e=0;e<=i;++e){const r=e/i*Math.PI*2,o=-t*Math.cos(r),s=t*Math.sin(r);u.x=d.x+(o*g.x+s*f.x),u.y=d.y+(o*g.y+s*f.y),u.z=d.z+(o*g.z+s*f.z),a.push(u.x,u.y,u.z),h.subVectors(u,d).normalize(),l.push(h.x,h.y,h.z),c.push(y/n),c.push(e/i)}}for(let y=1;y<=n;y++)for(let e=1;e<=i;e++){const t=(i+1)*(y-1)+(e-1),n=(i+1)*y+(e-1),r=(i+1)*y+e,o=(i+1)*(y-1)+e;s.push(t,n,o),s.push(n,r,o)}function v(e,t,n,i,r){const o=Math.cos(e),s=Math.sin(e),a=n/t*e,l=Math.cos(a);r.x=i*(2+l)*.5*o,r.y=i*(2+l)*s*.5,r.z=i*Math.sin(a)*.5}this.setIndex(s),this.setAttribute("position",new Hr(a,3)),this.setAttribute("normal",new Hr(l,3)),this.setAttribute("uv",new Hr(c,2))}}class Eu extends cc{constructor(e,t,n,i,r,o,s){super(),this.type="TorusKnotGeometry",this.parameters={radius:e,tube:t,tubularSegments:n,radialSegments:i,p:r,q:o},void 0!==s&&console.warn("THREE.TorusKnotGeometry: heightScale has been deprecated. Use .scale( x, y, z ) instead."),this.fromBufferGeometry(new Mu(e,t,n,i,r,o)),this.mergeVertices()}}class Tu extends to{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:64,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:8,r=arguments.length>4&&void 0!==arguments[4]&&arguments[4];super(),this.type="TubeBufferGeometry",this.parameters={path:e,tubularSegments:t,radius:n,radialSegments:i,closed:r};const o=e.computeFrenetFrames(t,r);this.tangents=o.tangents,this.normals=o.normals,this.binormals=o.binormals;const s=new oi,a=new oi,l=new Yn;let c=new oi;const u=[],h=[],d=[],p=[];function f(r){c=e.getPointAt(r/t,c);const l=o.normals[r],d=o.binormals[r];for(let e=0;e<=i;e++){const t=e/i*Math.PI*2,r=Math.sin(t),o=-Math.cos(t);a.x=o*l.x+r*d.x,a.y=o*l.y+r*d.y,a.z=o*l.z+r*d.z,a.normalize(),h.push(a.x,a.y,a.z),s.x=c.x+n*a.x,s.y=c.y+n*a.y,s.z=c.z+n*a.z,u.push(s.x,s.y,s.z)}}!function(){for(let e=0;e<t;e++)f(e);f(!1===r?t:0),function(){for(let e=0;e<=t;e++)for(let n=0;n<=i;n++)l.x=e/t,l.y=n/i,d.push(l.x,l.y)}(),function(){for(let e=1;e<=t;e++)for(let t=1;t<=i;t++){const n=(i+1)*(e-1)+(t-1),r=(i+1)*e+(t-1),o=(i+1)*e+t,s=(i+1)*(e-1)+t;p.push(n,r,s),p.push(r,o,s)}}()}(),this.setIndex(p),this.setAttribute("position",new Hr(u,3)),this.setAttribute("normal",new Hr(h,3)),this.setAttribute("uv",new Hr(d,2))}toJSON(){const e=to.prototype.toJSON.call(this);return e.path=this.parameters.path.toJSON(),e}}class Au extends cc{constructor(e,t,n,i,r,o){super(),this.type="TubeGeometry",this.parameters={path:e,tubularSegments:t,radius:n,radialSegments:i,closed:r},void 0!==o&&console.warn("THREE.TubeGeometry: taper has been removed.");const s=new Tu(e,t,n,i,r);this.tangents=s.tangents,this.normals=s.normals,this.binormals=s.binormals,this.fromBufferGeometry(s),this.mergeVertices()}}class Cu extends to{constructor(e){super(),this.type="WireframeGeometry";const t=[],n=[0,0],i={},r=["a","b","c"];if(e&&e.isGeometry){const o=e.faces;for(let e=0,t=o.length;e<t;e++){const t=o[e];for(let e=0;e<3;e++){const o=t[r[e]],s=t[r[(e+1)%3]];n[0]=Math.min(o,s),n[1]=Math.max(o,s);const a=n[0]+","+n[1];void 0===i[a]&&(i[a]={index1:n[0],index2:n[1]})}}for(const n in i){const r=i[n];let o=e.vertices[r.index1];t.push(o.x,o.y,o.z),o=e.vertices[r.index2],t.push(o.x,o.y,o.z)}}else if(e&&e.isBufferGeometry){const r=new oi;if(null!==e.index){const o=e.attributes.position,s=e.index;let a=e.groups;0===a.length&&(a=[{start:0,count:s.count,materialIndex:0}]);for(let e=0,t=a.length;e<t;++e){const t=a[e],r=t.start;for(let e=r,o=r+t.count;e<o;e+=3)for(let t=0;t<3;t++){const r=s.getX(e+t),o=s.getX(e+(t+1)%3);n[0]=Math.min(r,o),n[1]=Math.max(r,o);const a=n[0]+","+n[1];void 0===i[a]&&(i[a]={index1:n[0],index2:n[1]})}}for(const e in i){const n=i[e];r.fromBufferAttribute(o,n.index1),t.push(r.x,r.y,r.z),r.fromBufferAttribute(o,n.index2),t.push(r.x,r.y,r.z)}}else{const n=e.attributes.position;for(let e=0,i=n.count/3;e<i;e++)for(let o=0;o<3;o++){const i=3*e+o;r.fromBufferAttribute(n,i),t.push(r.x,r.y,r.z);const s=3*e+(o+1)%3;r.fromBufferAttribute(n,s),t.push(r.x,r.y,r.z)}}}this.setAttribute("position",new Hr(t,3))}}var Ru=Object.freeze({__proto__:null,BoxGeometry:uc,BoxBufferGeometry:So,CircleGeometry:dc,CircleBufferGeometry:hc,ConeGeometry:mc,ConeBufferGeometry:gc,CylinderGeometry:fc,CylinderBufferGeometry:pc,DodecahedronGeometry:xc,DodecahedronBufferGeometry:yc,EdgesGeometry:Mc,ExtrudeGeometry:tu,ExtrudeBufferGeometry:$c,IcosahedronGeometry:iu,IcosahedronBufferGeometry:nu,LatheGeometry:ou,LatheBufferGeometry:ru,OctahedronGeometry:au,OctahedronBufferGeometry:su,ParametricGeometry:cu,ParametricBufferGeometry:lu,PlaneGeometry:uu,PlaneBufferGeometry:Go,PolyhedronGeometry:hu,PolyhedronBufferGeometry:vc,RingGeometry:pu,RingBufferGeometry:du,ShapeGeometry:mu,ShapeBufferGeometry:fu,SphereGeometry:vu,SphereBufferGeometry:gu,TetrahedronGeometry:xu,TetrahedronBufferGeometry:yu,TextGeometry:wu,TextBufferGeometry:bu,TorusGeometry:Su,TorusBufferGeometry:_u,TorusKnotGeometry:Eu,TorusKnotBufferGeometry:Mu,TubeGeometry:Au,TubeBufferGeometry:Tu,WireframeGeometry:Cu});function Lu(e){Rr.call(this),this.type="ShadowMaterial",this.color=new Tr(0),this.transparent=!0,this.setValues(e)}function Pu(e){Ro.call(this,e),this.type="RawShaderMaterial"}function Nu(e){Rr.call(this),this.defines={STANDARD:""},this.type="MeshStandardMaterial",this.color=new Tr(16777215),this.roughness=1,this.metalness=0,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new Tr(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=mn,this.normalScale=new Yn(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.roughnessMap=null,this.metalnessMap=null,this.alphaMap=null,this.envMap=null,this.envMapIntensity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.skinning=!1,this.morphTargets=!1,this.morphNormals=!1,this.vertexTangents=!1,this.setValues(e)}function ku(e){Nu.call(this),this.defines={STANDARD:"",PHYSICAL:""},this.type="MeshPhysicalMaterial",this.clearcoat=0,this.clearcoatMap=null,this.clearcoatRoughness=0,this.clearcoatRoughnessMap=null,this.clearcoatNormalScale=new Yn(1,1),this.clearcoatNormalMap=null,this.reflectivity=.5,Object.defineProperty(this,"ior",{get:function(){return(1+.4*this.reflectivity)/(1-.4*this.reflectivity)},set:function(e){this.reflectivity=Xn.clamp(2.5*(e-1)/(e+1),0,1)}}),this.sheen=null,this.transmission=0,this.transmissionMap=null,this.setValues(e)}function Ou(e){Rr.call(this),this.type="MeshPhongMaterial",this.color=new Tr(16777215),this.specular=new Tr(1118481),this.shininess=30,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new Tr(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=mn,this.normalScale=new Yn(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=ie,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.skinning=!1,this.morphTargets=!1,this.morphNormals=!1,this.setValues(e)}function Du(e){Rr.call(this),this.defines={TOON:""},this.type="MeshToonMaterial",this.color=new Tr(16777215),this.map=null,this.gradientMap=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new Tr(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=mn,this.normalScale=new Yn(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.alphaMap=null,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.skinning=!1,this.morphTargets=!1,this.morphNormals=!1,this.setValues(e)}function ju(e){Rr.call(this),this.type="MeshNormalMaterial",this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=mn,this.normalScale=new Yn(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.fog=!1,this.skinning=!1,this.morphTargets=!1,this.morphNormals=!1,this.setValues(e)}function Fu(e){Rr.call(this),this.type="MeshLambertMaterial",this.color=new Tr(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new Tr(0),this.emissiveIntensity=1,this.emissiveMap=null,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=ie,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.skinning=!1,this.morphTargets=!1,this.morphNormals=!1,this.setValues(e)}function Iu(e){Rr.call(this),this.defines={MATCAP:""},this.type="MeshMatcapMaterial",this.color=new Tr(16777215),this.matcap=null,this.map=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=mn,this.normalScale=new Yn(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.alphaMap=null,this.skinning=!1,this.morphTargets=!1,this.morphNormals=!1,this.setValues(e)}function zu(e){Fl.call(this),this.type="LineDashedMaterial",this.scale=1,this.dashSize=3,this.gapSize=1,this.setValues(e)}Lu.prototype=Object.create(Rr.prototype),Lu.prototype.constructor=Lu,Lu.prototype.isShadowMaterial=!0,Lu.prototype.copy=function(e){return Rr.prototype.copy.call(this,e),this.color.copy(e.color),this},Pu.prototype=Object.create(Ro.prototype),Pu.prototype.constructor=Pu,Pu.prototype.isRawShaderMaterial=!0,Nu.prototype=Object.create(Rr.prototype),Nu.prototype.constructor=Nu,Nu.prototype.isMeshStandardMaterial=!0,Nu.prototype.copy=function(e){return Rr.prototype.copy.call(this,e),this.defines={STANDARD:""},this.color.copy(e.color),this.roughness=e.roughness,this.metalness=e.metalness,this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.roughnessMap=e.roughnessMap,this.metalnessMap=e.metalnessMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.envMapIntensity=e.envMapIntensity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.skinning=e.skinning,this.morphTargets=e.morphTargets,this.morphNormals=e.morphNormals,this.vertexTangents=e.vertexTangents,this},ku.prototype=Object.create(Nu.prototype),ku.prototype.constructor=ku,ku.prototype.isMeshPhysicalMaterial=!0,ku.prototype.copy=function(e){return Nu.prototype.copy.call(this,e),this.defines={STANDARD:"",PHYSICAL:""},this.clearcoat=e.clearcoat,this.clearcoatMap=e.clearcoatMap,this.clearcoatRoughness=e.clearcoatRoughness,this.clearcoatRoughnessMap=e.clearcoatRoughnessMap,this.clearcoatNormalMap=e.clearcoatNormalMap,this.clearcoatNormalScale.copy(e.clearcoatNormalScale),this.reflectivity=e.reflectivity,e.sheen?this.sheen=(this.sheen||new Tr).copy(e.sheen):this.sheen=null,this.transmission=e.transmission,this.transmissionMap=e.transmissionMap,this},Ou.prototype=Object.create(Rr.prototype),Ou.prototype.constructor=Ou,Ou.prototype.isMeshPhongMaterial=!0,Ou.prototype.copy=function(e){return Rr.prototype.copy.call(this,e),this.color.copy(e.color),this.specular.copy(e.specular),this.shininess=e.shininess,this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.skinning=e.skinning,this.morphTargets=e.morphTargets,this.morphNormals=e.morphNormals,this},Du.prototype=Object.create(Rr.prototype),Du.prototype.constructor=Du,Du.prototype.isMeshToonMaterial=!0,Du.prototype.copy=function(e){return Rr.prototype.copy.call(this,e),this.color.copy(e.color),this.map=e.map,this.gradientMap=e.gradientMap,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.alphaMap=e.alphaMap,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.skinning=e.skinning,this.morphTargets=e.morphTargets,this.morphNormals=e.morphNormals,this},ju.prototype=Object.create(Rr.prototype),ju.prototype.constructor=ju,ju.prototype.isMeshNormalMaterial=!0,ju.prototype.copy=function(e){return Rr.prototype.copy.call(this,e),this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.skinning=e.skinning,this.morphTargets=e.morphTargets,this.morphNormals=e.morphNormals,this},Fu.prototype=Object.create(Rr.prototype),Fu.prototype.constructor=Fu,Fu.prototype.isMeshLambertMaterial=!0,Fu.prototype.copy=function(e){return Rr.prototype.copy.call(this,e),this.color.copy(e.color),this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.skinning=e.skinning,this.morphTargets=e.morphTargets,this.morphNormals=e.morphNormals,this},Iu.prototype=Object.create(Rr.prototype),Iu.prototype.constructor=Iu,Iu.prototype.isMeshMatcapMaterial=!0,Iu.prototype.copy=function(e){return Rr.prototype.copy.call(this,e),this.defines={MATCAP:""},this.color.copy(e.color),this.matcap=e.matcap,this.map=e.map,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.alphaMap=e.alphaMap,this.skinning=e.skinning,this.morphTargets=e.morphTargets,this.morphNormals=e.morphNormals,this},zu.prototype=Object.create(Fl.prototype),zu.prototype.constructor=zu,zu.prototype.isLineDashedMaterial=!0,zu.prototype.copy=function(e){return Fl.prototype.copy.call(this,e),this.scale=e.scale,this.dashSize=e.dashSize,this.gapSize=e.gapSize,this};var Bu=Object.freeze({__proto__:null,ShadowMaterial:Lu,SpriteMaterial:il,RawShaderMaterial:Pu,ShaderMaterial:Ro,PointsMaterial:Yl,MeshPhysicalMaterial:ku,MeshStandardMaterial:Nu,MeshPhongMaterial:Ou,MeshToonMaterial:Du,MeshNormalMaterial:ju,MeshLambertMaterial:Fu,MeshDepthMaterial:ja,MeshDistanceMaterial:Fa,MeshBasicMaterial:Lr,MeshMatcapMaterial:Iu,LineDashedMaterial:zu,LineBasicMaterial:Fl,Material:Rr});const Uu={arraySlice:function(e,t,n){return Uu.isTypedArray(e)?new e.constructor(e.subarray(t,void 0!==n?n:e.length)):e.slice(t,n)},convertArray:function(e,t,n){return!e||!n&&e.constructor===t?e:"number"===typeof t.BYTES_PER_ELEMENT?new t(e):Array.prototype.slice.call(e)},isTypedArray:function(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)},getKeyframeOrder:function(e){const t=e.length,n=new Array(t);for(let i=0;i!==t;++i)n[i]=i;return n.sort((function(t,n){return e[t]-e[n]})),n},sortedArray:function(e,t,n){const i=e.length,r=new e.constructor(i);for(let o=0,s=0;s!==i;++o){const i=n[o]*t;for(let n=0;n!==t;++n)r[s++]=e[i+n]}return r},flattenJSON:function(e,t,n,i){let r=1,o=e[0];for(;void 0!==o&&void 0===o[i];)o=e[r++];if(void 0===o)return;let s=o[i];if(void 0!==s)if(Array.isArray(s))do{s=o[i],void 0!==s&&(t.push(o.time),n.push.apply(n,s)),o=e[r++]}while(void 0!==o);else if(void 0!==s.toArray)do{s=o[i],void 0!==s&&(t.push(o.time),s.toArray(n,n.length)),o=e[r++]}while(void 0!==o);else do{s=o[i],void 0!==s&&(t.push(o.time),n.push(s)),o=e[r++]}while(void 0!==o)},subclip:function(e,t,n,i){let r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:30;const o=e.clone();o.name=t;const s=[];for(let l=0;l<o.tracks.length;++l){const e=o.tracks[l],t=e.getValueSize(),a=[],c=[];for(let o=0;o<e.times.length;++o){const s=e.times[o]*r;if(!(s<n||s>=i)){a.push(e.times[o]);for(let n=0;n<t;++n)c.push(e.values[o*t+n])}}0!==a.length&&(e.times=Uu.convertArray(a,e.times.constructor),e.values=Uu.convertArray(c,e.values.constructor),s.push(e))}o.tracks=s;let a=1/0;for(let l=0;l<o.tracks.length;++l)a>o.tracks[l].times[0]&&(a=o.tracks[l].times[0]);for(let l=0;l<o.tracks.length;++l)o.tracks[l].shift(-1*a);return o.resetDuration(),o},makeClipAdditive:function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:e,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:30;i<=0&&(i=30);const r=n.tracks.length,o=t/i;for(let s=0;s<r;++s){const t=n.tracks[s],i=t.ValueTypeName;if("bool"===i||"string"===i)continue;const r=e.tracks.find((function(e){return e.name===t.name&&e.ValueTypeName===i}));if(void 0===r)continue;let a=0;const l=t.getValueSize();t.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline&&(a=l/3);let c=0;const u=r.getValueSize();r.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline&&(c=u/3);const h=t.times.length-1;let d;if(o<=t.times[0]){const e=a,n=l-a;d=Uu.arraySlice(t.values,e,n)}else if(o>=t.times[h]){const e=h*l+a,n=e+l-a;d=Uu.arraySlice(t.values,e,n)}else{const e=t.createInterpolant(),n=a,i=l-a;e.evaluate(o),d=Uu.arraySlice(e.resultBuffer,n,i)}if("quaternion"===i){(new ri).fromArray(d).normalize().conjugate().toArray(d)}const p=r.times.length;for(let e=0;e<p;++e){const t=e*u+c;if("quaternion"===i)ri.multiplyQuaternionsFlat(r.values,t,d,0,r.values,t);else{const e=u-2*c;for(let n=0;n<e;++n)r.values[t+n]-=d[n]}}}return e.blendMode=en,e}};function Hu(e,t,n,i){this.parameterPositions=e,this._cachedIndex=0,this.resultBuffer=void 0!==i?i:new t.constructor(n),this.sampleValues=t,this.valueSize=n}function Gu(e,t,n,i){Hu.call(this,e,t,n,i),this._weightPrev=-0,this._offsetPrev=-0,this._weightNext=-0,this._offsetNext=-0}function Vu(e,t,n,i){Hu.call(this,e,t,n,i)}function Wu(e,t,n,i){Hu.call(this,e,t,n,i)}function qu(e,t,n,i){if(void 0===e)throw new Error("THREE.KeyframeTrack: track name is undefined");if(void 0===t||0===t.length)throw new Error("THREE.KeyframeTrack: no keyframes in track named "+e);this.name=e,this.times=Uu.convertArray(t,this.TimeBufferType),this.values=Uu.convertArray(n,this.ValueBufferType),this.setInterpolation(i||this.DefaultInterpolation)}function Xu(e,t,n){qu.call(this,e,t,n)}function Yu(e,t,n,i){qu.call(this,e,t,n,i)}function Ju(e,t,n,i){qu.call(this,e,t,n,i)}function Zu(e,t,n,i){Hu.call(this,e,t,n,i)}function Ku(e,t,n,i){qu.call(this,e,t,n,i)}function Qu(e,t,n,i){qu.call(this,e,t,n,i)}function $u(e,t,n,i){qu.call(this,e,t,n,i)}function eh(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:-1,n=arguments.length>2?arguments[2]:void 0,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:$t;this.name=e,this.tracks=n,this.duration=t,this.blendMode=i,this.uuid=Xn.generateUUID(),this.duration<0&&this.resetDuration()}function th(e){if(void 0===e.type)throw new Error("THREE.KeyframeTrack: track type undefined, can not parse");const t=function(e){switch(e.toLowerCase()){case"scalar":case"double":case"float":case"number":case"integer":return Ju;case"vector":case"vector2":case"vector3":case"vector4":return $u;case"color":return Yu;case"quaternion":return Ku;case"bool":case"boolean":return Xu;case"string":return Qu}throw new Error("THREE.KeyframeTrack: Unsupported typeName: "+e)}(e.type);if(void 0===e.times){const t=[],n=[];Uu.flattenJSON(e.keys,t,n,"value"),e.times=t,e.values=n}return void 0!==t.parse?t.parse(e):new t(e.name,e.times,e.values,e.interpolation)}Object.assign(Hu.prototype,{evaluate:function(e){const t=this.parameterPositions;let n=this._cachedIndex,i=t[n],r=t[n-1];e:{t:{let o;n:{i:if(!(e<i)){for(let o=n+2;;){if(void 0===i){if(e<r)break i;return n=t.length,this._cachedIndex=n,this.afterEnd_(n-1,e,r)}if(n===o)break;if(r=i,i=t[++n],e<i)break t}o=t.length;break n}if(e>=r)break e;{const s=t[1];e<s&&(n=2,r=s);for(let o=n-2;;){if(void 0===r)return this._cachedIndex=0,this.beforeStart_(0,e,i);if(n===o)break;if(i=r,r=t[--n-1],e>=r)break t}o=n,n=0}}for(;n<o;){const i=n+o>>>1;e<t[i]?o=i:n=i+1}if(i=t[n],r=t[n-1],void 0===r)return this._cachedIndex=0,this.beforeStart_(0,e,i);if(void 0===i)return n=t.length,this._cachedIndex=n,this.afterEnd_(n-1,r,e)}this._cachedIndex=n,this.intervalChanged_(n,r,i)}return this.interpolate_(n,r,e,i)},settings:null,DefaultSettings_:{},getSettings_:function(){return this.settings||this.DefaultSettings_},copySampleValue_:function(e){const t=this.resultBuffer,n=this.sampleValues,i=this.valueSize,r=e*i;for(let o=0;o!==i;++o)t[o]=n[r+o];return t},interpolate_:function(){throw new Error("call to abstract method")},intervalChanged_:function(){}}),Object.assign(Hu.prototype,{beforeStart_:Hu.prototype.copySampleValue_,afterEnd_:Hu.prototype.copySampleValue_}),Gu.prototype=Object.assign(Object.create(Hu.prototype),{constructor:Gu,DefaultSettings_:{endingStart:Zt,endingEnd:Zt},intervalChanged_:function(e,t,n){const i=this.parameterPositions;let r=e-2,o=e+1,s=i[r],a=i[o];if(void 0===s)switch(this.getSettings_().endingStart){case Kt:r=e,s=2*t-n;break;case Qt:r=i.length-2,s=t+i[r]-i[r+1];break;default:r=e,s=n}if(void 0===a)switch(this.getSettings_().endingEnd){case Kt:o=e,a=2*n-t;break;case Qt:o=1,a=n+i[1]-i[0];break;default:o=e-1,a=t}const l=.5*(n-t),c=this.valueSize;this._weightPrev=l/(t-s),this._weightNext=l/(a-n),this._offsetPrev=r*c,this._offsetNext=o*c},interpolate_:function(e,t,n,i){const r=this.resultBuffer,o=this.sampleValues,s=this.valueSize,a=e*s,l=a-s,c=this._offsetPrev,u=this._offsetNext,h=this._weightPrev,d=this._weightNext,p=(n-t)/(i-t),f=p*p,m=f*p,g=-h*m+2*h*f-h*p,v=(1+h)*m+(-1.5-2*h)*f+(-.5+h)*p+1,y=(-1-d)*m+(1.5+d)*f+.5*p,x=d*m-d*f;for(let b=0;b!==s;++b)r[b]=g*o[c+b]+v*o[l+b]+y*o[a+b]+x*o[u+b];return r}}),Vu.prototype=Object.assign(Object.create(Hu.prototype),{constructor:Vu,interpolate_:function(e,t,n,i){const r=this.resultBuffer,o=this.sampleValues,s=this.valueSize,a=e*s,l=a-s,c=(n-t)/(i-t),u=1-c;for(let h=0;h!==s;++h)r[h]=o[l+h]*u+o[a+h]*c;return r}}),Wu.prototype=Object.assign(Object.create(Hu.prototype),{constructor:Wu,interpolate_:function(e){return this.copySampleValue_(e-1)}}),Object.assign(qu,{toJSON:function(e){const t=e.constructor;let n;if(void 0!==t.toJSON)n=t.toJSON(e);else{n={name:e.name,times:Uu.convertArray(e.times,Array),values:Uu.convertArray(e.values,Array)};const t=e.getInterpolation();t!==e.DefaultInterpolation&&(n.interpolation=t)}return n.type=e.ValueTypeName,n}}),Object.assign(qu.prototype,{constructor:qu,TimeBufferType:Float32Array,ValueBufferType:Float32Array,DefaultInterpolation:Yt,InterpolantFactoryMethodDiscrete:function(e){return new Wu(this.times,this.values,this.getValueSize(),e)},InterpolantFactoryMethodLinear:function(e){return new Vu(this.times,this.values,this.getValueSize(),e)},InterpolantFactoryMethodSmooth:function(e){return new Gu(this.times,this.values,this.getValueSize(),e)},setInterpolation:function(e){let t;switch(e){case Xt:t=this.InterpolantFactoryMethodDiscrete;break;case Yt:t=this.InterpolantFactoryMethodLinear;break;case Jt:t=this.InterpolantFactoryMethodSmooth}if(void 0===t){const t="unsupported interpolation for "+this.ValueTypeName+" keyframe track named "+this.name;if(void 0===this.createInterpolant){if(e===this.DefaultInterpolation)throw new Error(t);this.setInterpolation(this.DefaultInterpolation)}return console.warn("THREE.KeyframeTrack:",t),this}return this.createInterpolant=t,this},getInterpolation:function(){switch(this.createInterpolant){case this.InterpolantFactoryMethodDiscrete:return Xt;case this.InterpolantFactoryMethodLinear:return Yt;case this.InterpolantFactoryMethodSmooth:return Jt}},getValueSize:function(){return this.values.length/this.times.length},shift:function(e){if(0!==e){const t=this.times;for(let n=0,i=t.length;n!==i;++n)t[n]+=e}return this},scale:function(e){if(1!==e){const t=this.times;for(let n=0,i=t.length;n!==i;++n)t[n]*=e}return this},trim:function(e,t){const n=this.times,i=n.length;let r=0,o=i-1;for(;r!==i&&n[r]<e;)++r;for(;-1!==o&&n[o]>t;)--o;if(++o,0!==r||o!==i){r>=o&&(o=Math.max(o,1),r=o-1);const e=this.getValueSize();this.times=Uu.arraySlice(n,r,o),this.values=Uu.arraySlice(this.values,r*e,o*e)}return this},validate:function(){let e=!0;const t=this.getValueSize();t-Math.floor(t)!==0&&(console.error("THREE.KeyframeTrack: Invalid value size in track.",this),e=!1);const n=this.times,i=this.values,r=n.length;0===r&&(console.error("THREE.KeyframeTrack: Track is empty.",this),e=!1);let o=null;for(let s=0;s!==r;s++){const t=n[s];if("number"===typeof t&&isNaN(t)){console.error("THREE.KeyframeTrack: Time is not a valid number.",this,s,t),e=!1;break}if(null!==o&&o>t){console.error("THREE.KeyframeTrack: Out of order keys.",this,s,t,o),e=!1;break}o=t}if(void 0!==i&&Uu.isTypedArray(i))for(let s=0,a=i.length;s!==a;++s){const t=i[s];if(isNaN(t)){console.error("THREE.KeyframeTrack: Value is not a valid number.",this,s,t),e=!1;break}}return e},optimize:function(){const e=Uu.arraySlice(this.times),t=Uu.arraySlice(this.values),n=this.getValueSize(),i=this.getInterpolation()===Jt,r=e.length-1;let o=1;for(let s=1;s<r;++s){let r=!1;const a=e[s];if(a!==e[s+1]&&(1!==s||a!==a[0]))if(i)r=!0;else{const e=s*n,i=e-n,o=e+n;for(let s=0;s!==n;++s){const n=t[e+s];if(n!==t[i+s]||n!==t[o+s]){r=!0;break}}}if(r){if(s!==o){e[o]=e[s];const i=s*n,r=o*n;for(let e=0;e!==n;++e)t[r+e]=t[i+e]}++o}}if(r>0){e[o]=e[r];for(let e=r*n,i=o*n,s=0;s!==n;++s)t[i+s]=t[e+s];++o}return o!==e.length?(this.times=Uu.arraySlice(e,0,o),this.values=Uu.arraySlice(t,0,o*n)):(this.times=e,this.values=t),this},clone:function(){const e=Uu.arraySlice(this.times,0),t=Uu.arraySlice(this.values,0),n=new(0,this.constructor)(this.name,e,t);return n.createInterpolant=this.createInterpolant,n}}),Xu.prototype=Object.assign(Object.create(qu.prototype),{constructor:Xu,ValueTypeName:"bool",ValueBufferType:Array,DefaultInterpolation:Xt,InterpolantFactoryMethodLinear:void 0,InterpolantFactoryMethodSmooth:void 0}),Yu.prototype=Object.assign(Object.create(qu.prototype),{constructor:Yu,ValueTypeName:"color"}),Ju.prototype=Object.assign(Object.create(qu.prototype),{constructor:Ju,ValueTypeName:"number"}),Zu.prototype=Object.assign(Object.create(Hu.prototype),{constructor:Zu,interpolate_:function(e,t,n,i){const r=this.resultBuffer,o=this.sampleValues,s=this.valueSize,a=(n-t)/(i-t);let l=e*s;for(let c=l+s;l!==c;l+=4)ri.slerpFlat(r,0,o,l-s,o,l,a);return r}}),Ku.prototype=Object.assign(Object.create(qu.prototype),{constructor:Ku,ValueTypeName:"quaternion",DefaultInterpolation:Yt,InterpolantFactoryMethodLinear:function(e){return new Zu(this.times,this.values,this.getValueSize(),e)},InterpolantFactoryMethodSmooth:void 0}),Qu.prototype=Object.assign(Object.create(qu.prototype),{constructor:Qu,ValueTypeName:"string",ValueBufferType:Array,DefaultInterpolation:Xt,InterpolantFactoryMethodLinear:void 0,InterpolantFactoryMethodSmooth:void 0}),$u.prototype=Object.assign(Object.create(qu.prototype),{constructor:$u,ValueTypeName:"vector"}),Object.assign(eh,{parse:function(e){const t=[],n=e.tracks,i=1/(e.fps||1);for(let o=0,s=n.length;o!==s;++o)t.push(th(n[o]).scale(i));const r=new eh(e.name,e.duration,t,e.blendMode);return r.uuid=e.uuid,r},toJSON:function(e){const t=[],n=e.tracks,i={name:e.name,duration:e.duration,tracks:t,uuid:e.uuid,blendMode:e.blendMode};for(let r=0,o=n.length;r!==o;++r)t.push(qu.toJSON(n[r]));return i},CreateFromMorphTargetSequence:function(e,t,n,i){const r=t.length,o=[];for(let s=0;s<r;s++){let e=[],a=[];e.push((s+r-1)%r,s,(s+1)%r),a.push(0,1,0);const l=Uu.getKeyframeOrder(e);e=Uu.sortedArray(e,1,l),a=Uu.sortedArray(a,1,l),i||0!==e[0]||(e.push(r),a.push(a[0])),o.push(new Ju(".morphTargetInfluences["+t[s].name+"]",e,a).scale(1/n))}return new eh(e,-1,o)},findByName:function(e,t){let n=e;if(!Array.isArray(e)){const t=e;n=t.geometry&&t.geometry.animations||t.animations}for(let i=0;i<n.length;i++)if(n[i].name===t)return n[i];return null},CreateClipsFromMorphTargetSequences:function(e,t,n){const i={},r=/^([\w-]*?)([\d]+)$/;for(let s=0,a=e.length;s<a;s++){const t=e[s],n=t.name.match(r);if(n&&n.length>1){const e=n[1];let r=i[e];r||(i[e]=r=[]),r.push(t)}}const o=[];for(const s in i)o.push(eh.CreateFromMorphTargetSequence(s,i[s],t,n));return o},parseAnimation:function(e,t){if(!e)return console.error("THREE.AnimationClip: No animation in JSONLoader data."),null;const n=function(e,t,n,i,r){if(0!==n.length){const o=[],s=[];Uu.flattenJSON(n,o,s,i),0!==o.length&&r.push(new e(t,o,s))}},i=[],r=e.name||"default",o=e.fps||30,s=e.blendMode;let a=e.length||-1;const l=e.hierarchy||[];for(let c=0;c<l.length;c++){const e=l[c].keys;if(e&&0!==e.length)if(e[0].morphTargets){const t={};let n;for(n=0;n<e.length;n++)if(e[n].morphTargets)for(let i=0;i<e[n].morphTargets.length;i++)t[e[n].morphTargets[i]]=-1;for(const r in t){const t=[],o=[];for(let i=0;i!==e[n].morphTargets.length;++i){const i=e[n];t.push(i.time),o.push(i.morphTarget===r?1:0)}i.push(new Ju(".morphTargetInfluence["+r+"]",t,o))}a=t.length*(o||1)}else{const r=".bones["+t[c].name+"]";n($u,r+".position",e,"pos",i),n(Ku,r+".quaternion",e,"rot",i),n($u,r+".scale",e,"scl",i)}}if(0===i.length)return null;return new eh(r,a,i,s)}}),Object.assign(eh.prototype,{resetDuration:function(){let e=0;for(let t=0,n=this.tracks.length;t!==n;++t){const n=this.tracks[t];e=Math.max(e,n.times[n.times.length-1])}return this.duration=e,this},trim:function(){for(let e=0;e<this.tracks.length;e++)this.tracks[e].trim(0,this.duration);return this},validate:function(){let e=!0;for(let t=0;t<this.tracks.length;t++)e=e&&this.tracks[t].validate();return e},optimize:function(){for(let e=0;e<this.tracks.length;e++)this.tracks[e].optimize();return this},clone:function(){const e=[];for(let t=0;t<this.tracks.length;t++)e.push(this.tracks[t].clone());return new eh(this.name,this.duration,e,this.blendMode)},toJSON:function(){return eh.toJSON(this)}});const nh={enabled:!1,files:{},add:function(e,t){!1!==this.enabled&&(this.files[e]=t)},get:function(e){if(!1!==this.enabled)return this.files[e]},remove:function(e){delete this.files[e]},clear:function(){this.files={}}};function ih(e,t,n){const i=this;let r,o=!1,s=0,a=0;const l=[];this.onStart=void 0,this.onLoad=e,this.onProgress=t,this.onError=n,this.itemStart=function(e){a++,!1===o&&void 0!==i.onStart&&i.onStart(e,s,a),o=!0},this.itemEnd=function(e){s++,void 0!==i.onProgress&&i.onProgress(e,s,a),s===a&&(o=!1,void 0!==i.onLoad&&i.onLoad())},this.itemError=function(e){void 0!==i.onError&&i.onError(e)},this.resolveURL=function(e){return r?r(e):e},this.setURLModifier=function(e){return r=e,this},this.addHandler=function(e,t){return l.push(e,t),this},this.removeHandler=function(e){const t=l.indexOf(e);return-1!==t&&l.splice(t,2),this},this.getHandler=function(e){for(let t=0,n=l.length;t<n;t+=2){const n=l[t],i=l[t+1];if(n.global&&(n.lastIndex=0),n.test(e))return i}return null}}const rh=new ih;function oh(e){this.manager=void 0!==e?e:rh,this.crossOrigin="anonymous",this.withCredentials=!1,this.path="",this.resourcePath="",this.requestHeader={}}Object.assign(oh.prototype,{load:function(){},loadAsync:function(e,t){const n=this;return new Promise((function(i,r){n.load(e,i,t,r)}))},parse:function(){},setCrossOrigin:function(e){return this.crossOrigin=e,this},setWithCredentials:function(e){return this.withCredentials=e,this},setPath:function(e){return this.path=e,this},setResourcePath:function(e){return this.resourcePath=e,this},setRequestHeader:function(e){return this.requestHeader=e,this}});const sh={};function ah(e){oh.call(this,e)}function lh(e){oh.call(this,e)}function ch(e){oh.call(this,e)}function uh(e){oh.call(this,e)}function hh(e){oh.call(this,e)}function dh(e){oh.call(this,e)}function ph(e){oh.call(this,e)}function fh(){this.type="Curve",this.arcLengthDivisions=200}function mh(e,t,n,i,r,o,s,a){fh.call(this),this.type="EllipseCurve",this.aX=e||0,this.aY=t||0,this.xRadius=n||1,this.yRadius=i||1,this.aStartAngle=r||0,this.aEndAngle=o||2*Math.PI,this.aClockwise=s||!1,this.aRotation=a||0}function gh(e,t,n,i,r,o){mh.call(this,e,t,n,n,i,r,o),this.type="ArcCurve"}function vh(){let e=0,t=0,n=0,i=0;function r(r,o,s,a){e=r,t=s,n=-3*r+3*o-2*s-a,i=2*r-2*o+s+a}return{initCatmullRom:function(e,t,n,i,o){r(t,n,o*(n-e),o*(i-t))},initNonuniformCatmullRom:function(e,t,n,i,o,s,a){let l=(t-e)/o-(n-e)/(o+s)+(n-t)/s,c=(n-t)/s-(i-t)/(s+a)+(i-n)/a;l*=s,c*=s,r(t,n,l,c)},calc:function(r){const o=r*r;return e+t*r+n*o+i*(o*r)}}}ah.prototype=Object.assign(Object.create(oh.prototype),{constructor:ah,load:function(e,t,n,i){void 0===e&&(e=""),void 0!==this.path&&(e=this.path+e),e=this.manager.resolveURL(e);const r=this,o=nh.get(e);if(void 0!==o)return r.manager.itemStart(e),setTimeout((function(){t&&t(o),r.manager.itemEnd(e)}),0),o;if(void 0!==sh[e])return void sh[e].push({onLoad:t,onProgress:n,onError:i});const s=e.match(/^data:(.*?)(;base64)?,(.*)$/);let a;if(s){const n=s[1],o=!!s[2];let a=s[3];a=decodeURIComponent(a),o&&(a=atob(a));try{let i;const o=(this.responseType||"").toLowerCase();switch(o){case"arraybuffer":case"blob":const e=new Uint8Array(a.length);for(let n=0;n<a.length;n++)e[n]=a.charCodeAt(n);i="blob"===o?new Blob([e.buffer],{type:n}):e.buffer;break;case"document":const t=new DOMParser;i=t.parseFromString(a,n);break;case"json":i=JSON.parse(a);break;default:i=a}setTimeout((function(){t&&t(i),r.manager.itemEnd(e)}),0)}catch(l){setTimeout((function(){i&&i(l),r.manager.itemError(e),r.manager.itemEnd(e)}),0)}}else{sh[e]=[],sh[e].push({onLoad:t,onProgress:n,onError:i}),a=new XMLHttpRequest,a.open("GET",e,!0),a.addEventListener("load",(function(t){const n=this.response,i=sh[e];if(delete sh[e],200===this.status||0===this.status){0===this.status&&console.warn("THREE.FileLoader: HTTP Status 0 received."),nh.add(e,n);for(let e=0,t=i.length;e<t;e++){const t=i[e];t.onLoad&&t.onLoad(n)}r.manager.itemEnd(e)}else{for(let e=0,n=i.length;e<n;e++){const n=i[e];n.onError&&n.onError(t)}r.manager.itemError(e),r.manager.itemEnd(e)}}),!1),a.addEventListener("progress",(function(t){const n=sh[e];for(let e=0,i=n.length;e<i;e++){const i=n[e];i.onProgress&&i.onProgress(t)}}),!1),a.addEventListener("error",(function(t){const n=sh[e];delete sh[e];for(let e=0,i=n.length;e<i;e++){const i=n[e];i.onError&&i.onError(t)}r.manager.itemError(e),r.manager.itemEnd(e)}),!1),a.addEventListener("abort",(function(t){const n=sh[e];delete sh[e];for(let e=0,i=n.length;e<i;e++){const i=n[e];i.onError&&i.onError(t)}r.manager.itemError(e),r.manager.itemEnd(e)}),!1),void 0!==this.responseType&&(a.responseType=this.responseType),void 0!==this.withCredentials&&(a.withCredentials=this.withCredentials),a.overrideMimeType&&a.overrideMimeType(void 0!==this.mimeType?this.mimeType:"text/plain");for(const e in this.requestHeader)a.setRequestHeader(e,this.requestHeader[e]);a.send(null)}return r.manager.itemStart(e),a},setResponseType:function(e){return this.responseType=e,this},setMimeType:function(e){return this.mimeType=e,this}}),lh.prototype=Object.assign(Object.create(oh.prototype),{constructor:lh,load:function(e,t,n,i){const r=this,o=new ah(r.manager);o.setPath(r.path),o.setRequestHeader(r.requestHeader),o.setWithCredentials(r.withCredentials),o.load(e,(function(n){try{t(r.parse(JSON.parse(n)))}catch(o){i?i(o):console.error(o),r.manager.itemError(e)}}),n,i)},parse:function(e){const t=[];for(let n=0;n<e.length;n++){const i=eh.parse(e[n]);t.push(i)}return t}}),ch.prototype=Object.assign(Object.create(oh.prototype),{constructor:ch,load:function(e,t,n,i){const r=this,o=[],s=new nc,a=new ah(this.manager);a.setPath(this.path),a.setResponseType("arraybuffer"),a.setRequestHeader(this.requestHeader),a.setWithCredentials(r.withCredentials);let l=0;function c(c){a.load(e[c],(function(e){const n=r.parse(e,!0);o[c]={width:n.width,height:n.height,format:n.format,mipmaps:n.mipmaps},l+=1,6===l&&(1===n.mipmapCount&&(s.minFilter=Ae),s.image=o,s.format=n.format,s.needsUpdate=!0,t&&t(s))}),n,i)}if(Array.isArray(e))for(let u=0,h=e.length;u<h;++u)c(u);else a.load(e,(function(e){const n=r.parse(e,!0);if(n.isCubemap){const e=n.mipmaps.length/n.mipmapCount;for(let t=0;t<e;t++){o[t]={mipmaps:[]};for(let e=0;e<n.mipmapCount;e++)o[t].mipmaps.push(n.mipmaps[t*n.mipmapCount+e]),o[t].format=n.format,o[t].width=n.width,o[t].height=n.height}s.image=o}else s.image.width=n.width,s.image.height=n.height,s.mipmaps=n.mipmaps;1===n.mipmapCount&&(s.minFilter=Ae),s.format=n.format,s.needsUpdate=!0,t&&t(s)}),n,i);return s}}),uh.prototype=Object.assign(Object.create(oh.prototype),{constructor:uh,load:function(e,t,n,i){void 0!==this.path&&(e=this.path+e),e=this.manager.resolveURL(e);const r=this,o=nh.get(e);if(void 0!==o)return r.manager.itemStart(e),setTimeout((function(){t&&t(o),r.manager.itemEnd(e)}),0),o;const s=document.createElementNS("http://www.w3.org/1999/xhtml","img");function a(){s.removeEventListener("load",a,!1),s.removeEventListener("error",l,!1),nh.add(e,this),t&&t(this),r.manager.itemEnd(e)}function l(t){s.removeEventListener("load",a,!1),s.removeEventListener("error",l,!1),i&&i(t),r.manager.itemError(e),r.manager.itemEnd(e)}return s.addEventListener("load",a,!1),s.addEventListener("error",l,!1),"data:"!==e.substr(0,5)&&void 0!==this.crossOrigin&&(s.crossOrigin=this.crossOrigin),r.manager.itemStart(e),s.src=e,s}}),hh.prototype=Object.assign(Object.create(oh.prototype),{constructor:hh,load:function(e,t,n,i){const r=new Do,o=new uh(this.manager);o.setCrossOrigin(this.crossOrigin),o.setPath(this.path);let s=0;function a(n){o.load(e[n],(function(e){r.images[n]=e,s++,6===s&&(r.needsUpdate=!0,t&&t(r))}),void 0,i)}for(let l=0;l<e.length;++l)a(l);return r}}),dh.prototype=Object.assign(Object.create(oh.prototype),{constructor:dh,load:function(e,t,n,i){const r=this,o=new Fo,s=new ah(this.manager);return s.setResponseType("arraybuffer"),s.setRequestHeader(this.requestHeader),s.setPath(this.path),s.setWithCredentials(r.withCredentials),s.load(e,(function(e){const n=r.parse(e);n&&(void 0!==n.image?o.image=n.image:void 0!==n.data&&(o.image.width=n.width,o.image.height=n.height,o.image.data=n.data),o.wrapS=void 0!==n.wrapS?n.wrapS:be,o.wrapT=void 0!==n.wrapT?n.wrapT:be,o.magFilter=void 0!==n.magFilter?n.magFilter:Ae,o.minFilter=void 0!==n.minFilter?n.minFilter:Ae,o.anisotropy=void 0!==n.anisotropy?n.anisotropy:1,void 0!==n.format&&(o.format=n.format),void 0!==n.type&&(o.type=n.type),void 0!==n.mipmaps&&(o.mipmaps=n.mipmaps,o.minFilter=Le),1===n.mipmapCount&&(o.minFilter=Ae),o.needsUpdate=!0,t&&t(o,n))}),n,i),o}}),ph.prototype=Object.assign(Object.create(oh.prototype),{constructor:ph,load:function(e,t,n,i){const r=new $n,o=new uh(this.manager);return o.setCrossOrigin(this.crossOrigin),o.setPath(this.path),o.load(e,(function(n){r.image=n;const i=e.search(/\.jpe?g($|\?)/i)>0||0===e.search(/^data\:image\/jpeg/);r.format=i?We:qe,r.needsUpdate=!0,void 0!==t&&t(r)}),n,i),r}}),Object.assign(fh.prototype,{getPoint:function(){return console.warn("THREE.Curve: .getPoint() not implemented."),null},getPointAt:function(e,t){const n=this.getUtoTmapping(e);return this.getPoint(n,t)},getPoints:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:5;const t=[];for(let n=0;n<=e;n++)t.push(this.getPoint(n/e));return t},getSpacedPoints:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:5;const t=[];for(let n=0;n<=e;n++)t.push(this.getPointAt(n/e));return t},getLength:function(){const e=this.getLengths();return e[e.length-1]},getLengths:function(e){if(void 0===e&&(e=this.arcLengthDivisions),this.cacheArcLengths&&this.cacheArcLengths.length===e+1&&!this.needsUpdate)return this.cacheArcLengths;this.needsUpdate=!1;const t=[];let n,i=this.getPoint(0),r=0;t.push(0);for(let o=1;o<=e;o++)n=this.getPoint(o/e),r+=n.distanceTo(i),t.push(r),i=n;return this.cacheArcLengths=t,t},updateArcLengths:function(){this.needsUpdate=!0,this.getLengths()},getUtoTmapping:function(e,t){const n=this.getLengths();let i=0;const r=n.length;let o;o=t||e*n[r-1];let s,a=0,l=r-1;for(;a<=l;)if(i=Math.floor(a+(l-a)/2),s=n[i]-o,s<0)a=i+1;else{if(!(s>0)){l=i;break}l=i-1}if(i=l,n[i]===o)return i/(r-1);const c=n[i];return(i+(o-c)/(n[i+1]-c))/(r-1)},getTangent:function(e,t){const n=1e-4;let i=e-n,r=e+n;i<0&&(i=0),r>1&&(r=1);const o=this.getPoint(i),s=this.getPoint(r),a=t||(o.isVector2?new Yn:new oi);return a.copy(s).sub(o).normalize(),a},getTangentAt:function(e,t){const n=this.getUtoTmapping(e);return this.getTangent(n,t)},computeFrenetFrames:function(e,t){const n=new oi,i=[],r=[],o=[],s=new oi,a=new ki;for(let d=0;d<=e;d++){const t=d/e;i[d]=this.getTangentAt(t,new oi),i[d].normalize()}r[0]=new oi,o[0]=new oi;let l=Number.MAX_VALUE;const c=Math.abs(i[0].x),u=Math.abs(i[0].y),h=Math.abs(i[0].z);c<=l&&(l=c,n.set(1,0,0)),u<=l&&(l=u,n.set(0,1,0)),h<=l&&n.set(0,0,1),s.crossVectors(i[0],n).normalize(),r[0].crossVectors(i[0],s),o[0].crossVectors(i[0],r[0]);for(let d=1;d<=e;d++){if(r[d]=r[d-1].clone(),o[d]=o[d-1].clone(),s.crossVectors(i[d-1],i[d]),s.length()>Number.EPSILON){s.normalize();const e=Math.acos(Xn.clamp(i[d-1].dot(i[d]),-1,1));r[d].applyMatrix4(a.makeRotationAxis(s,e))}o[d].crossVectors(i[d],r[d])}if(!0===t){let t=Math.acos(Xn.clamp(r[0].dot(r[e]),-1,1));t/=e,i[0].dot(s.crossVectors(r[0],r[e]))>0&&(t=-t);for(let n=1;n<=e;n++)r[n].applyMatrix4(a.makeRotationAxis(i[n],t*n)),o[n].crossVectors(i[n],r[n])}return{tangents:i,normals:r,binormals:o}},clone:function(){return(new this.constructor).copy(this)},copy:function(e){return this.arcLengthDivisions=e.arcLengthDivisions,this},toJSON:function(){const e={metadata:{version:4.5,type:"Curve",generator:"Curve.toJSON"}};return e.arcLengthDivisions=this.arcLengthDivisions,e.type=this.type,e},fromJSON:function(e){return this.arcLengthDivisions=e.arcLengthDivisions,this}}),mh.prototype=Object.create(fh.prototype),mh.prototype.constructor=mh,mh.prototype.isEllipseCurve=!0,mh.prototype.getPoint=function(e,t){const n=t||new Yn,i=2*Math.PI;let r=this.aEndAngle-this.aStartAngle;const o=Math.abs(r)<Number.EPSILON;for(;r<0;)r+=i;for(;r>i;)r-=i;r<Number.EPSILON&&(r=o?0:i),!0!==this.aClockwise||o||(r===i?r=-i:r-=i);const s=this.aStartAngle+e*r;let a=this.aX+this.xRadius*Math.cos(s),l=this.aY+this.yRadius*Math.sin(s);if(0!==this.aRotation){const e=Math.cos(this.aRotation),t=Math.sin(this.aRotation),n=a-this.aX,i=l-this.aY;a=n*e-i*t+this.aX,l=n*t+i*e+this.aY}return n.set(a,l)},mh.prototype.copy=function(e){return fh.prototype.copy.call(this,e),this.aX=e.aX,this.aY=e.aY,this.xRadius=e.xRadius,this.yRadius=e.yRadius,this.aStartAngle=e.aStartAngle,this.aEndAngle=e.aEndAngle,this.aClockwise=e.aClockwise,this.aRotation=e.aRotation,this},mh.prototype.toJSON=function(){const e=fh.prototype.toJSON.call(this);return e.aX=this.aX,e.aY=this.aY,e.xRadius=this.xRadius,e.yRadius=this.yRadius,e.aStartAngle=this.aStartAngle,e.aEndAngle=this.aEndAngle,e.aClockwise=this.aClockwise,e.aRotation=this.aRotation,e},mh.prototype.fromJSON=function(e){return fh.prototype.fromJSON.call(this,e),this.aX=e.aX,this.aY=e.aY,this.xRadius=e.xRadius,this.yRadius=e.yRadius,this.aStartAngle=e.aStartAngle,this.aEndAngle=e.aEndAngle,this.aClockwise=e.aClockwise,this.aRotation=e.aRotation,this},gh.prototype=Object.create(mh.prototype),gh.prototype.constructor=gh,gh.prototype.isArcCurve=!0;const yh=new oi,xh=new vh,bh=new vh,wh=new vh;function _h(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"centripetal",i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:.5;fh.call(this),this.type="CatmullRomCurve3",this.points=e,this.closed=t,this.curveType=n,this.tension=i}function Sh(e,t,n,i,r){const o=.5*(i-t),s=.5*(r-n),a=e*e;return(2*n-2*i+o+s)*(e*a)+(-3*n+3*i-2*o-s)*a+o*e+n}function Mh(e,t,n,i){return function(e,t){const n=1-e;return n*n*t}(e,t)+function(e,t){return 2*(1-e)*e*t}(e,n)+function(e,t){return e*e*t}(e,i)}function Eh(e,t,n,i,r){return function(e,t){const n=1-e;return n*n*n*t}(e,t)+function(e,t){const n=1-e;return 3*n*n*e*t}(e,n)+function(e,t){return 3*(1-e)*e*e*t}(e,i)+function(e,t){return e*e*e*t}(e,r)}function Th(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new Yn,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new Yn,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:new Yn,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:new Yn;fh.call(this),this.type="CubicBezierCurve",this.v0=e,this.v1=t,this.v2=n,this.v3=i}function Ah(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new oi,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new oi,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:new oi,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:new oi;fh.call(this),this.type="CubicBezierCurve3",this.v0=e,this.v1=t,this.v2=n,this.v3=i}function Ch(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new Yn,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new Yn;fh.call(this),this.type="LineCurve",this.v1=e,this.v2=t}function Rh(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new oi,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new oi;fh.call(this),this.type="LineCurve3",this.v1=e,this.v2=t}function Lh(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new Yn,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new Yn,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:new Yn;fh.call(this),this.type="QuadraticBezierCurve",this.v0=e,this.v1=t,this.v2=n}function Ph(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new oi,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new oi,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:new oi;fh.call(this),this.type="QuadraticBezierCurve3",this.v0=e,this.v1=t,this.v2=n}function Nh(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];fh.call(this),this.type="SplineCurve",this.points=e}_h.prototype=Object.create(fh.prototype),_h.prototype.constructor=_h,_h.prototype.isCatmullRomCurve3=!0,_h.prototype.getPoint=function(e){const t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new oi,n=this.points,i=n.length,r=(i-(this.closed?0:1))*e;let o,s,a=Math.floor(r),l=r-a;this.closed?a+=a>0?0:(Math.floor(Math.abs(a)/i)+1)*i:0===l&&a===i-1&&(a=i-2,l=1),this.closed||a>0?o=n[(a-1)%i]:(yh.subVectors(n[0],n[1]).add(n[0]),o=yh);const c=n[a%i],u=n[(a+1)%i];if(this.closed||a+2<i?s=n[(a+2)%i]:(yh.subVectors(n[i-1],n[i-2]).add(n[i-1]),s=yh),"centripetal"===this.curveType||"chordal"===this.curveType){const e="chordal"===this.curveType?.5:.25;let t=Math.pow(o.distanceToSquared(c),e),n=Math.pow(c.distanceToSquared(u),e),i=Math.pow(u.distanceToSquared(s),e);n<1e-4&&(n=1),t<1e-4&&(t=n),i<1e-4&&(i=n),xh.initNonuniformCatmullRom(o.x,c.x,u.x,s.x,t,n,i),bh.initNonuniformCatmullRom(o.y,c.y,u.y,s.y,t,n,i),wh.initNonuniformCatmullRom(o.z,c.z,u.z,s.z,t,n,i)}else"catmullrom"===this.curveType&&(xh.initCatmullRom(o.x,c.x,u.x,s.x,this.tension),bh.initCatmullRom(o.y,c.y,u.y,s.y,this.tension),wh.initCatmullRom(o.z,c.z,u.z,s.z,this.tension));return t.set(xh.calc(l),bh.calc(l),wh.calc(l)),t},_h.prototype.copy=function(e){fh.prototype.copy.call(this,e),this.points=[];for(let t=0,n=e.points.length;t<n;t++){const n=e.points[t];this.points.push(n.clone())}return this.closed=e.closed,this.curveType=e.curveType,this.tension=e.tension,this},_h.prototype.toJSON=function(){const e=fh.prototype.toJSON.call(this);e.points=[];for(let t=0,n=this.points.length;t<n;t++){const n=this.points[t];e.points.push(n.toArray())}return e.closed=this.closed,e.curveType=this.curveType,e.tension=this.tension,e},_h.prototype.fromJSON=function(e){fh.prototype.fromJSON.call(this,e),this.points=[];for(let t=0,n=e.points.length;t<n;t++){const n=e.points[t];this.points.push((new oi).fromArray(n))}return this.closed=e.closed,this.curveType=e.curveType,this.tension=e.tension,this},Th.prototype=Object.create(fh.prototype),Th.prototype.constructor=Th,Th.prototype.isCubicBezierCurve=!0,Th.prototype.getPoint=function(e){const t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new Yn,n=this.v0,i=this.v1,r=this.v2,o=this.v3;return t.set(Eh(e,n.x,i.x,r.x,o.x),Eh(e,n.y,i.y,r.y,o.y)),t},Th.prototype.copy=function(e){return fh.prototype.copy.call(this,e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this.v3.copy(e.v3),this},Th.prototype.toJSON=function(){const e=fh.prototype.toJSON.call(this);return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e.v3=this.v3.toArray(),e},Th.prototype.fromJSON=function(e){return fh.prototype.fromJSON.call(this,e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this.v3.fromArray(e.v3),this},Ah.prototype=Object.create(fh.prototype),Ah.prototype.constructor=Ah,Ah.prototype.isCubicBezierCurve3=!0,Ah.prototype.getPoint=function(e){const t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new oi,n=this.v0,i=this.v1,r=this.v2,o=this.v3;return t.set(Eh(e,n.x,i.x,r.x,o.x),Eh(e,n.y,i.y,r.y,o.y),Eh(e,n.z,i.z,r.z,o.z)),t},Ah.prototype.copy=function(e){return fh.prototype.copy.call(this,e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this.v3.copy(e.v3),this},Ah.prototype.toJSON=function(){const e=fh.prototype.toJSON.call(this);return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e.v3=this.v3.toArray(),e},Ah.prototype.fromJSON=function(e){return fh.prototype.fromJSON.call(this,e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this.v3.fromArray(e.v3),this},Ch.prototype=Object.create(fh.prototype),Ch.prototype.constructor=Ch,Ch.prototype.isLineCurve=!0,Ch.prototype.getPoint=function(e){const t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new Yn;return 1===e?t.copy(this.v2):(t.copy(this.v2).sub(this.v1),t.multiplyScalar(e).add(this.v1)),t},Ch.prototype.getPointAt=function(e,t){return this.getPoint(e,t)},Ch.prototype.getTangent=function(e,t){const n=t||new Yn;return n.copy(this.v2).sub(this.v1).normalize(),n},Ch.prototype.copy=function(e){return fh.prototype.copy.call(this,e),this.v1.copy(e.v1),this.v2.copy(e.v2),this},Ch.prototype.toJSON=function(){const e=fh.prototype.toJSON.call(this);return e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e},Ch.prototype.fromJSON=function(e){return fh.prototype.fromJSON.call(this,e),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this},Rh.prototype=Object.create(fh.prototype),Rh.prototype.constructor=Rh,Rh.prototype.isLineCurve3=!0,Rh.prototype.getPoint=function(e){const t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new oi;return 1===e?t.copy(this.v2):(t.copy(this.v2).sub(this.v1),t.multiplyScalar(e).add(this.v1)),t},Rh.prototype.getPointAt=function(e,t){return this.getPoint(e,t)},Rh.prototype.copy=function(e){return fh.prototype.copy.call(this,e),this.v1.copy(e.v1),this.v2.copy(e.v2),this},Rh.prototype.toJSON=function(){const e=fh.prototype.toJSON.call(this);return e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e},Rh.prototype.fromJSON=function(e){return fh.prototype.fromJSON.call(this,e),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this},Lh.prototype=Object.create(fh.prototype),Lh.prototype.constructor=Lh,Lh.prototype.isQuadraticBezierCurve=!0,Lh.prototype.getPoint=function(e){const t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new Yn,n=this.v0,i=this.v1,r=this.v2;return t.set(Mh(e,n.x,i.x,r.x),Mh(e,n.y,i.y,r.y)),t},Lh.prototype.copy=function(e){return fh.prototype.copy.call(this,e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this},Lh.prototype.toJSON=function(){const e=fh.prototype.toJSON.call(this);return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e},Lh.prototype.fromJSON=function(e){return fh.prototype.fromJSON.call(this,e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this},Ph.prototype=Object.create(fh.prototype),Ph.prototype.constructor=Ph,Ph.prototype.isQuadraticBezierCurve3=!0,Ph.prototype.getPoint=function(e){const t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new oi,n=this.v0,i=this.v1,r=this.v2;return t.set(Mh(e,n.x,i.x,r.x),Mh(e,n.y,i.y,r.y),Mh(e,n.z,i.z,r.z)),t},Ph.prototype.copy=function(e){return fh.prototype.copy.call(this,e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this},Ph.prototype.toJSON=function(){const e=fh.prototype.toJSON.call(this);return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e},Ph.prototype.fromJSON=function(e){return fh.prototype.fromJSON.call(this,e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this},Nh.prototype=Object.create(fh.prototype),Nh.prototype.constructor=Nh,Nh.prototype.isSplineCurve=!0,Nh.prototype.getPoint=function(e){const t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new Yn,n=this.points,i=(n.length-1)*e,r=Math.floor(i),o=i-r,s=n[0===r?r:r-1],a=n[r],l=n[r>n.length-2?n.length-1:r+1],c=n[r>n.length-3?n.length-1:r+2];return t.set(Sh(o,s.x,a.x,l.x,c.x),Sh(o,s.y,a.y,l.y,c.y)),t},Nh.prototype.copy=function(e){fh.prototype.copy.call(this,e),this.points=[];for(let t=0,n=e.points.length;t<n;t++){const n=e.points[t];this.points.push(n.clone())}return this},Nh.prototype.toJSON=function(){const e=fh.prototype.toJSON.call(this);e.points=[];for(let t=0,n=this.points.length;t<n;t++){const n=this.points[t];e.points.push(n.toArray())}return e},Nh.prototype.fromJSON=function(e){fh.prototype.fromJSON.call(this,e),this.points=[];for(let t=0,n=e.points.length;t<n;t++){const n=e.points[t];this.points.push((new Yn).fromArray(n))}return this};var kh=Object.freeze({__proto__:null,ArcCurve:gh,CatmullRomCurve3:_h,CubicBezierCurve:Th,CubicBezierCurve3:Ah,EllipseCurve:mh,LineCurve:Ch,LineCurve3:Rh,QuadraticBezierCurve:Lh,QuadraticBezierCurve3:Ph,SplineCurve:Nh});function Oh(){fh.call(this),this.type="CurvePath",this.curves=[],this.autoClose=!1}function Dh(e){Oh.call(this),this.type="Path",this.currentPoint=new Yn,e&&this.setFromPoints(e)}function jh(e){Dh.call(this,e),this.uuid=Xn.generateUUID(),this.type="Shape",this.holes=[]}function Fh(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;rr.call(this),this.type="Light",this.color=new Tr(e),this.intensity=t}function Ih(e,t,n){Fh.call(this,e,n),this.type="HemisphereLight",this.position.copy(rr.DefaultUp),this.updateMatrix(),this.groundColor=new Tr(t)}function zh(e){this.camera=e,this.bias=0,this.normalBias=0,this.radius=1,this.mapSize=new Yn(512,512),this.map=null,this.mapPass=null,this.matrix=new ki,this.autoUpdate=!0,this.needsUpdate=!1,this._frustum=new Bo,this._frameExtents=new Yn(1,1),this._viewportCount=1,this._viewports=[new ti(0,0,1,1)]}function Bh(){zh.call(this,new Po(50,1,.5,500)),this.focus=1}function Uh(e,t,n,i,r,o){Fh.call(this,e,t),this.type="SpotLight",this.position.copy(rr.DefaultUp),this.updateMatrix(),this.target=new rr,Object.defineProperty(this,"power",{get:function(){return this.intensity*Math.PI},set:function(e){this.intensity=e/Math.PI}}),this.distance=void 0!==n?n:0,this.angle=void 0!==i?i:Math.PI/3,this.penumbra=void 0!==r?r:0,this.decay=void 0!==o?o:1,this.shadow=new Bh}function Hh(){zh.call(this,new Po(90,1,.5,500)),this._frameExtents=new Yn(4,2),this._viewportCount=6,this._viewports=[new ti(2,1,1,1),new ti(0,1,1,1),new ti(3,1,1,1),new ti(1,1,1,1),new ti(3,0,1,1),new ti(1,0,1,1)],this._cubeDirections=[new oi(1,0,0),new oi(-1,0,0),new oi(0,0,1),new oi(0,0,-1),new oi(0,1,0),new oi(0,-1,0)],this._cubeUps=[new oi(0,1,0),new oi(0,1,0),new oi(0,1,0),new oi(0,1,0),new oi(0,0,1),new oi(0,0,-1)]}function Gh(e,t,n,i){Fh.call(this,e,t),this.type="PointLight",Object.defineProperty(this,"power",{get:function(){return 4*this.intensity*Math.PI},set:function(e){this.intensity=e/(4*Math.PI)}}),this.distance=void 0!==n?n:0,this.decay=void 0!==i?i:1,this.shadow=new Hh}function Vh(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:-1,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:-1,r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:.1,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:2e3;Lo.call(this),this.type="OrthographicCamera",this.zoom=1,this.view=null,this.left=e,this.right=t,this.top=n,this.bottom=i,this.near=r,this.far=o,this.updateProjectionMatrix()}function Wh(){zh.call(this,new Vh(-5,5,5,-5,.5,500))}function qh(e,t){Fh.call(this,e,t),this.type="DirectionalLight",this.position.copy(rr.DefaultUp),this.updateMatrix(),this.target=new rr,this.shadow=new Wh}function Xh(e,t){Fh.call(this,e,t),this.type="AmbientLight"}function Yh(e,t,n,i){Fh.call(this,e,t),this.type="RectAreaLight",this.width=void 0!==n?n:10,this.height=void 0!==i?i:10}Oh.prototype=Object.assign(Object.create(fh.prototype),{constructor:Oh,add:function(e){this.curves.push(e)},closePath:function(){const e=this.curves[0].getPoint(0),t=this.curves[this.curves.length-1].getPoint(1);e.equals(t)||this.curves.push(new Ch(t,e))},getPoint:function(e){const t=e*this.getLength(),n=this.getCurveLengths();let i=0;for(;i<n.length;){if(n[i]>=t){const e=n[i]-t,r=this.curves[i],o=r.getLength(),s=0===o?0:1-e/o;return r.getPointAt(s)}i++}return null},getLength:function(){const e=this.getCurveLengths();return e[e.length-1]},updateArcLengths:function(){this.needsUpdate=!0,this.cacheLengths=null,this.getCurveLengths()},getCurveLengths:function(){if(this.cacheLengths&&this.cacheLengths.length===this.curves.length)return this.cacheLengths;const e=[];let t=0;for(let n=0,i=this.curves.length;n<i;n++)t+=this.curves[n].getLength(),e.push(t);return this.cacheLengths=e,e},getSpacedPoints:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:40;const t=[];for(let n=0;n<=e;n++)t.push(this.getPoint(n/e));return this.autoClose&&t.push(t[0]),t},getPoints:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:12;const t=[];let n;for(let i=0,r=this.curves;i<r.length;i++){const o=r[i],s=o&&o.isEllipseCurve?2*e:o&&(o.isLineCurve||o.isLineCurve3)?1:o&&o.isSplineCurve?e*o.points.length:e,a=o.getPoints(s);for(let e=0;e<a.length;e++){const i=a[e];n&&n.equals(i)||(t.push(i),n=i)}}return this.autoClose&&t.length>1&&!t[t.length-1].equals(t[0])&&t.push(t[0]),t},copy:function(e){fh.prototype.copy.call(this,e),this.curves=[];for(let t=0,n=e.curves.length;t<n;t++){const n=e.curves[t];this.curves.push(n.clone())}return this.autoClose=e.autoClose,this},toJSON:function(){const e=fh.prototype.toJSON.call(this);e.autoClose=this.autoClose,e.curves=[];for(let t=0,n=this.curves.length;t<n;t++){const n=this.curves[t];e.curves.push(n.toJSON())}return e},fromJSON:function(e){fh.prototype.fromJSON.call(this,e),this.autoClose=e.autoClose,this.curves=[];for(let t=0,n=e.curves.length;t<n;t++){const n=e.curves[t];this.curves.push((new kh[n.type]).fromJSON(n))}return this}}),Dh.prototype=Object.assign(Object.create(Oh.prototype),{constructor:Dh,setFromPoints:function(e){this.moveTo(e[0].x,e[0].y);for(let t=1,n=e.length;t<n;t++)this.lineTo(e[t].x,e[t].y);return this},moveTo:function(e,t){return this.currentPoint.set(e,t),this},lineTo:function(e,t){const n=new Ch(this.currentPoint.clone(),new Yn(e,t));return this.curves.push(n),this.currentPoint.set(e,t),this},quadraticCurveTo:function(e,t,n,i){const r=new Lh(this.currentPoint.clone(),new Yn(e,t),new Yn(n,i));return this.curves.push(r),this.currentPoint.set(n,i),this},bezierCurveTo:function(e,t,n,i,r,o){const s=new Th(this.currentPoint.clone(),new Yn(e,t),new Yn(n,i),new Yn(r,o));return this.curves.push(s),this.currentPoint.set(r,o),this},splineThru:function(e){const t=new Nh([this.currentPoint.clone()].concat(e));return this.curves.push(t),this.currentPoint.copy(e[e.length-1]),this},arc:function(e,t,n,i,r,o){const s=this.currentPoint.x,a=this.currentPoint.y;return this.absarc(e+s,t+a,n,i,r,o),this},absarc:function(e,t,n,i,r,o){return this.absellipse(e,t,n,n,i,r,o),this},ellipse:function(e,t,n,i,r,o,s,a){const l=this.currentPoint.x,c=this.currentPoint.y;return this.absellipse(e+l,t+c,n,i,r,o,s,a),this},absellipse:function(e,t,n,i,r,o,s,a){const l=new mh(e,t,n,i,r,o,s,a);if(this.curves.length>0){const e=l.getPoint(0);e.equals(this.currentPoint)||this.lineTo(e.x,e.y)}this.curves.push(l);const c=l.getPoint(1);return this.currentPoint.copy(c),this},copy:function(e){return Oh.prototype.copy.call(this,e),this.currentPoint.copy(e.currentPoint),this},toJSON:function(){const e=Oh.prototype.toJSON.call(this);return e.currentPoint=this.currentPoint.toArray(),e},fromJSON:function(e){return Oh.prototype.fromJSON.call(this,e),this.currentPoint.fromArray(e.currentPoint),this}}),jh.prototype=Object.assign(Object.create(Dh.prototype),{constructor:jh,getPointsHoles:function(e){const t=[];for(let n=0,i=this.holes.length;n<i;n++)t[n]=this.holes[n].getPoints(e);return t},extractPoints:function(e){return{shape:this.getPoints(e),holes:this.getPointsHoles(e)}},copy:function(e){Dh.prototype.copy.call(this,e),this.holes=[];for(let t=0,n=e.holes.length;t<n;t++){const n=e.holes[t];this.holes.push(n.clone())}return this},toJSON:function(){const e=Dh.prototype.toJSON.call(this);e.uuid=this.uuid,e.holes=[];for(let t=0,n=this.holes.length;t<n;t++){const n=this.holes[t];e.holes.push(n.toJSON())}return e},fromJSON:function(e){Dh.prototype.fromJSON.call(this,e),this.uuid=e.uuid,this.holes=[];for(let t=0,n=e.holes.length;t<n;t++){const n=e.holes[t];this.holes.push((new Dh).fromJSON(n))}return this}}),Fh.prototype=Object.assign(Object.create(rr.prototype),{constructor:Fh,isLight:!0,copy:function(e){return rr.prototype.copy.call(this,e),this.color.copy(e.color),this.intensity=e.intensity,this},toJSON:function(e){const t=rr.prototype.toJSON.call(this,e);return t.object.color=this.color.getHex(),t.object.intensity=this.intensity,void 0!==this.groundColor&&(t.object.groundColor=this.groundColor.getHex()),void 0!==this.distance&&(t.object.distance=this.distance),void 0!==this.angle&&(t.object.angle=this.angle),void 0!==this.decay&&(t.object.decay=this.decay),void 0!==this.penumbra&&(t.object.penumbra=this.penumbra),void 0!==this.shadow&&(t.object.shadow=this.shadow.toJSON()),t}}),Ih.prototype=Object.assign(Object.create(Fh.prototype),{constructor:Ih,isHemisphereLight:!0,copy:function(e){return Fh.prototype.copy.call(this,e),this.groundColor.copy(e.groundColor),this}}),Object.assign(zh.prototype,{_projScreenMatrix:new ki,_lightPositionWorld:new oi,_lookTarget:new oi,getViewportCount:function(){return this._viewportCount},getFrustum:function(){return this._frustum},updateMatrices:function(e){const t=this.camera,n=this.matrix,i=this._projScreenMatrix,r=this._lookTarget,o=this._lightPositionWorld;o.setFromMatrixPosition(e.matrixWorld),t.position.copy(o),r.setFromMatrixPosition(e.target.matrixWorld),t.lookAt(r),t.updateMatrixWorld(),i.multiplyMatrices(t.projectionMatrix,t.matrixWorldInverse),this._frustum.setFromProjectionMatrix(i),n.set(.5,0,0,.5,0,.5,0,.5,0,0,.5,.5,0,0,0,1),n.multiply(t.projectionMatrix),n.multiply(t.matrixWorldInverse)},getViewport:function(e){return this._viewports[e]},getFrameExtents:function(){return this._frameExtents},copy:function(e){return this.camera=e.camera.clone(),this.bias=e.bias,this.radius=e.radius,this.mapSize.copy(e.mapSize),this},clone:function(){return(new this.constructor).copy(this)},toJSON:function(){const e={};return 0!==this.bias&&(e.bias=this.bias),0!==this.normalBias&&(e.normalBias=this.normalBias),1!==this.radius&&(e.radius=this.radius),512===this.mapSize.x&&512===this.mapSize.y||(e.mapSize=this.mapSize.toArray()),e.camera=this.camera.toJSON(!1).object,delete e.camera.matrix,e}}),Bh.prototype=Object.assign(Object.create(zh.prototype),{constructor:Bh,isSpotLightShadow:!0,updateMatrices:function(e){const t=this.camera,n=2*Xn.RAD2DEG*e.angle*this.focus,i=this.mapSize.width/this.mapSize.height,r=e.distance||t.far;n===t.fov&&i===t.aspect&&r===t.far||(t.fov=n,t.aspect=i,t.far=r,t.updateProjectionMatrix()),zh.prototype.updateMatrices.call(this,e)}}),Uh.prototype=Object.assign(Object.create(Fh.prototype),{constructor:Uh,isSpotLight:!0,copy:function(e){return Fh.prototype.copy.call(this,e),this.distance=e.distance,this.angle=e.angle,this.penumbra=e.penumbra,this.decay=e.decay,this.target=e.target.clone(),this.shadow=e.shadow.clone(),this}}),Hh.prototype=Object.assign(Object.create(zh.prototype),{constructor:Hh,isPointLightShadow:!0,updateMatrices:function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;const n=this.camera,i=this.matrix,r=this._lightPositionWorld,o=this._lookTarget,s=this._projScreenMatrix;r.setFromMatrixPosition(e.matrixWorld),n.position.copy(r),o.copy(n.position),o.add(this._cubeDirections[t]),n.up.copy(this._cubeUps[t]),n.lookAt(o),n.updateMatrixWorld(),i.makeTranslation(-r.x,-r.y,-r.z),s.multiplyMatrices(n.projectionMatrix,n.matrixWorldInverse),this._frustum.setFromProjectionMatrix(s)}}),Gh.prototype=Object.assign(Object.create(Fh.prototype),{constructor:Gh,isPointLight:!0,copy:function(e){return Fh.prototype.copy.call(this,e),this.distance=e.distance,this.decay=e.decay,this.shadow=e.shadow.clone(),this}}),Vh.prototype=Object.assign(Object.create(Lo.prototype),{constructor:Vh,isOrthographicCamera:!0,copy:function(e,t){return Lo.prototype.copy.call(this,e,t),this.left=e.left,this.right=e.right,this.top=e.top,this.bottom=e.bottom,this.near=e.near,this.far=e.far,this.zoom=e.zoom,this.view=null===e.view?null:Object.assign({},e.view),this},setViewOffset:function(e,t,n,i,r,o){null===this.view&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=e,this.view.fullHeight=t,this.view.offsetX=n,this.view.offsetY=i,this.view.width=r,this.view.height=o,this.updateProjectionMatrix()},clearViewOffset:function(){null!==this.view&&(this.view.enabled=!1),this.updateProjectionMatrix()},updateProjectionMatrix:function(){const e=(this.right-this.left)/(2*this.zoom),t=(this.top-this.bottom)/(2*this.zoom),n=(this.right+this.left)/2,i=(this.top+this.bottom)/2;let r=n-e,o=n+e,s=i+t,a=i-t;if(null!==this.view&&this.view.enabled){const e=(this.right-this.left)/this.view.fullWidth/this.zoom,t=(this.top-this.bottom)/this.view.fullHeight/this.zoom;r+=e*this.view.offsetX,o=r+e*this.view.width,s-=t*this.view.offsetY,a=s-t*this.view.height}this.projectionMatrix.makeOrthographic(r,o,s,a,this.near,this.far),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()},toJSON:function(e){const t=rr.prototype.toJSON.call(this,e);return t.object.zoom=this.zoom,t.object.left=this.left,t.object.right=this.right,t.object.top=this.top,t.object.bottom=this.bottom,t.object.near=this.near,t.object.far=this.far,null!==this.view&&(t.object.view=Object.assign({},this.view)),t}}),Wh.prototype=Object.assign(Object.create(zh.prototype),{constructor:Wh,isDirectionalLightShadow:!0,updateMatrices:function(e){zh.prototype.updateMatrices.call(this,e)}}),qh.prototype=Object.assign(Object.create(Fh.prototype),{constructor:qh,isDirectionalLight:!0,copy:function(e){return Fh.prototype.copy.call(this,e),this.target=e.target.clone(),this.shadow=e.shadow.clone(),this}}),Xh.prototype=Object.assign(Object.create(Fh.prototype),{constructor:Xh,isAmbientLight:!0}),Yh.prototype=Object.assign(Object.create(Fh.prototype),{constructor:Yh,isRectAreaLight:!0,copy:function(e){return Fh.prototype.copy.call(this,e),this.width=e.width,this.height=e.height,this},toJSON:function(e){const t=Fh.prototype.toJSON.call(this,e);return t.object.width=this.width,t.object.height=this.height,t}});class Jh{constructor(){Object.defineProperty(this,"isSphericalHarmonics3",{value:!0}),this.coefficients=[];for(let e=0;e<9;e++)this.coefficients.push(new oi)}set(e){for(let t=0;t<9;t++)this.coefficients[t].copy(e[t]);return this}zero(){for(let e=0;e<9;e++)this.coefficients[e].set(0,0,0);return this}getAt(e,t){const n=e.x,i=e.y,r=e.z,o=this.coefficients;return t.copy(o[0]).multiplyScalar(.282095),t.addScaledVector(o[1],.488603*i),t.addScaledVector(o[2],.488603*r),t.addScaledVector(o[3],.488603*n),t.addScaledVector(o[4],n*i*1.092548),t.addScaledVector(o[5],i*r*1.092548),t.addScaledVector(o[6],.315392*(3*r*r-1)),t.addScaledVector(o[7],n*r*1.092548),t.addScaledVector(o[8],.546274*(n*n-i*i)),t}getIrradianceAt(e,t){const n=e.x,i=e.y,r=e.z,o=this.coefficients;return t.copy(o[0]).multiplyScalar(.886227),t.addScaledVector(o[1],1.023328*i),t.addScaledVector(o[2],1.023328*r),t.addScaledVector(o[3],1.023328*n),t.addScaledVector(o[4],.858086*n*i),t.addScaledVector(o[5],.858086*i*r),t.addScaledVector(o[6],.743125*r*r-.247708),t.addScaledVector(o[7],.858086*n*r),t.addScaledVector(o[8],.429043*(n*n-i*i)),t}add(e){for(let t=0;t<9;t++)this.coefficients[t].add(e.coefficients[t]);return this}addScaledSH(e,t){for(let n=0;n<9;n++)this.coefficients[n].addScaledVector(e.coefficients[n],t);return this}scale(e){for(let t=0;t<9;t++)this.coefficients[t].multiplyScalar(e);return this}lerp(e,t){for(let n=0;n<9;n++)this.coefficients[n].lerp(e.coefficients[n],t);return this}equals(e){for(let t=0;t<9;t++)if(!this.coefficients[t].equals(e.coefficients[t]))return!1;return!0}copy(e){return this.set(e.coefficients)}clone(){return(new this.constructor).copy(this)}fromArray(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;const n=this.coefficients;for(let i=0;i<9;i++)n[i].fromArray(e,t+3*i);return this}toArray(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;const n=this.coefficients;for(let i=0;i<9;i++)n[i].toArray(e,t+3*i);return e}static getBasisAt(e,t){const n=e.x,i=e.y,r=e.z;t[0]=.282095,t[1]=.488603*i,t[2]=.488603*r,t[3]=.488603*n,t[4]=1.092548*n*i,t[5]=1.092548*i*r,t[6]=.315392*(3*r*r-1),t[7]=1.092548*n*r,t[8]=.546274*(n*n-i*i)}}function Zh(e,t){Fh.call(this,void 0,t),this.type="LightProbe",this.sh=void 0!==e?e:new Jh}function Kh(e){oh.call(this,e),this.textures={}}Zh.prototype=Object.assign(Object.create(Fh.prototype),{constructor:Zh,isLightProbe:!0,copy:function(e){return Fh.prototype.copy.call(this,e),this.sh.copy(e.sh),this},fromJSON:function(e){return this.intensity=e.intensity,this.sh.fromArray(e.sh),this},toJSON:function(e){const t=Fh.prototype.toJSON.call(this,e);return t.object.sh=this.sh.toArray(),t}}),Kh.prototype=Object.assign(Object.create(oh.prototype),{constructor:Kh,load:function(e,t,n,i){const r=this,o=new ah(r.manager);o.setPath(r.path),o.setRequestHeader(r.requestHeader),o.setWithCredentials(r.withCredentials),o.load(e,(function(n){try{t(r.parse(JSON.parse(n)))}catch(o){i?i(o):console.error(o),r.manager.itemError(e)}}),n,i)},parse:function(e){const t=this.textures;function n(e){return void 0===t[e]&&console.warn("THREE.MaterialLoader: Undefined texture",e),t[e]}const i=new Bu[e.type];if(void 0!==e.uuid&&(i.uuid=e.uuid),void 0!==e.name&&(i.name=e.name),void 0!==e.color&&void 0!==i.color&&i.color.setHex(e.color),void 0!==e.roughness&&(i.roughness=e.roughness),void 0!==e.metalness&&(i.metalness=e.metalness),void 0!==e.sheen&&(i.sheen=(new Tr).setHex(e.sheen)),void 0!==e.emissive&&void 0!==i.emissive&&i.emissive.setHex(e.emissive),void 0!==e.specular&&void 0!==i.specular&&i.specular.setHex(e.specular),void 0!==e.shininess&&(i.shininess=e.shininess),void 0!==e.clearcoat&&(i.clearcoat=e.clearcoat),void 0!==e.clearcoatRoughness&&(i.clearcoatRoughness=e.clearcoatRoughness),void 0!==e.fog&&(i.fog=e.fog),void 0!==e.flatShading&&(i.flatShading=e.flatShading),void 0!==e.blending&&(i.blending=e.blending),void 0!==e.combine&&(i.combine=e.combine),void 0!==e.side&&(i.side=e.side),void 0!==e.opacity&&(i.opacity=e.opacity),void 0!==e.transparent&&(i.transparent=e.transparent),void 0!==e.alphaTest&&(i.alphaTest=e.alphaTest),void 0!==e.depthTest&&(i.depthTest=e.depthTest),void 0!==e.depthWrite&&(i.depthWrite=e.depthWrite),void 0!==e.colorWrite&&(i.colorWrite=e.colorWrite),void 0!==e.stencilWrite&&(i.stencilWrite=e.stencilWrite),void 0!==e.stencilWriteMask&&(i.stencilWriteMask=e.stencilWriteMask),void 0!==e.stencilFunc&&(i.stencilFunc=e.stencilFunc),void 0!==e.stencilRef&&(i.stencilRef=e.stencilRef),void 0!==e.stencilFuncMask&&(i.stencilFuncMask=e.stencilFuncMask),void 0!==e.stencilFail&&(i.stencilFail=e.stencilFail),void 0!==e.stencilZFail&&(i.stencilZFail=e.stencilZFail),void 0!==e.stencilZPass&&(i.stencilZPass=e.stencilZPass),void 0!==e.wireframe&&(i.wireframe=e.wireframe),void 0!==e.wireframeLinewidth&&(i.wireframeLinewidth=e.wireframeLinewidth),void 0!==e.wireframeLinecap&&(i.wireframeLinecap=e.wireframeLinecap),void 0!==e.wireframeLinejoin&&(i.wireframeLinejoin=e.wireframeLinejoin),void 0!==e.rotation&&(i.rotation=e.rotation),1!==e.linewidth&&(i.linewidth=e.linewidth),void 0!==e.dashSize&&(i.dashSize=e.dashSize),void 0!==e.gapSize&&(i.gapSize=e.gapSize),void 0!==e.scale&&(i.scale=e.scale),void 0!==e.polygonOffset&&(i.polygonOffset=e.polygonOffset),void 0!==e.polygonOffsetFactor&&(i.polygonOffsetFactor=e.polygonOffsetFactor),void 0!==e.polygonOffsetUnits&&(i.polygonOffsetUnits=e.polygonOffsetUnits),void 0!==e.skinning&&(i.skinning=e.skinning),void 0!==e.morphTargets&&(i.morphTargets=e.morphTargets),void 0!==e.morphNormals&&(i.morphNormals=e.morphNormals),void 0!==e.dithering&&(i.dithering=e.dithering),void 0!==e.vertexTangents&&(i.vertexTangents=e.vertexTangents),void 0!==e.visible&&(i.visible=e.visible),void 0!==e.toneMapped&&(i.toneMapped=e.toneMapped),void 0!==e.userData&&(i.userData=e.userData),void 0!==e.vertexColors&&("number"===typeof e.vertexColors?i.vertexColors=e.vertexColors>0:i.vertexColors=e.vertexColors),void 0!==e.uniforms)for(const r in e.uniforms){const t=e.uniforms[r];switch(i.uniforms[r]={},t.type){case"t":i.uniforms[r].value=n(t.value);break;case"c":i.uniforms[r].value=(new Tr).setHex(t.value);break;case"v2":i.uniforms[r].value=(new Yn).fromArray(t.value);break;case"v3":i.uniforms[r].value=(new oi).fromArray(t.value);break;case"v4":i.uniforms[r].value=(new ti).fromArray(t.value);break;case"m3":i.uniforms[r].value=(new Jn).fromArray(t.value);break;case"m4":i.uniforms[r].value=(new ki).fromArray(t.value);break;default:i.uniforms[r].value=t.value}}if(void 0!==e.defines&&(i.defines=e.defines),void 0!==e.vertexShader&&(i.vertexShader=e.vertexShader),void 0!==e.fragmentShader&&(i.fragmentShader=e.fragmentShader),void 0!==e.extensions)for(const r in e.extensions)i.extensions[r]=e.extensions[r];if(void 0!==e.shading&&(i.flatShading=1===e.shading),void 0!==e.size&&(i.size=e.size),void 0!==e.sizeAttenuation&&(i.sizeAttenuation=e.sizeAttenuation),void 0!==e.map&&(i.map=n(e.map)),void 0!==e.matcap&&(i.matcap=n(e.matcap)),void 0!==e.alphaMap&&(i.alphaMap=n(e.alphaMap)),void 0!==e.bumpMap&&(i.bumpMap=n(e.bumpMap)),void 0!==e.bumpScale&&(i.bumpScale=e.bumpScale),void 0!==e.normalMap&&(i.normalMap=n(e.normalMap)),void 0!==e.normalMapType&&(i.normalMapType=e.normalMapType),void 0!==e.normalScale){let t=e.normalScale;!1===Array.isArray(t)&&(t=[t,t]),i.normalScale=(new Yn).fromArray(t)}return void 0!==e.displacementMap&&(i.displacementMap=n(e.displacementMap)),void 0!==e.displacementScale&&(i.displacementScale=e.displacementScale),void 0!==e.displacementBias&&(i.displacementBias=e.displacementBias),void 0!==e.roughnessMap&&(i.roughnessMap=n(e.roughnessMap)),void 0!==e.metalnessMap&&(i.metalnessMap=n(e.metalnessMap)),void 0!==e.emissiveMap&&(i.emissiveMap=n(e.emissiveMap)),void 0!==e.emissiveIntensity&&(i.emissiveIntensity=e.emissiveIntensity),void 0!==e.specularMap&&(i.specularMap=n(e.specularMap)),void 0!==e.envMap&&(i.envMap=n(e.envMap)),void 0!==e.envMapIntensity&&(i.envMapIntensity=e.envMapIntensity),void 0!==e.reflectivity&&(i.reflectivity=e.reflectivity),void 0!==e.refractionRatio&&(i.refractionRatio=e.refractionRatio),void 0!==e.lightMap&&(i.lightMap=n(e.lightMap)),void 0!==e.lightMapIntensity&&(i.lightMapIntensity=e.lightMapIntensity),void 0!==e.aoMap&&(i.aoMap=n(e.aoMap)),void 0!==e.aoMapIntensity&&(i.aoMapIntensity=e.aoMapIntensity),void 0!==e.gradientMap&&(i.gradientMap=n(e.gradientMap)),void 0!==e.clearcoatMap&&(i.clearcoatMap=n(e.clearcoatMap)),void 0!==e.clearcoatRoughnessMap&&(i.clearcoatRoughnessMap=n(e.clearcoatRoughnessMap)),void 0!==e.clearcoatNormalMap&&(i.clearcoatNormalMap=n(e.clearcoatNormalMap)),void 0!==e.clearcoatNormalScale&&(i.clearcoatNormalScale=(new Yn).fromArray(e.clearcoatNormalScale)),void 0!==e.transmission&&(i.transmission=e.transmission),void 0!==e.transmissionMap&&(i.transmissionMap=n(e.transmissionMap)),i},setTextures:function(e){return this.textures=e,this}});const Qh={decodeText:function(e){if("undefined"!==typeof TextDecoder)return(new TextDecoder).decode(e);let t="";for(let i=0,r=e.length;i<r;i++)t+=String.fromCharCode(e[i]);try{return decodeURIComponent(escape(t))}catch(n){return t}},extractUrlBase:function(e){const t=e.lastIndexOf("/");return-1===t?"./":e.substr(0,t+1)}};function $h(){to.call(this),this.type="InstancedBufferGeometry",this.instanceCount=1/0}function ed(e,t,n,i){"number"===typeof n&&(i=n,n=!1,console.error("THREE.InstancedBufferAttribute: The constructor now expects normalized as the third argument.")),kr.call(this,e,t,n),this.meshPerAttribute=i||1}function td(e){oh.call(this,e)}$h.prototype=Object.assign(Object.create(to.prototype),{constructor:$h,isInstancedBufferGeometry:!0,copy:function(e){return to.prototype.copy.call(this,e),this.instanceCount=e.instanceCount,this},clone:function(){return(new this.constructor).copy(this)},toJSON:function(){const e=to.prototype.toJSON.call(this);return e.instanceCount=this.instanceCount,e.isInstancedBufferGeometry=!0,e}}),ed.prototype=Object.assign(Object.create(kr.prototype),{constructor:ed,isInstancedBufferAttribute:!0,copy:function(e){return kr.prototype.copy.call(this,e),this.meshPerAttribute=e.meshPerAttribute,this},toJSON:function(){const e=kr.prototype.toJSON.call(this);return e.meshPerAttribute=this.meshPerAttribute,e.isInstancedBufferAttribute=!0,e}}),td.prototype=Object.assign(Object.create(oh.prototype),{constructor:td,load:function(e,t,n,i){const r=this,o=new ah(r.manager);o.setPath(r.path),o.setRequestHeader(r.requestHeader),o.setWithCredentials(r.withCredentials),o.load(e,(function(n){try{t(r.parse(JSON.parse(n)))}catch(o){i?i(o):console.error(o),r.manager.itemError(e)}}),n,i)},parse:function(e){const t={},n={};function i(e,i){if(void 0!==t[i])return t[i];const r=e.interleavedBuffers[i],o=function(e,t){if(void 0!==n[t])return n[t];const i=e.arrayBuffers,r=i[t],o=new Uint32Array(r).buffer;return n[t]=o,o}(e,r.buffer),s=new el(Xr(r.type,o),r.stride);return s.uuid=r.uuid,t[i]=s,s}const r=e.isInstancedBufferGeometry?new $h:new to,o=e.data.index;if(void 0!==o){const e=Xr(o.type,o.array);r.setIndex(new kr(e,1))}const s=e.data.attributes;for(const u in s){const t=s[u];let n;if(t.isInterleavedBufferAttribute){n=new nl(i(e.data,t.data),t.itemSize,t.offset,t.normalized)}else{const e=Xr(t.type,t.array);n=new(t.isInstancedBufferAttribute?ed:kr)(e,t.itemSize,t.normalized)}void 0!==t.name&&(n.name=t.name),r.setAttribute(u,n)}const a=e.data.morphAttributes;if(a)for(const u in a){const t=a[u],n=[];for(let r=0,o=t.length;r<o;r++){const o=t[r];let s;if(o.isInterleavedBufferAttribute){s=new nl(i(e.data,o.data),o.itemSize,o.offset,o.normalized)}else{s=new kr(Xr(o.type,o.array),o.itemSize,o.normalized)}void 0!==o.name&&(s.name=o.name),n.push(s)}r.morphAttributes[u]=n}e.data.morphTargetsRelative&&(r.morphTargetsRelative=!0);const l=e.data.groups||e.data.drawcalls||e.data.offsets;if(void 0!==l)for(let u=0,h=l.length;u!==h;++u){const e=l[u];r.addGroup(e.start,e.count,e.materialIndex)}const c=e.data.boundingSphere;if(void 0!==c){const e=new oi;void 0!==c.center&&e.fromArray(c.center),r.boundingSphere=new Mi(e,c.radius)}return e.name&&(r.name=e.name),e.userData&&(r.userData=e.userData),r}});class nd extends oh{constructor(e){super(e)}load(e,t,n,i){const r=this,o=""===this.path?Qh.extractUrlBase(e):this.path;this.resourcePath=this.resourcePath||o;const s=new ah(this.manager);s.setPath(this.path),s.setRequestHeader(this.requestHeader),s.setWithCredentials(this.withCredentials),s.load(e,(function(n){let o=null;try{o=JSON.parse(n)}catch(a){return void 0!==i&&i(a),void console.error("THREE:ObjectLoader: Can't parse "+e+".",a.message)}const s=o.metadata;void 0!==s&&void 0!==s.type&&"geometry"!==s.type.toLowerCase()?r.parse(o,t):console.error("THREE.ObjectLoader: Can't load "+e)}),n,i)}parse(e,t){const n=this.parseAnimations(e.animations),i=this.parseShapes(e.shapes),r=this.parseGeometries(e.geometries,i),o=this.parseImages(e.images,(function(){void 0!==t&&t(l)})),s=this.parseTextures(e.textures,o),a=this.parseMaterials(e.materials,s),l=this.parseObject(e.object,r,a,n),c=this.parseSkeletons(e.skeletons,l);if(this.bindSkeletons(l,c),void 0!==t){let e=!1;for(const t in o)if(o[t]instanceof HTMLImageElement){e=!0;break}!1===e&&t(l)}return l}parseShapes(e){const t={};if(void 0!==e)for(let n=0,i=e.length;n<i;n++){const i=(new jh).fromJSON(e[n]);t[i.uuid]=i}return t}parseSkeletons(e,t){const n={},i={};if(t.traverse((function(e){e.isBone&&(i[e.uuid]=e)})),void 0!==e)for(let r=0,o=e.length;r<o;r++){const t=(new Pl).fromJSON(e[r],i);n[t.uuid]=t}return n}parseGeometries(e,t){const n={};let i;if(void 0!==e){const r=new td;for(let o=0,s=e.length;o<s;o++){let s;const a=e[o];switch(a.type){case"PlaneGeometry":case"PlaneBufferGeometry":s=new Ru[a.type](a.width,a.height,a.widthSegments,a.heightSegments);break;case"BoxGeometry":case"BoxBufferGeometry":case"CubeGeometry":s=new Ru[a.type](a.width,a.height,a.depth,a.widthSegments,a.heightSegments,a.depthSegments);break;case"CircleGeometry":case"CircleBufferGeometry":s=new Ru[a.type](a.radius,a.segments,a.thetaStart,a.thetaLength);break;case"CylinderGeometry":case"CylinderBufferGeometry":s=new Ru[a.type](a.radiusTop,a.radiusBottom,a.height,a.radialSegments,a.heightSegments,a.openEnded,a.thetaStart,a.thetaLength);break;case"ConeGeometry":case"ConeBufferGeometry":s=new Ru[a.type](a.radius,a.height,a.radialSegments,a.heightSegments,a.openEnded,a.thetaStart,a.thetaLength);break;case"SphereGeometry":case"SphereBufferGeometry":s=new Ru[a.type](a.radius,a.widthSegments,a.heightSegments,a.phiStart,a.phiLength,a.thetaStart,a.thetaLength);break;case"DodecahedronGeometry":case"DodecahedronBufferGeometry":case"IcosahedronGeometry":case"IcosahedronBufferGeometry":case"OctahedronGeometry":case"OctahedronBufferGeometry":case"TetrahedronGeometry":case"TetrahedronBufferGeometry":s=new Ru[a.type](a.radius,a.detail);break;case"RingGeometry":case"RingBufferGeometry":s=new Ru[a.type](a.innerRadius,a.outerRadius,a.thetaSegments,a.phiSegments,a.thetaStart,a.thetaLength);break;case"TorusGeometry":case"TorusBufferGeometry":s=new Ru[a.type](a.radius,a.tube,a.radialSegments,a.tubularSegments,a.arc);break;case"TorusKnotGeometry":case"TorusKnotBufferGeometry":s=new Ru[a.type](a.radius,a.tube,a.tubularSegments,a.radialSegments,a.p,a.q);break;case"TubeGeometry":case"TubeBufferGeometry":s=new Ru[a.type]((new kh[a.path.type]).fromJSON(a.path),a.tubularSegments,a.radius,a.radialSegments,a.closed);break;case"LatheGeometry":case"LatheBufferGeometry":s=new Ru[a.type](a.points,a.segments,a.phiStart,a.phiLength);break;case"PolyhedronGeometry":case"PolyhedronBufferGeometry":s=new Ru[a.type](a.vertices,a.indices,a.radius,a.details);break;case"ShapeGeometry":case"ShapeBufferGeometry":i=[];for(let n=0,r=a.shapes.length;n<r;n++){const e=t[a.shapes[n]];i.push(e)}s=new Ru[a.type](i,a.curveSegments);break;case"ExtrudeGeometry":case"ExtrudeBufferGeometry":i=[];for(let n=0,r=a.shapes.length;n<r;n++){const e=t[a.shapes[n]];i.push(e)}const e=a.options.extrudePath;void 0!==e&&(a.options.extrudePath=(new kh[e.type]).fromJSON(e)),s=new Ru[a.type](i,a.options);break;case"BufferGeometry":case"InstancedBufferGeometry":s=r.parse(a);break;case"Geometry":console.error('THREE.ObjectLoader: Loading "Geometry" is not supported anymore.');break;default:console.warn('THREE.ObjectLoader: Unsupported geometry type "'+a.type+'"');continue}s.uuid=a.uuid,void 0!==a.name&&(s.name=a.name),!0===s.isBufferGeometry&&void 0!==a.userData&&(s.userData=a.userData),n[a.uuid]=s}}return n}parseMaterials(e,t){const n={},i={};if(void 0!==e){const r=new Kh;r.setTextures(t);for(let t=0,o=e.length;t<o;t++){const o=e[t];if("MultiMaterial"===o.type){const e=[];for(let t=0;t<o.materials.length;t++){const i=o.materials[t];void 0===n[i.uuid]&&(n[i.uuid]=r.parse(i)),e.push(n[i.uuid])}i[o.uuid]=e}else void 0===n[o.uuid]&&(n[o.uuid]=r.parse(o)),i[o.uuid]=n[o.uuid]}}return i}parseAnimations(e){const t={};if(void 0!==e)for(let n=0;n<e.length;n++){const i=e[n],r=eh.parse(i);t[r.uuid]=r}return t}parseImages(e,t){const n=this,i={};let r;function o(e){if("string"===typeof e){const t=e;return function(e){return n.manager.itemStart(e),r.load(e,(function(){n.manager.itemEnd(e)}),void 0,(function(){n.manager.itemError(e),n.manager.itemEnd(e)}))}(/^(\/\/)|([a-z]+:(\/\/)?)/i.test(t)?t:n.resourcePath+t)}return e.data?{data:Xr(e.type,e.data),width:e.width,height:e.height}:null}if(void 0!==e&&e.length>0){const n=new ih(t);r=new uh(n),r.setCrossOrigin(this.crossOrigin);for(let t=0,r=e.length;t<r;t++){const n=e[t],r=n.url;if(Array.isArray(r)){i[n.uuid]=[];for(let e=0,t=r.length;e<t;e++){const t=o(r[e]);null!==t&&(t instanceof HTMLImageElement?i[n.uuid].push(t):i[n.uuid].push(new Fo(t.data,t.width,t.height)))}}else{const e=o(n.url);null!==e&&(i[n.uuid]=e)}}}return i}parseTextures(e,t){function n(e,t){return"number"===typeof e?e:(console.warn("THREE.ObjectLoader.parseTexture: Constant should be in numeric form.",e),t[e])}const i={};if(void 0!==e)for(let r=0,o=e.length;r<o;r++){const o=e[r];let s;void 0===o.image&&console.warn('THREE.ObjectLoader: No "image" specified for',o.uuid),void 0===t[o.image]&&console.warn("THREE.ObjectLoader: Undefined image",o.image);const a=t[o.image];Array.isArray(a)?(s=new Do(a),6===a.length&&(s.needsUpdate=!0)):(s=a&&a.data?new Fo(a.data,a.width,a.height):new $n(a),a&&(s.needsUpdate=!0)),s.uuid=o.uuid,void 0!==o.name&&(s.name=o.name),void 0!==o.mapping&&(s.mapping=n(o.mapping,id)),void 0!==o.offset&&s.offset.fromArray(o.offset),void 0!==o.repeat&&s.repeat.fromArray(o.repeat),void 0!==o.center&&s.center.fromArray(o.center),void 0!==o.rotation&&(s.rotation=o.rotation),void 0!==o.wrap&&(s.wrapS=n(o.wrap[0],rd),s.wrapT=n(o.wrap[1],rd)),void 0!==o.format&&(s.format=o.format),void 0!==o.type&&(s.type=o.type),void 0!==o.encoding&&(s.encoding=o.encoding),void 0!==o.minFilter&&(s.minFilter=n(o.minFilter,od)),void 0!==o.magFilter&&(s.magFilter=n(o.magFilter,od)),void 0!==o.anisotropy&&(s.anisotropy=o.anisotropy),void 0!==o.flipY&&(s.flipY=o.flipY),void 0!==o.premultiplyAlpha&&(s.premultiplyAlpha=o.premultiplyAlpha),void 0!==o.unpackAlignment&&(s.unpackAlignment=o.unpackAlignment),i[o.uuid]=s}return i}parseObject(e,t,n,i){let r,o,s;function a(e){return void 0===t[e]&&console.warn("THREE.ObjectLoader: Undefined geometry",e),t[e]}function l(e){if(void 0!==e){if(Array.isArray(e)){const t=[];for(let i=0,r=e.length;i<r;i++){const r=e[i];void 0===n[r]&&console.warn("THREE.ObjectLoader: Undefined material",r),t.push(n[r])}return t}return void 0===n[e]&&console.warn("THREE.ObjectLoader: Undefined material",e),n[e]}}switch(e.type){case"Scene":r=new $a,void 0!==e.background&&Number.isInteger(e.background)&&(r.background=new Tr(e.background)),void 0!==e.fog&&("Fog"===e.fog.type?r.fog=new Qa(e.fog.color,e.fog.near,e.fog.far):"FogExp2"===e.fog.type&&(r.fog=new Ka(e.fog.color,e.fog.density)));break;case"PerspectiveCamera":r=new Po(e.fov,e.aspect,e.near,e.far),void 0!==e.focus&&(r.focus=e.focus),void 0!==e.zoom&&(r.zoom=e.zoom),void 0!==e.filmGauge&&(r.filmGauge=e.filmGauge),void 0!==e.filmOffset&&(r.filmOffset=e.filmOffset),void 0!==e.view&&(r.view=Object.assign({},e.view));break;case"OrthographicCamera":r=new Vh(e.left,e.right,e.top,e.bottom,e.near,e.far),void 0!==e.zoom&&(r.zoom=e.zoom),void 0!==e.view&&(r.view=Object.assign({},e.view));break;case"AmbientLight":r=new Xh(e.color,e.intensity);break;case"DirectionalLight":r=new qh(e.color,e.intensity);break;case"PointLight":r=new Gh(e.color,e.intensity,e.distance,e.decay);break;case"RectAreaLight":r=new Yh(e.color,e.intensity,e.width,e.height);break;case"SpotLight":r=new Uh(e.color,e.intensity,e.distance,e.angle,e.penumbra,e.decay);break;case"HemisphereLight":r=new Ih(e.color,e.groundColor,e.intensity);break;case"LightProbe":r=(new Zh).fromJSON(e);break;case"SkinnedMesh":o=a(e.geometry),s=l(e.material),r=new Al(o,s),void 0!==e.bindMode&&(r.bindMode=e.bindMode),void 0!==e.bindMatrix&&r.bindMatrix.fromArray(e.bindMatrix),void 0!==e.skeleton&&(r.skeleton=e.skeleton);break;case"Mesh":o=a(e.geometry),s=l(e.material),r=new bo(o,s);break;case"InstancedMesh":o=a(e.geometry),s=l(e.material);const t=e.count,n=e.instanceMatrix;r=new jl(o,s,t),r.instanceMatrix=new kr(new Float32Array(n.array),16);break;case"LOD":r=new wl;break;case"Line":r=new Gl(a(e.geometry),l(e.material));break;case"LineLoop":r=new Xl(a(e.geometry),l(e.material));break;case"LineSegments":r=new ql(a(e.geometry),l(e.material));break;case"PointCloud":case"Points":r=new $l(a(e.geometry),l(e.material));break;case"Sprite":r=new vl(l(e.material));break;case"Group":r=new Wa;break;case"Bone":r=new Cl;break;default:r=new rr}if(r.uuid=e.uuid,void 0!==e.name&&(r.name=e.name),void 0!==e.matrix?(r.matrix.fromArray(e.matrix),void 0!==e.matrixAutoUpdate&&(r.matrixAutoUpdate=e.matrixAutoUpdate),r.matrixAutoUpdate&&r.matrix.decompose(r.position,r.quaternion,r.scale)):(void 0!==e.position&&r.position.fromArray(e.position),void 0!==e.rotation&&r.rotation.fromArray(e.rotation),void 0!==e.quaternion&&r.quaternion.fromArray(e.quaternion),void 0!==e.scale&&r.scale.fromArray(e.scale)),void 0!==e.castShadow&&(r.castShadow=e.castShadow),void 0!==e.receiveShadow&&(r.receiveShadow=e.receiveShadow),e.shadow&&(void 0!==e.shadow.bias&&(r.shadow.bias=e.shadow.bias),void 0!==e.shadow.normalBias&&(r.shadow.normalBias=e.shadow.normalBias),void 0!==e.shadow.radius&&(r.shadow.radius=e.shadow.radius),void 0!==e.shadow.mapSize&&r.shadow.mapSize.fromArray(e.shadow.mapSize),void 0!==e.shadow.camera&&(r.shadow.camera=this.parseObject(e.shadow.camera))),void 0!==e.visible&&(r.visible=e.visible),void 0!==e.frustumCulled&&(r.frustumCulled=e.frustumCulled),void 0!==e.renderOrder&&(r.renderOrder=e.renderOrder),void 0!==e.userData&&(r.userData=e.userData),void 0!==e.layers&&(r.layers.mask=e.layers),void 0!==e.children){const o=e.children;for(let e=0;e<o.length;e++)r.add(this.parseObject(o[e],t,n,i))}if(void 0!==e.animations){const t=e.animations;for(let e=0;e<t.length;e++){const n=t[e];r.animations.push(i[n])}}if("LOD"===e.type){void 0!==e.autoUpdate&&(r.autoUpdate=e.autoUpdate);const t=e.levels;for(let e=0;e<t.length;e++){const n=t[e],i=r.getObjectByProperty("uuid",n.object);void 0!==i&&r.addLevel(i,n.distance)}}return r}bindSkeletons(e,t){0!==Object.keys(t).length&&e.traverse((function(e){if(!0===e.isSkinnedMesh&&void 0!==e.skeleton){const n=t[e.skeleton];void 0===n?console.warn("THREE.ObjectLoader: No skeleton found with UUID:",e.skeleton):e.bind(n,e.bindMatrix)}}))}setTexturePath(e){return console.warn("THREE.ObjectLoader: .setTexturePath() has been renamed to .setResourcePath()."),this.setResourcePath(e)}}const id={UVMapping:de,CubeReflectionMapping:pe,CubeRefractionMapping:fe,EquirectangularReflectionMapping:me,EquirectangularRefractionMapping:ge,CubeUVReflectionMapping:ve,CubeUVRefractionMapping:ye},rd={RepeatWrapping:xe,ClampToEdgeWrapping:be,MirroredRepeatWrapping:we},od={NearestFilter:_e,NearestMipmapNearestFilter:Se,NearestMipmapLinearFilter:Ee,LinearFilter:Ae,LinearMipmapNearestFilter:Ce,LinearMipmapLinearFilter:Le};function sd(e){"undefined"===typeof createImageBitmap&&console.warn("THREE.ImageBitmapLoader: createImageBitmap() not supported."),"undefined"===typeof fetch&&console.warn("THREE.ImageBitmapLoader: fetch() not supported."),oh.call(this,e),this.options={premultiplyAlpha:"none"}}function ad(){this.type="ShapePath",this.color=new Tr,this.subPaths=[],this.currentPath=null}function ld(e){this.type="Font",this.data=e}function cd(e,t,n,i,r){const o=r.glyphs[e]||r.glyphs["?"];if(!o)return void console.error('THREE.Font: character "'+e+'" does not exists in font family '+r.familyName+".");const s=new ad;let a,l,c,u,h,d,p,f;if(o.o){const e=o._cachedOutline||(o._cachedOutline=o.o.split(" "));for(let r=0,o=e.length;r<o;){switch(e[r++]){case"m":a=e[r++]*t+n,l=e[r++]*t+i,s.moveTo(a,l);break;case"l":a=e[r++]*t+n,l=e[r++]*t+i,s.lineTo(a,l);break;case"q":c=e[r++]*t+n,u=e[r++]*t+i,h=e[r++]*t+n,d=e[r++]*t+i,s.quadraticCurveTo(h,d,c,u);break;case"b":c=e[r++]*t+n,u=e[r++]*t+i,h=e[r++]*t+n,d=e[r++]*t+i,p=e[r++]*t+n,f=e[r++]*t+i,s.bezierCurveTo(h,d,p,f,c,u)}}}return{offsetX:o.ha*t,path:s}}function ud(e){oh.call(this,e)}let hd;sd.prototype=Object.assign(Object.create(oh.prototype),{constructor:sd,isImageBitmapLoader:!0,setOptions:function(e){return this.options=e,this},load:function(e,t,n,i){void 0===e&&(e=""),void 0!==this.path&&(e=this.path+e),e=this.manager.resolveURL(e);const r=this,o=nh.get(e);if(void 0!==o)return r.manager.itemStart(e),setTimeout((function(){t&&t(o),r.manager.itemEnd(e)}),0),o;const s={};s.credentials="anonymous"===this.crossOrigin?"same-origin":"include",fetch(e,s).then((function(e){return e.blob()})).then((function(e){return createImageBitmap(e,r.options)})).then((function(n){nh.add(e,n),t&&t(n),r.manager.itemEnd(e)})).catch((function(t){i&&i(t),r.manager.itemError(e),r.manager.itemEnd(e)})),r.manager.itemStart(e)}}),Object.assign(ad.prototype,{moveTo:function(e,t){return this.currentPath=new Dh,this.subPaths.push(this.currentPath),this.currentPath.moveTo(e,t),this},lineTo:function(e,t){return this.currentPath.lineTo(e,t),this},quadraticCurveTo:function(e,t,n,i){return this.currentPath.quadraticCurveTo(e,t,n,i),this},bezierCurveTo:function(e,t,n,i,r,o){return this.currentPath.bezierCurveTo(e,t,n,i,r,o),this},splineThru:function(e){return this.currentPath.splineThru(e),this},toShapes:function(e,t){function n(e){const t=[];for(let n=0,i=e.length;n<i;n++){const i=e[n],r=new jh;r.curves=i.curves,t.push(r)}return t}function i(e,t){const n=t.length;let i=!1;for(let r=n-1,o=0;o<n;r=o++){let n=t[r],s=t[o],a=s.x-n.x,l=s.y-n.y;if(Math.abs(l)>Number.EPSILON){if(l<0&&(n=t[o],a=-a,s=t[r],l=-l),e.y<n.y||e.y>s.y)continue;if(e.y===n.y){if(e.x===n.x)return!0}else{const t=l*(e.x-n.x)-a*(e.y-n.y);if(0===t)return!0;if(t<0)continue;i=!i}}else{if(e.y!==n.y)continue;if(s.x<=e.x&&e.x<=n.x||n.x<=e.x&&e.x<=s.x)return!0}}return i}const r=Zc.isClockWise,o=this.subPaths;if(0===o.length)return[];if(!0===t)return n(o);let s,a,l;const c=[];if(1===o.length)return a=o[0],l=new jh,l.curves=a.curves,c.push(l),c;let u=!r(o[0].getPoints());u=e?!u:u;const h=[],d=[];let p,f,m=[],g=0;d[g]=void 0,m[g]=[];for(let v=0,y=o.length;v<y;v++)a=o[v],p=a.getPoints(),s=r(p),s=e?!s:s,s?(!u&&d[g]&&g++,d[g]={s:new jh,p:p},d[g].s.curves=a.curves,u&&g++,m[g]=[]):m[g].push({h:a,p:p[0]});if(!d[0])return n(o);if(d.length>1){let e=!1;const t=[];for(let n=0,i=d.length;n<i;n++)h[n]=[];for(let n=0,r=d.length;n<r;n++){const r=m[n];for(let o=0;o<r.length;o++){const s=r[o];let a=!0;for(let r=0;r<d.length;r++)i(s.p,d[r].p)&&(n!==r&&t.push({froms:n,tos:r,hole:o}),a?(a=!1,h[r].push(s)):e=!0);a&&h[n].push(s)}}t.length>0&&(e||(m=h))}for(let v=0,y=d.length;v<y;v++){l=d[v].s,c.push(l),f=m[v];for(let e=0,t=f.length;e<t;e++)l.holes.push(f[e].h)}return c}}),Object.assign(ld.prototype,{isFont:!0,generateShapes:function(e){const t=[],n=function(e,t,n){const i=Array.from?Array.from(e):String(e).split(""),r=t/n.resolution,o=(n.boundingBox.yMax-n.boundingBox.yMin+n.underlineThickness)*r,s=[];let a=0,l=0;for(let c=0;c<i.length;c++){const e=i[c];if("\n"===e)a=0,l-=o;else{const t=cd(e,r,a,l,n);a+=t.offsetX,s.push(t.path)}}return s}(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:100,this.data);for(let i=0,r=n.length;i<r;i++)Array.prototype.push.apply(t,n[i].toShapes());return t}}),ud.prototype=Object.assign(Object.create(oh.prototype),{constructor:ud,load:function(e,t,n,i){const r=this,o=new ah(this.manager);o.setPath(this.path),o.setRequestHeader(this.requestHeader),o.setWithCredentials(r.withCredentials),o.load(e,(function(e){let n;try{n=JSON.parse(e)}catch(o){console.warn("THREE.FontLoader: typeface.js support is being deprecated. Use typeface.json instead."),n=JSON.parse(e.substring(65,e.length-2))}const i=r.parse(n);t&&t(i)}),n,i)},parse:function(e){return new ld(e)}});const dd={getContext:function(){return void 0===hd&&(hd=new(window.AudioContext||window.webkitAudioContext)),hd},setContext:function(e){hd=e}};function pd(e){oh.call(this,e)}function fd(e,t,n){Zh.call(this,void 0,n);const i=(new Tr).set(e),r=(new Tr).set(t),o=new oi(i.r,i.g,i.b),s=new oi(r.r,r.g,r.b),a=Math.sqrt(Math.PI),l=a*Math.sqrt(.75);this.sh.coefficients[0].copy(o).add(s).multiplyScalar(a),this.sh.coefficients[1].copy(o).sub(s).multiplyScalar(l)}function md(e,t){Zh.call(this,void 0,t);const n=(new Tr).set(e);this.sh.coefficients[0].set(n.r,n.g,n.b).multiplyScalar(2*Math.sqrt(Math.PI))}pd.prototype=Object.assign(Object.create(oh.prototype),{constructor:pd,load:function(e,t,n,i){const r=this,o=new ah(r.manager);o.setResponseType("arraybuffer"),o.setPath(r.path),o.setRequestHeader(r.requestHeader),o.setWithCredentials(r.withCredentials),o.load(e,(function(n){try{const e=n.slice(0);dd.getContext().decodeAudioData(e,(function(e){t(e)}))}catch(o){i?i(o):console.error(o),r.manager.itemError(e)}}),n,i)}}),fd.prototype=Object.assign(Object.create(Zh.prototype),{constructor:fd,isHemisphereLightProbe:!0,copy:function(e){return Zh.prototype.copy.call(this,e),this},toJSON:function(e){return Zh.prototype.toJSON.call(this,e)}}),md.prototype=Object.assign(Object.create(Zh.prototype),{constructor:md,isAmbientLightProbe:!0,copy:function(e){return Zh.prototype.copy.call(this,e),this},toJSON:function(e){return Zh.prototype.toJSON.call(this,e)}});const gd=new ki,vd=new ki;function yd(){this.type="StereoCamera",this.aspect=1,this.eyeSep=.064,this.cameraL=new Po,this.cameraL.layers.enable(1),this.cameraL.matrixAutoUpdate=!1,this.cameraR=new Po,this.cameraR.layers.enable(2),this.cameraR.matrixAutoUpdate=!1,this._cache={focus:null,fov:null,aspect:null,near:null,far:null,zoom:null,eyeSep:null}}Object.assign(yd.prototype,{update:function(e){const t=this._cache;if(t.focus!==e.focus||t.fov!==e.fov||t.aspect!==e.aspect*this.aspect||t.near!==e.near||t.far!==e.far||t.zoom!==e.zoom||t.eyeSep!==this.eyeSep){t.focus=e.focus,t.fov=e.fov,t.aspect=e.aspect*this.aspect,t.near=e.near,t.far=e.far,t.zoom=e.zoom,t.eyeSep=this.eyeSep;const n=e.projectionMatrix.clone(),i=t.eyeSep/2,r=i*t.near/t.focus,o=t.near*Math.tan(Xn.DEG2RAD*t.fov*.5)/t.zoom;let s,a;vd.elements[12]=-i,gd.elements[12]=i,s=-o*t.aspect+r,a=o*t.aspect+r,n.elements[0]=2*t.near/(a-s),n.elements[8]=(a+s)/(a-s),this.cameraL.projectionMatrix.copy(n),s=-o*t.aspect-r,a=o*t.aspect-r,n.elements[0]=2*t.near/(a-s),n.elements[8]=(a+s)/(a-s),this.cameraR.projectionMatrix.copy(n)}this.cameraL.matrixWorld.copy(e.matrixWorld).multiply(vd),this.cameraR.matrixWorld.copy(e.matrixWorld).multiply(gd)}});class xd{constructor(e){this.autoStart=void 0===e||e,this.startTime=0,this.oldTime=0,this.elapsedTime=0,this.running=!1}start(){this.startTime=bd(),this.oldTime=this.startTime,this.elapsedTime=0,this.running=!0}stop(){this.getElapsedTime(),this.running=!1,this.autoStart=!1}getElapsedTime(){return this.getDelta(),this.elapsedTime}getDelta(){let e=0;if(this.autoStart&&!this.running)return this.start(),0;if(this.running){const t=bd();e=(t-this.oldTime)/1e3,this.oldTime=t,this.elapsedTime+=e}return e}}function bd(){return("undefined"===typeof performance?Date:performance).now()}const wd=new oi,_d=new ri,Sd=new oi,Md=new oi;class Ed extends rr{constructor(){super(),this.type="AudioListener",this.context=dd.getContext(),this.gain=this.context.createGain(),this.gain.connect(this.context.destination),this.filter=null,this.timeDelta=0,this._clock=new xd}getInput(){return this.gain}removeFilter(){return null!==this.filter&&(this.gain.disconnect(this.filter),this.filter.disconnect(this.context.destination),this.gain.connect(this.context.destination),this.filter=null),this}getFilter(){return this.filter}setFilter(e){return null!==this.filter?(this.gain.disconnect(this.filter),this.filter.disconnect(this.context.destination)):this.gain.disconnect(this.context.destination),this.filter=e,this.gain.connect(this.filter),this.filter.connect(this.context.destination),this}getMasterVolume(){return this.gain.gain.value}setMasterVolume(e){return this.gain.gain.setTargetAtTime(e,this.context.currentTime,.01),this}updateMatrixWorld(e){super.updateMatrixWorld(e);const t=this.context.listener,n=this.up;if(this.timeDelta=this._clock.getDelta(),this.matrixWorld.decompose(wd,_d,Sd),Md.set(0,0,-1).applyQuaternion(_d),t.positionX){const e=this.context.currentTime+this.timeDelta;t.positionX.linearRampToValueAtTime(wd.x,e),t.positionY.linearRampToValueAtTime(wd.y,e),t.positionZ.linearRampToValueAtTime(wd.z,e),t.forwardX.linearRampToValueAtTime(Md.x,e),t.forwardY.linearRampToValueAtTime(Md.y,e),t.forwardZ.linearRampToValueAtTime(Md.z,e),t.upX.linearRampToValueAtTime(n.x,e),t.upY.linearRampToValueAtTime(n.y,e),t.upZ.linearRampToValueAtTime(n.z,e)}else t.setPosition(wd.x,wd.y,wd.z),t.setOrientation(Md.x,Md.y,Md.z,n.x,n.y,n.z)}}class Td extends rr{constructor(e){super(),this.type="Audio",this.listener=e,this.context=e.context,this.gain=this.context.createGain(),this.gain.connect(e.getInput()),this.autoplay=!1,this.buffer=null,this.detune=0,this.loop=!1,this.loopStart=0,this.loopEnd=0,this.offset=0,this.duration=void 0,this.playbackRate=1,this.isPlaying=!1,this.hasPlaybackControl=!0,this.source=null,this.sourceType="empty",this._startedAt=0,this._progress=0,this._connected=!1,this.filters=[]}getOutput(){return this.gain}setNodeSource(e){return this.hasPlaybackControl=!1,this.sourceType="audioNode",this.source=e,this.connect(),this}setMediaElementSource(e){return this.hasPlaybackControl=!1,this.sourceType="mediaNode",this.source=this.context.createMediaElementSource(e),this.connect(),this}setMediaStreamSource(e){return this.hasPlaybackControl=!1,this.sourceType="mediaStreamNode",this.source=this.context.createMediaStreamSource(e),this.connect(),this}setBuffer(e){return this.buffer=e,this.sourceType="buffer",this.autoplay&&this.play(),this}play(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;if(!0===this.isPlaying)return void console.warn("THREE.Audio: Audio is already playing.");if(!1===this.hasPlaybackControl)return void console.warn("THREE.Audio: this Audio has no playback control.");this._startedAt=this.context.currentTime+e;const t=this.context.createBufferSource();return t.buffer=this.buffer,t.loop=this.loop,t.loopStart=this.loopStart,t.loopEnd=this.loopEnd,t.onended=this.onEnded.bind(this),t.start(this._startedAt,this._progress+this.offset,this.duration),this.isPlaying=!0,this.source=t,this.setDetune(this.detune),this.setPlaybackRate(this.playbackRate),this.connect()}pause(){if(!1!==this.hasPlaybackControl)return!0===this.isPlaying&&(this._progress+=Math.max(this.context.currentTime-this._startedAt,0)*this.playbackRate,!0===this.loop&&(this._progress=this._progress%(this.duration||this.buffer.duration)),this.source.stop(),this.source.onended=null,this.isPlaying=!1),this;console.warn("THREE.Audio: this Audio has no playback control.")}stop(){if(!1!==this.hasPlaybackControl)return this._progress=0,this.source.stop(),this.source.onended=null,this.isPlaying=!1,this;console.warn("THREE.Audio: this Audio has no playback control.")}connect(){if(this.filters.length>0){this.source.connect(this.filters[0]);for(let e=1,t=this.filters.length;e<t;e++)this.filters[e-1].connect(this.filters[e]);this.filters[this.filters.length-1].connect(this.getOutput())}else this.source.connect(this.getOutput());return this._connected=!0,this}disconnect(){if(this.filters.length>0){this.source.disconnect(this.filters[0]);for(let e=1,t=this.filters.length;e<t;e++)this.filters[e-1].disconnect(this.filters[e]);this.filters[this.filters.length-1].disconnect(this.getOutput())}else this.source.disconnect(this.getOutput());return this._connected=!1,this}getFilters(){return this.filters}setFilters(e){return e||(e=[]),!0===this._connected?(this.disconnect(),this.filters=e.slice(),this.connect()):this.filters=e.slice(),this}setDetune(e){if(this.detune=e,void 0!==this.source.detune)return!0===this.isPlaying&&this.source.detune.setTargetAtTime(this.detune,this.context.currentTime,.01),this}getDetune(){return this.detune}getFilter(){return this.getFilters()[0]}setFilter(e){return this.setFilters(e?[e]:[])}setPlaybackRate(e){if(!1!==this.hasPlaybackControl)return this.playbackRate=e,!0===this.isPlaying&&this.source.playbackRate.setTargetAtTime(this.playbackRate,this.context.currentTime,.01),this;console.warn("THREE.Audio: this Audio has no playback control.")}getPlaybackRate(){return this.playbackRate}onEnded(){this.isPlaying=!1}getLoop(){return!1===this.hasPlaybackControl?(console.warn("THREE.Audio: this Audio has no playback control."),!1):this.loop}setLoop(e){if(!1!==this.hasPlaybackControl)return this.loop=e,!0===this.isPlaying&&(this.source.loop=this.loop),this;console.warn("THREE.Audio: this Audio has no playback control.")}setLoopStart(e){return this.loopStart=e,this}setLoopEnd(e){return this.loopEnd=e,this}getVolume(){return this.gain.gain.value}setVolume(e){return this.gain.gain.setTargetAtTime(e,this.context.currentTime,.01),this}}const Ad=new oi,Cd=new ri,Rd=new oi,Ld=new oi;class Pd extends Td{constructor(e){super(e),this.panner=this.context.createPanner(),this.panner.panningModel="HRTF",this.panner.connect(this.gain)}getOutput(){return this.panner}getRefDistance(){return this.panner.refDistance}setRefDistance(e){return this.panner.refDistance=e,this}getRolloffFactor(){return this.panner.rolloffFactor}setRolloffFactor(e){return this.panner.rolloffFactor=e,this}getDistanceModel(){return this.panner.distanceModel}setDistanceModel(e){return this.panner.distanceModel=e,this}getMaxDistance(){return this.panner.maxDistance}setMaxDistance(e){return this.panner.maxDistance=e,this}setDirectionalCone(e,t,n){return this.panner.coneInnerAngle=e,this.panner.coneOuterAngle=t,this.panner.coneOuterGain=n,this}updateMatrixWorld(e){if(super.updateMatrixWorld(e),!0===this.hasPlaybackControl&&!1===this.isPlaying)return;this.matrixWorld.decompose(Ad,Cd,Rd),Ld.set(0,0,1).applyQuaternion(Cd);const t=this.panner;if(t.positionX){const e=this.context.currentTime+this.listener.timeDelta;t.positionX.linearRampToValueAtTime(Ad.x,e),t.positionY.linearRampToValueAtTime(Ad.y,e),t.positionZ.linearRampToValueAtTime(Ad.z,e),t.orientationX.linearRampToValueAtTime(Ld.x,e),t.orientationY.linearRampToValueAtTime(Ld.y,e),t.orientationZ.linearRampToValueAtTime(Ld.z,e)}else t.setPosition(Ad.x,Ad.y,Ad.z),t.setOrientation(Ld.x,Ld.y,Ld.z)}}class Nd{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2048;this.analyser=e.context.createAnalyser(),this.analyser.fftSize=t,this.data=new Uint8Array(this.analyser.frequencyBinCount),e.getOutput().connect(this.analyser)}getFrequencyData(){return this.analyser.getByteFrequencyData(this.data),this.data}getAverageFrequency(){let e=0;const t=this.getFrequencyData();for(let n=0;n<t.length;n++)e+=t[n];return e/t.length}}function kd(e,t,n){let i,r,o;switch(this.binding=e,this.valueSize=n,t){case"quaternion":i=this._slerp,r=this._slerpAdditive,o=this._setAdditiveIdentityQuaternion,this.buffer=new Float64Array(6*n),this._workIndex=5;break;case"string":case"bool":i=this._select,r=this._select,o=this._setAdditiveIdentityOther,this.buffer=new Array(5*n);break;default:i=this._lerp,r=this._lerpAdditive,o=this._setAdditiveIdentityNumeric,this.buffer=new Float64Array(5*n)}this._mixBufferRegion=i,this._mixBufferRegionAdditive=r,this._setIdentity=o,this._origIndex=3,this._addIndex=4,this.cumulativeWeight=0,this.cumulativeWeightAdditive=0,this.useCount=0,this.referenceCount=0}Object.assign(kd.prototype,{accumulate:function(e,t){const n=this.buffer,i=this.valueSize,r=e*i+i;let o=this.cumulativeWeight;if(0===o){for(let e=0;e!==i;++e)n[r+e]=n[e];o=t}else{o+=t;const e=t/o;this._mixBufferRegion(n,r,0,e,i)}this.cumulativeWeight=o},accumulateAdditive:function(e){const t=this.buffer,n=this.valueSize,i=n*this._addIndex;0===this.cumulativeWeightAdditive&&this._setIdentity(),this._mixBufferRegionAdditive(t,i,0,e,n),this.cumulativeWeightAdditive+=e},apply:function(e){const t=this.valueSize,n=this.buffer,i=e*t+t,r=this.cumulativeWeight,o=this.cumulativeWeightAdditive,s=this.binding;if(this.cumulativeWeight=0,this.cumulativeWeightAdditive=0,r<1){const e=t*this._origIndex;this._mixBufferRegion(n,i,e,1-r,t)}o>0&&this._mixBufferRegionAdditive(n,i,this._addIndex*t,1,t);for(let a=t,l=t+t;a!==l;++a)if(n[a]!==n[a+t]){s.setValue(n,i);break}},saveOriginalState:function(){const e=this.binding,t=this.buffer,n=this.valueSize,i=n*this._origIndex;e.getValue(t,i);for(let r=n,o=i;r!==o;++r)t[r]=t[i+r%n];this._setIdentity(),this.cumulativeWeight=0,this.cumulativeWeightAdditive=0},restoreOriginalState:function(){const e=3*this.valueSize;this.binding.setValue(this.buffer,e)},_setAdditiveIdentityNumeric:function(){const e=this._addIndex*this.valueSize,t=e+this.valueSize;for(let n=e;n<t;n++)this.buffer[n]=0},_setAdditiveIdentityQuaternion:function(){this._setAdditiveIdentityNumeric(),this.buffer[this._addIndex*this.valueSize+3]=1},_setAdditiveIdentityOther:function(){const e=this._origIndex*this.valueSize,t=this._addIndex*this.valueSize;for(let n=0;n<this.valueSize;n++)this.buffer[t+n]=this.buffer[e+n]},_select:function(e,t,n,i,r){if(i>=.5)for(let o=0;o!==r;++o)e[t+o]=e[n+o]},_slerp:function(e,t,n,i){ri.slerpFlat(e,t,e,t,e,n,i)},_slerpAdditive:function(e,t,n,i,r){const o=this._workIndex*r;ri.multiplyQuaternionsFlat(e,o,e,t,e,n),ri.slerpFlat(e,t,e,t,e,o,i)},_lerp:function(e,t,n,i,r){const o=1-i;for(let s=0;s!==r;++s){const r=t+s;e[r]=e[r]*o+e[n+s]*i}},_lerpAdditive:function(e,t,n,i,r){for(let o=0;o!==r;++o){const r=t+o;e[r]=e[r]+e[n+o]*i}}});const Od="\\[\\]\\.:\\/",Dd=new RegExp("["+Od+"]","g"),jd="[^"+Od+"]",Fd="[^"+Od.replace("\\.","")+"]",Id=/((?:WC+[\/:])*)/.source.replace("WC",jd),zd=/(WCOD+)?/.source.replace("WCOD",Fd),Bd=/(?:\.(WC+)(?:\[(.+)\])?)?/.source.replace("WC",jd),Ud=/\.(WC+)(?:\[(.+)\])?/.source.replace("WC",jd),Hd=new RegExp("^"+Id+zd+Bd+Ud+"$"),Gd=["material","materials","bones"];function Vd(e,t,n){const i=n||Wd.parseTrackName(t);this._targetGroup=e,this._bindings=e.subscribe_(t,i)}function Wd(e,t,n){this.path=t,this.parsedPath=n||Wd.parseTrackName(t),this.node=Wd.findNode(e,this.parsedPath.nodeName)||e,this.rootNode=e}function qd(){this.uuid=Xn.generateUUID(),this._objects=Array.prototype.slice.call(arguments),this.nCachedObjects_=0;const e={};this._indicesByUUID=e;for(let n=0,i=arguments.length;n!==i;++n)e[arguments[n].uuid]=n;this._paths=[],this._parsedPaths=[],this._bindings=[],this._bindingsIndicesByPath={};const t=this;this.stats={objects:{get total(){return t._objects.length},get inUse(){return this.total-t.nCachedObjects_}},get bindingsPerObject(){return t._bindings.length}}}Object.assign(Vd.prototype,{getValue:function(e,t){this.bind();const n=this._targetGroup.nCachedObjects_,i=this._bindings[n];void 0!==i&&i.getValue(e,t)},setValue:function(e,t){const n=this._bindings;for(let i=this._targetGroup.nCachedObjects_,r=n.length;i!==r;++i)n[i].setValue(e,t)},bind:function(){const e=this._bindings;for(let t=this._targetGroup.nCachedObjects_,n=e.length;t!==n;++t)e[t].bind()},unbind:function(){const e=this._bindings;for(let t=this._targetGroup.nCachedObjects_,n=e.length;t!==n;++t)e[t].unbind()}}),Object.assign(Wd,{Composite:Vd,create:function(e,t,n){return e&&e.isAnimationObjectGroup?new Wd.Composite(e,t,n):new Wd(e,t,n)},sanitizeNodeName:function(e){return e.replace(/\s/g,"_").replace(Dd,"")},parseTrackName:function(e){const t=Hd.exec(e);if(!t)throw new Error("PropertyBinding: Cannot parse trackName: "+e);const n={nodeName:t[2],objectName:t[3],objectIndex:t[4],propertyName:t[5],propertyIndex:t[6]},i=n.nodeName&&n.nodeName.lastIndexOf(".");if(void 0!==i&&-1!==i){const e=n.nodeName.substring(i+1);-1!==Gd.indexOf(e)&&(n.nodeName=n.nodeName.substring(0,i),n.objectName=e)}if(null===n.propertyName||0===n.propertyName.length)throw new Error("PropertyBinding: can not parse propertyName from trackName: "+e);return n},findNode:function(e,t){if(!t||""===t||"."===t||-1===t||t===e.name||t===e.uuid)return e;if(e.skeleton){const n=e.skeleton.getBoneByName(t);if(void 0!==n)return n}if(e.children){const n=function(e){for(let i=0;i<e.length;i++){const r=e[i];if(r.name===t||r.uuid===t)return r;const o=n(r.children);if(o)return o}return null},i=n(e.children);if(i)return i}return null}}),Object.assign(Wd.prototype,{_getValue_unavailable:function(){},_setValue_unavailable:function(){},BindingType:{Direct:0,EntireArray:1,ArrayElement:2,HasFromToArray:3},Versioning:{None:0,NeedsUpdate:1,MatrixWorldNeedsUpdate:2},GetterByBindingType:[function(e,t){e[t]=this.node[this.propertyName]},function(e,t){const n=this.resolvedProperty;for(let i=0,r=n.length;i!==r;++i)e[t++]=n[i]},function(e,t){e[t]=this.resolvedProperty[this.propertyIndex]},function(e,t){this.resolvedProperty.toArray(e,t)}],SetterByBindingTypeAndVersioning:[[function(e,t){this.targetObject[this.propertyName]=e[t]},function(e,t){this.targetObject[this.propertyName]=e[t],this.targetObject.needsUpdate=!0},function(e,t){this.targetObject[this.propertyName]=e[t],this.targetObject.matrixWorldNeedsUpdate=!0}],[function(e,t){const n=this.resolvedProperty;for(let i=0,r=n.length;i!==r;++i)n[i]=e[t++]},function(e,t){const n=this.resolvedProperty;for(let i=0,r=n.length;i!==r;++i)n[i]=e[t++];this.targetObject.needsUpdate=!0},function(e,t){const n=this.resolvedProperty;for(let i=0,r=n.length;i!==r;++i)n[i]=e[t++];this.targetObject.matrixWorldNeedsUpdate=!0}],[function(e,t){this.resolvedProperty[this.propertyIndex]=e[t]},function(e,t){this.resolvedProperty[this.propertyIndex]=e[t],this.targetObject.needsUpdate=!0},function(e,t){this.resolvedProperty[this.propertyIndex]=e[t],this.targetObject.matrixWorldNeedsUpdate=!0}],[function(e,t){this.resolvedProperty.fromArray(e,t)},function(e,t){this.resolvedProperty.fromArray(e,t),this.targetObject.needsUpdate=!0},function(e,t){this.resolvedProperty.fromArray(e,t),this.targetObject.matrixWorldNeedsUpdate=!0}]],getValue:function(e,t){this.bind(),this.getValue(e,t)},setValue:function(e,t){this.bind(),this.setValue(e,t)},bind:function(){let e=this.node;const t=this.parsedPath,n=t.objectName,i=t.propertyName;let r=t.propertyIndex;if(e||(e=Wd.findNode(this.rootNode,t.nodeName)||this.rootNode,this.node=e),this.getValue=this._getValue_unavailable,this.setValue=this._setValue_unavailable,!e)return void console.error("THREE.PropertyBinding: Trying to update node for track: "+this.path+" but it wasn't found.");if(n){let i=t.objectIndex;switch(n){case"materials":if(!e.material)return void console.error("THREE.PropertyBinding: Can not bind to material as node does not have a material.",this);if(!e.material.materials)return void console.error("THREE.PropertyBinding: Can not bind to material.materials as node.material does not have a materials array.",this);e=e.material.materials;break;case"bones":if(!e.skeleton)return void console.error("THREE.PropertyBinding: Can not bind to bones as node does not have a skeleton.",this);e=e.skeleton.bones;for(let t=0;t<e.length;t++)if(e[t].name===i){i=t;break}break;default:if(void 0===e[n])return void console.error("THREE.PropertyBinding: Can not bind to objectName of node undefined.",this);e=e[n]}if(void 0!==i){if(void 0===e[i])return void console.error("THREE.PropertyBinding: Trying to bind to objectIndex of objectName, but is undefined.",this,e);e=e[i]}}const o=e[i];if(void 0===o){const n=t.nodeName;return void console.error("THREE.PropertyBinding: Trying to update property for track: "+n+"."+i+" but it wasn't found.",e)}let s=this.Versioning.None;this.targetObject=e,void 0!==e.needsUpdate?s=this.Versioning.NeedsUpdate:void 0!==e.matrixWorldNeedsUpdate&&(s=this.Versioning.MatrixWorldNeedsUpdate);let a=this.BindingType.Direct;if(void 0!==r){if("morphTargetInfluences"===i){if(!e.geometry)return void console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.",this);if(!e.geometry.isBufferGeometry)return void console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences on THREE.Geometry. Use THREE.BufferGeometry instead.",this);if(!e.geometry.morphAttributes)return void console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.morphAttributes.",this);void 0!==e.morphTargetDictionary[r]&&(r=e.morphTargetDictionary[r])}a=this.BindingType.ArrayElement,this.resolvedProperty=o,this.propertyIndex=r}else void 0!==o.fromArray&&void 0!==o.toArray?(a=this.BindingType.HasFromToArray,this.resolvedProperty=o):Array.isArray(o)?(a=this.BindingType.EntireArray,this.resolvedProperty=o):this.propertyName=i;this.getValue=this.GetterByBindingType[a],this.setValue=this.SetterByBindingTypeAndVersioning[a][s]},unbind:function(){this.node=null,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}}),Object.assign(Wd.prototype,{_getValue_unbound:Wd.prototype.getValue,_setValue_unbound:Wd.prototype.setValue}),Object.assign(qd.prototype,{isAnimationObjectGroup:!0,add:function(){const e=this._objects,t=this._indicesByUUID,n=this._paths,i=this._parsedPaths,r=this._bindings,o=r.length;let s,a=e.length,l=this.nCachedObjects_;for(let c=0,u=arguments.length;c!==u;++c){const u=arguments[c],h=u.uuid;let d=t[h];if(void 0===d){d=a++,t[h]=d,e.push(u);for(let e=0,t=o;e!==t;++e)r[e].push(new Wd(u,n[e],i[e]))}else if(d<l){s=e[d];const a=--l,c=e[a];t[c.uuid]=d,e[d]=c,t[h]=a,e[a]=u;for(let e=0,t=o;e!==t;++e){const t=r[e],o=t[a];let s=t[d];t[d]=o,void 0===s&&(s=new Wd(u,n[e],i[e])),t[a]=s}}else e[d]!==s&&console.error("THREE.AnimationObjectGroup: Different objects with the same UUID detected. Clean the caches or recreate your infrastructure when reloading scenes.")}this.nCachedObjects_=l},remove:function(){const e=this._objects,t=this._indicesByUUID,n=this._bindings,i=n.length;let r=this.nCachedObjects_;for(let o=0,s=arguments.length;o!==s;++o){const s=arguments[o],a=s.uuid,l=t[a];if(void 0!==l&&l>=r){const o=r++,c=e[o];t[c.uuid]=l,e[l]=c,t[a]=o,e[o]=s;for(let e=0,t=i;e!==t;++e){const t=n[e],i=t[o],r=t[l];t[l]=i,t[o]=r}}}this.nCachedObjects_=r},uncache:function(){const e=this._objects,t=this._indicesByUUID,n=this._bindings,i=n.length;let r=this.nCachedObjects_,o=e.length;for(let s=0,a=arguments.length;s!==a;++s){const a=arguments[s].uuid,l=t[a];if(void 0!==l)if(delete t[a],l<r){const s=--r,a=e[s],c=--o,u=e[c];t[a.uuid]=l,e[l]=a,t[u.uuid]=s,e[s]=u,e.pop();for(let e=0,t=i;e!==t;++e){const t=n[e],i=t[s],r=t[c];t[l]=i,t[s]=r,t.pop()}}else{const r=--o,s=e[r];r>0&&(t[s.uuid]=l),e[l]=s,e.pop();for(let e=0,t=i;e!==t;++e){const t=n[e];t[l]=t[r],t.pop()}}}this.nCachedObjects_=r},subscribe_:function(e,t){const n=this._bindingsIndicesByPath;let i=n[e];const r=this._bindings;if(void 0!==i)return r[i];const o=this._paths,s=this._parsedPaths,a=this._objects,l=a.length,c=this.nCachedObjects_,u=new Array(l);i=r.length,n[e]=i,o.push(e),s.push(t),r.push(u);for(let h=c,d=a.length;h!==d;++h){const n=a[h];u[h]=new Wd(n,e,t)}return u},unsubscribe_:function(e){const t=this._bindingsIndicesByPath,n=t[e];if(void 0!==n){const i=this._paths,r=this._parsedPaths,o=this._bindings,s=o.length-1,a=o[s];t[e[s]]=n,o[n]=a,o.pop(),r[n]=r[s],r.pop(),i[n]=i[s],i.pop()}}});class Xd{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:t.blendMode;this._mixer=e,this._clip=t,this._localRoot=n,this.blendMode=i;const r=t.tracks,o=r.length,s=new Array(o),a={endingStart:Zt,endingEnd:Zt};for(let l=0;l!==o;++l){const e=r[l].createInterpolant(null);s[l]=e,e.settings=a}this._interpolantSettings=a,this._interpolants=s,this._propertyBindings=new Array(o),this._cacheIndex=null,this._byClipCacheIndex=null,this._timeScaleInterpolant=null,this._weightInterpolant=null,this.loop=Wt,this._loopCount=-1,this._startTime=null,this.time=0,this.timeScale=1,this._effectiveTimeScale=1,this.weight=1,this._effectiveWeight=1,this.repetitions=1/0,this.paused=!1,this.enabled=!0,this.clampWhenFinished=!1,this.zeroSlopeAtStart=!0,this.zeroSlopeAtEnd=!0}play(){return this._mixer._activateAction(this),this}stop(){return this._mixer._deactivateAction(this),this.reset()}reset(){return this.paused=!1,this.enabled=!0,this.time=0,this._loopCount=-1,this._startTime=null,this.stopFading().stopWarping()}isRunning(){return this.enabled&&!this.paused&&0!==this.timeScale&&null===this._startTime&&this._mixer._isActiveAction(this)}isScheduled(){return this._mixer._isActiveAction(this)}startAt(e){return this._startTime=e,this}setLoop(e,t){return this.loop=e,this.repetitions=t,this}setEffectiveWeight(e){return this.weight=e,this._effectiveWeight=this.enabled?e:0,this.stopFading()}getEffectiveWeight(){return this._effectiveWeight}fadeIn(e){return this._scheduleFading(e,0,1)}fadeOut(e){return this._scheduleFading(e,1,0)}crossFadeFrom(e,t,n){if(e.fadeOut(t),this.fadeIn(t),n){const n=this._clip.duration,i=e._clip.duration,r=i/n,o=n/i;e.warp(1,r,t),this.warp(o,1,t)}return this}crossFadeTo(e,t,n){return e.crossFadeFrom(this,t,n)}stopFading(){const e=this._weightInterpolant;return null!==e&&(this._weightInterpolant=null,this._mixer._takeBackControlInterpolant(e)),this}setEffectiveTimeScale(e){return this.timeScale=e,this._effectiveTimeScale=this.paused?0:e,this.stopWarping()}getEffectiveTimeScale(){return this._effectiveTimeScale}setDuration(e){return this.timeScale=this._clip.duration/e,this.stopWarping()}syncWith(e){return this.time=e.time,this.timeScale=e.timeScale,this.stopWarping()}halt(e){return this.warp(this._effectiveTimeScale,0,e)}warp(e,t,n){const i=this._mixer,r=i.time,o=this.timeScale;let s=this._timeScaleInterpolant;null===s&&(s=i._lendControlInterpolant(),this._timeScaleInterpolant=s);const a=s.parameterPositions,l=s.sampleValues;return a[0]=r,a[1]=r+n,l[0]=e/o,l[1]=t/o,this}stopWarping(){const e=this._timeScaleInterpolant;return null!==e&&(this._timeScaleInterpolant=null,this._mixer._takeBackControlInterpolant(e)),this}getMixer(){return this._mixer}getClip(){return this._clip}getRoot(){return this._localRoot||this._mixer._root}_update(e,t,n,i){if(!this.enabled)return void this._updateWeight(e);const r=this._startTime;if(null!==r){const i=(e-r)*n;if(i<0||0===n)return;this._startTime=null,t=n*i}t*=this._updateTimeScale(e);const o=this._updateTime(t),s=this._updateWeight(e);if(s>0){const e=this._interpolants,t=this._propertyBindings;if(this.blendMode===en)for(let n=0,i=e.length;n!==i;++n)e[n].evaluate(o),t[n].accumulateAdditive(s);else for(let n=0,r=e.length;n!==r;++n)e[n].evaluate(o),t[n].accumulate(i,s)}}_updateWeight(e){let t=0;if(this.enabled){t=this.weight;const n=this._weightInterpolant;if(null!==n){const i=n.evaluate(e)[0];t*=i,e>n.parameterPositions[1]&&(this.stopFading(),0===i&&(this.enabled=!1))}}return this._effectiveWeight=t,t}_updateTimeScale(e){let t=0;if(!this.paused){t=this.timeScale;const n=this._timeScaleInterpolant;if(null!==n){t*=n.evaluate(e)[0],e>n.parameterPositions[1]&&(this.stopWarping(),0===t?this.paused=!0:this.timeScale=t)}}return this._effectiveTimeScale=t,t}_updateTime(e){const t=this._clip.duration,n=this.loop;let i=this.time+e,r=this._loopCount;const o=n===qt;if(0===e)return-1===r?i:o&&1===(1&r)?t-i:i;if(n===Vt){-1===r&&(this._loopCount=0,this._setEndings(!0,!0,!1));e:{if(i>=t)i=t;else{if(!(i<0)){this.time=i;break e}i=0}this.clampWhenFinished?this.paused=!0:this.enabled=!1,this.time=i,this._mixer.dispatchEvent({type:"finished",action:this,direction:e<0?-1:1})}}else{if(-1===r&&(e>=0?(r=0,this._setEndings(!0,0===this.repetitions,o)):this._setEndings(0===this.repetitions,!0,o)),i>=t||i<0){const n=Math.floor(i/t);i-=t*n,r+=Math.abs(n);const s=this.repetitions-r;if(s<=0)this.clampWhenFinished?this.paused=!0:this.enabled=!1,i=e>0?t:0,this.time=i,this._mixer.dispatchEvent({type:"finished",action:this,direction:e>0?1:-1});else{if(1===s){const t=e<0;this._setEndings(t,!t,o)}else this._setEndings(!1,!1,o);this._loopCount=r,this.time=i,this._mixer.dispatchEvent({type:"loop",action:this,loopDelta:n})}}else this.time=i;if(o&&1===(1&r))return t-i}return i}_setEndings(e,t,n){const i=this._interpolantSettings;n?(i.endingStart=Kt,i.endingEnd=Kt):(i.endingStart=e?this.zeroSlopeAtStart?Kt:Zt:Qt,i.endingEnd=t?this.zeroSlopeAtEnd?Kt:Zt:Qt)}_scheduleFading(e,t,n){const i=this._mixer,r=i.time;let o=this._weightInterpolant;null===o&&(o=i._lendControlInterpolant(),this._weightInterpolant=o);const s=o.parameterPositions,a=o.sampleValues;return s[0]=r,a[0]=t,s[1]=r+e,a[1]=n,this}}function Yd(e){this._root=e,this._initMemoryManager(),this._accuIndex=0,this.time=0,this.timeScale=1}Yd.prototype=Object.assign(Object.create(Vn.prototype),{constructor:Yd,_bindAction:function(e,t){const n=e._localRoot||this._root,i=e._clip.tracks,r=i.length,o=e._propertyBindings,s=e._interpolants,a=n.uuid,l=this._bindingsByRootAndName;let c=l[a];void 0===c&&(c={},l[a]=c);for(let u=0;u!==r;++u){const e=i[u],r=e.name;let l=c[r];if(void 0!==l)o[u]=l;else{if(l=o[u],void 0!==l){null===l._cacheIndex&&(++l.referenceCount,this._addInactiveBinding(l,a,r));continue}const i=t&&t._propertyBindings[u].binding.parsedPath;l=new kd(Wd.create(n,r,i),e.ValueTypeName,e.getValueSize()),++l.referenceCount,this._addInactiveBinding(l,a,r),o[u]=l}s[u].resultBuffer=l.buffer}},_activateAction:function(e){if(!this._isActiveAction(e)){if(null===e._cacheIndex){const t=(e._localRoot||this._root).uuid,n=e._clip.uuid,i=this._actionsByClip[n];this._bindAction(e,i&&i.knownActions[0]),this._addInactiveAction(e,n,t)}const t=e._propertyBindings;for(let e=0,n=t.length;e!==n;++e){const n=t[e];0===n.useCount++&&(this._lendBinding(n),n.saveOriginalState())}this._lendAction(e)}},_deactivateAction:function(e){if(this._isActiveAction(e)){const t=e._propertyBindings;for(let e=0,n=t.length;e!==n;++e){const n=t[e];0===--n.useCount&&(n.restoreOriginalState(),this._takeBackBinding(n))}this._takeBackAction(e)}},_initMemoryManager:function(){this._actions=[],this._nActiveActions=0,this._actionsByClip={},this._bindings=[],this._nActiveBindings=0,this._bindingsByRootAndName={},this._controlInterpolants=[],this._nActiveControlInterpolants=0;const e=this;this.stats={actions:{get total(){return e._actions.length},get inUse(){return e._nActiveActions}},bindings:{get total(){return e._bindings.length},get inUse(){return e._nActiveBindings}},controlInterpolants:{get total(){return e._controlInterpolants.length},get inUse(){return e._nActiveControlInterpolants}}}},_isActiveAction:function(e){const t=e._cacheIndex;return null!==t&&t<this._nActiveActions},_addInactiveAction:function(e,t,n){const i=this._actions,r=this._actionsByClip;let o=r[t];if(void 0===o)o={knownActions:[e],actionByRoot:{}},e._byClipCacheIndex=0,r[t]=o;else{const t=o.knownActions;e._byClipCacheIndex=t.length,t.push(e)}e._cacheIndex=i.length,i.push(e),o.actionByRoot[n]=e},_removeInactiveAction:function(e){const t=this._actions,n=t[t.length-1],i=e._cacheIndex;n._cacheIndex=i,t[i]=n,t.pop(),e._cacheIndex=null;const r=e._clip.uuid,o=this._actionsByClip,s=o[r],a=s.knownActions,l=a[a.length-1],c=e._byClipCacheIndex;l._byClipCacheIndex=c,a[c]=l,a.pop(),e._byClipCacheIndex=null;delete s.actionByRoot[(e._localRoot||this._root).uuid],0===a.length&&delete o[r],this._removeInactiveBindingsForAction(e)},_removeInactiveBindingsForAction:function(e){const t=e._propertyBindings;for(let n=0,i=t.length;n!==i;++n){const e=t[n];0===--e.referenceCount&&this._removeInactiveBinding(e)}},_lendAction:function(e){const t=this._actions,n=e._cacheIndex,i=this._nActiveActions++,r=t[i];e._cacheIndex=i,t[i]=e,r._cacheIndex=n,t[n]=r},_takeBackAction:function(e){const t=this._actions,n=e._cacheIndex,i=--this._nActiveActions,r=t[i];e._cacheIndex=i,t[i]=e,r._cacheIndex=n,t[n]=r},_addInactiveBinding:function(e,t,n){const i=this._bindingsByRootAndName,r=this._bindings;let o=i[t];void 0===o&&(o={},i[t]=o),o[n]=e,e._cacheIndex=r.length,r.push(e)},_removeInactiveBinding:function(e){const t=this._bindings,n=e.binding,i=n.rootNode.uuid,r=n.path,o=this._bindingsByRootAndName,s=o[i],a=t[t.length-1],l=e._cacheIndex;a._cacheIndex=l,t[l]=a,t.pop(),delete s[r],0===Object.keys(s).length&&delete o[i]},_lendBinding:function(e){const t=this._bindings,n=e._cacheIndex,i=this._nActiveBindings++,r=t[i];e._cacheIndex=i,t[i]=e,r._cacheIndex=n,t[n]=r},_takeBackBinding:function(e){const t=this._bindings,n=e._cacheIndex,i=--this._nActiveBindings,r=t[i];e._cacheIndex=i,t[i]=e,r._cacheIndex=n,t[n]=r},_lendControlInterpolant:function(){const e=this._controlInterpolants,t=this._nActiveControlInterpolants++;let n=e[t];return void 0===n&&(n=new Vu(new Float32Array(2),new Float32Array(2),1,this._controlInterpolantsResultBuffer),n.__cacheIndex=t,e[t]=n),n},_takeBackControlInterpolant:function(e){const t=this._controlInterpolants,n=e.__cacheIndex,i=--this._nActiveControlInterpolants,r=t[i];e.__cacheIndex=i,t[i]=e,r.__cacheIndex=n,t[n]=r},_controlInterpolantsResultBuffer:new Float32Array(1),clipAction:function(e,t,n){const i=t||this._root,r=i.uuid;let o="string"===typeof e?eh.findByName(i,e):e;const s=null!==o?o.uuid:e,a=this._actionsByClip[s];let l=null;if(void 0===n&&(n=null!==o?o.blendMode:$t),void 0!==a){const e=a.actionByRoot[r];if(void 0!==e&&e.blendMode===n)return e;l=a.knownActions[0],null===o&&(o=l._clip)}if(null===o)return null;const c=new Xd(this,o,t,n);return this._bindAction(c,l),this._addInactiveAction(c,s,r),c},existingAction:function(e,t){const n=t||this._root,i=n.uuid,r="string"===typeof e?eh.findByName(n,e):e,o=r?r.uuid:e,s=this._actionsByClip[o];return void 0!==s&&s.actionByRoot[i]||null},stopAllAction:function(){const e=this._actions;for(let t=this._nActiveActions-1;t>=0;--t)e[t].stop();return this},update:function(e){e*=this.timeScale;const t=this._actions,n=this._nActiveActions,i=this.time+=e,r=Math.sign(e),o=this._accuIndex^=1;for(let l=0;l!==n;++l){t[l]._update(i,e,r,o)}const s=this._bindings,a=this._nActiveBindings;for(let l=0;l!==a;++l)s[l].apply(o);return this},setTime:function(e){this.time=0;for(let t=0;t<this._actions.length;t++)this._actions[t].time=0;return this.update(e)},getRoot:function(){return this._root},uncacheClip:function(e){const t=this._actions,n=e.uuid,i=this._actionsByClip,r=i[n];if(void 0!==r){const e=r.knownActions;for(let n=0,i=e.length;n!==i;++n){const i=e[n];this._deactivateAction(i);const r=i._cacheIndex,o=t[t.length-1];i._cacheIndex=null,i._byClipCacheIndex=null,o._cacheIndex=r,t[r]=o,t.pop(),this._removeInactiveBindingsForAction(i)}delete i[n]}},uncacheRoot:function(e){const t=e.uuid,n=this._actionsByClip;for(const r in n){const e=n[r].actionByRoot[t];void 0!==e&&(this._deactivateAction(e),this._removeInactiveAction(e))}const i=this._bindingsByRootAndName[t];if(void 0!==i)for(const r in i){const e=i[r];e.restoreOriginalState(),this._removeInactiveBinding(e)}},uncacheAction:function(e,t){const n=this.existingAction(e,t);null!==n&&(this._deactivateAction(n),this._removeInactiveAction(n))}});class Jd{constructor(e){"string"===typeof e&&(console.warn("THREE.Uniform: Type parameter is no longer needed."),e=arguments[1]),this.value=e}clone(){return new Jd(void 0===this.value.clone?this.value:this.value.clone())}}function Zd(e,t,n){el.call(this,e,t),this.meshPerAttribute=n||1}function Kd(e,t,n,i,r){this.buffer=e,this.type=t,this.itemSize=n,this.elementSize=i,this.count=r,this.version=0}function Qd(e,t,n,i){this.ray=new Ni(e,t),this.near=n||0,this.far=i||1/0,this.camera=null,this.layers=new Vi,this.params={Mesh:{},Line:{threshold:1},LOD:{},Points:{threshold:1},Sprite:{}},Object.defineProperties(this.params,{PointCloud:{get:function(){return console.warn("THREE.Raycaster: params.PointCloud has been renamed to params.Points."),this.Points}}})}function $d(e,t){return e.distance-t.distance}function ep(e,t,n,i){if(e.layers.test(t.layers)&&e.raycast(t,n),!0===i){const i=e.children;for(let e=0,r=i.length;e<r;e++)ep(i[e],t,n,!0)}}Zd.prototype=Object.assign(Object.create(el.prototype),{constructor:Zd,isInstancedInterleavedBuffer:!0,copy:function(e){return el.prototype.copy.call(this,e),this.meshPerAttribute=e.meshPerAttribute,this},clone:function(e){const t=el.prototype.clone.call(this,e);return t.meshPerAttribute=this.meshPerAttribute,t},toJSON:function(e){const t=el.prototype.toJSON.call(this,e);return t.isInstancedInterleavedBuffer=!0,t.meshPerAttribute=this.meshPerAttribute,t}}),Object.defineProperty(Kd.prototype,"needsUpdate",{set:function(e){!0===e&&this.version++}}),Object.assign(Kd.prototype,{isGLBufferAttribute:!0,setBuffer:function(e){return this.buffer=e,this},setType:function(e,t){return this.type=e,this.elementSize=t,this},setItemSize:function(e){return this.itemSize=e,this},setCount:function(e){return this.count=e,this}}),Object.assign(Qd.prototype,{set:function(e,t){this.ray.set(e,t)},setFromCamera:function(e,t){t&&t.isPerspectiveCamera?(this.ray.origin.setFromMatrixPosition(t.matrixWorld),this.ray.direction.set(e.x,e.y,.5).unproject(t).sub(this.ray.origin).normalize(),this.camera=t):t&&t.isOrthographicCamera?(this.ray.origin.set(e.x,e.y,(t.near+t.far)/(t.near-t.far)).unproject(t),this.ray.direction.set(0,0,-1).transformDirection(t.matrixWorld),this.camera=t):console.error("THREE.Raycaster: Unsupported camera type: "+t.type)},intersectObject:function(e,t,n){const i=n||[];return ep(e,this,i,t),i.sort($d),i},intersectObjects:function(e,t,n){const i=n||[];if(!1===Array.isArray(e))return console.warn("THREE.Raycaster.intersectObjects: objects is not an Array."),i;for(let r=0,o=e.length;r<o;r++)ep(e[r],this,i,t);return i.sort($d),i}});class tp{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return this.radius=e,this.phi=t,this.theta=n,this}set(e,t,n){return this.radius=e,this.phi=t,this.theta=n,this}clone(){return(new this.constructor).copy(this)}copy(e){return this.radius=e.radius,this.phi=e.phi,this.theta=e.theta,this}makeSafe(){const e=1e-6;return this.phi=Math.max(e,Math.min(Math.PI-e,this.phi)),this}setFromVector3(e){return this.setFromCartesianCoords(e.x,e.y,e.z)}setFromCartesianCoords(e,t,n){return this.radius=Math.sqrt(e*e+t*t+n*n),0===this.radius?(this.theta=0,this.phi=0):(this.theta=Math.atan2(e,n),this.phi=Math.acos(Xn.clamp(t/this.radius,-1,1))),this}}class np{constructor(e,t,n){return this.radius=void 0!==e?e:1,this.theta=void 0!==t?t:0,this.y=void 0!==n?n:0,this}set(e,t,n){return this.radius=e,this.theta=t,this.y=n,this}clone(){return(new this.constructor).copy(this)}copy(e){return this.radius=e.radius,this.theta=e.theta,this.y=e.y,this}setFromVector3(e){return this.setFromCartesianCoords(e.x,e.y,e.z)}setFromCartesianCoords(e,t,n){return this.radius=Math.sqrt(e*e+n*n),this.theta=Math.atan2(e,n),this.y=t,this}}const ip=new Yn;class rp{constructor(e,t){Object.defineProperty(this,"isBox2",{value:!0}),this.min=void 0!==e?e:new Yn(1/0,1/0),this.max=void 0!==t?t:new Yn(-1/0,-1/0)}set(e,t){return this.min.copy(e),this.max.copy(t),this}setFromPoints(e){this.makeEmpty();for(let t=0,n=e.length;t<n;t++)this.expandByPoint(e[t]);return this}setFromCenterAndSize(e,t){const n=ip.copy(t).multiplyScalar(.5);return this.min.copy(e).sub(n),this.max.copy(e).add(n),this}clone(){return(new this.constructor).copy(this)}copy(e){return this.min.copy(e.min),this.max.copy(e.max),this}makeEmpty(){return this.min.x=this.min.y=1/0,this.max.x=this.max.y=-1/0,this}isEmpty(){return this.max.x<this.min.x||this.max.y<this.min.y}getCenter(e){return void 0===e&&(console.warn("THREE.Box2: .getCenter() target is now required"),e=new Yn),this.isEmpty()?e.set(0,0):e.addVectors(this.min,this.max).multiplyScalar(.5)}getSize(e){return void 0===e&&(console.warn("THREE.Box2: .getSize() target is now required"),e=new Yn),this.isEmpty()?e.set(0,0):e.subVectors(this.max,this.min)}expandByPoint(e){return this.min.min(e),this.max.max(e),this}expandByVector(e){return this.min.sub(e),this.max.add(e),this}expandByScalar(e){return this.min.addScalar(-e),this.max.addScalar(e),this}containsPoint(e){return!(e.x<this.min.x||e.x>this.max.x||e.y<this.min.y||e.y>this.max.y)}containsBox(e){return this.min.x<=e.min.x&&e.max.x<=this.max.x&&this.min.y<=e.min.y&&e.max.y<=this.max.y}getParameter(e,t){return void 0===t&&(console.warn("THREE.Box2: .getParameter() target is now required"),t=new Yn),t.set((e.x-this.min.x)/(this.max.x-this.min.x),(e.y-this.min.y)/(this.max.y-this.min.y))}intersectsBox(e){return!(e.max.x<this.min.x||e.min.x>this.max.x||e.max.y<this.min.y||e.min.y>this.max.y)}clampPoint(e,t){return void 0===t&&(console.warn("THREE.Box2: .clampPoint() target is now required"),t=new Yn),t.copy(e).clamp(this.min,this.max)}distanceToPoint(e){return ip.copy(e).clamp(this.min,this.max).sub(e).length()}intersect(e){return this.min.max(e.min),this.max.min(e.max),this}union(e){return this.min.min(e.min),this.max.max(e.max),this}translate(e){return this.min.add(e),this.max.add(e),this}equals(e){return e.min.equals(this.min)&&e.max.equals(this.max)}}const op=new oi,sp=new oi;class ap{constructor(e,t){this.start=void 0!==e?e:new oi,this.end=void 0!==t?t:new oi}set(e,t){return this.start.copy(e),this.end.copy(t),this}clone(){return(new this.constructor).copy(this)}copy(e){return this.start.copy(e.start),this.end.copy(e.end),this}getCenter(e){return void 0===e&&(console.warn("THREE.Line3: .getCenter() target is now required"),e=new oi),e.addVectors(this.start,this.end).multiplyScalar(.5)}delta(e){return void 0===e&&(console.warn("THREE.Line3: .delta() target is now required"),e=new oi),e.subVectors(this.end,this.start)}distanceSq(){return this.start.distanceToSquared(this.end)}distance(){return this.start.distanceTo(this.end)}at(e,t){return void 0===t&&(console.warn("THREE.Line3: .at() target is now required"),t=new oi),this.delta(t).multiplyScalar(e).add(this.start)}closestPointToPointParameter(e,t){op.subVectors(e,this.start),sp.subVectors(this.end,this.start);const n=sp.dot(sp);let i=sp.dot(op)/n;return t&&(i=Xn.clamp(i,0,1)),i}closestPointToPoint(e,t,n){const i=this.closestPointToPointParameter(e,t);return void 0===n&&(console.warn("THREE.Line3: .closestPointToPoint() target is now required"),n=new oi),this.delta(n).multiplyScalar(i).add(this.start)}applyMatrix4(e){return this.start.applyMatrix4(e),this.end.applyMatrix4(e),this}equals(e){return e.start.equals(this.start)&&e.end.equals(this.end)}}function lp(e){rr.call(this),this.material=e,this.render=function(){},this.hasPositions=!1,this.hasNormals=!1,this.hasColors=!1,this.hasUvs=!1,this.positionArray=null,this.normalArray=null,this.colorArray=null,this.uvArray=null,this.count=0}lp.prototype=Object.create(rr.prototype),lp.prototype.constructor=lp,lp.prototype.isImmediateRenderObject=!0;const cp=new oi;class up extends rr{constructor(e,t){super(),this.light=e,this.light.updateMatrixWorld(),this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.color=t;const n=new to,i=[0,0,0,0,0,1,0,0,0,1,0,1,0,0,0,-1,0,1,0,0,0,0,1,1,0,0,0,0,-1,1];for(let o=0,s=1,a=32;o<a;o++,s++){const e=o/a*Math.PI*2,t=s/a*Math.PI*2;i.push(Math.cos(e),Math.sin(e),1,Math.cos(t),Math.sin(t),1)}n.setAttribute("position",new Hr(i,3));const r=new Fl({fog:!1,toneMapped:!1});this.cone=new ql(n,r),this.add(this.cone),this.update()}dispose(){this.cone.geometry.dispose(),this.cone.material.dispose()}update(){this.light.updateMatrixWorld();const e=this.light.distance?this.light.distance:1e3,t=e*Math.tan(this.light.angle);this.cone.scale.set(t,t,e),cp.setFromMatrixPosition(this.light.target.matrixWorld),this.cone.lookAt(cp),void 0!==this.color?this.cone.material.color.set(this.color):this.cone.material.color.copy(this.light.color)}}const hp=new oi,dp=new ki,pp=new ki;class fp extends ql{constructor(e){const t=mp(e),n=new to,i=[],r=[],o=new Tr(0,0,1),s=new Tr(0,1,0);for(let a=0;a<t.length;a++){const e=t[a];e.parent&&e.parent.isBone&&(i.push(0,0,0),i.push(0,0,0),r.push(o.r,o.g,o.b),r.push(s.r,s.g,s.b))}n.setAttribute("position",new Hr(i,3)),n.setAttribute("color",new Hr(r,3));super(n,new Fl({vertexColors:!0,depthTest:!1,depthWrite:!1,toneMapped:!1,transparent:!0})),this.type="SkeletonHelper",this.isSkeletonHelper=!0,this.root=e,this.bones=t,this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1}updateMatrixWorld(e){const t=this.bones,n=this.geometry,i=n.getAttribute("position");pp.copy(this.root.matrixWorld).invert();for(let r=0,o=0;r<t.length;r++){const e=t[r];e.parent&&e.parent.isBone&&(dp.multiplyMatrices(pp,e.matrixWorld),hp.setFromMatrixPosition(dp),i.setXYZ(o,hp.x,hp.y,hp.z),dp.multiplyMatrices(pp,e.parent.matrixWorld),hp.setFromMatrixPosition(dp),i.setXYZ(o+1,hp.x,hp.y,hp.z),o+=2)}n.getAttribute("position").needsUpdate=!0,super.updateMatrixWorld(e)}}function mp(e){const t=[];e&&e.isBone&&t.push(e);for(let n=0;n<e.children.length;n++)t.push.apply(t,mp(e.children[n]));return t}class gp extends bo{constructor(e,t,n){super(new gu(t,4,2),new Lr({wireframe:!0,fog:!1,toneMapped:!1})),this.light=e,this.light.updateMatrixWorld(),this.color=n,this.type="PointLightHelper",this.matrix=this.light.matrixWorld,this.matrixAutoUpdate=!1,this.update()}dispose(){this.geometry.dispose(),this.material.dispose()}update(){void 0!==this.color?this.material.color.set(this.color):this.material.color.copy(this.light.color)}}const vp=new oi,yp=new Tr,xp=new Tr;class bp extends rr{constructor(e,t,n){super(),this.light=e,this.light.updateMatrixWorld(),this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.color=n;const i=new su(t);i.rotateY(.5*Math.PI),this.material=new Lr({wireframe:!0,fog:!1,toneMapped:!1}),void 0===this.color&&(this.material.vertexColors=!0);const r=i.getAttribute("position"),o=new Float32Array(3*r.count);i.setAttribute("color",new kr(o,3)),this.add(new bo(i,this.material)),this.update()}dispose(){this.children[0].geometry.dispose(),this.children[0].material.dispose()}update(){const e=this.children[0];if(void 0!==this.color)this.material.color.set(this.color);else{const t=e.geometry.getAttribute("color");yp.copy(this.light.color),xp.copy(this.light.groundColor);for(let e=0,n=t.count;e<n;e++){const i=e<n/2?yp:xp;t.setXYZ(e,i.r,i.g,i.b)}t.needsUpdate=!0}e.lookAt(vp.setFromMatrixPosition(this.light.matrixWorld).negate())}}class wp extends ql{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:10,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:4473924,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:8947848;n=new Tr(n),i=new Tr(i);const r=t/2,o=e/t,s=e/2,a=[],l=[];for(let u=0,h=0,d=-s;u<=t;u++,d+=o){a.push(-s,0,d,s,0,d),a.push(d,0,-s,d,0,s);const e=u===r?n:i;e.toArray(l,h),h+=3,e.toArray(l,h),h+=3,e.toArray(l,h),h+=3,e.toArray(l,h),h+=3}const c=new to;c.setAttribute("position",new Hr(a,3)),c.setAttribute("color",new Hr(l,3));super(c,new Fl({vertexColors:!0,toneMapped:!1})),this.type="GridHelper"}}class _p extends ql{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:10,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:16,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:8,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:64,r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:4473924,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:8947848;r=new Tr(r),o=new Tr(o);const s=[],a=[];for(let c=0;c<=t;c++){const n=c/t*(2*Math.PI),i=Math.sin(n)*e,l=Math.cos(n)*e;s.push(0,0,0),s.push(i,0,l);const u=1&c?r:o;a.push(u.r,u.g,u.b),a.push(u.r,u.g,u.b)}for(let c=0;c<=n;c++){const t=1&c?r:o,l=e-e/n*c;for(let e=0;e<i;e++){let n=e/i*(2*Math.PI),r=Math.sin(n)*l,o=Math.cos(n)*l;s.push(r,0,o),a.push(t.r,t.g,t.b),n=(e+1)/i*(2*Math.PI),r=Math.sin(n)*l,o=Math.cos(n)*l,s.push(r,0,o),a.push(t.r,t.g,t.b)}}const l=new to;l.setAttribute("position",new Hr(s,3)),l.setAttribute("color",new Hr(a,3));super(l,new Fl({vertexColors:!0,toneMapped:!1})),this.type="PolarGridHelper"}}const Sp=new oi,Mp=new oi,Ep=new oi;class Tp extends rr{constructor(e,t,n){super(),this.light=e,this.light.updateMatrixWorld(),this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.color=n,void 0===t&&(t=1);let i=new to;i.setAttribute("position",new Hr([-t,t,0,t,t,0,t,-t,0,-t,-t,0,-t,t,0],3));const r=new Fl({fog:!1,toneMapped:!1});this.lightPlane=new Gl(i,r),this.add(this.lightPlane),i=new to,i.setAttribute("position",new Hr([0,0,0,0,0,1],3)),this.targetLine=new Gl(i,r),this.add(this.targetLine),this.update()}dispose(){this.lightPlane.geometry.dispose(),this.lightPlane.material.dispose(),this.targetLine.geometry.dispose(),this.targetLine.material.dispose()}update(){Sp.setFromMatrixPosition(this.light.matrixWorld),Mp.setFromMatrixPosition(this.light.target.matrixWorld),Ep.subVectors(Mp,Sp),this.lightPlane.lookAt(Mp),void 0!==this.color?(this.lightPlane.material.color.set(this.color),this.targetLine.material.color.set(this.color)):(this.lightPlane.material.color.copy(this.light.color),this.targetLine.material.color.copy(this.light.color)),this.targetLine.lookAt(Mp),this.targetLine.scale.z=Ep.length()}}const Ap=new oi,Cp=new Lo;class Rp extends ql{constructor(e){const t=new to,n=new Fl({color:16777215,vertexColors:!0,toneMapped:!1}),i=[],r=[],o={},s=new Tr(16755200),a=new Tr(16711680),l=new Tr(43775),c=new Tr(16777215),u=new Tr(3355443);function h(e,t,n){d(e,n),d(t,n)}function d(e,t){i.push(0,0,0),r.push(t.r,t.g,t.b),void 0===o[e]&&(o[e]=[]),o[e].push(i.length/3-1)}h("n1","n2",s),h("n2","n4",s),h("n4","n3",s),h("n3","n1",s),h("f1","f2",s),h("f2","f4",s),h("f4","f3",s),h("f3","f1",s),h("n1","f1",s),h("n2","f2",s),h("n3","f3",s),h("n4","f4",s),h("p","n1",a),h("p","n2",a),h("p","n3",a),h("p","n4",a),h("u1","u2",l),h("u2","u3",l),h("u3","u1",l),h("c","t",c),h("p","c",u),h("cn1","cn2",u),h("cn3","cn4",u),h("cf1","cf2",u),h("cf3","cf4",u),t.setAttribute("position",new Hr(i,3)),t.setAttribute("color",new Hr(r,3)),super(t,n),this.type="CameraHelper",this.camera=e,this.camera.updateProjectionMatrix&&this.camera.updateProjectionMatrix(),this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.pointMap=o,this.update()}update(){const e=this.geometry,t=this.pointMap;Cp.projectionMatrixInverse.copy(this.camera.projectionMatrixInverse),Lp("c",t,e,Cp,0,0,-1),Lp("t",t,e,Cp,0,0,1),Lp("n1",t,e,Cp,-1,-1,-1),Lp("n2",t,e,Cp,1,-1,-1),Lp("n3",t,e,Cp,-1,1,-1),Lp("n4",t,e,Cp,1,1,-1),Lp("f1",t,e,Cp,-1,-1,1),Lp("f2",t,e,Cp,1,-1,1),Lp("f3",t,e,Cp,-1,1,1),Lp("f4",t,e,Cp,1,1,1),Lp("u1",t,e,Cp,.7,1.1,-1),Lp("u2",t,e,Cp,-.7,1.1,-1),Lp("u3",t,e,Cp,0,2,-1),Lp("cf1",t,e,Cp,-1,0,1),Lp("cf2",t,e,Cp,1,0,1),Lp("cf3",t,e,Cp,0,-1,1),Lp("cf4",t,e,Cp,0,1,1),Lp("cn1",t,e,Cp,-1,0,-1),Lp("cn2",t,e,Cp,1,0,-1),Lp("cn3",t,e,Cp,0,-1,-1),Lp("cn4",t,e,Cp,0,1,-1),e.getAttribute("position").needsUpdate=!0}}function Lp(e,t,n,i,r,o,s){Ap.set(r,o,s).unproject(i);const a=t[e];if(void 0!==a){const e=n.getAttribute("position");for(let t=0,n=a.length;t<n;t++)e.setXYZ(a[t],Ap.x,Ap.y,Ap.z)}}const Pp=new li;class Np extends ql{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:16776960;const n=new Uint16Array([0,1,1,2,2,3,3,0,4,5,5,6,6,7,7,4,0,4,1,5,2,6,3,7]),i=new Float32Array(24),r=new to;r.setIndex(new kr(n,1)),r.setAttribute("position",new kr(i,3)),super(r,new Fl({color:t,toneMapped:!1})),this.object=e,this.type="BoxHelper",this.matrixAutoUpdate=!1,this.update()}update(e){if(void 0!==e&&console.warn("THREE.BoxHelper: .update() has no longer arguments."),void 0!==this.object&&Pp.setFromObject(this.object),Pp.isEmpty())return;const t=Pp.min,n=Pp.max,i=this.geometry.attributes.position,r=i.array;r[0]=n.x,r[1]=n.y,r[2]=n.z,r[3]=t.x,r[4]=n.y,r[5]=n.z,r[6]=t.x,r[7]=t.y,r[8]=n.z,r[9]=n.x,r[10]=t.y,r[11]=n.z,r[12]=n.x,r[13]=n.y,r[14]=t.z,r[15]=t.x,r[16]=n.y,r[17]=t.z,r[18]=t.x,r[19]=t.y,r[20]=t.z,r[21]=n.x,r[22]=t.y,r[23]=t.z,i.needsUpdate=!0,this.geometry.computeBoundingSphere()}setFromObject(e){return this.object=e,this.update(),this}copy(e){return ql.prototype.copy.call(this,e),this.object=e.object,this}}class kp extends ql{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:16776960;const n=new Uint16Array([0,1,1,2,2,3,3,0,4,5,5,6,6,7,7,4,0,4,1,5,2,6,3,7]),i=new to;i.setIndex(new kr(n,1)),i.setAttribute("position",new Hr([1,1,1,-1,1,1,-1,-1,1,1,-1,1,1,1,-1,-1,1,-1,-1,-1,-1,1,-1,-1],3)),super(i,new Fl({color:t,toneMapped:!1})),this.box=e,this.type="Box3Helper",this.geometry.computeBoundingSphere()}updateMatrixWorld(e){const t=this.box;t.isEmpty()||(t.getCenter(this.position),t.getSize(this.scale),this.scale.multiplyScalar(.5),super.updateMatrixWorld(e))}}class Op extends Gl{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;const n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:16776960,i=new to;i.setAttribute("position",new Hr([1,-1,1,-1,1,1,-1,-1,1,1,1,1,-1,1,1,-1,-1,1,1,-1,1,1,1,1,0,0,1,0,0,0],3)),i.computeBoundingSphere(),super(i,new Fl({color:n,toneMapped:!1})),this.type="PlaneHelper",this.plane=e,this.size=t;const r=new to;r.setAttribute("position",new Hr([1,1,1,-1,1,1,-1,-1,1,1,1,1,-1,-1,1,1,-1,1],3)),r.computeBoundingSphere(),this.add(new bo(r,new Lr({color:n,opacity:.2,transparent:!0,depthWrite:!1,toneMapped:!1})))}updateMatrixWorld(e){let t=-this.plane.constant;Math.abs(t)<1e-8&&(t=1e-8),this.scale.set(.5*this.size,.5*this.size,t),this.children[0].material.side=t<0?S:_,this.lookAt(this.plane.normal),super.updateMatrixWorld(e)}}const Dp=new oi;let jp,Fp;class Ip extends rr{constructor(e,t,n,i,r,o){super(),this.type="ArrowHelper",void 0===e&&(e=new oi(0,0,1)),void 0===t&&(t=new oi(0,0,0)),void 0===n&&(n=1),void 0===i&&(i=16776960),void 0===r&&(r=.2*n),void 0===o&&(o=.2*r),void 0===jp&&(jp=new to,jp.setAttribute("position",new Hr([0,0,0,0,1,0],3)),Fp=new pc(0,.5,1,5,1),Fp.translate(0,-.5,0)),this.position.copy(t),this.line=new Gl(jp,new Fl({color:i,toneMapped:!1})),this.line.matrixAutoUpdate=!1,this.add(this.line),this.cone=new bo(Fp,new Lr({color:i,toneMapped:!1})),this.cone.matrixAutoUpdate=!1,this.add(this.cone),this.setDirection(e),this.setLength(n,r,o)}setDirection(e){if(e.y>.99999)this.quaternion.set(0,0,0,1);else if(e.y<-.99999)this.quaternion.set(1,0,0,0);else{Dp.set(e.z,0,-e.x).normalize();const t=Math.acos(e.y);this.quaternion.setFromAxisAngle(Dp,t)}}setLength(e,t,n){void 0===t&&(t=.2*e),void 0===n&&(n=.2*t),this.line.scale.set(1,Math.max(1e-4,e-t),1),this.line.updateMatrix(),this.cone.scale.set(n,t,n),this.cone.position.y=e,this.cone.updateMatrix()}setColor(e){this.line.material.color.set(e),this.cone.material.color.set(e)}copy(e){return super.copy(e,!1),this.line.copy(e.line),this.cone.copy(e.cone),this}}class zp extends ql{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;const t=[0,0,0,e,0,0,0,0,0,0,e,0,0,0,0,0,0,e],n=new to;n.setAttribute("position",new Hr(t,3)),n.setAttribute("color",new Hr([1,0,0,1,.6,0,0,1,0,.6,1,0,0,0,1,0,.6,1],3));super(n,new Fl({vertexColors:!0,toneMapped:!1})),this.type="AxesHelper"}}const Bp=new Float32Array(1),Up=new Int32Array(Bp.buffer),Hp={toHalfFloat:function(e){Bp[0]=e;const t=Up[0];let n=t>>16&32768,i=t>>12&2047;const r=t>>23&255;return r<103?n:r>142?(n|=31744,n|=(255==r?0:1)&&8388607&t,n):r<113?(i|=2048,n|=(i>>114-r)+(i>>113-r&1),n):(n|=r-112<<10|i>>1,n+=1&i,n)}},Gp=Math.pow(2,8),Vp=[.125,.215,.35,.446,.526,.582],Wp=5+Vp.length,qp=20,Xp={[on]:0,[sn]:1,[ln]:2,[un]:3,[hn]:4,[dn]:5,[an]:6},Yp=new Vh,{_lodPlanes:Jp,_sizeLods:Zp,_sigmas:Kp}=sf(),Qp=new Tr;let $p=null;const ef=(1+Math.sqrt(5))/2,tf=1/ef,nf=[new oi(1,1,1),new oi(-1,1,1),new oi(1,1,-1),new oi(-1,1,-1),new oi(0,ef,tf),new oi(0,ef,-tf),new oi(tf,0,ef),new oi(-tf,0,ef),new oi(ef,tf,0),new oi(-ef,tf,0)];class rf{constructor(e){this._renderer=e,this._pingPongRenderTarget=null,this._blurMaterial=function(e){const t=new Float32Array(e),n=new oi(0,1,0);return new Pu({name:"SphericalGaussianBlur",defines:{n:e},uniforms:{envMap:{value:null},samples:{value:1},weights:{value:t},latitudinal:{value:!1},dTheta:{value:0},mipInt:{value:0},poleAxis:{value:n},inputEncoding:{value:Xp[on]},outputEncoding:{value:Xp[on]}},vertexShader:"\n\n\t\tprecision mediump float;\n\t\tprecision mediump int;\n\n\t\tattribute vec3 position;\n\t\tattribute vec2 uv;\n\t\tattribute float faceIndex;\n\n\t\tvarying vec3 vOutputDirection;\n\n\t\t// RH coordinate system; PMREM face-indexing convention\n\t\tvec3 getDirection( vec2 uv, float face ) {\n\n\t\t\tuv = 2.0 * uv - 1.0;\n\n\t\t\tvec3 direction = vec3( uv, 1.0 );\n\n\t\t\tif ( face == 0.0 ) {\n\n\t\t\t\tdirection = direction.zyx; // ( 1, v, u ) pos x\n\n\t\t\t} else if ( face == 1.0 ) {\n\n\t\t\t\tdirection = direction.xzy;\n\t\t\t\tdirection.xz *= -1.0; // ( -u, 1, -v ) pos y\n\n\t\t\t} else if ( face == 2.0 ) {\n\n\t\t\t\tdirection.x *= -1.0; // ( -u, v, 1 ) pos z\n\n\t\t\t} else if ( face == 3.0 ) {\n\n\t\t\t\tdirection = direction.zyx;\n\t\t\t\tdirection.xz *= -1.0; // ( -1, v, -u ) neg x\n\n\t\t\t} else if ( face == 4.0 ) {\n\n\t\t\t\tdirection = direction.xzy;\n\t\t\t\tdirection.xy *= -1.0; // ( -u, -1, v ) neg y\n\n\t\t\t} else if ( face == 5.0 ) {\n\n\t\t\t\tdirection.z *= -1.0; // ( u, v, -1 ) neg z\n\n\t\t\t}\n\n\t\t\treturn direction;\n\n\t\t}\n\n\t\tvoid main() {\n\n\t\t\tvOutputDirection = getDirection( uv, faceIndex );\n\t\t\tgl_Position = vec4( position, 1.0 );\n\n\t\t}\n\t",fragmentShader:"\n\n\t\t\tprecision mediump float;\n\t\t\tprecision mediump int;\n\n\t\t\tvarying vec3 vOutputDirection;\n\n\t\t\tuniform sampler2D envMap;\n\t\t\tuniform int samples;\n\t\t\tuniform float weights[ n ];\n\t\t\tuniform bool latitudinal;\n\t\t\tuniform float dTheta;\n\t\t\tuniform float mipInt;\n\t\t\tuniform vec3 poleAxis;\n\n\t\t\t".concat("\n\n\t\tuniform int inputEncoding;\n\t\tuniform int outputEncoding;\n\n\t\t#include <encodings_pars_fragment>\n\n\t\tvec4 inputTexelToLinear( vec4 value ) {\n\n\t\t\tif ( inputEncoding == 0 ) {\n\n\t\t\t\treturn value;\n\n\t\t\t} else if ( inputEncoding == 1 ) {\n\n\t\t\t\treturn sRGBToLinear( value );\n\n\t\t\t} else if ( inputEncoding == 2 ) {\n\n\t\t\t\treturn RGBEToLinear( value );\n\n\t\t\t} else if ( inputEncoding == 3 ) {\n\n\t\t\t\treturn RGBMToLinear( value, 7.0 );\n\n\t\t\t} else if ( inputEncoding == 4 ) {\n\n\t\t\t\treturn RGBMToLinear( value, 16.0 );\n\n\t\t\t} else if ( inputEncoding == 5 ) {\n\n\t\t\t\treturn RGBDToLinear( value, 256.0 );\n\n\t\t\t} else {\n\n\t\t\t\treturn GammaToLinear( value, 2.2 );\n\n\t\t\t}\n\n\t\t}\n\n\t\tvec4 linearToOutputTexel( vec4 value ) {\n\n\t\t\tif ( outputEncoding == 0 ) {\n\n\t\t\t\treturn value;\n\n\t\t\t} else if ( outputEncoding == 1 ) {\n\n\t\t\t\treturn LinearTosRGB( value );\n\n\t\t\t} else if ( outputEncoding == 2 ) {\n\n\t\t\t\treturn LinearToRGBE( value );\n\n\t\t\t} else if ( outputEncoding == 3 ) {\n\n\t\t\t\treturn LinearToRGBM( value, 7.0 );\n\n\t\t\t} else if ( outputEncoding == 4 ) {\n\n\t\t\t\treturn LinearToRGBM( value, 16.0 );\n\n\t\t\t} else if ( outputEncoding == 5 ) {\n\n\t\t\t\treturn LinearToRGBD( value, 256.0 );\n\n\t\t\t} else {\n\n\t\t\t\treturn LinearToGamma( value, 2.2 );\n\n\t\t\t}\n\n\t\t}\n\n\t\tvec4 envMapTexelToLinear( vec4 color ) {\n\n\t\t\treturn inputTexelToLinear( color );\n\n\t\t}\n\t","\n\n\t\t\t#define ENVMAP_TYPE_CUBE_UV\n\t\t\t#include <cube_uv_reflection_fragment>\n\n\t\t\tvec3 getSample( float theta, vec3 axis ) {\n\n\t\t\t\tfloat cosTheta = cos( theta );\n\t\t\t\t// Rodrigues' axis-angle rotation\n\t\t\t\tvec3 sampleDirection = vOutputDirection * cosTheta\n\t\t\t\t\t+ cross( axis, vOutputDirection ) * sin( theta )\n\t\t\t\t\t+ axis * dot( axis, vOutputDirection ) * ( 1.0 - cosTheta );\n\n\t\t\t\treturn bilinearCubeUV( envMap, sampleDirection, mipInt );\n\n\t\t\t}\n\n\t\t\tvoid main() {\n\n\t\t\t\tvec3 axis = latitudinal ? poleAxis : cross( poleAxis, vOutputDirection );\n\n\t\t\t\tif ( all( equal( axis, vec3( 0.0 ) ) ) ) {\n\n\t\t\t\t\taxis = vec3( vOutputDirection.z, 0.0, - vOutputDirection.x );\n\n\t\t\t\t}\n\n\t\t\t\taxis = normalize( axis );\n\n\t\t\t\tgl_FragColor = vec4( 0.0, 0.0, 0.0, 1.0 );\n\t\t\t\tgl_FragColor.rgb += weights[ 0 ] * getSample( 0.0, axis );\n\n\t\t\t\tfor ( int i = 1; i < n; i++ ) {\n\n\t\t\t\t\tif ( i >= samples ) {\n\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t}\n\n\t\t\t\t\tfloat theta = dTheta * float( i );\n\t\t\t\t\tgl_FragColor.rgb += weights[ i ] * getSample( -1.0 * theta, axis );\n\t\t\t\t\tgl_FragColor.rgb += weights[ i ] * getSample( theta, axis );\n\n\t\t\t\t}\n\n\t\t\t\tgl_FragColor = linearToOutputTexel( gl_FragColor );\n\n\t\t\t}\n\t\t"),blending:A,depthTest:!1,depthWrite:!1})}(qp),this._equirectShader=null,this._cubemapShader=null,this._compileMaterial(this._blurMaterial)}fromScene(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:.1,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:100;$p=this._renderer.getRenderTarget();const r=this._allocateTargets();return this._sceneToCubeUV(e,n,i,r),t>0&&this._blur(r,0,0,t),this._applyPMREM(r),this._cleanup(r),r}fromEquirectangular(e){return this._fromTexture(e)}fromCubemap(e){return this._fromTexture(e)}compileCubemapShader(){null===this._cubemapShader&&(this._cubemapShader=uf(),this._compileMaterial(this._cubemapShader))}compileEquirectangularShader(){null===this._equirectShader&&(this._equirectShader=cf(),this._compileMaterial(this._equirectShader))}dispose(){this._blurMaterial.dispose(),null!==this._cubemapShader&&this._cubemapShader.dispose(),null!==this._equirectShader&&this._equirectShader.dispose();for(let e=0;e<Jp.length;e++)Jp[e].dispose()}_cleanup(e){this._pingPongRenderTarget.dispose(),this._renderer.setRenderTarget($p),e.scissorTest=!1,lf(e,0,0,e.width,e.height)}_fromTexture(e){$p=this._renderer.getRenderTarget();const t=this._allocateTargets(e);return this._textureToCubeUV(e,t),this._applyPMREM(t),this._cleanup(t),t}_allocateTargets(e){const t={magFilter:_e,minFilter:_e,generateMipmaps:!1,type:Ne,format:Je,encoding:of(e)?e.encoding:ln,depthBuffer:!1},n=af(t);return n.depthBuffer=!e,this._pingPongRenderTarget=af(t),n}_compileMaterial(e){const t=new bo(Jp[0],e);this._renderer.compile(t,Yp)}_sceneToCubeUV(e,t,n,i){const r=new Po(90,1,t,n),o=[1,-1,1,1,1,1],s=[1,1,1,-1,-1,-1],a=this._renderer,l=a.outputEncoding,c=a.toneMapping;a.getClearColor(Qp);const u=a.getClearAlpha();a.toneMapping=se,a.outputEncoding=on;let h=e.background;if(h&&h.isColor){h.convertSRGBToLinear();const t=Math.max(h.r,h.g,h.b),n=Math.min(Math.max(Math.ceil(Math.log2(t)),-128),127);h=h.multiplyScalar(Math.pow(2,-n));const i=(n+128)/255;a.setClearColor(h,i),e.background=null}for(let d=0;d<6;d++){const t=d%3;0==t?(r.up.set(0,o[d],0),r.lookAt(s[d],0,0)):1==t?(r.up.set(0,0,o[d]),r.lookAt(0,s[d],0)):(r.up.set(0,o[d],0),r.lookAt(0,0,s[d])),lf(i,t*Gp,d>2?Gp:0,Gp,Gp),a.setRenderTarget(i),a.render(e,r)}a.toneMapping=c,a.outputEncoding=l,a.setClearColor(Qp,u)}_textureToCubeUV(e,t){const n=this._renderer;e.isCubeTexture?null==this._cubemapShader&&(this._cubemapShader=uf()):null==this._equirectShader&&(this._equirectShader=cf());const i=e.isCubeTexture?this._cubemapShader:this._equirectShader,r=new bo(Jp[0],i),o=i.uniforms;o.envMap.value=e,e.isCubeTexture||o.texelSize.value.set(1/e.image.width,1/e.image.height),o.inputEncoding.value=Xp[e.encoding],o.outputEncoding.value=Xp[t.texture.encoding],lf(t,0,0,3*Gp,2*Gp),n.setRenderTarget(t),n.render(r,Yp)}_applyPMREM(e){const t=this._renderer,n=t.autoClear;t.autoClear=!1;for(let i=1;i<Wp;i++){const t=Math.sqrt(Kp[i]*Kp[i]-Kp[i-1]*Kp[i-1]),n=nf[(i-1)%nf.length];this._blur(e,i-1,i,t,n)}t.autoClear=n}_blur(e,t,n,i,r){const o=this._pingPongRenderTarget;this._halfBlur(e,o,t,n,i,"latitudinal",r),this._halfBlur(o,e,n,n,i,"longitudinal",r)}_halfBlur(e,t,n,i,r,o,s){const a=this._renderer,l=this._blurMaterial;"latitudinal"!==o&&"longitudinal"!==o&&console.error("blur direction must be either latitudinal or longitudinal!");const c=new bo(Jp[i],l),u=l.uniforms,h=Zp[n]-1,d=isFinite(r)?Math.PI/(2*h):2*Math.PI/39,p=r/d,f=isFinite(r)?1+Math.floor(3*p):qp;f>qp&&console.warn("sigmaRadians, ".concat(r,", is too large and will clip, as it requested ").concat(f," samples when the maximum is set to ").concat(qp));const m=[];let g=0;for(let y=0;y<qp;++y){const e=y/p,t=Math.exp(-e*e/2);m.push(t),0==y?g+=t:y<f&&(g+=2*t)}for(let y=0;y<m.length;y++)m[y]=m[y]/g;u.envMap.value=e.texture,u.samples.value=f,u.weights.value=m,u.latitudinal.value="latitudinal"===o,s&&(u.poleAxis.value=s),u.dTheta.value=d,u.mipInt.value=8-n,u.inputEncoding.value=Xp[e.texture.encoding],u.outputEncoding.value=Xp[e.texture.encoding];const v=Zp[i];lf(t,3*Math.max(0,Gp-2*v),(0===i?0:2*Gp)+2*v*(i>4?i-8+4:0),3*v,2*v),a.setRenderTarget(t),a.render(c,Yp)}}function of(e){return void 0!==e&&e.type===Ne&&(e.encoding===on||e.encoding===sn||e.encoding===an)}function sf(){const e=[],t=[],n=[];let i=8;for(let r=0;r<Wp;r++){const o=Math.pow(2,i);t.push(o);let s=1/o;r>4?s=Vp[r-8+4-1]:0==r&&(s=0),n.push(s);const a=1/(o-1),l=-a/2,c=1+a/2,u=[l,l,c,l,c,c,l,l,c,c,l,c],h=6,d=6,p=3,f=2,m=1,g=new Float32Array(p*d*h),v=new Float32Array(f*d*h),y=new Float32Array(m*d*h);for(let e=0;e<h;e++){const t=e%3*2/3-1,n=e>2?0:-1,i=[t,n,0,t+2/3,n,0,t+2/3,n+1,0,t,n,0,t+2/3,n+1,0,t,n+1,0];g.set(i,p*d*e),v.set(u,f*d*e);const r=[e,e,e,e,e,e];y.set(r,m*d*e)}const x=new to;x.setAttribute("position",new kr(g,p)),x.setAttribute("uv",new kr(v,f)),x.setAttribute("faceIndex",new kr(y,m)),e.push(x),i>4&&i--}return{_lodPlanes:e,_sizeLods:t,_sigmas:n}}function af(e){const t=new ni(3*Gp,3*Gp,e);return t.texture.mapping=ve,t.texture.name="PMREM.cubeUv",t.scissorTest=!0,t}function lf(e,t,n,i,r){e.viewport.set(t,n,i,r),e.scissor.set(t,n,i,r)}function cf(){return new Pu({name:"EquirectangularToCubeUV",uniforms:{envMap:{value:null},texelSize:{value:new Yn(1,1)},inputEncoding:{value:Xp[on]},outputEncoding:{value:Xp[on]}},vertexShader:"\n\n\t\tprecision mediump float;\n\t\tprecision mediump int;\n\n\t\tattribute vec3 position;\n\t\tattribute vec2 uv;\n\t\tattribute float faceIndex;\n\n\t\tvarying vec3 vOutputDirection;\n\n\t\t// RH coordinate system; PMREM face-indexing convention\n\t\tvec3 getDirection( vec2 uv, float face ) {\n\n\t\t\tuv = 2.0 * uv - 1.0;\n\n\t\t\tvec3 direction = vec3( uv, 1.0 );\n\n\t\t\tif ( face == 0.0 ) {\n\n\t\t\t\tdirection = direction.zyx; // ( 1, v, u ) pos x\n\n\t\t\t} else if ( face == 1.0 ) {\n\n\t\t\t\tdirection = direction.xzy;\n\t\t\t\tdirection.xz *= -1.0; // ( -u, 1, -v ) pos y\n\n\t\t\t} else if ( face == 2.0 ) {\n\n\t\t\t\tdirection.x *= -1.0; // ( -u, v, 1 ) pos z\n\n\t\t\t} else if ( face == 3.0 ) {\n\n\t\t\t\tdirection = direction.zyx;\n\t\t\t\tdirection.xz *= -1.0; // ( -1, v, -u ) neg x\n\n\t\t\t} else if ( face == 4.0 ) {\n\n\t\t\t\tdirection = direction.xzy;\n\t\t\t\tdirection.xy *= -1.0; // ( -u, -1, v ) neg y\n\n\t\t\t} else if ( face == 5.0 ) {\n\n\t\t\t\tdirection.z *= -1.0; // ( u, v, -1 ) neg z\n\n\t\t\t}\n\n\t\t\treturn direction;\n\n\t\t}\n\n\t\tvoid main() {\n\n\t\t\tvOutputDirection = getDirection( uv, faceIndex );\n\t\t\tgl_Position = vec4( position, 1.0 );\n\n\t\t}\n\t",fragmentShader:"\n\n\t\t\tprecision mediump float;\n\t\t\tprecision mediump int;\n\n\t\t\tvarying vec3 vOutputDirection;\n\n\t\t\tuniform sampler2D envMap;\n\t\t\tuniform vec2 texelSize;\n\n\t\t\t".concat("\n\n\t\tuniform int inputEncoding;\n\t\tuniform int outputEncoding;\n\n\t\t#include <encodings_pars_fragment>\n\n\t\tvec4 inputTexelToLinear( vec4 value ) {\n\n\t\t\tif ( inputEncoding == 0 ) {\n\n\t\t\t\treturn value;\n\n\t\t\t} else if ( inputEncoding == 1 ) {\n\n\t\t\t\treturn sRGBToLinear( value );\n\n\t\t\t} else if ( inputEncoding == 2 ) {\n\n\t\t\t\treturn RGBEToLinear( value );\n\n\t\t\t} else if ( inputEncoding == 3 ) {\n\n\t\t\t\treturn RGBMToLinear( value, 7.0 );\n\n\t\t\t} else if ( inputEncoding == 4 ) {\n\n\t\t\t\treturn RGBMToLinear( value, 16.0 );\n\n\t\t\t} else if ( inputEncoding == 5 ) {\n\n\t\t\t\treturn RGBDToLinear( value, 256.0 );\n\n\t\t\t} else {\n\n\t\t\t\treturn GammaToLinear( value, 2.2 );\n\n\t\t\t}\n\n\t\t}\n\n\t\tvec4 linearToOutputTexel( vec4 value ) {\n\n\t\t\tif ( outputEncoding == 0 ) {\n\n\t\t\t\treturn value;\n\n\t\t\t} else if ( outputEncoding == 1 ) {\n\n\t\t\t\treturn LinearTosRGB( value );\n\n\t\t\t} else if ( outputEncoding == 2 ) {\n\n\t\t\t\treturn LinearToRGBE( value );\n\n\t\t\t} else if ( outputEncoding == 3 ) {\n\n\t\t\t\treturn LinearToRGBM( value, 7.0 );\n\n\t\t\t} else if ( outputEncoding == 4 ) {\n\n\t\t\t\treturn LinearToRGBM( value, 16.0 );\n\n\t\t\t} else if ( outputEncoding == 5 ) {\n\n\t\t\t\treturn LinearToRGBD( value, 256.0 );\n\n\t\t\t} else {\n\n\t\t\t\treturn LinearToGamma( value, 2.2 );\n\n\t\t\t}\n\n\t\t}\n\n\t\tvec4 envMapTexelToLinear( vec4 color ) {\n\n\t\t\treturn inputTexelToLinear( color );\n\n\t\t}\n\t","\n\n\t\t\t#include <common>\n\n\t\t\tvoid main() {\n\n\t\t\t\tgl_FragColor = vec4( 0.0, 0.0, 0.0, 1.0 );\n\n\t\t\t\tvec3 outputDirection = normalize( vOutputDirection );\n\t\t\t\tvec2 uv = equirectUv( outputDirection );\n\n\t\t\t\tvec2 f = fract( uv / texelSize - 0.5 );\n\t\t\t\tuv -= f * texelSize;\n\t\t\t\tvec3 tl = envMapTexelToLinear( texture2D ( envMap, uv ) ).rgb;\n\t\t\t\tuv.x += texelSize.x;\n\t\t\t\tvec3 tr = envMapTexelToLinear( texture2D ( envMap, uv ) ).rgb;\n\t\t\t\tuv.y += texelSize.y;\n\t\t\t\tvec3 br = envMapTexelToLinear( texture2D ( envMap, uv ) ).rgb;\n\t\t\t\tuv.x -= texelSize.x;\n\t\t\t\tvec3 bl = envMapTexelToLinear( texture2D ( envMap, uv ) ).rgb;\n\n\t\t\t\tvec3 tm = mix( tl, tr, f.x );\n\t\t\t\tvec3 bm = mix( bl, br, f.x );\n\t\t\t\tgl_FragColor.rgb = mix( tm, bm, f.y );\n\n\t\t\t\tgl_FragColor = linearToOutputTexel( gl_FragColor );\n\n\t\t\t}\n\t\t"),blending:A,depthTest:!1,depthWrite:!1})}function uf(){return new Pu({name:"CubemapToCubeUV",uniforms:{envMap:{value:null},inputEncoding:{value:Xp[on]},outputEncoding:{value:Xp[on]}},vertexShader:"\n\n\t\tprecision mediump float;\n\t\tprecision mediump int;\n\n\t\tattribute vec3 position;\n\t\tattribute vec2 uv;\n\t\tattribute float faceIndex;\n\n\t\tvarying vec3 vOutputDirection;\n\n\t\t// RH coordinate system; PMREM face-indexing convention\n\t\tvec3 getDirection( vec2 uv, float face ) {\n\n\t\t\tuv = 2.0 * uv - 1.0;\n\n\t\t\tvec3 direction = vec3( uv, 1.0 );\n\n\t\t\tif ( face == 0.0 ) {\n\n\t\t\t\tdirection = direction.zyx; // ( 1, v, u ) pos x\n\n\t\t\t} else if ( face == 1.0 ) {\n\n\t\t\t\tdirection = direction.xzy;\n\t\t\t\tdirection.xz *= -1.0; // ( -u, 1, -v ) pos y\n\n\t\t\t} else if ( face == 2.0 ) {\n\n\t\t\t\tdirection.x *= -1.0; // ( -u, v, 1 ) pos z\n\n\t\t\t} else if ( face == 3.0 ) {\n\n\t\t\t\tdirection = direction.zyx;\n\t\t\t\tdirection.xz *= -1.0; // ( -1, v, -u ) neg x\n\n\t\t\t} else if ( face == 4.0 ) {\n\n\t\t\t\tdirection = direction.xzy;\n\t\t\t\tdirection.xy *= -1.0; // ( -u, -1, v ) neg y\n\n\t\t\t} else if ( face == 5.0 ) {\n\n\t\t\t\tdirection.z *= -1.0; // ( u, v, -1 ) neg z\n\n\t\t\t}\n\n\t\t\treturn direction;\n\n\t\t}\n\n\t\tvoid main() {\n\n\t\t\tvOutputDirection = getDirection( uv, faceIndex );\n\t\t\tgl_Position = vec4( position, 1.0 );\n\n\t\t}\n\t",fragmentShader:"\n\n\t\t\tprecision mediump float;\n\t\t\tprecision mediump int;\n\n\t\t\tvarying vec3 vOutputDirection;\n\n\t\t\tuniform samplerCube envMap;\n\n\t\t\t".concat("\n\n\t\tuniform int inputEncoding;\n\t\tuniform int outputEncoding;\n\n\t\t#include <encodings_pars_fragment>\n\n\t\tvec4 inputTexelToLinear( vec4 value ) {\n\n\t\t\tif ( inputEncoding == 0 ) {\n\n\t\t\t\treturn value;\n\n\t\t\t} else if ( inputEncoding == 1 ) {\n\n\t\t\t\treturn sRGBToLinear( value );\n\n\t\t\t} else if ( inputEncoding == 2 ) {\n\n\t\t\t\treturn RGBEToLinear( value );\n\n\t\t\t} else if ( inputEncoding == 3 ) {\n\n\t\t\t\treturn RGBMToLinear( value, 7.0 );\n\n\t\t\t} else if ( inputEncoding == 4 ) {\n\n\t\t\t\treturn RGBMToLinear( value, 16.0 );\n\n\t\t\t} else if ( inputEncoding == 5 ) {\n\n\t\t\t\treturn RGBDToLinear( value, 256.0 );\n\n\t\t\t} else {\n\n\t\t\t\treturn GammaToLinear( value, 2.2 );\n\n\t\t\t}\n\n\t\t}\n\n\t\tvec4 linearToOutputTexel( vec4 value ) {\n\n\t\t\tif ( outputEncoding == 0 ) {\n\n\t\t\t\treturn value;\n\n\t\t\t} else if ( outputEncoding == 1 ) {\n\n\t\t\t\treturn LinearTosRGB( value );\n\n\t\t\t} else if ( outputEncoding == 2 ) {\n\n\t\t\t\treturn LinearToRGBE( value );\n\n\t\t\t} else if ( outputEncoding == 3 ) {\n\n\t\t\t\treturn LinearToRGBM( value, 7.0 );\n\n\t\t\t} else if ( outputEncoding == 4 ) {\n\n\t\t\t\treturn LinearToRGBM( value, 16.0 );\n\n\t\t\t} else if ( outputEncoding == 5 ) {\n\n\t\t\t\treturn LinearToRGBD( value, 256.0 );\n\n\t\t\t} else {\n\n\t\t\t\treturn LinearToGamma( value, 2.2 );\n\n\t\t\t}\n\n\t\t}\n\n\t\tvec4 envMapTexelToLinear( vec4 color ) {\n\n\t\t\treturn inputTexelToLinear( color );\n\n\t\t}\n\t","\n\n\t\t\tvoid main() {\n\n\t\t\t\tgl_FragColor = vec4( 0.0, 0.0, 0.0, 1.0 );\n\t\t\t\tgl_FragColor.rgb = envMapTexelToLinear( textureCube( envMap, vec3( - vOutputDirection.x, vOutputDirection.yz ) ) ).rgb;\n\t\t\t\tgl_FragColor = linearToOutputTexel( gl_FragColor );\n\n\t\t\t}\n\t\t"),blending:A,depthTest:!1,depthWrite:!1})}function hf(e,t,n,i,r,o,s){return console.warn("THREE.Face4 has been removed. A THREE.Face3 will be created instead."),new Ar(e,t,n,r,o,s)}const df=0,pf=1,ff=0,mf=1,gf=2;function vf(e){return console.warn("THREE.MeshFaceMaterial has been removed. Use an Array instead."),e}function yf(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return console.warn("THREE.MultiMaterial has been removed. Use an Array instead."),e.isMultiMaterial=!0,e.materials=e,e.clone=function(){return e.slice()},e}function xf(e,t){return console.warn("THREE.PointCloud has been renamed to THREE.Points."),new $l(e,t)}function bf(e){return console.warn("THREE.Particle has been renamed to THREE.Sprite."),new vl(e)}function wf(e,t){return console.warn("THREE.ParticleSystem has been renamed to THREE.Points."),new $l(e,t)}function _f(e){return console.warn("THREE.PointCloudMaterial has been renamed to THREE.PointsMaterial."),new Yl(e)}function Sf(e){return console.warn("THREE.ParticleBasicMaterial has been renamed to THREE.PointsMaterial."),new Yl(e)}function Mf(e){return console.warn("THREE.ParticleSystemMaterial has been renamed to THREE.PointsMaterial."),new Yl(e)}function Ef(e,t,n){return console.warn("THREE.Vertex has been removed. Use THREE.Vector3 instead."),new oi(e,t,n)}function Tf(e,t){return console.warn("THREE.DynamicBufferAttribute has been removed. Use new THREE.BufferAttribute().setUsage( THREE.DynamicDrawUsage ) instead."),new kr(e,t).setUsage(On)}function Af(e,t){return console.warn("THREE.Int8Attribute has been removed. Use new THREE.Int8BufferAttribute() instead."),new Or(e,t)}function Cf(e,t){return console.warn("THREE.Uint8Attribute has been removed. Use new THREE.Uint8BufferAttribute() instead."),new Dr(e,t)}function Rf(e,t){return console.warn("THREE.Uint8ClampedAttribute has been removed. Use new THREE.Uint8ClampedBufferAttribute() instead."),new jr(e,t)}function Lf(e,t){return console.warn("THREE.Int16Attribute has been removed. Use new THREE.Int16BufferAttribute() instead."),new Fr(e,t)}function Pf(e,t){return console.warn("THREE.Uint16Attribute has been removed. Use new THREE.Uint16BufferAttribute() instead."),new Ir(e,t)}function Nf(e,t){return console.warn("THREE.Int32Attribute has been removed. Use new THREE.Int32BufferAttribute() instead."),new zr(e,t)}function kf(e,t){return console.warn("THREE.Uint32Attribute has been removed. Use new THREE.Uint32BufferAttribute() instead."),new Br(e,t)}function Of(e,t){return console.warn("THREE.Float32Attribute has been removed. Use new THREE.Float32BufferAttribute() instead."),new Hr(e,t)}function Df(e,t){return console.warn("THREE.Float64Attribute has been removed. Use new THREE.Float64BufferAttribute() instead."),new Gr(e,t)}function jf(e){console.warn("THREE.ClosedSplineCurve3 has been deprecated. Use THREE.CatmullRomCurve3 instead."),_h.call(this,e),this.type="catmullrom",this.closed=!0}function Ff(e){console.warn("THREE.SplineCurve3 has been deprecated. Use THREE.CatmullRomCurve3 instead."),_h.call(this,e),this.type="catmullrom"}function If(e){console.warn("THREE.Spline has been removed. Use THREE.CatmullRomCurve3 instead."),_h.call(this,e),this.type="catmullrom"}function zf(e){return console.warn("THREE.AxisHelper has been renamed to THREE.AxesHelper."),new zp(e)}function Bf(e,t){return console.warn("THREE.BoundingBoxHelper has been deprecated. Creating a THREE.BoxHelper instead."),new Np(e,t)}function Uf(e,t){return console.warn("THREE.EdgesHelper has been removed. Use THREE.EdgesGeometry instead."),new ql(new Mc(e.geometry),new Fl({color:void 0!==t?t:16777215}))}function Hf(e,t){return console.warn("THREE.WireframeHelper has been removed. Use THREE.WireframeGeometry instead."),new ql(new Cu(e.geometry),new Fl({color:void 0!==t?t:16777215}))}function Gf(e){return console.warn("THREE.XHRLoader has been renamed to THREE.FileLoader."),new ah(e)}function Vf(e){return console.warn("THREE.BinaryTextureLoader has been renamed to THREE.DataTextureLoader."),new dh(e)}function Wf(e,t,n){return console.warn("THREE.WebGLRenderTargetCube( width, height, options ) is now WebGLCubeRenderTarget( size, options )."),new jo(e,n)}fh.create=function(e,t){return console.log("THREE.Curve.create() has been deprecated"),e.prototype=Object.create(fh.prototype),e.prototype.constructor=e,e.prototype.getPoint=t,e},Object.assign(Oh.prototype,{createPointsGeometry:function(e){console.warn("THREE.CurvePath: .createPointsGeometry() has been removed. Use new THREE.Geometry().setFromPoints( points ) instead.");const t=this.getPoints(e);return this.createGeometry(t)},createSpacedPointsGeometry:function(e){console.warn("THREE.CurvePath: .createSpacedPointsGeometry() has been removed. Use new THREE.Geometry().setFromPoints( points ) instead.");const t=this.getSpacedPoints(e);return this.createGeometry(t)},createGeometry:function(e){console.warn("THREE.CurvePath: .createGeometry() has been removed. Use new THREE.Geometry().setFromPoints( points ) instead.");const t=new cc;for(let n=0,i=e.length;n<i;n++){const i=e[n];t.vertices.push(new oi(i.x,i.y,i.z||0))}return t}}),Object.assign(Dh.prototype,{fromPoints:function(e){return console.warn("THREE.Path: .fromPoints() has been renamed to .setFromPoints()."),this.setFromPoints(e)}}),jf.prototype=Object.create(_h.prototype),Ff.prototype=Object.create(_h.prototype),If.prototype=Object.create(_h.prototype),Object.assign(If.prototype,{initFromArray:function(){console.error("THREE.Spline: .initFromArray() has been removed.")},getControlPointsArray:function(){console.error("THREE.Spline: .getControlPointsArray() has been removed.")},reparametrizeByArcLength:function(){console.error("THREE.Spline: .reparametrizeByArcLength() has been removed.")}}),wp.prototype.setColors=function(){console.error("THREE.GridHelper: setColors() has been deprecated, pass them in the constructor instead.")},fp.prototype.update=function(){console.error("THREE.SkeletonHelper: update() no longer needs to be called.")},Object.assign(oh.prototype,{extractUrlBase:function(e){return console.warn("THREE.Loader: .extractUrlBase() has been deprecated. Use THREE.LoaderUtils.extractUrlBase() instead."),Qh.extractUrlBase(e)}}),oh.Handlers={add:function(){console.error("THREE.Loader: Handlers.add() has been removed. Use LoadingManager.addHandler() instead.")},get:function(){console.error("THREE.Loader: Handlers.get() has been removed. Use LoadingManager.getHandler() instead.")}},Object.assign(rp.prototype,{center:function(e){return console.warn("THREE.Box2: .center() has been renamed to .getCenter()."),this.getCenter(e)},empty:function(){return console.warn("THREE.Box2: .empty() has been renamed to .isEmpty()."),this.isEmpty()},isIntersectionBox:function(e){return console.warn("THREE.Box2: .isIntersectionBox() has been renamed to .intersectsBox()."),this.intersectsBox(e)},size:function(e){return console.warn("THREE.Box2: .size() has been renamed to .getSize()."),this.getSize(e)}}),Object.assign(li.prototype,{center:function(e){return console.warn("THREE.Box3: .center() has been renamed to .getCenter()."),this.getCenter(e)},empty:function(){return console.warn("THREE.Box3: .empty() has been renamed to .isEmpty()."),this.isEmpty()},isIntersectionBox:function(e){return console.warn("THREE.Box3: .isIntersectionBox() has been renamed to .intersectsBox()."),this.intersectsBox(e)},isIntersectionSphere:function(e){return console.warn("THREE.Box3: .isIntersectionSphere() has been renamed to .intersectsSphere()."),this.intersectsSphere(e)},size:function(e){return console.warn("THREE.Box3: .size() has been renamed to .getSize()."),this.getSize(e)}}),Object.assign(Mi.prototype,{empty:function(){return console.warn("THREE.Sphere: .empty() has been renamed to .isEmpty()."),this.isEmpty()}}),Bo.prototype.setFromMatrix=function(e){return console.warn("THREE.Frustum: .setFromMatrix() has been renamed to .setFromProjectionMatrix()."),this.setFromProjectionMatrix(e)},ap.prototype.center=function(e){return console.warn("THREE.Line3: .center() has been renamed to .getCenter()."),this.getCenter(e)},Object.assign(Xn,{random16:function(){return console.warn("THREE.Math: .random16() has been deprecated. Use Math.random() instead."),Math.random()},nearestPowerOfTwo:function(e){return console.warn("THREE.Math: .nearestPowerOfTwo() has been renamed to .floorPowerOfTwo()."),Xn.floorPowerOfTwo(e)},nextPowerOfTwo:function(e){return console.warn("THREE.Math: .nextPowerOfTwo() has been renamed to .ceilPowerOfTwo()."),Xn.ceilPowerOfTwo(e)}}),Object.assign(Jn.prototype,{flattenToArrayOffset:function(e,t){return console.warn("THREE.Matrix3: .flattenToArrayOffset() has been deprecated. Use .toArray() instead."),this.toArray(e,t)},multiplyVector3:function(e){return console.warn("THREE.Matrix3: .multiplyVector3() has been removed. Use vector.applyMatrix3( matrix ) instead."),e.applyMatrix3(this)},multiplyVector3Array:function(){console.error("THREE.Matrix3: .multiplyVector3Array() has been removed.")},applyToBufferAttribute:function(e){return console.warn("THREE.Matrix3: .applyToBufferAttribute() has been removed. Use attribute.applyMatrix3( matrix ) instead."),e.applyMatrix3(this)},applyToVector3Array:function(){console.error("THREE.Matrix3: .applyToVector3Array() has been removed.")},getInverse:function(e){return console.warn("THREE.Matrix3: .getInverse() has been removed. Use matrixInv.copy( matrix ).invert(); instead."),this.copy(e).invert()}}),Object.assign(ki.prototype,{extractPosition:function(e){return console.warn("THREE.Matrix4: .extractPosition() has been renamed to .copyPosition()."),this.copyPosition(e)},flattenToArrayOffset:function(e,t){return console.warn("THREE.Matrix4: .flattenToArrayOffset() has been deprecated. Use .toArray() instead."),this.toArray(e,t)},getPosition:function(){return console.warn("THREE.Matrix4: .getPosition() has been removed. Use Vector3.setFromMatrixPosition( matrix ) instead."),(new oi).setFromMatrixColumn(this,3)},setRotationFromQuaternion:function(e){return console.warn("THREE.Matrix4: .setRotationFromQuaternion() has been renamed to .makeRotationFromQuaternion()."),this.makeRotationFromQuaternion(e)},multiplyToArray:function(){console.warn("THREE.Matrix4: .multiplyToArray() has been removed.")},multiplyVector3:function(e){return console.warn("THREE.Matrix4: .multiplyVector3() has been removed. Use vector.applyMatrix4( matrix ) instead."),e.applyMatrix4(this)},multiplyVector4:function(e){return console.warn("THREE.Matrix4: .multiplyVector4() has been removed. Use vector.applyMatrix4( matrix ) instead."),e.applyMatrix4(this)},multiplyVector3Array:function(){console.error("THREE.Matrix4: .multiplyVector3Array() has been removed.")},rotateAxis:function(e){console.warn("THREE.Matrix4: .rotateAxis() has been removed. Use Vector3.transformDirection( matrix ) instead."),e.transformDirection(this)},crossVector:function(e){return console.warn("THREE.Matrix4: .crossVector() has been removed. Use vector.applyMatrix4( matrix ) instead."),e.applyMatrix4(this)},translate:function(){console.error("THREE.Matrix4: .translate() has been removed.")},rotateX:function(){console.error("THREE.Matrix4: .rotateX() has been removed.")},rotateY:function(){console.error("THREE.Matrix4: .rotateY() has been removed.")},rotateZ:function(){console.error("THREE.Matrix4: .rotateZ() has been removed.")},rotateByAxis:function(){console.error("THREE.Matrix4: .rotateByAxis() has been removed.")},applyToBufferAttribute:function(e){return console.warn("THREE.Matrix4: .applyToBufferAttribute() has been removed. Use attribute.applyMatrix4( matrix ) instead."),e.applyMatrix4(this)},applyToVector3Array:function(){console.error("THREE.Matrix4: .applyToVector3Array() has been removed.")},makeFrustum:function(e,t,n,i,r,o){return console.warn("THREE.Matrix4: .makeFrustum() has been removed. Use .makePerspective( left, right, top, bottom, near, far ) instead."),this.makePerspective(e,t,i,n,r,o)},getInverse:function(e){return console.warn("THREE.Matrix4: .getInverse() has been removed. Use matrixInv.copy( matrix ).invert(); instead."),this.copy(e).invert()}}),lr.prototype.isIntersectionLine=function(e){return console.warn("THREE.Plane: .isIntersectionLine() has been renamed to .intersectsLine()."),this.intersectsLine(e)},Object.assign(ri.prototype,{multiplyVector3:function(e){return console.warn("THREE.Quaternion: .multiplyVector3() has been removed. Use is now vector.applyQuaternion( quaternion ) instead."),e.applyQuaternion(this)},inverse:function(){return console.warn("THREE.Quaternion: .inverse() has been renamed to invert()."),this.invert()}}),Object.assign(Ni.prototype,{isIntersectionBox:function(e){return console.warn("THREE.Ray: .isIntersectionBox() has been renamed to .intersectsBox()."),this.intersectsBox(e)},isIntersectionPlane:function(e){return console.warn("THREE.Ray: .isIntersectionPlane() has been renamed to .intersectsPlane()."),this.intersectsPlane(e)},isIntersectionSphere:function(e){return console.warn("THREE.Ray: .isIntersectionSphere() has been renamed to .intersectsSphere()."),this.intersectsSphere(e)}}),Object.assign(xr.prototype,{area:function(){return console.warn("THREE.Triangle: .area() has been renamed to .getArea()."),this.getArea()},barycoordFromPoint:function(e,t){return console.warn("THREE.Triangle: .barycoordFromPoint() has been renamed to .getBarycoord()."),this.getBarycoord(e,t)},midpoint:function(e){return console.warn("THREE.Triangle: .midpoint() has been renamed to .getMidpoint()."),this.getMidpoint(e)},normal:function(e){return console.warn("THREE.Triangle: .normal() has been renamed to .getNormal()."),this.getNormal(e)},plane:function(e){return console.warn("THREE.Triangle: .plane() has been renamed to .getPlane()."),this.getPlane(e)}}),Object.assign(xr,{barycoordFromPoint:function(e,t,n,i,r){return console.warn("THREE.Triangle: .barycoordFromPoint() has been renamed to .getBarycoord()."),xr.getBarycoord(e,t,n,i,r)},normal:function(e,t,n,i){return console.warn("THREE.Triangle: .normal() has been renamed to .getNormal()."),xr.getNormal(e,t,n,i)}}),Object.assign(jh.prototype,{extractAllPoints:function(e){return console.warn("THREE.Shape: .extractAllPoints() has been removed. Use .extractPoints() instead."),this.extractPoints(e)},extrude:function(e){return console.warn("THREE.Shape: .extrude() has been removed. Use ExtrudeGeometry() instead."),new tu(this,e)},makeGeometry:function(e){return console.warn("THREE.Shape: .makeGeometry() has been removed. Use ShapeGeometry() instead."),new mu(this,e)}}),Object.assign(Yn.prototype,{fromAttribute:function(e,t,n){return console.warn("THREE.Vector2: .fromAttribute() has been renamed to .fromBufferAttribute()."),this.fromBufferAttribute(e,t,n)},distanceToManhattan:function(e){return console.warn("THREE.Vector2: .distanceToManhattan() has been renamed to .manhattanDistanceTo()."),this.manhattanDistanceTo(e)},lengthManhattan:function(){return console.warn("THREE.Vector2: .lengthManhattan() has been renamed to .manhattanLength()."),this.manhattanLength()}}),Object.assign(oi.prototype,{setEulerFromRotationMatrix:function(){console.error("THREE.Vector3: .setEulerFromRotationMatrix() has been removed. Use Euler.setFromRotationMatrix() instead.")},setEulerFromQuaternion:function(){console.error("THREE.Vector3: .setEulerFromQuaternion() has been removed. Use Euler.setFromQuaternion() instead.")},getPositionFromMatrix:function(e){return console.warn("THREE.Vector3: .getPositionFromMatrix() has been renamed to .setFromMatrixPosition()."),this.setFromMatrixPosition(e)},getScaleFromMatrix:function(e){return console.warn("THREE.Vector3: .getScaleFromMatrix() has been renamed to .setFromMatrixScale()."),this.setFromMatrixScale(e)},getColumnFromMatrix:function(e,t){return console.warn("THREE.Vector3: .getColumnFromMatrix() has been renamed to .setFromMatrixColumn()."),this.setFromMatrixColumn(t,e)},applyProjection:function(e){return console.warn("THREE.Vector3: .applyProjection() has been removed. Use .applyMatrix4( m ) instead."),this.applyMatrix4(e)},fromAttribute:function(e,t,n){return console.warn("THREE.Vector3: .fromAttribute() has been renamed to .fromBufferAttribute()."),this.fromBufferAttribute(e,t,n)},distanceToManhattan:function(e){return console.warn("THREE.Vector3: .distanceToManhattan() has been renamed to .manhattanDistanceTo()."),this.manhattanDistanceTo(e)},lengthManhattan:function(){return console.warn("THREE.Vector3: .lengthManhattan() has been renamed to .manhattanLength()."),this.manhattanLength()}}),Object.assign(ti.prototype,{fromAttribute:function(e,t,n){return console.warn("THREE.Vector4: .fromAttribute() has been renamed to .fromBufferAttribute()."),this.fromBufferAttribute(e,t,n)},lengthManhattan:function(){return console.warn("THREE.Vector4: .lengthManhattan() has been renamed to .manhattanLength()."),this.manhattanLength()}}),Object.assign(cc.prototype,{computeTangents:function(){console.error("THREE.Geometry: .computeTangents() has been removed.")},computeLineDistances:function(){console.error("THREE.Geometry: .computeLineDistances() has been removed. Use THREE.Line.computeLineDistances() instead.")},applyMatrix:function(e){return console.warn("THREE.Geometry: .applyMatrix() has been renamed to .applyMatrix4()."),this.applyMatrix4(e)}}),Object.assign(rr.prototype,{getChildByName:function(e){return console.warn("THREE.Object3D: .getChildByName() has been renamed to .getObjectByName()."),this.getObjectByName(e)},renderDepth:function(){console.warn("THREE.Object3D: .renderDepth has been removed. Use .renderOrder, instead.")},translate:function(e,t){return console.warn("THREE.Object3D: .translate() has been removed. Use .translateOnAxis( axis, distance ) instead."),this.translateOnAxis(t,e)},getWorldRotation:function(){console.error("THREE.Object3D: .getWorldRotation() has been removed. Use THREE.Object3D.getWorldQuaternion( target ) instead.")},applyMatrix:function(e){return console.warn("THREE.Object3D: .applyMatrix() has been renamed to .applyMatrix4()."),this.applyMatrix4(e)}}),Object.defineProperties(rr.prototype,{eulerOrder:{get:function(){return console.warn("THREE.Object3D: .eulerOrder is now .rotation.order."),this.rotation.order},set:function(e){console.warn("THREE.Object3D: .eulerOrder is now .rotation.order."),this.rotation.order=e}},useQuaternion:{get:function(){console.warn("THREE.Object3D: .useQuaternion has been removed. The library now uses quaternions by default.")},set:function(){console.warn("THREE.Object3D: .useQuaternion has been removed. The library now uses quaternions by default.")}}}),Object.assign(bo.prototype,{setDrawMode:function(){console.error("THREE.Mesh: .setDrawMode() has been removed. The renderer now always assumes THREE.TrianglesDrawMode. Transform your geometry via BufferGeometryUtils.toTrianglesDrawMode() if necessary.")}}),Object.defineProperties(bo.prototype,{drawMode:{get:function(){return console.error("THREE.Mesh: .drawMode has been removed. The renderer now always assumes THREE.TrianglesDrawMode."),tn},set:function(){console.error("THREE.Mesh: .drawMode has been removed. The renderer now always assumes THREE.TrianglesDrawMode. Transform your geometry via BufferGeometryUtils.toTrianglesDrawMode() if necessary.")}}}),Object.defineProperties(wl.prototype,{objects:{get:function(){return console.warn("THREE.LOD: .objects has been renamed to .levels."),this.levels}}}),Object.defineProperty(Pl.prototype,"useVertexTexture",{get:function(){console.warn("THREE.Skeleton: useVertexTexture has been removed.")},set:function(){console.warn("THREE.Skeleton: useVertexTexture has been removed.")}}),Al.prototype.initBones=function(){console.error("THREE.SkinnedMesh: initBones() has been removed.")},Object.defineProperty(fh.prototype,"__arcLengthDivisions",{get:function(){return console.warn("THREE.Curve: .__arcLengthDivisions is now .arcLengthDivisions."),this.arcLengthDivisions},set:function(e){console.warn("THREE.Curve: .__arcLengthDivisions is now .arcLengthDivisions."),this.arcLengthDivisions=e}}),Po.prototype.setLens=function(e,t){console.warn("THREE.PerspectiveCamera.setLens is deprecated. Use .setFocalLength and .filmGauge for a photographic setup."),void 0!==t&&(this.filmGauge=t),this.setFocalLength(e)},Object.defineProperties(Fh.prototype,{onlyShadow:{set:function(){console.warn("THREE.Light: .onlyShadow has been removed.")}},shadowCameraFov:{set:function(e){console.warn("THREE.Light: .shadowCameraFov is now .shadow.camera.fov."),this.shadow.camera.fov=e}},shadowCameraLeft:{set:function(e){console.warn("THREE.Light: .shadowCameraLeft is now .shadow.camera.left."),this.shadow.camera.left=e}},shadowCameraRight:{set:function(e){console.warn("THREE.Light: .shadowCameraRight is now .shadow.camera.right."),this.shadow.camera.right=e}},shadowCameraTop:{set:function(e){console.warn("THREE.Light: .shadowCameraTop is now .shadow.camera.top."),this.shadow.camera.top=e}},shadowCameraBottom:{set:function(e){console.warn("THREE.Light: .shadowCameraBottom is now .shadow.camera.bottom."),this.shadow.camera.bottom=e}},shadowCameraNear:{set:function(e){console.warn("THREE.Light: .shadowCameraNear is now .shadow.camera.near."),this.shadow.camera.near=e}},shadowCameraFar:{set:function(e){console.warn("THREE.Light: .shadowCameraFar is now .shadow.camera.far."),this.shadow.camera.far=e}},shadowCameraVisible:{set:function(){console.warn("THREE.Light: .shadowCameraVisible has been removed. Use new THREE.CameraHelper( light.shadow.camera ) instead.")}},shadowBias:{set:function(e){console.warn("THREE.Light: .shadowBias is now .shadow.bias."),this.shadow.bias=e}},shadowDarkness:{set:function(){console.warn("THREE.Light: .shadowDarkness has been removed.")}},shadowMapWidth:{set:function(e){console.warn("THREE.Light: .shadowMapWidth is now .shadow.mapSize.width."),this.shadow.mapSize.width=e}},shadowMapHeight:{set:function(e){console.warn("THREE.Light: .shadowMapHeight is now .shadow.mapSize.height."),this.shadow.mapSize.height=e}}}),Object.defineProperties(kr.prototype,{length:{get:function(){return console.warn("THREE.BufferAttribute: .length has been deprecated. Use .count instead."),this.array.length}},dynamic:{get:function(){return console.warn("THREE.BufferAttribute: .dynamic has been deprecated. Use .usage instead."),this.usage===On},set:function(){console.warn("THREE.BufferAttribute: .dynamic has been deprecated. Use .usage instead."),this.setUsage(On)}}}),Object.assign(kr.prototype,{setDynamic:function(e){return console.warn("THREE.BufferAttribute: .setDynamic() has been deprecated. Use .setUsage() instead."),this.setUsage(!0===e?On:kn),this},copyIndicesArray:function(){console.error("THREE.BufferAttribute: .copyIndicesArray() has been removed.")},setArray:function(){console.error("THREE.BufferAttribute: .setArray has been removed. Use BufferGeometry .setAttribute to replace/resize attribute buffers")}}),Object.assign(to.prototype,{addIndex:function(e){console.warn("THREE.BufferGeometry: .addIndex() has been renamed to .setIndex()."),this.setIndex(e)},addAttribute:function(e,t){return console.warn("THREE.BufferGeometry: .addAttribute() has been renamed to .setAttribute()."),t&&t.isBufferAttribute||t&&t.isInterleavedBufferAttribute?"index"===e?(console.warn("THREE.BufferGeometry.addAttribute: Use .setIndex() for index attribute."),this.setIndex(t),this):this.setAttribute(e,t):(console.warn("THREE.BufferGeometry: .addAttribute() now expects ( name, attribute )."),this.setAttribute(e,new kr(arguments[1],arguments[2])))},addDrawCall:function(e,t,n){void 0!==n&&console.warn("THREE.BufferGeometry: .addDrawCall() no longer supports indexOffset."),console.warn("THREE.BufferGeometry: .addDrawCall() is now .addGroup()."),this.addGroup(e,t)},clearDrawCalls:function(){console.warn("THREE.BufferGeometry: .clearDrawCalls() is now .clearGroups()."),this.clearGroups()},computeTangents:function(){console.warn("THREE.BufferGeometry: .computeTangents() has been removed.")},computeOffsets:function(){console.warn("THREE.BufferGeometry: .computeOffsets() has been removed.")},removeAttribute:function(e){return console.warn("THREE.BufferGeometry: .removeAttribute() has been renamed to .deleteAttribute()."),this.deleteAttribute(e)},applyMatrix:function(e){return console.warn("THREE.BufferGeometry: .applyMatrix() has been renamed to .applyMatrix4()."),this.applyMatrix4(e)}}),Object.defineProperties(to.prototype,{drawcalls:{get:function(){return console.error("THREE.BufferGeometry: .drawcalls has been renamed to .groups."),this.groups}},offsets:{get:function(){return console.warn("THREE.BufferGeometry: .offsets has been renamed to .groups."),this.groups}}}),Object.defineProperties($h.prototype,{maxInstancedCount:{get:function(){return console.warn("THREE.InstancedBufferGeometry: .maxInstancedCount has been renamed to .instanceCount."),this.instanceCount},set:function(e){console.warn("THREE.InstancedBufferGeometry: .maxInstancedCount has been renamed to .instanceCount."),this.instanceCount=e}}}),Object.defineProperties(Qd.prototype,{linePrecision:{get:function(){return console.warn("THREE.Raycaster: .linePrecision has been deprecated. Use .params.Line.threshold instead."),this.params.Line.threshold},set:function(e){console.warn("THREE.Raycaster: .linePrecision has been deprecated. Use .params.Line.threshold instead."),this.params.Line.threshold=e}}}),Object.defineProperties(el.prototype,{dynamic:{get:function(){return console.warn("THREE.InterleavedBuffer: .length has been deprecated. Use .usage instead."),this.usage===On},set:function(e){console.warn("THREE.InterleavedBuffer: .length has been deprecated. Use .usage instead."),this.setUsage(e)}}}),Object.assign(el.prototype,{setDynamic:function(e){return console.warn("THREE.InterleavedBuffer: .setDynamic() has been deprecated. Use .setUsage() instead."),this.setUsage(!0===e?On:kn),this},setArray:function(){console.error("THREE.InterleavedBuffer: .setArray has been removed. Use BufferGeometry .setAttribute to replace/resize attribute buffers")}}),Object.assign($c.prototype,{getArrays:function(){console.error("THREE.ExtrudeBufferGeometry: .getArrays() has been removed.")},addShapeList:function(){console.error("THREE.ExtrudeBufferGeometry: .addShapeList() has been removed.")},addShape:function(){console.error("THREE.ExtrudeBufferGeometry: .addShape() has been removed.")}}),Object.assign($a.prototype,{dispose:function(){console.error("THREE.Scene: .dispose() has been removed.")}}),Object.defineProperties(Jd.prototype,{dynamic:{set:function(){console.warn("THREE.Uniform: .dynamic has been removed. Use object.onBeforeRender() instead.")}},onUpdate:{value:function(){return console.warn("THREE.Uniform: .onUpdate() has been removed. Use object.onBeforeRender() instead."),this}}}),Object.defineProperties(Rr.prototype,{wrapAround:{get:function(){console.warn("THREE.Material: .wrapAround has been removed.")},set:function(){console.warn("THREE.Material: .wrapAround has been removed.")}},overdraw:{get:function(){console.warn("THREE.Material: .overdraw has been removed.")},set:function(){console.warn("THREE.Material: .overdraw has been removed.")}},wrapRGB:{get:function(){return console.warn("THREE.Material: .wrapRGB has been removed."),new Tr}},shading:{get:function(){console.error("THREE."+this.type+": .shading has been removed. Use the boolean .flatShading instead.")},set:function(e){console.warn("THREE."+this.type+": .shading has been removed. Use the boolean .flatShading instead."),this.flatShading=e===E}},stencilMask:{get:function(){return console.warn("THREE."+this.type+": .stencilMask has been removed. Use .stencilFuncMask instead."),this.stencilFuncMask},set:function(e){console.warn("THREE."+this.type+": .stencilMask has been removed. Use .stencilFuncMask instead."),this.stencilFuncMask=e}}}),Object.defineProperties(Ou.prototype,{metal:{get:function(){return console.warn("THREE.MeshPhongMaterial: .metal has been removed. Use THREE.MeshStandardMaterial instead."),!1},set:function(){console.warn("THREE.MeshPhongMaterial: .metal has been removed. Use THREE.MeshStandardMaterial instead")}}}),Object.defineProperties(ku.prototype,{transparency:{get:function(){return console.warn("THREE.MeshPhysicalMaterial: .transparency has been renamed to .transmission."),this.transmission},set:function(e){console.warn("THREE.MeshPhysicalMaterial: .transparency has been renamed to .transmission."),this.transmission=e}}}),Object.defineProperties(Ro.prototype,{derivatives:{get:function(){return console.warn("THREE.ShaderMaterial: .derivatives has been moved to .extensions.derivatives."),this.extensions.derivatives},set:function(e){console.warn("THREE. ShaderMaterial: .derivatives has been moved to .extensions.derivatives."),this.extensions.derivatives=e}}}),Object.assign(Ja.prototype,{clearTarget:function(e,t,n,i){console.warn("THREE.WebGLRenderer: .clearTarget() has been deprecated. Use .setRenderTarget() and .clear() instead."),this.setRenderTarget(e),this.clear(t,n,i)},animate:function(e){console.warn("THREE.WebGLRenderer: .animate() is now .setAnimationLoop()."),this.setAnimationLoop(e)},getCurrentRenderTarget:function(){return console.warn("THREE.WebGLRenderer: .getCurrentRenderTarget() is now .getRenderTarget()."),this.getRenderTarget()},getMaxAnisotropy:function(){return console.warn("THREE.WebGLRenderer: .getMaxAnisotropy() is now .capabilities.getMaxAnisotropy()."),this.capabilities.getMaxAnisotropy()},getPrecision:function(){return console.warn("THREE.WebGLRenderer: .getPrecision() is now .capabilities.precision."),this.capabilities.precision},resetGLState:function(){return console.warn("THREE.WebGLRenderer: .resetGLState() is now .state.reset()."),this.state.reset()},supportsFloatTextures:function(){return console.warn("THREE.WebGLRenderer: .supportsFloatTextures() is now .extensions.get( 'OES_texture_float' )."),this.extensions.get("OES_texture_float")},supportsHalfFloatTextures:function(){return console.warn("THREE.WebGLRenderer: .supportsHalfFloatTextures() is now .extensions.get( 'OES_texture_half_float' )."),this.extensions.get("OES_texture_half_float")},supportsStandardDerivatives:function(){return console.warn("THREE.WebGLRenderer: .supportsStandardDerivatives() is now .extensions.get( 'OES_standard_derivatives' )."),this.extensions.get("OES_standard_derivatives")},supportsCompressedTextureS3TC:function(){return console.warn("THREE.WebGLRenderer: .supportsCompressedTextureS3TC() is now .extensions.get( 'WEBGL_compressed_texture_s3tc' )."),this.extensions.get("WEBGL_compressed_texture_s3tc")},supportsCompressedTexturePVRTC:function(){return console.warn("THREE.WebGLRenderer: .supportsCompressedTexturePVRTC() is now .extensions.get( 'WEBGL_compressed_texture_pvrtc' )."),this.extensions.get("WEBGL_compressed_texture_pvrtc")},supportsBlendMinMax:function(){return console.warn("THREE.WebGLRenderer: .supportsBlendMinMax() is now .extensions.get( 'EXT_blend_minmax' )."),this.extensions.get("EXT_blend_minmax")},supportsVertexTextures:function(){return console.warn("THREE.WebGLRenderer: .supportsVertexTextures() is now .capabilities.vertexTextures."),this.capabilities.vertexTextures},supportsInstancedArrays:function(){return console.warn("THREE.WebGLRenderer: .supportsInstancedArrays() is now .extensions.get( 'ANGLE_instanced_arrays' )."),this.extensions.get("ANGLE_instanced_arrays")},enableScissorTest:function(e){console.warn("THREE.WebGLRenderer: .enableScissorTest() is now .setScissorTest()."),this.setScissorTest(e)},initMaterial:function(){console.warn("THREE.WebGLRenderer: .initMaterial() has been removed.")},addPrePlugin:function(){console.warn("THREE.WebGLRenderer: .addPrePlugin() has been removed.")},addPostPlugin:function(){console.warn("THREE.WebGLRenderer: .addPostPlugin() has been removed.")},updateShadowMap:function(){console.warn("THREE.WebGLRenderer: .updateShadowMap() has been removed.")},setFaceCulling:function(){console.warn("THREE.WebGLRenderer: .setFaceCulling() has been removed.")},allocTextureUnit:function(){console.warn("THREE.WebGLRenderer: .allocTextureUnit() has been removed.")},setTexture:function(){console.warn("THREE.WebGLRenderer: .setTexture() has been removed.")},setTexture2D:function(){console.warn("THREE.WebGLRenderer: .setTexture2D() has been removed.")},setTextureCube:function(){console.warn("THREE.WebGLRenderer: .setTextureCube() has been removed.")},getActiveMipMapLevel:function(){return console.warn("THREE.WebGLRenderer: .getActiveMipMapLevel() is now .getActiveMipmapLevel()."),this.getActiveMipmapLevel()}}),Object.defineProperties(Ja.prototype,{shadowMapEnabled:{get:function(){return this.shadowMap.enabled},set:function(e){console.warn("THREE.WebGLRenderer: .shadowMapEnabled is now .shadowMap.enabled."),this.shadowMap.enabled=e}},shadowMapType:{get:function(){return this.shadowMap.type},set:function(e){console.warn("THREE.WebGLRenderer: .shadowMapType is now .shadowMap.type."),this.shadowMap.type=e}},shadowMapCullFace:{get:function(){console.warn("THREE.WebGLRenderer: .shadowMapCullFace has been removed. Set Material.shadowSide instead.")},set:function(){console.warn("THREE.WebGLRenderer: .shadowMapCullFace has been removed. Set Material.shadowSide instead.")}},context:{get:function(){return console.warn("THREE.WebGLRenderer: .context has been removed. Use .getContext() instead."),this.getContext()}},vr:{get:function(){return console.warn("THREE.WebGLRenderer: .vr has been renamed to .xr"),this.xr}},gammaInput:{get:function(){return console.warn("THREE.WebGLRenderer: .gammaInput has been removed. Set the encoding for textures via Texture.encoding instead."),!1},set:function(){console.warn("THREE.WebGLRenderer: .gammaInput has been removed. Set the encoding for textures via Texture.encoding instead.")}},gammaOutput:{get:function(){return console.warn("THREE.WebGLRenderer: .gammaOutput has been removed. Set WebGLRenderer.outputEncoding instead."),!1},set:function(e){console.warn("THREE.WebGLRenderer: .gammaOutput has been removed. Set WebGLRenderer.outputEncoding instead."),this.outputEncoding=!0===e?sn:on}},toneMappingWhitePoint:{get:function(){return console.warn("THREE.WebGLRenderer: .toneMappingWhitePoint has been removed."),1},set:function(){console.warn("THREE.WebGLRenderer: .toneMappingWhitePoint has been removed.")}}}),Object.defineProperties(Ba.prototype,{cullFace:{get:function(){console.warn("THREE.WebGLRenderer: .shadowMap.cullFace has been removed. Set Material.shadowSide instead.")},set:function(){console.warn("THREE.WebGLRenderer: .shadowMap.cullFace has been removed. Set Material.shadowSide instead.")}},renderReverseSided:{get:function(){console.warn("THREE.WebGLRenderer: .shadowMap.renderReverseSided has been removed. Set Material.shadowSide instead.")},set:function(){console.warn("THREE.WebGLRenderer: .shadowMap.renderReverseSided has been removed. Set Material.shadowSide instead.")}},renderSingleSided:{get:function(){console.warn("THREE.WebGLRenderer: .shadowMap.renderSingleSided has been removed. Set Material.shadowSide instead.")},set:function(){console.warn("THREE.WebGLRenderer: .shadowMap.renderSingleSided has been removed. Set Material.shadowSide instead.")}}}),Object.defineProperties(ni.prototype,{wrapS:{get:function(){return console.warn("THREE.WebGLRenderTarget: .wrapS is now .texture.wrapS."),this.texture.wrapS},set:function(e){console.warn("THREE.WebGLRenderTarget: .wrapS is now .texture.wrapS."),this.texture.wrapS=e}},wrapT:{get:function(){return console.warn("THREE.WebGLRenderTarget: .wrapT is now .texture.wrapT."),this.texture.wrapT},set:function(e){console.warn("THREE.WebGLRenderTarget: .wrapT is now .texture.wrapT."),this.texture.wrapT=e}},magFilter:{get:function(){return console.warn("THREE.WebGLRenderTarget: .magFilter is now .texture.magFilter."),this.texture.magFilter},set:function(e){console.warn("THREE.WebGLRenderTarget: .magFilter is now .texture.magFilter."),this.texture.magFilter=e}},minFilter:{get:function(){return console.warn("THREE.WebGLRenderTarget: .minFilter is now .texture.minFilter."),this.texture.minFilter},set:function(e){console.warn("THREE.WebGLRenderTarget: .minFilter is now .texture.minFilter."),this.texture.minFilter=e}},anisotropy:{get:function(){return console.warn("THREE.WebGLRenderTarget: .anisotropy is now .texture.anisotropy."),this.texture.anisotropy},set:function(e){console.warn("THREE.WebGLRenderTarget: .anisotropy is now .texture.anisotropy."),this.texture.anisotropy=e}},offset:{get:function(){return console.warn("THREE.WebGLRenderTarget: .offset is now .texture.offset."),this.texture.offset},set:function(e){console.warn("THREE.WebGLRenderTarget: .offset is now .texture.offset."),this.texture.offset=e}},repeat:{get:function(){return console.warn("THREE.WebGLRenderTarget: .repeat is now .texture.repeat."),this.texture.repeat},set:function(e){console.warn("THREE.WebGLRenderTarget: .repeat is now .texture.repeat."),this.texture.repeat=e}},format:{get:function(){return console.warn("THREE.WebGLRenderTarget: .format is now .texture.format."),this.texture.format},set:function(e){console.warn("THREE.WebGLRenderTarget: .format is now .texture.format."),this.texture.format=e}},type:{get:function(){return console.warn("THREE.WebGLRenderTarget: .type is now .texture.type."),this.texture.type},set:function(e){console.warn("THREE.WebGLRenderTarget: .type is now .texture.type."),this.texture.type=e}},generateMipmaps:{get:function(){return console.warn("THREE.WebGLRenderTarget: .generateMipmaps is now .texture.generateMipmaps."),this.texture.generateMipmaps},set:function(e){console.warn("THREE.WebGLRenderTarget: .generateMipmaps is now .texture.generateMipmaps."),this.texture.generateMipmaps=e}}}),Object.defineProperties(Td.prototype,{load:{value:function(e){console.warn("THREE.Audio: .load has been deprecated. Use THREE.AudioLoader instead.");const t=this;return(new pd).load(e,(function(e){t.setBuffer(e)})),this}},startTime:{set:function(){console.warn("THREE.Audio: .startTime is now .play( delay ).")}}}),Nd.prototype.getData=function(){return console.warn("THREE.AudioAnalyser: .getData() is now .getFrequencyData()."),this.getFrequencyData()},Oo.prototype.updateCubeMap=function(e,t){return console.warn("THREE.CubeCamera: .updateCubeMap() is now .update()."),this.update(e,t)},Oo.prototype.clear=function(e,t,n,i){return console.warn("THREE.CubeCamera: .clear() is now .renderTarget.clear()."),this.renderTarget.clear(e,t,n,i)};const qf={merge:function(e,t,n){let i;console.warn("THREE.GeometryUtils: .merge() has been moved to Geometry. Use geometry.merge( geometry2, matrix, materialIndexOffset ) instead."),t.isMesh&&(t.matrixAutoUpdate&&t.updateMatrix(),i=t.matrix,t=t.geometry),e.merge(t,i,n)},center:function(e){return console.warn("THREE.GeometryUtils: .center() has been moved to Geometry. Use geometry.center() instead."),e.center()}};function Xf(){console.error("THREE.CanvasRenderer has been removed")}function Yf(){console.error("THREE.JSONLoader has been removed.")}Kn.crossOrigin=void 0,Kn.loadTexture=function(e,t,n,i){console.warn("THREE.ImageUtils.loadTexture has been deprecated. Use THREE.TextureLoader() instead.");const r=new ph;r.setCrossOrigin(this.crossOrigin);const o=r.load(e,n,void 0,i);return t&&(o.mapping=t),o},Kn.loadTextureCube=function(e,t,n,i){console.warn("THREE.ImageUtils.loadTextureCube has been deprecated. Use THREE.CubeTextureLoader() instead.");const r=new hh;r.setCrossOrigin(this.crossOrigin);const o=r.load(e,n,void 0,i);return t&&(o.mapping=t),o},Kn.loadCompressedTexture=function(){console.error("THREE.ImageUtils.loadCompressedTexture has been removed. Use THREE.DDSLoader instead.")},Kn.loadCompressedTextureCube=function(){console.error("THREE.ImageUtils.loadCompressedTextureCube has been removed. Use THREE.DDSLoader instead.")};const Jf={createMultiMaterialObject:function(){console.error("THREE.SceneUtils has been moved to /examples/jsm/utils/SceneUtils.js")},detach:function(){console.error("THREE.SceneUtils has been moved to /examples/jsm/utils/SceneUtils.js")},attach:function(){console.error("THREE.SceneUtils has been moved to /examples/jsm/utils/SceneUtils.js")}};function Zf(){console.error("THREE.LensFlare has been moved to /examples/jsm/objects/Lensflare.js")}"undefined"!==typeof __THREE_DEVTOOLS__&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("register",{detail:{revision:h}}));var Kf=n(271),Qf=n.n(Kf);function $f(e,t){if(null==e)return{};var n,i,r=function(e,t){if(null==e)return{};var n={};for(var i in e)if({}.hasOwnProperty.call(e,i)){if(-1!==t.indexOf(i))continue;n[i]=e[i]}return n}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)n=o[i],-1===t.indexOf(n)&&{}.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}n(358);const em=["sri"],tm=["page"],nm=["page","matches"],im=["onClick","discover","prefetch","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],rm=["aria-current","caseSensitive","className","end","style","to","viewTransition","children"],om=["discover","fetcherKey","navigate","reloadDocument","replace","state","method","action","onSubmit","relative","preventScrollReset","viewTransition"];var sm,am=e=>{throw TypeError(e)},lm=(e,t,n)=>(((e,t,n)=>{t.has(e)||am("Cannot "+n)})(e,t,"read from private field"),n?n.call(e):t.get(e)),cm="popstate";function um(){return vm((function(e,t){let{pathname:n,search:i,hash:r}=e.location;return fm("",{pathname:n,search:i,hash:r},t.state&&t.state.usr||null,t.state&&t.state.key||"default")}),(function(e,t){return"string"===typeof t?t:mm(t)}),null,arguments.length>0&&void 0!==arguments[0]?arguments[0]:{})}function hm(e,t){if(!1===e||null===e||"undefined"===typeof e)throw new Error(t)}function dm(e,t){if(!e){"undefined"!==typeof console&&console.warn(t);try{throw new Error(t)}catch(n){}}}function pm(e,t){return{usr:e.state,key:e.key,idx:t}}function fm(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,i=arguments.length>3?arguments[3]:void 0;return u(u({pathname:"string"===typeof e?e:e.pathname,search:"",hash:""},"string"===typeof t?gm(t):t),{},{state:n,key:t&&t.key||i||Math.random().toString(36).substring(2,10)})}function mm(e){let{pathname:t="/",search:n="",hash:i=""}=e;return n&&"?"!==n&&(t+="?"===n.charAt(0)?n:"?"+n),i&&"#"!==i&&(t+="#"===i.charAt(0)?i:"#"+i),t}function gm(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substring(n),e=e.substring(0,n));let i=e.indexOf("?");i>=0&&(t.search=e.substring(i),e=e.substring(0,i)),e&&(t.pathname=e)}return t}function vm(e,t,n){let i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},{window:r=document.defaultView,v5Compat:o=!1}=i,s=r.history,a="POP",l=null,c=h();function h(){return(s.state||{idx:null}).idx}function d(){a="POP";let e=h(),t=null==e?null:e-c;c=e,l&&l({action:a,location:f.location,delta:t})}function p(e){return ym(e)}null==c&&(c=0,s.replaceState(u(u({},s.state),{},{idx:c}),""));let f={get action(){return a},get location(){return e(r,s)},listen(e){if(l)throw new Error("A history only accepts one active listener");return r.addEventListener(cm,d),l=e,()=>{r.removeEventListener(cm,d),l=null}},createHref:e=>t(r,e),createURL:p,encodeLocation(e){let t=p(e);return{pathname:t.pathname,search:t.search,hash:t.hash}},push:function(e,t){a="PUSH";let i=fm(f.location,e,t);n&&n(i,e),c=h()+1;let u=pm(i,c),d=f.createHref(i);try{s.pushState(u,"",d)}catch(p){if(p instanceof DOMException&&"DataCloneError"===p.name)throw p;r.location.assign(d)}o&&l&&l({action:a,location:f.location,delta:1})},replace:function(e,t){a="REPLACE";let i=fm(f.location,e,t);n&&n(i,e),c=h();let r=pm(i,c),u=f.createHref(i);s.replaceState(r,"",u),o&&l&&l({action:a,location:f.location,delta:0})},go:e=>s.go(e)};return f}function ym(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n="http://localhost";"undefined"!==typeof window&&(n="null"!==window.location.origin?window.location.origin:window.location.href),hm(n,"No window.location.(origin|href) available to create URL");let i="string"===typeof e?e:mm(e);return i=i.replace(/ $/,"%20"),!t&&i.startsWith("//")&&(i=n+i),new URL(i,n)}var xm=class{constructor(e){var t,n,i;if(t=this,n=sm,i=new Map,n.has(t)?am("Cannot add the same private member more than once"):n instanceof WeakSet?n.add(t):n.set(t,i),e)for(let[r,o]of e)this.set(r,o)}get(e){if(lm(this,sm).has(e))return lm(this,sm).get(e);if(void 0!==e.defaultValue)return e.defaultValue;throw new Error("No value found for context")}set(e,t){lm(this,sm).set(e,t)}};sm=new WeakMap;var bm=new Set(["lazy","caseSensitive","path","id","index","children"]);var wm=new Set(["lazy","caseSensitive","path","id","index","unstable_middleware","children"]);function _m(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return e.map(((e,r)=>{let o=[...n,String(r)],s="string"===typeof e.id?e.id:o.join("-");if(hm(!0!==e.index||!e.children,"Cannot specify children on an index route"),hm(!i[s],'Found a route id collision on id "'.concat(s,"\".  Route id's must be globally unique within Data Router usages")),function(e){return!0===e.index}(e)){let n=u(u(u({},e),t(e)),{},{id:s});return i[s]=n,n}{let n=u(u(u({},e),t(e)),{},{id:s,children:void 0});return i[s]=n,e.children&&(n.children=_m(e.children,t,o,i)),n}}))}function Sm(e,t){return Mm(e,t,arguments.length>2&&void 0!==arguments[2]?arguments[2]:"/",!1)}function Mm(e,t,n,i){let r=Bm(("string"===typeof t?gm(t):t).pathname||"/",n);if(null==r)return null;let o=Tm(e);!function(e){e.sort(((e,t)=>e.score!==t.score?t.score-e.score:function(e,t){let n=e.length===t.length&&e.slice(0,-1).every(((e,n)=>e===t[n]));return n?e[e.length-1]-t[t.length-1]:0}(e.routesMeta.map((e=>e.childrenIndex)),t.routesMeta.map((e=>e.childrenIndex)))))}(o);let s=null;for(let a=0;null==s&&a<o.length;++a){let e=zm(r);s=jm(o[a],e,i)}return s}function Em(e,t){let{route:n,pathname:i,params:r}=e;return{id:n.id,pathname:i,params:r,data:t[n.id],handle:n.handle}}function Tm(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"",r=(e,r,o)=>{let s={relativePath:void 0===o?e.path||"":o,caseSensitive:!0===e.caseSensitive,childrenIndex:r,route:e};s.relativePath.startsWith("/")&&(hm(s.relativePath.startsWith(i),'Absolute route path "'.concat(s.relativePath,'" nested under path "').concat(i,'" is not valid. An absolute child route path must start with the combined path of all its parent routes.')),s.relativePath=s.relativePath.slice(i.length));let a=Wm([i,s.relativePath]),l=n.concat(s);e.children&&e.children.length>0&&(hm(!0!==e.index,'Index routes must not have child routes. Please remove all child routes from route path "'.concat(a,'".')),Tm(e.children,t,l,a)),(null!=e.path||e.index)&&t.push({path:a,score:Dm(a,e.index),routesMeta:l})};return e.forEach(((e,t)=>{var n;if(""!==e.path&&null!==(n=e.path)&&void 0!==n&&n.includes("?"))for(let i of Am(e.path))r(e,t,i);else r(e,t)})),t}function Am(e){let t=e.split("/");if(0===t.length)return[];let[n,...i]=t,r=n.endsWith("?"),o=n.replace(/\?$/,"");if(0===i.length)return r?[o,""]:[o];let s=Am(i.join("/")),a=[];return a.push(...s.map((e=>""===e?o:[o,e].join("/")))),r&&a.push(...s),a.map((t=>e.startsWith("/")&&""===t?"/":t))}var Cm=/^:[\w-]+$/,Rm=3,Lm=2,Pm=1,Nm=10,km=-2,Om=e=>"*"===e;function Dm(e,t){let n=e.split("/"),i=n.length;return n.some(Om)&&(i+=km),t&&(i+=Lm),n.filter((e=>!Om(e))).reduce(((e,t)=>e+(Cm.test(t)?Rm:""===t?Pm:Nm)),i)}function jm(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],{routesMeta:i}=e,r={},o="/",s=[];for(let a=0;a<i.length;++a){let e=i[a],l=a===i.length-1,c="/"===o?t:t.slice(o.length)||"/",u=Fm({path:e.relativePath,caseSensitive:e.caseSensitive,end:l},c),h=e.route;if(!u&&l&&n&&!i[i.length-1].route.index&&(u=Fm({path:e.relativePath,caseSensitive:e.caseSensitive,end:!1},c)),!u)return null;Object.assign(r,u.params),s.push({params:r,pathname:Wm([o,u.pathname]),pathnameBase:qm(Wm([o,u.pathnameBase])),route:h}),"/"!==u.pathnameBase&&(o=Wm([o,u.pathnameBase]))}return s}function Fm(e,t){"string"===typeof e&&(e={path:e,caseSensitive:!1,end:!0});let[n,i]=Im(e.path,e.caseSensitive,e.end),r=t.match(n);if(!r)return null;let o=r[0],s=o.replace(/(.)\/+$/,"$1"),a=r.slice(1);return{params:i.reduce(((e,t,n)=>{let{paramName:i,isOptional:r}=t;if("*"===i){let e=a[n]||"";s=o.slice(0,o.length-e.length).replace(/(.)\/+$/,"$1")}const l=a[n];return e[i]=r&&!l?void 0:(l||"").replace(/%2F/g,"/"),e}),{}),pathname:o,pathnameBase:s,pattern:e}}function Im(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];dm("*"===e||!e.endsWith("*")||e.endsWith("/*"),'Route path "'.concat(e,'" will be treated as if it were "').concat(e.replace(/\*$/,"/*"),'" because the `*` character must always follow a `/` in the pattern. To get rid of this warning, please change the route path to "').concat(e.replace(/\*$/,"/*"),'".'));let i=[],r="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,((e,t,n)=>(i.push({paramName:t,isOptional:null!=n}),n?"/?([^\\/]+)?":"/([^\\/]+)")));return e.endsWith("*")?(i.push({paramName:"*"}),r+="*"===e||"/*"===e?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?r+="\\/*$":""!==e&&"/"!==e&&(r+="(?:(?=\\/|$))"),[new RegExp(r,t?void 0:"i"),i]}function zm(e){try{return e.split("/").map((e=>decodeURIComponent(e).replace(/\//g,"%2F"))).join("/")}catch(t){return dm(!1,'The URL path "'.concat(e,'" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (').concat(t,").")),e}}function Bm(e,t){if("/"===t)return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,i=e.charAt(n);return i&&"/"!==i?null:e.slice(n)||"/"}function Um(e,t,n,i){return"Cannot include a '".concat(e,"' character in a manually specified `to.").concat(t,"` field [").concat(JSON.stringify(i),"].  Please separate it out to the `to.").concat(n,'` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.')}function Hm(e){return e.filter(((e,t)=>0===t||e.route.path&&e.route.path.length>0))}function Gm(e){let t=Hm(e);return t.map(((e,n)=>n===t.length-1?e.pathname:e.pathnameBase))}function Vm(e,t,n){let i,r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];"string"===typeof e?i=gm(e):(i=u({},e),hm(!i.pathname||!i.pathname.includes("?"),Um("?","pathname","search",i)),hm(!i.pathname||!i.pathname.includes("#"),Um("#","pathname","hash",i)),hm(!i.search||!i.search.includes("#"),Um("#","search","hash",i)));let o,s=""===e||""===i.pathname,a=s?"/":i.pathname;if(null==a)o=n;else{let e=t.length-1;if(!r&&a.startsWith("..")){let t=a.split("/");for(;".."===t[0];)t.shift(),e-=1;i.pathname=t.join("/")}o=e>=0?t[e]:"/"}let l=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"/",{pathname:n,search:i="",hash:r=""}="string"===typeof e?gm(e):e,o=n?n.startsWith("/")?n:function(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach((e=>{".."===e?n.length>1&&n.pop():"."!==e&&n.push(e)})),n.length>1?n.join("/"):"/"}(n,t):t;return{pathname:o,search:Xm(i),hash:Ym(r)}}(i,o),c=a&&"/"!==a&&a.endsWith("/"),h=(s||"."===a)&&n.endsWith("/");return l.pathname.endsWith("/")||!c&&!h||(l.pathname+="/"),l}var Wm=e=>e.join("/").replace(/\/\/+/g,"/"),qm=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),Xm=e=>e&&"?"!==e?e.startsWith("?")?e:"?"+e:"",Ym=e=>e&&"#"!==e?e.startsWith("#")?e:"#"+e:"";var Jm=class{constructor(e,t,n){let i=arguments.length>3&&void 0!==arguments[3]&&arguments[3];this.status=e,this.statusText=t||"",this.internal=i,n instanceof Error?(this.data=n.toString(),this.error=n):this.data=n}};function Zm(e){return null!=e&&"number"===typeof e.status&&"string"===typeof e.statusText&&"boolean"===typeof e.internal&&"data"in e}var Km=["POST","PUT","PATCH","DELETE"],Qm=new Set(Km),$m=["GET",...Km],eg=new Set($m),tg=new Set([301,302,303,307,308]),ng=new Set([307,308]),ig={state:"idle",location:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},rg={state:"idle",data:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},og={state:"unblocked",proceed:void 0,reset:void 0,location:void 0},sg=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,ag=e=>({hasErrorBoundary:Boolean(e.hasErrorBoundary)}),lg="remix-router-transitions",cg=Symbol("ResetLoaderData");function ug(e){const t=e.window?e.window:"undefined"!==typeof window?window:void 0,n="undefined"!==typeof t&&"undefined"!==typeof t.document&&"undefined"!==typeof t.document.createElement;hm(e.routes.length>0,"You must provide a non-empty routes array to createRouter");let i,r,o,s=e.hydrationRouteProperties||[],a=e.mapRouteProperties||ag,l={},c=_m(e.routes,a,void 0,l),h=e.basename||"/",d=e.dataStrategy||_g,p=u({unstable_middleware:!1},e.future),f=null,m=new Set,g=null,v=null,y=null,x=null!=e.hydrationData,b=Sm(c,e.history.location,h),w=!1,_=null;if(null!=b||e.patchRoutesOnNavigation){if(b&&!e.hydrationData){de(b,c,e.history.location.pathname).active&&(b=null)}if(b)if(b.some((e=>e.route.lazy)))r=!1;else if(b.some((e=>e.route.loader))){let t=e.hydrationData?e.hydrationData.loaderData:null,n=e.hydrationData?e.hydrationData.errors:null;if(n){let e=b.findIndex((e=>void 0!==n[e.route.id]));r=b.slice(0,e+1).every((e=>!fg(e.route,t,n)))}else r=b.every((e=>!fg(e.route,t,n)))}else r=!0;else{r=!1,b=[];let t=de(null,c,e.history.location.pathname);t.active&&t.matches&&(w=!0,b=t.matches)}}else{let t=Ug(404,{pathname:e.history.location.pathname}),{matches:n,route:i}=Bg(c);r=!0,b=n,_={[i.id]:t}}let S,M,E={historyAction:e.history.action,location:e.history.location,matches:b,initialized:r,navigation:ig,restoreScrollPosition:null==e.hydrationData&&null,preventScrollReset:!1,revalidation:"idle",loaderData:e.hydrationData&&e.hydrationData.loaderData||{},actionData:e.hydrationData&&e.hydrationData.actionData||null,errors:e.hydrationData&&e.hydrationData.errors||_,fetchers:new Map,blockers:new Map},T="POP",A=!1,C=!1,R=new Map,L=null,P=!1,N=!1,k=new Set,O=new Map,D=0,j=-1,F=new Map,I=new Set,z=new Map,B=new Map,U=new Set,H=new Map,G=null;function V(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};E=u(u({},E),e);let n=[],i=[];E.fetchers.forEach(((e,t)=>{"idle"===e.state&&(U.has(t)?n.push(t):i.push(t))})),U.forEach((e=>{E.fetchers.has(e)||O.has(e)||n.push(e)})),[...m].forEach((e=>e(E,{deletedFetchers:n,viewTransitionOpts:t.viewTransitionOpts,flushSync:!0===t.flushSync}))),n.forEach((e=>te(e))),i.forEach((e=>E.fetchers.delete(e)))}function W(t,n){var r,o,s;let a,{flushSync:l}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},h=null!=E.actionData&&null!=E.navigation.formMethod&&Zg(E.navigation.formMethod)&&"loading"===E.navigation.state&&!0!==(null===(r=t.state)||void 0===r?void 0:r._isRedirect);a=n.actionData?Object.keys(n.actionData).length>0?n.actionData:null:h?E.actionData:null;let d=n.loaderData?Fg(E.loaderData,n.loaderData,n.matches||[],n.errors):E.loaderData,p=E.blockers;p.size>0&&(p=new Map(p),p.forEach(((e,t)=>p.set(t,og))));let f,m=!0===A||null!=E.navigation.formMethod&&Zg(E.navigation.formMethod)&&!0!==(null===(o=t.state)||void 0===o?void 0:o._isRedirect);if(i&&(c=i,i=void 0),P||"POP"===T||("PUSH"===T?e.history.push(t,t.state):"REPLACE"===T&&e.history.replace(t,t.state)),"POP"===T){let e=R.get(E.location.pathname);e&&e.has(t.pathname)?f={currentLocation:E.location,nextLocation:t}:R.has(t.pathname)&&(f={currentLocation:t,nextLocation:E.location})}else if(C){let e=R.get(E.location.pathname);e?e.add(t.pathname):(e=new Set([t.pathname]),R.set(E.location.pathname,e)),f={currentLocation:E.location,nextLocation:t}}V(u(u({},n),{},{actionData:a,loaderData:d,historyAction:T,location:t,initialized:!0,navigation:ig,revalidation:"idle",restoreScrollPosition:he(t,n.matches||E.matches),preventScrollReset:m,blockers:p}),{viewTransitionOpts:f,flushSync:!0===l}),T="POP",A=!1,C=!1,P=!1,N=!1,null===(s=G)||void 0===s||s.resolve(),G=null}async function q(t,n,r){S&&S.abort(),S=null,T=t,P=!0===(r&&r.startUninterruptedRevalidation),function(e,t){if(g&&y){let n=ue(e,t);g[n]=y()}}(E.location,E.matches),A=!0===(r&&r.preventScrollReset),C=!0===(r&&r.enableViewTransition);let o=i||c,d=r&&r.overrideNavigation,p=null!==r&&void 0!==r&&r.initialHydration&&E.matches&&E.matches.length>0&&!w?E.matches:Sm(o,n,h),f=!0===(r&&r.flushSync);if(p&&E.initialized&&!N&&function(e,t){if(e.pathname!==t.pathname||e.search!==t.search)return!1;if(""===e.hash)return""!==t.hash;if(e.hash===t.hash)return!0;if(""!==t.hash)return!0;return!1}(E.location,n)&&!(r&&r.submission&&Zg(r.submission.formMethod)))return void W(n,{matches:p},{flushSync:f});let m=de(p,o,n.pathname);if(m.active&&m.matches&&(p=m.matches),!p){let{error:e,notFoundMatches:t,route:i}=ce(n.pathname);return void W(n,{matches:t,loaderData:{},errors:{[i.id]:e}},{flushSync:f})}S=new AbortController;let v,x=Ng(e.history,n,S.signal,r&&r.submission),b=new xm(e.unstable_getContext?await e.unstable_getContext():void 0);if(r&&r.pendingError)v=[zg(p).route.id,{type:"error",error:r.pendingError}];else if(r&&r.submission&&Zg(r.submission.formMethod)){let t=await async function(e,t,n,i,r,o,c){let u=arguments.length>7&&void 0!==arguments[7]?arguments[7]:{};K();let d,p=function(e,t){let n={state:"submitting",location:e,formMethod:t.formMethod,formAction:t.formAction,formEncType:t.formEncType,formData:t.formData,json:t.json,text:t.text};return n}(t,n);if(V({navigation:p},{flushSync:!0===u.flushSync}),o){let n=await pe(i,t.pathname,e.signal);if("aborted"===n.type)return{shortCircuited:!0};if("error"===n.type){let e=zg(n.partialMatches).route.id;return{matches:n.partialMatches,pendingActionResult:[e,{type:"error",error:n.error}]}}if(!n.matches){let{notFoundMatches:e,error:n,route:i}=ce(t.pathname);return{matches:e,pendingActionResult:[i.id,{type:"error",error:n}]}}i=n.matches}let f=Qg(i,t);if(f.route.action||f.route.lazy){let t=Ag(a,l,e,i,f,c?[]:s,r),n=await J(e,t,r,null);if(d=n[f.route.id],!d)for(let e of i)if(n[e.route.id]){d=n[e.route.id];break}if(e.signal.aborted)return{shortCircuited:!0}}else d={type:"error",error:Ug(405,{method:e.method,pathname:t.pathname,routeId:f.route.id})};if(qg(d)){let t;if(u&&null!=u.replace)t=u.replace;else{t=Pg(d.response.headers.get("Location"),new URL(e.url),h)===E.location.pathname+E.location.search}return await Y(e,d,!0,{submission:n,replace:t}),{shortCircuited:!0}}if(Wg(d)){let e=zg(i,f.route.id);return!0!==(u&&u.replace)&&(T="PUSH"),{matches:i,pendingActionResult:[e.route.id,d,f.route.id]}}return{matches:i,pendingActionResult:[f.route.id,d]}}(x,n,r.submission,p,b,m.active,r&&!0===r.initialHydration,{replace:r.replace,flushSync:f});if(t.shortCircuited)return;if(t.pendingActionResult){let[e,i]=t.pendingActionResult;if(Wg(i)&&Zm(i.error)&&404===i.error.status)return S=null,void W(n,{matches:t.matches,loaderData:{},errors:{[e]:i.error}})}p=t.matches||p,v=t.pendingActionResult,d=ev(n,r.submission),f=!1,m.active=!1,x=Ng(e.history,x.url,x.signal)}let{shortCircuited:_,matches:M,loaderData:R,errors:L}=await async function(t,n,r,o,d,p,f,m,g,v,y,x){let b=p||ev(n,f),w=f||m||$g(b),_=!P&&!v;if(d){if(_){let e=X(x);V(u({navigation:b},void 0!==e?{actionData:e}:{}),{flushSync:y})}let e=await pe(r,n.pathname,t.signal);if("aborted"===e.type)return{shortCircuited:!0};if("error"===e.type){let t=zg(e.partialMatches).route.id;return{matches:e.partialMatches,loaderData:{},errors:{[t]:e.error}}}if(!e.matches){let{error:e,notFoundMatches:t,route:i}=ce(n.pathname);return{matches:t,loaderData:{},errors:{[i.id]:e}}}r=e.matches}let M=i||c,{dsMatches:T,revalidatingFetchers:A}=pg(t,o,a,l,e.history,E,r,w,n,v?[]:s,!0===v,N,k,U,z,I,M,h,null!=e.patchRoutesOnNavigation,x);if(j=++D,!e.dataStrategy&&!T.some((e=>e.shouldLoad))&&0===A.length){let e=re();return W(n,u(u({matches:r,loaderData:{},errors:x&&Wg(x[1])?{[x[0]]:x[1].error}:null},Ig(x)),e?{fetchers:new Map(E.fetchers)}:{}),{flushSync:y}),{shortCircuited:!0}}if(_){let e={};if(!d){e.navigation=b;let t=X(x);void 0!==t&&(e.actionData=t)}A.length>0&&(e.fetchers=function(e){return e.forEach((e=>{let t=E.fetchers.get(e.key),n=tv(void 0,t?t.data:void 0);E.fetchers.set(e.key,n)})),new Map(E.fetchers)}(A)),V(e,{flushSync:y})}A.forEach((e=>{ne(e.key),e.controller&&O.set(e.key,e.controller)}));let C=()=>A.forEach((e=>ne(e.key)));S&&S.signal.addEventListener("abort",C);let{loaderResults:R,fetcherResults:L}=await Z(T,A,t,o);if(t.signal.aborted)return{shortCircuited:!0};S&&S.signal.removeEventListener("abort",C);A.forEach((e=>O.delete(e.key)));let F=Hg(R);if(F)return await Y(t,F.result,!0,{replace:g}),{shortCircuited:!0};if(F=Hg(L),F)return I.add(F.key),await Y(t,F.result,!0,{replace:g}),{shortCircuited:!0};let{loaderData:B,errors:H}=jg(E,r,R,x,A,L);v&&E.errors&&(H=u(u({},E.errors),H));let G=re(),q=oe(j),J=G||q||A.length>0;return u({matches:r,loaderData:B,errors:H},J?{fetchers:new Map(E.fetchers)}:{})}(x,n,p,b,m.active,d,r&&r.submission,r&&r.fetcherSubmission,r&&r.replace,r&&!0===r.initialHydration,f,v);_||(S=null,W(n,u(u({matches:M||p},Ig(v)),{},{loaderData:R,errors:L})))}function X(e){return e&&!Wg(e[1])?{[e[0]]:e[1].data}:E.actionData?0===Object.keys(E.actionData).length?null:E.actionData:void 0}async function Y(e,i,r){let{submission:o,fetcherSubmission:s,preventScrollReset:a,replace:l}=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};i.response.headers.has("X-Remix-Revalidate")&&(N=!0);let c=i.response.headers.get("Location");hm(c,"Expected a Location header on the redirect Response"),c=Pg(c,new URL(e.url),h);let d=fm(E.location,c,{_isRedirect:!0});if(n){let e=!1;if(i.response.headers.has("X-Remix-Reload-Document"))e=!0;else if(sg.test(c)){const n=ym(c,!0);e=n.origin!==t.location.origin||null==Bm(n.pathname,h)}if(e)return void(l?t.location.replace(c):t.location.assign(c))}S=null;let p=!0===l||i.response.headers.has("X-Remix-Replace")?"REPLACE":"PUSH",{formMethod:f,formAction:m,formEncType:g}=E.navigation;!o&&!s&&f&&m&&g&&(o=$g(E.navigation));let v=o||s;if(ng.has(i.response.status)&&v&&Zg(v.formMethod))await q(p,d,{submission:u(u({},v),{},{formAction:c}),preventScrollReset:a||A,enableViewTransition:r?C:void 0});else{let e=ev(d,o);await q(p,d,{overrideNavigation:e,fetcherSubmission:s,preventScrollReset:a||A,enableViewTransition:r?C:void 0})}}async function J(e,t,n,i){let r,o={};try{r=await Cg(d,e,t,i,n,!1)}catch(s){return t.filter((e=>e.shouldLoad)).forEach((e=>{o[e.route.id]={type:"error",error:s}})),o}if(e.signal.aborted)return o;for(let[a,l]of Object.entries(r))if(Vg(l)){let n=l.result;o[a]={type:"redirect",response:Lg(n,e,a,t,h)}}else o[a]=await Rg(l);return o}async function Z(e,t,n,i){let r=J(n,e,i,null),o=Promise.all(t.map((async e=>{if(e.matches&&e.match&&e.request&&e.controller){let t=(await J(e.request,e.matches,i,e.key))[e.match.route.id];return{[e.key]:t}}return Promise.resolve({[e.key]:{type:"error",error:Ug(404,{pathname:e.path})}})})));return{loaderResults:await r,fetcherResults:(await o).reduce(((e,t)=>Object.assign(e,t)),{})}}function K(){N=!0,z.forEach(((e,t)=>{O.has(t)&&k.add(t),ne(t)}))}function Q(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};E.fetchers.set(e,t),V({fetchers:new Map(E.fetchers)},{flushSync:!0===(n&&n.flushSync)})}function $(e,t,n){let i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},r=zg(E.matches,t);te(e),V({errors:{[r.route.id]:n},fetchers:new Map(E.fetchers)},{flushSync:!0===(i&&i.flushSync)})}function ee(e){return B.set(e,(B.get(e)||0)+1),U.has(e)&&U.delete(e),E.fetchers.get(e)||rg}function te(e){let t=E.fetchers.get(e);!O.has(e)||t&&"loading"===t.state&&F.has(e)||ne(e),z.delete(e),F.delete(e),I.delete(e),U.delete(e),k.delete(e),E.fetchers.delete(e)}function ne(e){let t=O.get(e);t&&(t.abort(),O.delete(e))}function ie(e){for(let t of e){let e=nv(ee(t).data);E.fetchers.set(t,e)}}function re(){let e=[],t=!1;for(let n of I){let i=E.fetchers.get(n);hm(i,"Expected fetcher: ".concat(n)),"loading"===i.state&&(I.delete(n),e.push(n),t=!0)}return ie(e),t}function oe(e){let t=[];for(let[n,i]of F)if(i<e){let e=E.fetchers.get(n);hm(e,"Expected fetcher: ".concat(n)),"loading"===e.state&&(ne(n),F.delete(n),t.push(n))}return ie(t),t.length>0}function se(e){E.blockers.delete(e),H.delete(e)}function ae(e,t){let n=E.blockers.get(e)||og;hm("unblocked"===n.state&&"blocked"===t.state||"blocked"===n.state&&"blocked"===t.state||"blocked"===n.state&&"proceeding"===t.state||"blocked"===n.state&&"unblocked"===t.state||"proceeding"===n.state&&"unblocked"===t.state,"Invalid blocker state transition: ".concat(n.state," -> ").concat(t.state));let i=new Map(E.blockers);i.set(e,t),V({blockers:i})}function le(e){let{currentLocation:t,nextLocation:n,historyAction:i}=e;if(0===H.size)return;H.size>1&&dm(!1,"A router only supports one blocker at a time");let r=Array.from(H.entries()),[o,s]=r[r.length-1],a=E.blockers.get(o);return a&&"proceeding"===a.state?void 0:s({currentLocation:t,nextLocation:n,historyAction:i})?o:void 0}function ce(e){let t=Ug(404,{pathname:e}),n=i||c,{matches:r,route:o}=Bg(n);return{notFoundMatches:r,route:o,error:t}}function ue(e,t){if(v){return v(e,t.map((e=>Em(e,E.loaderData))))||e.key}return e.key}function he(e,t){if(g){let n=ue(e,t),i=g[n];if("number"===typeof i)return i}return null}function de(t,n,i){if(e.patchRoutesOnNavigation){if(!t){return{active:!0,matches:Mm(n,i,h,!0)||[]}}if(Object.keys(t[0].params).length>0){return{active:!0,matches:Mm(n,i,h,!0)}}}return{active:!1,matches:null}}async function pe(t,n,r,o){if(!e.patchRoutesOnNavigation)return{type:"success",matches:t};let s=t;for(;;){let t=null==i,d=i||c,p=l;try{await e.patchRoutesOnNavigation({signal:r,path:n,matches:s,fetcherKey:o,patch:(e,t)=>{r.aborted||gg(e,t,d,p,a)}})}catch(u){return{type:"error",error:u,partialMatches:s}}finally{t&&!r.aborted&&(c=[...c])}if(r.aborted)return{type:"aborted"};let f=Sm(d,n,h);if(f)return{type:"success",matches:f};let m=Mm(d,n,h,!0);if(!m||s.length===m.length&&s.every(((e,t)=>e.route.id===m[t].route.id)))return{type:"success",matches:null};s=m}}return o={get basename(){return h},get future(){return p},get state(){return E},get routes(){return c},get window(){return t},initialize:function(){if(f=e.history.listen((t=>{let{action:n,location:i,delta:r}=t;if(M)return M(),void(M=void 0);dm(0===H.size||null!=r,"You are trying to use a blocker on a POP navigation to a location that was not created by @remix-run/router. This will fail silently in production. This can happen if you are navigating outside the router via `window.history.pushState`/`window.location.hash` instead of using router navigation APIs.  This can also happen if you are using createHashRouter and the user manually changes the URL.");let o=le({currentLocation:E.location,nextLocation:i,historyAction:n});if(o&&null!=r){let t=new Promise((e=>{M=e}));return e.history.go(-1*r),void ae(o,{state:"blocked",location:i,proceed(){ae(o,{state:"proceeding",proceed:void 0,reset:void 0,location:i}),t.then((()=>e.history.go(r)))},reset(){let e=new Map(E.blockers);e.set(o,og),V({blockers:e})}})}return q(n,i)})),n){!function(e,t){try{let n=e.sessionStorage.getItem(lg);if(n){let e=JSON.parse(n);for(let[n,i]of Object.entries(e||{}))i&&Array.isArray(i)&&t.set(n,new Set(i||[]))}}catch(n){}}(t,R);let e=()=>function(e,t){if(t.size>0){let i={};for(let[e,n]of t)i[e]=[...n];try{e.sessionStorage.setItem(lg,JSON.stringify(i))}catch(n){dm(!1,"Failed to save applied view transitions in sessionStorage (".concat(n,")."))}}}(t,R);t.addEventListener("pagehide",e),L=()=>t.removeEventListener("pagehide",e)}return E.initialized||q("POP",E.location,{initialHydration:!0}),o},subscribe:function(e){return m.add(e),()=>m.delete(e)},enableScrollRestoration:function(e,t,n){if(g=e,y=t,v=n||null,!x&&E.navigation===ig){x=!0;let e=he(E.location,E.matches);null!=e&&V({restoreScrollPosition:e})}return()=>{g=null,y=null,v=null}},navigate:async function t(n,i){if("number"===typeof n)return void e.history.go(n);let r=hg(E.location,E.matches,h,n,null===i||void 0===i?void 0:i.fromRouteId,null===i||void 0===i?void 0:i.relative),{path:o,submission:s,error:a}=dg(!1,r,i),l=E.location,c=fm(E.location,o,i&&i.state);c=u(u({},c),e.history.encodeLocation(c));let d=i&&null!=i.replace?i.replace:void 0,p="PUSH";!0===d?p="REPLACE":!1===d||null!=s&&Zg(s.formMethod)&&s.formAction===E.location.pathname+E.location.search&&(p="REPLACE");let f=i&&"preventScrollReset"in i?!0===i.preventScrollReset:void 0,m=!0===(i&&i.flushSync),g=le({currentLocation:l,nextLocation:c,historyAction:p});g?ae(g,{state:"blocked",location:c,proceed(){ae(g,{state:"proceeding",proceed:void 0,reset:void 0,location:c}),t(n,i)},reset(){let e=new Map(E.blockers);e.set(g,og),V({blockers:e})}}):await q(p,c,{submission:s,pendingError:a,preventScrollReset:f,replace:i&&i.replace,enableViewTransition:i&&i.viewTransition,flushSync:m})},fetch:async function(t,n,r,o){ne(t);let u=!0===(o&&o.flushSync),d=i||c,p=hg(E.location,E.matches,h,r,n,null===o||void 0===o?void 0:o.relative),f=Sm(d,p,h),m=de(f,d,p);if(m.active&&m.matches&&(f=m.matches),!f)return void $(t,n,Ug(404,{pathname:p}),{flushSync:u});let{path:g,submission:v,error:y}=dg(!0,p,o);if(y)return void $(t,n,y,{flushSync:u});let x=Qg(f,g),b=new xm(e.unstable_getContext?await e.unstable_getContext():void 0),w=!0===(o&&o.preventScrollReset);v&&Zg(v.formMethod)?await async function(t,n,r,o,u,d,p,f,m,g){function v(e){if(!e.route.action&&!e.route.lazy){let e=Ug(405,{method:g.formMethod,pathname:r,routeId:n});return $(t,n,e,{flushSync:f}),!0}return!1}if(K(),z.delete(t),!p&&v(o))return;let y=E.fetchers.get(t);Q(t,function(e,t){let n={state:"submitting",formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text,data:t?t.data:void 0};return n}(g,y),{flushSync:f});let x=new AbortController,b=Ng(e.history,r,x.signal,g);if(p){let e=await pe(u,r,b.signal,t);if("aborted"===e.type)return;if("error"===e.type)return void $(t,n,e.error,{flushSync:f});if(!e.matches)return void $(t,n,Ug(404,{pathname:r}),{flushSync:f});if(v(o=Qg(u=e.matches,r)))return}O.set(t,x);let w=D,_=Ag(a,l,b,u,o,s,d),M=await J(b,_,d,t),A=M[o.route.id];if(b.signal.aborted)return void(O.get(t)===x&&O.delete(t));if(U.has(t)){if(qg(A)||Wg(A))return void Q(t,nv(void 0))}else{if(qg(A))return O.delete(t),j>w?void Q(t,nv(void 0)):(I.add(t),Q(t,tv(g)),Y(b,A,!1,{fetcherSubmission:g,preventScrollReset:m}));if(Wg(A))return void $(t,n,A.error)}let C=E.navigation.location||E.location,R=Ng(e.history,C,x.signal),L=i||c,P="idle"!==E.navigation.state?Sm(L,E.navigation.location,h):E.matches;hm(P,"Didn't find any matches after fetcher action");let B=++D;F.set(t,B);let H=tv(g,A.data);E.fetchers.set(t,H);let{dsMatches:G,revalidatingFetchers:q}=pg(R,d,a,l,e.history,E,P,g,C,s,!1,N,k,U,z,I,L,h,null!=e.patchRoutesOnNavigation,[o.route.id,A]);q.filter((e=>e.key!==t)).forEach((e=>{let t=e.key,n=E.fetchers.get(t),i=tv(void 0,n?n.data:void 0);E.fetchers.set(t,i),ne(t),e.controller&&O.set(t,e.controller)})),V({fetchers:new Map(E.fetchers)});let X=()=>q.forEach((e=>ne(e.key)));x.signal.addEventListener("abort",X);let{loaderResults:ee,fetcherResults:te}=await Z(G,q,R,d);if(x.signal.aborted)return;if(x.signal.removeEventListener("abort",X),F.delete(t),O.delete(t),q.forEach((e=>O.delete(e.key))),E.fetchers.has(t)){let e=nv(A.data);E.fetchers.set(t,e)}let ie=Hg(ee);if(ie)return Y(R,ie.result,!1,{preventScrollReset:m});if(ie=Hg(te),ie)return I.add(ie.key),Y(R,ie.result,!1,{preventScrollReset:m});let{loaderData:re,errors:se}=jg(E,P,ee,void 0,q,te);oe(B),"loading"===E.navigation.state&&B>j?(hm(T,"Expected pending action"),S&&S.abort(),W(E.navigation.location,{matches:P,loaderData:re,errors:se,fetchers:new Map(E.fetchers)})):(V({errors:se,loaderData:Fg(E.loaderData,re,P,se),fetchers:new Map(E.fetchers)}),N=!1)}(t,n,g,x,f,b,m.active,u,w,v):(z.set(t,{routeId:n,path:g}),await async function(t,n,i,r,o,c,u,h,d,p){let f=E.fetchers.get(t);Q(t,tv(p,f?f.data:void 0),{flushSync:h});let m=new AbortController,g=Ng(e.history,i,m.signal);if(u){let e=await pe(o,i,g.signal,t);if("aborted"===e.type)return;if("error"===e.type)return void $(t,n,e.error,{flushSync:h});if(!e.matches)return void $(t,n,Ug(404,{pathname:i}),{flushSync:h});r=Qg(o=e.matches,i)}O.set(t,m);let v=D,y=Ag(a,l,g,o,r,s,c),x=await J(g,y,c,t),b=x[r.route.id];O.get(t)===m&&O.delete(t);if(g.signal.aborted)return;if(U.has(t))return void Q(t,nv(void 0));if(qg(b))return j>v?void Q(t,nv(void 0)):(I.add(t),void await Y(g,b,!1,{preventScrollReset:d}));if(Wg(b))return void $(t,n,b.error);Q(t,nv(b.data))}(t,n,g,x,f,b,m.active,u,w,v))},revalidate:function(){G||(G=function(){let e,t,n=new Promise(((i,r)=>{e=async e=>{i(e);try{await n}catch(t){}},t=async e=>{r(e);try{await n}catch(t){}}}));return{promise:n,resolve:e,reject:t}}()),K(),V({revalidation:"loading"});let e=G.promise;return"submitting"===E.navigation.state?e:"idle"===E.navigation.state?(q(E.historyAction,E.location,{startUninterruptedRevalidation:!0}),e):(q(T||E.historyAction,E.navigation.location,{overrideNavigation:E.navigation,enableViewTransition:!0===C}),e)},createHref:t=>e.history.createHref(t),encodeLocation:t=>e.history.encodeLocation(t),getFetcher:ee,deleteFetcher:function(e){let t=(B.get(e)||0)-1;t<=0?(B.delete(e),U.add(e)):B.set(e,t),V({fetchers:new Map(E.fetchers)})},dispose:function(){f&&f(),L&&L(),m.clear(),S&&S.abort(),E.fetchers.forEach(((e,t)=>te(t))),E.blockers.forEach(((e,t)=>se(t)))},getBlocker:function(e,t){let n=E.blockers.get(e)||og;return H.get(e)!==t&&H.set(e,t),n},deleteBlocker:se,patchRoutes:function(e,t){let n=null==i;gg(e,t,i||c,l,a),n&&(c=[...c],V({}))},_internalFetchControllers:O,_internalSetRoutes:function(e){l={},i=_m(e,a,void 0,l)}},o}function hg(e,t,n,i,r,o){let s,a;if(r){s=[];for(let e of t)if(s.push(e),e.route.id===r){a=e;break}}else s=t,a=t[t.length-1];let l=Vm(i||".",Gm(s),Bm(e.pathname,n)||e.pathname,"path"===o);if(null==i&&(l.search=e.search,l.hash=e.hash),(null==i||""===i||"."===i)&&a){let e=Kg(l.search);if(a.route.index&&!e)l.search=l.search?l.search.replace(/^\?/,"?index&"):"?index";else if(!a.route.index&&e){let e=new URLSearchParams(l.search),t=e.getAll("index");e.delete("index"),t.filter((e=>e)).forEach((t=>e.append("index",t)));let n=e.toString();l.search=n?"?".concat(n):""}}return"/"!==n&&(l.pathname="/"===l.pathname?n:Wm([n,l.pathname])),mm(l)}function dg(e,t,n){if(!n||!function(e){return null!=e&&("formData"in e&&null!=e.formData||"body"in e&&void 0!==e.body)}(n))return{path:t};if(n.formMethod&&!Jg(n.formMethod))return{path:t,error:Ug(405,{method:n.formMethod})};let i,r,o=()=>({path:t,error:Ug(400,{type:"invalid-body"})}),s=(n.formMethod||"get").toUpperCase(),a=Gg(t);if(void 0!==n.body){if("text/plain"===n.formEncType){if(!Zg(s))return o();let e="string"===typeof n.body?n.body:n.body instanceof FormData||n.body instanceof URLSearchParams?Array.from(n.body.entries()).reduce(((e,t)=>{let[n,i]=t;return"".concat(e).concat(n,"=").concat(i,"\n")}),""):String(n.body);return{path:t,submission:{formMethod:s,formAction:a,formEncType:n.formEncType,formData:void 0,json:void 0,text:e}}}if("application/json"===n.formEncType){if(!Zg(s))return o();try{let e="string"===typeof n.body?JSON.parse(n.body):n.body;return{path:t,submission:{formMethod:s,formAction:a,formEncType:n.formEncType,formData:void 0,json:e,text:void 0}}}catch(u){return o()}}}if(hm("function"===typeof FormData,"FormData is not available in this environment"),n.formData)i=kg(n.formData),r=n.formData;else if(n.body instanceof FormData)i=kg(n.body),r=n.body;else if(n.body instanceof URLSearchParams)i=n.body,r=Og(i);else if(null==n.body)i=new URLSearchParams,r=new FormData;else try{i=new URLSearchParams(n.body),r=Og(i)}catch(u){return o()}let l={formMethod:s,formAction:a,formEncType:n&&n.formEncType||"application/x-www-form-urlencoded",formData:r,json:void 0,text:void 0};if(Zg(l.formMethod))return{path:t,submission:l};let c=gm(t);return e&&c.search&&Kg(c.search)&&i.append("index",""),c.search="?".concat(i),{path:mm(c),submission:l}}function pg(e,t,n,i,r,o,s,a,l,c,h,d,p,f,m,g,v,y,x,b){var w;let _,S=b?Wg(b[1])?b[1].error:b[1].data:void 0,M=r.createURL(o.location),E=r.createURL(l);if(h&&o.errors){let e=Object.keys(o.errors)[0];_=s.findIndex((t=>t.route.id===e))}else if(b&&Wg(b[1])){let e=b[0];_=s.findIndex((t=>t.route.id===e))-1}let T=b?b[1].statusCode:void 0,A=T&&T>=400,C=u(u({currentUrl:M,currentParams:(null===(w=o.matches[0])||void 0===w?void 0:w.params)||{},nextUrl:E,nextParams:s[0].params},a),{},{actionResult:S,actionStatus:T}),R=s.map(((r,s)=>{let{route:a}=r,l=null;if(null!=_&&s>_?l=!1:a.lazy?l=!0:null==a.loader?l=!1:h?l=fg(a,o.loaderData,o.errors):function(e,t,n){let i=!t||n.route.id!==t.route.id,r=!e.hasOwnProperty(n.route.id);return i||r}(o.loaderData,o.matches[s],r)&&(l=!0),null!==l)return Tg(n,i,e,r,c,t,l);let p=!A&&(d||M.pathname+M.search===E.pathname+E.search||M.search!==E.search||function(e,t){let n=e.route.path;return e.pathname!==t.pathname||null!=n&&n.endsWith("*")&&e.params["*"]!==t.params["*"]}(o.matches[s],r)),f=u(u({},C),{},{defaultShouldRevalidate:p}),m=mg(r,f);return Tg(n,i,e,r,c,t,m,f)})),L=[];return m.forEach(((e,a)=>{if(h||!s.some((t=>t.route.id===e.routeId))||f.has(a))return;let l=o.fetchers.get(a),m=l&&"idle"!==l.state&&void 0===l.data,b=Sm(v,e.path,y);if(!b){if(x&&m)return;return void L.push({key:a,routeId:e.routeId,path:e.path,matches:null,match:null,request:null,controller:null})}if(g.has(a))return;let w=Qg(b,e.path),_=new AbortController,S=Ng(r,e.path,_.signal),M=null;if(p.has(a))p.delete(a),M=Ag(n,i,S,b,w,c,t);else if(m)d&&(M=Ag(n,i,S,b,w,c,t));else{let e=u(u({},C),{},{defaultShouldRevalidate:!A&&d});mg(w,e)&&(M=Ag(n,i,S,b,w,c,t,e))}M&&L.push({key:a,routeId:e.routeId,path:e.path,matches:M,match:w,request:S,controller:_})})),{dsMatches:R,revalidatingFetchers:L}}function fg(e,t,n){if(e.lazy)return!0;if(!e.loader)return!1;let i=null!=t&&e.id in t,r=null!=n&&void 0!==n[e.id];return!(!i&&r)&&("function"===typeof e.loader&&!0===e.loader.hydrate||!i&&!r)}function mg(e,t){if(e.route.shouldRevalidate){let n=e.route.shouldRevalidate(t);if("boolean"===typeof n)return n}return t.defaultShouldRevalidate}function gg(e,t,n,i,r){var o;let s;if(e){let t=i[e];hm(t,"No route found to patch children into: routeId = ".concat(e)),t.children||(t.children=[]),s=t.children}else s=n;let a=_m(t.filter((e=>!s.some((t=>vg(e,t))))),r,[e||"_","patch",String((null===(o=s)||void 0===o?void 0:o.length)||"0")],i);s.push(...a)}function vg(e,t){return"id"in e&&"id"in t&&e.id===t.id||e.index===t.index&&e.path===t.path&&e.caseSensitive===t.caseSensitive&&(!(e.children&&0!==e.children.length||t.children&&0!==t.children.length)||e.children.every(((e,n)=>{var i;return null===(i=t.children)||void 0===i?void 0:i.some((t=>vg(e,t)))})))}var yg=new WeakMap,xg=e=>{let{key:t,route:n,manifest:i,mapRouteProperties:r}=e,o=i[n.id];if(hm(o,"No route found in manifest"),!o.lazy||"object"!==typeof o.lazy)return;let s=o.lazy[t];if(!s)return;let a=yg.get(o);a||(a={},yg.set(o,a));let l=a[t];if(l)return l;let c=(async()=>{let e=function(e){return bm.has(e)}(t),n=void 0!==o[t]&&"hasErrorBoundary"!==t;if(e)dm(!e,"Route property "+t+" is not a supported lazy route property. This property will be ignored."),a[t]=Promise.resolve();else if(n)dm(!1,'Route "'.concat(o.id,'" has a static property "').concat(t,'" defined. The lazy property will be ignored.'));else{let e=await s();null!=e&&(Object.assign(o,{[t]:e}),Object.assign(o,r(o)))}"object"===typeof o.lazy&&(o.lazy[t]=void 0,Object.values(o.lazy).every((e=>void 0===e))&&(o.lazy=void 0))})();return a[t]=c,c},bg=new WeakMap;async function wg(e){let t=e.matches.filter((e=>e.shouldLoad)),n={};return(await Promise.all(t.map((e=>e.resolve())))).forEach(((e,i)=>{n[t[i].route.id]=e})),n}async function _g(e){return e.matches.some((e=>e.route.unstable_middleware))?Sg(e,!1,(()=>wg(e)),((e,t)=>({[t]:{type:"error",result:e}}))):wg(e)}async function Sg(e,t,n,i){let{matches:r,request:o,params:s,context:a}=e,l={handlerResult:void 0};try{let e=r.flatMap((e=>e.route.unstable_middleware?e.route.unstable_middleware.map((t=>[e.route.id,t])):[])),i=await Mg({request:o,params:s,context:a},e,t,l,n);return t?i:l.handlerResult}catch(c){if(!l.middlewareError)throw c;let e=await i(l.middlewareError.error,l.middlewareError.routeId);return t||!l.handlerResult?e:Object.assign(l.handlerResult,e)}}async function Mg(e,t,n,i,r){let o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:0,{request:s}=e;if(s.signal.aborted){if(s.signal.reason)throw s.signal.reason;throw new Error("Request aborted without an `AbortSignal.reason`: ".concat(s.method," ").concat(s.url))}let a=t[o];if(!a)return i.handlerResult=await r(),i.handlerResult;let l,[c,u]=a,h=!1,d=async()=>{if(h)throw new Error("You may only call `next()` once per middleware");h=!0;let s=await Mg(e,t,n,i,r,o+1);if(n)return l=s,l};try{let t=await u({request:e.request,params:e.params,context:e.context},d);return h?void 0===t?l:t:d()}catch(p){throw i.middlewareError?i.middlewareError.error!==p&&(i.middlewareError={routeId:c,error:p}):i.middlewareError={routeId:c,error:p},p}}function Eg(e,t,n,i,r){let o=xg({key:"unstable_middleware",route:i.route,manifest:t,mapRouteProperties:e}),s=function(e,t,n,i,r){var o;let s=n[e.id];if(hm(s,"No route found in manifest"),!e.lazy)return{lazyRoutePromise:void 0,lazyHandlerPromise:void 0};if("function"===typeof e.lazy){let t=bg.get(s);if(t)return{lazyRoutePromise:t,lazyHandlerPromise:t};let n=(async()=>{hm("function"===typeof e.lazy,"No lazy route function found");let t=await e.lazy(),n={};for(let e in t){let i=t[e];if(void 0===i)continue;let o=(r=e,wm.has(r)),a=void 0!==s[e]&&"hasErrorBoundary"!==e;o?dm(!o,"Route property "+e+" is not a supported property to be returned from a lazy route function. This property will be ignored."):a?dm(!a,'Route "'.concat(s.id,'" has a static property "').concat(e,'" defined but its lazy function is also returning a value for this property. The lazy route property "').concat(e,'" will be ignored.')):n[e]=i}var r;Object.assign(s,n),Object.assign(s,u(u({},i(s)),{},{lazy:void 0}))})();return bg.set(s,n),n.catch((()=>{})),{lazyRoutePromise:n,lazyHandlerPromise:n}}let a,l=Object.keys(e.lazy),c=[];for(let u of l){if(r&&r.includes(u))continue;let o=xg({key:u,route:e,manifest:n,mapRouteProperties:i});o&&(c.push(o),u===t&&(a=o))}let h=c.length>0?Promise.all(c).then((()=>{})):void 0;return null===h||void 0===h||h.catch((()=>{})),null===(o=a)||void 0===o||o.catch((()=>{})),{lazyRoutePromise:h,lazyHandlerPromise:a}}(i.route,Zg(n.method)?"action":"loader",t,e,r);return{middleware:o,route:s.lazyRoutePromise,handler:s.lazyHandlerPromise}}function Tg(e,t,n,i,r,o,s){let a=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null,l=!1,c=Eg(e,t,n,i,r);return u(u({},i),{},{_lazyPromises:c,shouldLoad:s,unstable_shouldRevalidateArgs:a,unstable_shouldCallHandler:e=>(l=!0,a?mg(i,"boolean"===typeof e?u(u({},a),{},{defaultShouldRevalidate:e}):a):s),resolve:e=>l||s||e&&"GET"===n.method&&(i.route.lazy||i.route.loader)?async function(e){let t,n,{request:i,match:r,lazyHandlerPromise:o,lazyRoutePromise:s,handlerOverride:a,scopedContext:l}=e,c=Zg(i.method),u=c?"action":"loader",h=e=>{let t,o=new Promise(((e,n)=>t=n));n=()=>t(),i.signal.addEventListener("abort",n);let s=t=>"function"!==typeof e?Promise.reject(new Error('You cannot call the handler for a route which defines a boolean "'.concat(u,'" [routeId: ').concat(r.route.id,"]"))):e({request:i,params:r.params,context:l},...void 0!==t?[t]:[]),c=(async()=>{try{return{type:"data",result:await(a?a((e=>s(e))):s())}}catch(e){return{type:"error",result:e}}})();return Promise.race([c,o])};try{let e=c?r.route.action:r.route.loader;if(o||s)if(e){let n,[i]=await Promise.all([h(e).catch((e=>{n=e})),o,s]);if(void 0!==n)throw n;t=i}else{await o;let e=c?r.route.action:r.route.loader;if(!e){if("action"===u){let e=new URL(i.url),t=e.pathname+e.search;throw Ug(405,{method:i.method,pathname:t,routeId:r.route.id})}return{type:"data",result:void 0}}[t]=await Promise.all([h(e),s])}else{if(!e){let e=new URL(i.url);throw Ug(404,{pathname:e.pathname+e.search})}t=await h(e)}}catch(d){return{type:"error",result:d}}finally{n&&i.signal.removeEventListener("abort",n)}return t}({request:n,match:i,lazyHandlerPromise:null===c||void 0===c?void 0:c.handler,lazyRoutePromise:null===c||void 0===c?void 0:c.route,handlerOverride:e,scopedContext:o}):Promise.resolve({type:"data",result:void 0})})}function Ag(e,t,n,i,r,o,s){let a=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null;return i.map((i=>i.route.id!==r.route.id?u(u({},i),{},{shouldLoad:!1,unstable_shouldRevalidateArgs:a,unstable_shouldCallHandler:()=>!1,_lazyPromises:Eg(e,t,n,i,o),resolve:()=>Promise.resolve({type:"data",result:void 0})}):Tg(e,t,n,i,o,s,!0,a)))}async function Cg(e,t,n,i,r,o){n.some((e=>{var t;return null===(t=e._lazyPromises)||void 0===t?void 0:t.middleware}))&&await Promise.all(n.map((e=>{var t;return null===(t=e._lazyPromises)||void 0===t?void 0:t.middleware})));let s={request:t,params:n[0].params,context:r,matches:n},a=o?()=>{throw new Error("You cannot call `unstable_runClientMiddleware()` from a static handler `dataStrategy`. Middleware is run outside of `dataStrategy` during SSR in order to bubble up the Response.  You can enable middleware via the `respond` API in `query`/`queryRoute`")}:e=>{let t=s;return Sg(t,!1,(()=>e(u(u({},t),{},{fetcherKey:i,unstable_runClientMiddleware:()=>{throw new Error("Cannot call `unstable_runClientMiddleware()` from within an `unstable_runClientMiddleware` handler")}}))),((e,t)=>({[t]:{type:"error",result:e}})))},l=await e(u(u({},s),{},{fetcherKey:i,unstable_runClientMiddleware:a}));try{await Promise.all(n.flatMap((e=>{var t,n;return[null===(t=e._lazyPromises)||void 0===t?void 0:t.handler,null===(n=e._lazyPromises)||void 0===n?void 0:n.route]})))}catch(c){}return l}async function Rg(e){let{result:t,type:n}=e;if(Yg(t)){let e;try{let n=t.headers.get("Content-Type");e=n&&/\bapplication\/json\b/.test(n)?null==t.body?null:await t.json():await t.text()}catch(c){return{type:"error",error:c}}return"error"===n?{type:"error",error:new Jm(t.status,t.statusText,e),statusCode:t.status,headers:t.headers}:{type:"data",data:e,statusCode:t.status,headers:t.headers}}var i,r,o,s,a,l;return"error"===n?Xg(t)?t.data instanceof Error?{type:"error",error:t.data,statusCode:null===(o=t.init)||void 0===o?void 0:o.status,headers:null!==(s=t.init)&&void 0!==s&&s.headers?new Headers(t.init.headers):void 0}:{type:"error",error:new Jm((null===(i=t.init)||void 0===i?void 0:i.status)||500,void 0,t.data),statusCode:Zm(t)?t.status:void 0,headers:null!==(r=t.init)&&void 0!==r&&r.headers?new Headers(t.init.headers):void 0}:{type:"error",error:t,statusCode:Zm(t)?t.status:void 0}:Xg(t)?{type:"data",data:t.data,statusCode:null===(a=t.init)||void 0===a?void 0:a.status,headers:null!==(l=t.init)&&void 0!==l&&l.headers?new Headers(t.init.headers):void 0}:{type:"data",data:t}}function Lg(e,t,n,i,r){let o=e.headers.get("Location");if(hm(o,"Redirects returned/thrown from loaders/actions must have a Location header"),!sg.test(o)){let s=i.slice(0,i.findIndex((e=>e.route.id===n))+1);o=hg(new URL(t.url),s,r,o),e.headers.set("Location",o)}return e}function Pg(e,t,n){if(sg.test(e)){let i=e,r=i.startsWith("//")?new URL(t.protocol+i):new URL(i),o=null!=Bm(r.pathname,n);if(r.origin===t.origin&&o)return r.pathname+r.search+r.hash}return e}function Ng(e,t,n,i){let r=e.createURL(Gg(t)).toString(),o={signal:n};if(i&&Zg(i.formMethod)){let{formMethod:e,formEncType:t}=i;o.method=e.toUpperCase(),"application/json"===t?(o.headers=new Headers({"Content-Type":t}),o.body=JSON.stringify(i.json)):"text/plain"===t?o.body=i.text:"application/x-www-form-urlencoded"===t&&i.formData?o.body=kg(i.formData):o.body=i.formData}return new Request(r,o)}function kg(e){let t=new URLSearchParams;for(let[n,i]of e.entries())t.append(n,"string"===typeof i?i:i.name);return t}function Og(e){let t=new FormData;for(let[n,i]of e.entries())t.append(n,i);return t}function Dg(e,t,n){let i,r=arguments.length>3&&void 0!==arguments[3]&&arguments[3],o=arguments.length>4&&void 0!==arguments[4]&&arguments[4],s={},a=null,l=!1,c={},u=n&&Wg(n[1])?n[1].error:void 0;return e.forEach((n=>{if(!(n.route.id in t))return;let h=n.route.id,d=t[h];if(hm(!qg(d),"Cannot handle redirect results in processLoaderData"),Wg(d)){let t=d.error;if(void 0!==u&&(t=u,u=void 0),a=a||{},o)a[h]=t;else{let n=zg(e,h);null==a[n.route.id]&&(a[n.route.id]=t)}r||(s[h]=cg),l||(l=!0,i=Zm(d.error)?d.error.status:500),d.headers&&(c[h]=d.headers)}else s[h]=d.data,d.statusCode&&200!==d.statusCode&&!l&&(i=d.statusCode),d.headers&&(c[h]=d.headers)})),void 0!==u&&n&&(a={[n[0]]:u},n[2]&&(s[n[2]]=void 0)),{loaderData:s,errors:a,statusCode:i||200,loaderHeaders:c}}function jg(e,t,n,i,r,o){let{loaderData:s,errors:a}=Dg(t,n,i);return r.filter((e=>!e.matches||e.matches.some((e=>e.shouldLoad)))).forEach((t=>{let{key:n,match:i,controller:r}=t,s=o[n];if(hm(s,"Did not find corresponding fetcher result"),!r||!r.signal.aborted)if(Wg(s)){let t=zg(e.matches,null===i||void 0===i?void 0:i.route.id);a&&a[t.route.id]||(a=u(u({},a),{},{[t.route.id]:s.error})),e.fetchers.delete(n)}else if(qg(s))hm(!1,"Unhandled fetcher revalidation redirect");else{let t=nv(s.data);e.fetchers.set(n,t)}})),{loaderData:s,errors:a}}function Fg(e,t,n,i){let r=Object.entries(t).filter((e=>{let[,t]=e;return t!==cg})).reduce(((e,t)=>{let[n,i]=t;return e[n]=i,e}),{});for(let o of n){let n=o.route.id;if(!t.hasOwnProperty(n)&&e.hasOwnProperty(n)&&o.route.loader&&(r[n]=e[n]),i&&i.hasOwnProperty(n))break}return r}function Ig(e){return e?Wg(e[1])?{actionData:{}}:{actionData:{[e[0]]:e[1].data}}:{}}function zg(e,t){return(t?e.slice(0,e.findIndex((e=>e.route.id===t))+1):[...e]).reverse().find((e=>!0===e.route.hasErrorBoundary))||e[0]}function Bg(e){let t=1===e.length?e[0]:e.find((e=>e.index||!e.path||"/"===e.path))||{id:"__shim-error-route__"};return{matches:[{params:{},pathname:"",pathnameBase:"",route:t}],route:t}}function Ug(e){let{pathname:t,routeId:n,method:i,type:r,message:o}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},s="Unknown Server Error",a="Unknown @remix-run/router error";return 400===e?(s="Bad Request",i&&t&&n?a="You made a ".concat(i,' request to "').concat(t,'" but did not provide a `loader` for route "').concat(n,'", so there is no way to handle the request.'):"invalid-body"===r&&(a="Unable to encode submission body")):403===e?(s="Forbidden",a='Route "'.concat(n,'" does not match URL "').concat(t,'"')):404===e?(s="Not Found",a='No route matches URL "'.concat(t,'"')):405===e&&(s="Method Not Allowed",i&&t&&n?a="You made a ".concat(i.toUpperCase(),' request to "').concat(t,'" but did not provide an `action` for route "').concat(n,'", so there is no way to handle the request.'):i&&(a='Invalid request method "'.concat(i.toUpperCase(),'"'))),new Jm(e||500,s,new Error(a),!0)}function Hg(e){let t=Object.entries(e);for(let n=t.length-1;n>=0;n--){let[e,i]=t[n];if(qg(i))return{key:e,result:i}}}function Gg(e){return mm(u(u({},"string"===typeof e?gm(e):e),{},{hash:""}))}function Vg(e){return Yg(e.result)&&tg.has(e.result.status)}function Wg(e){return"error"===e.type}function qg(e){return"redirect"===(e&&e.type)}function Xg(e){return"object"===typeof e&&null!=e&&"type"in e&&"data"in e&&"init"in e&&"DataWithResponseInit"===e.type}function Yg(e){return null!=e&&"number"===typeof e.status&&"string"===typeof e.statusText&&"object"===typeof e.headers&&"undefined"!==typeof e.body}function Jg(e){return eg.has(e.toUpperCase())}function Zg(e){return Qm.has(e.toUpperCase())}function Kg(e){return new URLSearchParams(e).getAll("index").some((e=>""===e))}function Qg(e,t){let n="string"===typeof t?gm(t).search:t.search;if(e[e.length-1].route.index&&Kg(n||""))return e[e.length-1];let i=Hm(e);return i[i.length-1]}function $g(e){let{formMethod:t,formAction:n,formEncType:i,text:r,formData:o,json:s}=e;if(t&&n&&i)return null!=r?{formMethod:t,formAction:n,formEncType:i,formData:void 0,json:void 0,text:r}:null!=o?{formMethod:t,formAction:n,formEncType:i,formData:o,json:void 0,text:void 0}:void 0!==s?{formMethod:t,formAction:n,formEncType:i,formData:void 0,json:s,text:void 0}:void 0}function ev(e,t){if(t){return{state:"loading",location:e,formMethod:t.formMethod,formAction:t.formAction,formEncType:t.formEncType,formData:t.formData,json:t.json,text:t.text}}return{state:"loading",location:e,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0}}function tv(e,t){if(e){return{state:"loading",formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text,data:t}}return{state:"loading",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:t}}function nv(e){return{state:"idle",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:e}}var iv=i.createContext(null);iv.displayName="DataRouter";var rv=i.createContext(null);rv.displayName="DataRouterState";var ov=i.createContext({isTransitioning:!1});ov.displayName="ViewTransition";var sv=i.createContext(new Map);sv.displayName="Fetchers";var av=i.createContext(null);av.displayName="Await";var lv=i.createContext(null);lv.displayName="Navigation";var cv=i.createContext(null);cv.displayName="Location";var uv=i.createContext({outlet:null,matches:[],isDataRoute:!1});uv.displayName="Route";var hv=i.createContext(null);hv.displayName="RouteError";function dv(){return null!=i.useContext(cv)}function pv(){return hm(dv(),"useLocation() may be used only in the context of a <Router> component."),i.useContext(cv).location}var fv="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function mv(e){i.useContext(lv).static||i.useLayoutEffect(e)}function gv(){let{isDataRoute:e}=i.useContext(uv);return e?function(){let{router:e}=Tv("useNavigate"),t=Cv("useNavigate"),n=i.useRef(!1);mv((()=>{n.current=!0}));let r=i.useCallback((async function(i){let r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};dm(n.current,fv),n.current&&("number"===typeof i?e.navigate(i):await e.navigate(i,u({fromRouteId:t},r)))}),[e,t]);return r}():function(){hm(dv(),"useNavigate() may be used only in the context of a <Router> component.");let e=i.useContext(iv),{basename:t,navigator:n}=i.useContext(lv),{matches:r}=i.useContext(uv),{pathname:o}=pv(),s=JSON.stringify(Gm(r)),a=i.useRef(!1);mv((()=>{a.current=!0}));let l=i.useCallback((function(i){let r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(dm(a.current,fv),!a.current)return;if("number"===typeof i)return void n.go(i);let l=Vm(i,JSON.parse(s),o,"path"===r.relative);null==e&&"/"!==t&&(l.pathname="/"===l.pathname?t:Wm([t,l.pathname])),(r.replace?n.replace:n.push)(l,r.state,r)}),[t,n,s,o,e]);return l}()}i.createContext(null);function vv(){let{matches:e}=i.useContext(uv),t=e[e.length-1];return t?t.params:{}}function yv(e){let{relative:t}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{matches:n}=i.useContext(uv),{pathname:r}=pv(),o=JSON.stringify(Gm(n));return i.useMemo((()=>Vm(e,JSON.parse(o),r,"path"===t)),[e,o,r,t])}function xv(e,t,n,r){hm(dv(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:o}=i.useContext(lv),{matches:s}=i.useContext(uv),a=s[s.length-1],l=a?a.params:{},c=a?a.pathname:"/",h=a?a.pathnameBase:"/",d=a&&a.route;{let e=d&&d.path||"";Pv(c,!d||e.endsWith("*")||e.endsWith("*?"),'You rendered descendant <Routes> (or called `useRoutes()`) at "'.concat(c,'" (under <Route path="').concat(e,'">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won\'t match anymore and therefore the child routes will never render.\n\nPlease change the parent <Route path="').concat(e,'"> to <Route path="').concat("/"===e?"*":"".concat(e,"/*"),'">.'))}let p,f=pv();if(t){var m;let e="string"===typeof t?gm(t):t;hm("/"===h||(null===(m=e.pathname)||void 0===m?void 0:m.startsWith(h)),'When overriding the location using `<Routes location>` or `useRoutes(routes, location)`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "'.concat(h,'" but pathname "').concat(e.pathname,'" was given in the `location` prop.')),p=e}else p=f;let g=p.pathname||"/",v=g;if("/"!==h){let e=h.replace(/^\//,"").split("/");v="/"+g.replace(/^\//,"").split("/").slice(e.length).join("/")}let y=Sm(e,{pathname:v});dm(d||null!=y,'No routes matched location "'.concat(p.pathname).concat(p.search).concat(p.hash,'" ')),dm(null==y||void 0!==y[y.length-1].route.element||void 0!==y[y.length-1].route.Component||void 0!==y[y.length-1].route.lazy,'Matched leaf route at location "'.concat(p.pathname).concat(p.search).concat(p.hash,'" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.'));let x=Mv(y&&y.map((e=>Object.assign({},e,{params:Object.assign({},l,e.params),pathname:Wm([h,o.encodeLocation?o.encodeLocation(e.pathname).pathname:e.pathname]),pathnameBase:"/"===e.pathnameBase?h:Wm([h,o.encodeLocation?o.encodeLocation(e.pathnameBase).pathname:e.pathnameBase])}))),s,n,r);return t&&x?i.createElement(cv.Provider,{value:{location:u({pathname:"/",search:"",hash:"",state:null,key:"default"},p),navigationType:"POP"}},x):x}function bv(){let e=Rv(),t=Zm(e)?"".concat(e.status," ").concat(e.statusText):e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,r="rgba(200,200,200, 0.5)",o={padding:"0.5rem",backgroundColor:r},s={padding:"2px 4px",backgroundColor:r},a=null;return console.error("Error handled by React Router default ErrorBoundary:",e),a=i.createElement(i.Fragment,null,i.createElement("p",null,"\ud83d\udcbf Hey developer \ud83d\udc4b"),i.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",i.createElement("code",{style:s},"ErrorBoundary")," or"," ",i.createElement("code",{style:s},"errorElement")," prop on your route.")),i.createElement(i.Fragment,null,i.createElement("h2",null,"Unexpected Application Error!"),i.createElement("h3",{style:{fontStyle:"italic"}},t),n?i.createElement("pre",{style:o},n):null,a)}var wv=i.createElement(bv,null),_v=class extends i.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||"idle"!==t.revalidation&&"idle"===e.revalidation?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:void 0!==e.error?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){console.error("React Router caught the following error during render",e,t)}render(){return void 0!==this.state.error?i.createElement(uv.Provider,{value:this.props.routeContext},i.createElement(hv.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function Sv(e){let{routeContext:t,match:n,children:r}=e,o=i.useContext(iv);return o&&o.static&&o.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(o.staticContext._deepestRenderedBoundaryId=n.route.id),i.createElement(uv.Provider,{value:t},r)}function Mv(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;if(null==e){if(!n)return null;if(n.errors)e=n.matches;else{if(0!==t.length||n.initialized||!(n.matches.length>0))return null;e=n.matches}}let r=e,o=null===n||void 0===n?void 0:n.errors;if(null!=o){let e=r.findIndex((e=>e.route.id&&void 0!==(null===o||void 0===o?void 0:o[e.route.id])));hm(e>=0,"Could not find a matching route for errors on route IDs: ".concat(Object.keys(o).join(","))),r=r.slice(0,Math.min(r.length,e+1))}let s=!1,a=-1;if(n)for(let i=0;i<r.length;i++){let e=r[i];if((e.route.HydrateFallback||e.route.hydrateFallbackElement)&&(a=i),e.route.id){let{loaderData:t,errors:i}=n,o=e.route.loader&&!t.hasOwnProperty(e.route.id)&&(!i||void 0===i[e.route.id]);if(e.route.lazy||o){s=!0,r=a>=0?r.slice(0,a+1):[r[0]];break}}}return r.reduceRight(((e,l,c)=>{let u,h=!1,d=null,p=null;n&&(u=o&&l.route.id?o[l.route.id]:void 0,d=l.route.errorElement||wv,s&&(a<0&&0===c?(Pv("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),h=!0,p=null):a===c&&(h=!0,p=l.route.hydrateFallbackElement||null)));let f=t.concat(r.slice(0,c+1)),m=()=>{let t;return t=u?d:h?p:l.route.Component?i.createElement(l.route.Component,null):l.route.element?l.route.element:e,i.createElement(Sv,{match:l,routeContext:{outlet:e,matches:f,isDataRoute:null!=n},children:t})};return n&&(l.route.ErrorBoundary||l.route.errorElement||0===c)?i.createElement(_v,{location:n.location,revalidation:n.revalidation,component:d,error:u,children:m(),routeContext:{outlet:null,matches:f,isDataRoute:!0}}):m()}),null)}function Ev(e){return"".concat(e," must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.")}function Tv(e){let t=i.useContext(iv);return hm(t,Ev(e)),t}function Av(e){let t=i.useContext(rv);return hm(t,Ev(e)),t}function Cv(e){let t=function(e){let t=i.useContext(uv);return hm(t,Ev(e)),t}(e),n=t.matches[t.matches.length-1];return hm(n.route.id,"".concat(e,' can only be used on routes that contain a unique "id"')),n.route.id}function Rv(){var e;let t=i.useContext(hv),n=Av("useRouteError"),r=Cv("useRouteError");return void 0!==t?t:null===(e=n.errors)||void 0===e?void 0:e[r]}var Lv={};function Pv(e,t,n){t||Lv[e]||(Lv[e]=!0,dm(!1,n))}var Nv={};function kv(e,t){e||Nv[t]||(Nv[t]=!0,console.warn(t))}function Ov(e){let t={hasErrorBoundary:e.hasErrorBoundary||null!=e.ErrorBoundary||null!=e.errorElement};return e.Component&&(e.element&&dm(!1,"You should not include both `Component` and `element` on your route - `Component` will be used."),Object.assign(t,{element:i.createElement(e.Component),Component:void 0})),e.HydrateFallback&&(e.hydrateFallbackElement&&dm(!1,"You should not include both `HydrateFallback` and `hydrateFallbackElement` on your route - `HydrateFallback` will be used."),Object.assign(t,{hydrateFallbackElement:i.createElement(e.HydrateFallback),HydrateFallback:void 0})),e.ErrorBoundary&&(e.errorElement&&dm(!1,"You should not include both `ErrorBoundary` and `errorElement` on your route - `ErrorBoundary` will be used."),Object.assign(t,{errorElement:i.createElement(e.ErrorBoundary),ErrorBoundary:void 0})),t}var Dv=["HydrateFallback","hydrateFallbackElement"];var jv=class{constructor(){this.status="pending",this.promise=new Promise(((e,t)=>{this.resolve=t=>{"pending"===this.status&&(this.status="resolved",e(t))},this.reject=e=>{"pending"===this.status&&(this.status="rejected",t(e))}}))}};function Fv(e){let{router:t,flushSync:n}=e,[r,o]=i.useState(t.state),[s,a]=i.useState(),[l,c]=i.useState({isTransitioning:!1}),[u,h]=i.useState(),[d,p]=i.useState(),[f,m]=i.useState(),g=i.useRef(new Map),v=i.useCallback(((e,r)=>{let{deletedFetchers:s,flushSync:l,viewTransitionOpts:f}=r;e.fetchers.forEach(((e,t)=>{void 0!==e.data&&g.current.set(t,e.data)})),s.forEach((e=>g.current.delete(e))),kv(!1===l||null!=n,'You provided the `flushSync` option to a router update, but you are not using the `<RouterProvider>` from `react-router/dom` so `ReactDOM.flushSync()` is unavailable.  Please update your app to `import { RouterProvider } from "react-router/dom"` and ensure you have `react-dom` installed as a dependency to use the `flushSync` option.');let v=null!=t.window&&null!=t.window.document&&"function"===typeof t.window.document.startViewTransition;if(kv(null==f||v,"You provided the `viewTransition` option to a router update, but you do not appear to be running in a DOM environment as `window.startViewTransition` is not available."),f&&v){if(n&&l){n((()=>{d&&(u&&u.resolve(),d.skipTransition()),c({isTransitioning:!0,flushSync:!0,currentLocation:f.currentLocation,nextLocation:f.nextLocation})}));let i=t.window.document.startViewTransition((()=>{n((()=>o(e)))}));return i.finished.finally((()=>{n((()=>{h(void 0),p(void 0),a(void 0),c({isTransitioning:!1})}))})),void n((()=>p(i)))}d?(u&&u.resolve(),d.skipTransition(),m({state:e,currentLocation:f.currentLocation,nextLocation:f.nextLocation})):(a(e),c({isTransitioning:!0,flushSync:!1,currentLocation:f.currentLocation,nextLocation:f.nextLocation}))}else n&&l?n((()=>o(e))):i.startTransition((()=>o(e)))}),[t.window,n,d,u]);i.useLayoutEffect((()=>t.subscribe(v)),[t,v]),i.useEffect((()=>{l.isTransitioning&&!l.flushSync&&h(new jv)}),[l]),i.useEffect((()=>{if(u&&s&&t.window){let e=s,n=u.promise,r=t.window.document.startViewTransition((async()=>{i.startTransition((()=>o(e))),await n}));r.finished.finally((()=>{h(void 0),p(void 0),a(void 0),c({isTransitioning:!1})})),p(r)}}),[s,u,t.window]),i.useEffect((()=>{u&&s&&r.location.key===s.location.key&&u.resolve()}),[u,d,r.location,s]),i.useEffect((()=>{!l.isTransitioning&&f&&(a(f.state),c({isTransitioning:!0,flushSync:!1,currentLocation:f.currentLocation,nextLocation:f.nextLocation}),m(void 0))}),[l.isTransitioning,f]);let y=i.useMemo((()=>({createHref:t.createHref,encodeLocation:t.encodeLocation,go:e=>t.navigate(e),push:(e,n,i)=>t.navigate(e,{state:n,preventScrollReset:null===i||void 0===i?void 0:i.preventScrollReset}),replace:(e,n,i)=>t.navigate(e,{replace:!0,state:n,preventScrollReset:null===i||void 0===i?void 0:i.preventScrollReset})})),[t]),x=t.basename||"/",b=i.useMemo((()=>({router:t,navigator:y,static:!1,basename:x})),[t,y,x]);return i.createElement(i.Fragment,null,i.createElement(iv.Provider,{value:b},i.createElement(rv.Provider,{value:r},i.createElement(sv.Provider,{value:g.current},i.createElement(ov.Provider,{value:l},i.createElement(zv,{basename:x,location:r.location,navigationType:r.historyAction,navigator:y},i.createElement(Iv,{routes:t.routes,future:t.future,state:r})))))),null)}var Iv=i.memo((function(e){let{routes:t,future:n,state:i}=e;return xv(t,void 0,i,n)}));function zv(e){let{basename:t="/",children:n=null,location:r,navigationType:o="POP",navigator:s,static:a=!1}=e;hm(!dv(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let l=t.replace(/^\/*/,"/"),c=i.useMemo((()=>({basename:l,navigator:s,static:a,future:{}})),[l,s,a]);"string"===typeof r&&(r=gm(r));let{pathname:u="/",search:h="",hash:d="",state:p=null,key:f="default"}=r,m=i.useMemo((()=>{let e=Bm(u,l);return null==e?null:{location:{pathname:e,search:h,hash:d,state:p,key:f},navigationType:o}}),[l,u,h,d,p,f,o]);return dm(null!=m,'<Router basename="'.concat(l,'"> is not able to match the URL "').concat(u).concat(h).concat(d,"\" because it does not start with the basename, so the <Router> won't render anything.")),null==m?null:i.createElement(lv.Provider,{value:c},i.createElement(cv.Provider,{children:n,value:m}))}i.Component;var Bv="get",Uv="application/x-www-form-urlencoded";function Hv(e){return null!=e&&"string"===typeof e.tagName}var Gv=null;var Vv=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Wv(e){return null==e||Vv.has(e)?e:(dm(!1,'"'.concat(e,'" is not a valid `encType` for `<Form>`/`<fetcher.Form>` and will default to "').concat(Uv,'"')),null)}function qv(e,t){let n,i,r,o,s;if(Hv(a=e)&&"form"===a.tagName.toLowerCase()){let s=e.getAttribute("action");i=s?Bm(s,t):null,n=e.getAttribute("method")||Bv,r=Wv(e.getAttribute("enctype"))||Uv,o=new FormData(e)}else if(function(e){return Hv(e)&&"button"===e.tagName.toLowerCase()}(e)||function(e){return Hv(e)&&"input"===e.tagName.toLowerCase()}(e)&&("submit"===e.type||"image"===e.type)){let s=e.form;if(null==s)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let a=e.getAttribute("formaction")||s.getAttribute("action");if(i=a?Bm(a,t):null,n=e.getAttribute("formmethod")||s.getAttribute("method")||Bv,r=Wv(e.getAttribute("formenctype"))||Wv(s.getAttribute("enctype"))||Uv,o=new FormData(s,e),!function(){if(null===Gv)try{new FormData(document.createElement("form"),0),Gv=!1}catch(e){Gv=!0}return Gv}()){let{name:t,type:n,value:i}=e;if("image"===n){let e=t?"".concat(t,"."):"";o.append("".concat(e,"x"),"0"),o.append("".concat(e,"y"),"0")}else t&&o.append(t,i)}}else{if(Hv(e))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=Bv,i=null,r=Uv,s=e}var a;return o&&"text/plain"===r&&(s=o,o=void 0),{action:i,method:n.toLowerCase(),encType:r,formData:o,body:s}}function Xv(e,t){if(!1===e||null===e||"undefined"===typeof e)throw new Error(t)}async function Yv(e,t){if(e.id in t)return t[e.id];try{let n=await import(e.module);return t[e.id]=n,n}catch(n){return console.error("Error loading route module `".concat(e.module,"`, reloading page...")),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise((()=>{}))}}function Jv(e){return null!=e&&"string"===typeof e.page}function Zv(e){return null!=e&&(null==e.href?"preload"===e.rel&&"string"===typeof e.imageSrcSet&&"string"===typeof e.imageSizes:"string"===typeof e.rel&&"string"===typeof e.href)}function Kv(e,t,n,i,r,o){let s=(e,t)=>!n[t]||e.route.id!==n[t].route.id,a=(e,t)=>{var i;return n[t].pathname!==e.pathname||(null===(i=n[t].route.path)||void 0===i?void 0:i.endsWith("*"))&&n[t].params["*"]!==e.params["*"]};return"assets"===o?t.filter(((e,t)=>s(e,t)||a(e,t))):"data"===o?t.filter(((t,o)=>{let l=i.routes[t.route.id];if(!l||!l.hasLoader)return!1;if(s(t,o)||a(t,o))return!0;if(t.route.shouldRevalidate){var c;let i=t.route.shouldRevalidate({currentUrl:new URL(r.pathname+r.search+r.hash,window.origin),currentParams:(null===(c=n[0])||void 0===c?void 0:c.params)||{},nextUrl:new URL(e,window.origin),nextParams:t.params,defaultShouldRevalidate:!0});if("boolean"===typeof i)return i}return!0})):[]}function Qv(e,t){let{includeHydrateFallback:n}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return i=e.map((e=>{let i=t.routes[e.route.id];if(!i)return[];let r=[i.module];return i.clientActionModule&&(r=r.concat(i.clientActionModule)),i.clientLoaderModule&&(r=r.concat(i.clientLoaderModule)),n&&i.hydrateFallbackModule&&(r=r.concat(i.hydrateFallbackModule)),i.imports&&(r=r.concat(i.imports)),r})).flat(1),[...new Set(i)];var i}function $v(e,t){let n=new Set,i=new Set(t);return e.reduce(((e,r)=>{if(t&&!Jv(r)&&"script"===r.as&&r.href&&i.has(r.href))return e;let o=JSON.stringify(function(e){let t={},n=Object.keys(e).sort();for(let i of n)t[i]=e[i];return t}(r));return n.has(o)||(n.add(o),e.push({key:o,link:r})),e}),[])}function ey(e){return{__html:e}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");"undefined"!==typeof window?window:"undefined"!==typeof globalThis&&globalThis;Symbol("SingleFetchRedirect");var ty=new Set([100,101,204,205]);function ny(e,t){let n="string"===typeof e?new URL(e,"undefined"===typeof window?"server://singlefetch/":window.location.origin):e;return"/"===n.pathname?n.pathname="_root.data":t&&"/"===Bm(n.pathname,t)?n.pathname="".concat(t.replace(/\/$/,""),"/_root.data"):n.pathname="".concat(n.pathname.replace(/\/$/,""),".data"),n}i.Component;function iy(e){let{error:t,isOutsideRemixApp:n}=e;console.error(t);let r,o=i.createElement("script",{dangerouslySetInnerHTML:{__html:'\n        console.log(\n          "\ud83d\udcbf Hey developer \ud83d\udc4b. You can provide a way better UX than this when your app throws errors. Check out https://reactrouter.com/how-to/error-boundary for more information."\n        );\n      '}});if(Zm(t))return i.createElement(ry,{title:"Unhandled Thrown Response!"},i.createElement("h1",{style:{fontSize:"24px"}},t.status," ",t.statusText),o);if(t instanceof Error)0;else{let e=null==t?"Unknown Error":"object"===typeof t&&"toString"in t?t.toString():JSON.stringify(t);new Error(e)}return i.createElement(ry,{title:"Application Error!",isOutsideRemixApp:n},i.createElement("h1",{style:{fontSize:"24px"}},"Application Error"),i.createElement("pre",{style:{padding:"2rem",background:"hsla(10, 50%, 50%, 0.1)",color:"red",overflow:"auto"}},r.stack),o)}function ry(e){var t;let{title:n,renderScripts:r,isOutsideRemixApp:o,children:s}=e,{routeModules:a}=cy();return null!==a.root&&void 0!==t&&t.Layout&&!o?s:i.createElement("html",{lang:"en"},i.createElement("head",null,i.createElement("meta",{charSet:"utf-8"}),i.createElement("meta",{name:"viewport",content:"width=device-width,initial-scale=1,viewport-fit=cover"}),i.createElement("title",null,n)),i.createElement("body",null,i.createElement("main",{style:{fontFamily:"system-ui, sans-serif",padding:"2rem"}},s,r?i.createElement(gy,null):null)))}function oy(e,t){return"lazy"===e.mode&&!0===t}function sy(){let e=i.useContext(iv);return Xv(e,"You must render this element inside a <DataRouterContext.Provider> element"),e}function ay(){let e=i.useContext(rv);return Xv(e,"You must render this element inside a <DataRouterStateContext.Provider> element"),e}var ly=i.createContext(void 0);function cy(){let e=i.useContext(ly);return Xv(e,"You must render this element inside a <HydratedRouter> element"),e}function uy(e,t){return n=>{e&&e(n),n.defaultPrevented||t(n)}}function hy(e,t,n){if(n&&!my)return[e[0]];if(t){let n=e.findIndex((e=>void 0!==t[e.route.id]));return e.slice(0,n+1)}return e}function dy(e){let{page:t}=e,n=$f(e,tm),{router:r}=sy(),o=i.useMemo((()=>Sm(r.routes,t,r.basename)),[r.routes,t,r.basename]);return o?i.createElement(fy,u({page:t,matches:o},n)):null}function py(e){let{manifest:t,routeModules:n}=cy(),[r,o]=i.useState([]);return i.useEffect((()=>{let i=!1;return async function(e,t,n){return $v((await Promise.all(e.map((async e=>{let i=t.routes[e.route.id];if(i){let e=await Yv(i,n);return e.links?e.links():[]}return[]})))).flat(1).filter(Zv).filter((e=>"stylesheet"===e.rel||"preload"===e.rel)).map((e=>"stylesheet"===e.rel?u(u({},e),{},{rel:"prefetch",as:"style"}):u(u({},e),{},{rel:"prefetch"}))))}(e,t,n).then((e=>{i||o(e)})),()=>{i=!0}}),[e,t,n]),r}function fy(e){let{page:t,matches:n}=e,r=$f(e,nm),o=pv(),{manifest:s,routeModules:a}=cy(),{basename:l}=sy(),{loaderData:c,matches:h}=ay(),d=i.useMemo((()=>Kv(t,n,h,s,o,"data")),[t,n,h,s,o]),p=i.useMemo((()=>Kv(t,n,h,s,o,"assets")),[t,n,h,s,o]),f=i.useMemo((()=>{if(t===o.pathname+o.search+o.hash)return[];let e=new Set,i=!1;if(n.forEach((t=>{var n;let r=s.routes[t.route.id];r&&r.hasLoader&&(!d.some((e=>e.route.id===t.route.id))&&t.route.id in c&&null!==(n=a[t.route.id])&&void 0!==n&&n.shouldRevalidate||r.hasClientLoader?i=!0:e.add(t.route.id))})),0===e.size)return[];let r=ny(t,l);return i&&e.size>0&&r.searchParams.set("_routes",n.filter((t=>e.has(t.route.id))).map((e=>e.route.id)).join(",")),[r.pathname+r.search]}),[l,c,o,s,d,n,t,a]),m=i.useMemo((()=>Qv(p,s)),[p,s]),g=py(p);return i.createElement(i.Fragment,null,f.map((e=>i.createElement("link",u({key:e,rel:"prefetch",as:"fetch",href:e},r)))),m.map((e=>i.createElement("link",u({key:e,rel:"modulepreload",href:e},r)))),g.map((e=>{let{key:t,link:n}=e;return i.createElement("link",u({key:t},n))})))}ly.displayName="FrameworkContext";var my=!1;function gy(e){let{manifest:t,serverHandoffString:n,isSpaMode:r,renderMeta:o,routeDiscovery:s,ssr:a}=cy(),{router:l,static:c,staticContext:h}=sy(),{matches:d}=ay(),p=oy(s,a);o&&(o.didRenderScripts=!0);let f=hy(d,null,r);i.useEffect((()=>{0}),[]);let m=i.useMemo((()=>{var r;let o=h?"window.__reactRouterContext = ".concat(n,";").concat("window.__reactRouterContext.stream = new ReadableStream({start(controller){window.__reactRouterContext.streamController = controller;}}).pipeThrough(new TextEncoderStream());"):" ",s=c?"".concat(null!==t.hmr&&void 0!==r&&r.runtime?"import ".concat(JSON.stringify(t.hmr.runtime),";"):"").concat(p?"":"import ".concat(JSON.stringify(t.url)),";\n").concat(f.map(((e,n)=>{let i="route".concat(n),r=t.routes[e.route.id];Xv(r,"Route ".concat(e.route.id," not found in manifest"));let{clientActionModule:o,clientLoaderModule:s,clientMiddlewareModule:a,hydrateFallbackModule:l,module:c}=r,u=[...o?[{module:o,varName:"".concat(i,"_clientAction")}]:[],...s?[{module:s,varName:"".concat(i,"_clientLoader")}]:[],...a?[{module:a,varName:"".concat(i,"_clientMiddleware")}]:[],...l?[{module:l,varName:"".concat(i,"_HydrateFallback")}]:[],{module:c,varName:"".concat(i,"_main")}];return 1===u.length?"import * as ".concat(i," from ").concat(JSON.stringify(c),";"):[u.map((e=>"import * as ".concat(e.varName,' from "').concat(e.module,'";'))).join("\n"),"const ".concat(i," = {").concat(u.map((e=>"...".concat(e.varName))).join(","),"};")].join("\n")})).join("\n"),"\n  ").concat(p?"window.__reactRouterManifest = ".concat(JSON.stringify(function(e,t){let{sri:n}=e,i=$f(e,em),r=new Set(t.state.matches.map((e=>e.route.id))),o=t.state.location.pathname.split("/").filter(Boolean),s=["/"];for(o.pop();o.length>0;)s.push("/".concat(o.join("/"))),o.pop();s.forEach((e=>{let n=Sm(t.routes,e,t.basename);n&&n.forEach((e=>r.add(e.route.id)))}));let a=[...r].reduce(((e,t)=>Object.assign(e,{[t]:i.routes[t]})),{});return u(u({},i),{},{routes:a,sri:!!n||void 0})}(t,l),null,2),";"):"","\n  window.__reactRouterRouteModules = {").concat(f.map(((e,t)=>"".concat(JSON.stringify(e.route.id),":route").concat(t))).join(","),"};\n\nimport(").concat(JSON.stringify(t.entry.module),");"):" ";return i.createElement(i.Fragment,null,i.createElement("script",u(u({},e),{},{suppressHydrationWarning:!0,dangerouslySetInnerHTML:ey(o),type:void 0})),i.createElement("script",u(u({},e),{},{suppressHydrationWarning:!0,dangerouslySetInnerHTML:ey(s),type:"module",async:!0})))}),[]),g=my?[]:(t.entry.imports.concat(Qv(f,t,{includeHydrateFallback:!0})),[...new Set(v)]);var v;let y="object"===typeof t.sri?t.sri:{};return my?null:i.createElement(i.Fragment,null,"object"===typeof t.sri?i.createElement("script",{"rr-importmap":"",type:"importmap",suppressHydrationWarning:!0,dangerouslySetInnerHTML:{__html:JSON.stringify({integrity:y})}}):null,p?null:i.createElement("link",{rel:"modulepreload",href:t.url,crossOrigin:e.crossOrigin,integrity:y[t.url],suppressHydrationWarning:!0}),i.createElement("link",{rel:"modulepreload",href:t.entry.module,crossOrigin:e.crossOrigin,integrity:y[t.entry.module],suppressHydrationWarning:!0}),g.map((t=>i.createElement("link",{key:t,rel:"modulepreload",href:t,crossOrigin:e.crossOrigin,integrity:y[t],suppressHydrationWarning:!0}))),m)}function vy(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return e=>{t.forEach((t=>{"function"===typeof t?t(e):null!=t&&(t.current=e)}))}}var yy="undefined"!==typeof window&&"undefined"!==typeof window.document&&"undefined"!==typeof window.document.createElement;try{yy&&(window.__reactRouterVersion="7.6.2")}catch(cF){}function xy(){var e;let t=null===(e=window)||void 0===e?void 0:e.__staticRouterHydrationData;return t&&t.errors&&(t=u(u({},t),{},{errors:by(t.errors)})),t}function by(e){if(!e)return null;let t=Object.entries(e),n={};for(let[i,r]of t)if(r&&"RouteErrorResponse"===r.__type)n[i]=new Jm(r.status,r.statusText,r.data,!0===r.internal);else if(r&&"Error"===r.__type){if(r.__subType){let e=window[r.__subType];if("function"===typeof e)try{let t=new e(r.message);t.stack="",n[i]=t}catch(cF){}}if(null==n[i]){let e=new Error(r.message);e.stack="",n[i]=e}}else n[i]=r;return n}var wy=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,_y=i.forwardRef((function(e,t){let n,{onClick:r,discover:o="render",prefetch:s="none",relative:a,reloadDocument:l,replace:c,state:h,target:d,to:p,preventScrollReset:f,viewTransition:m}=e,g=$f(e,im),{basename:v}=i.useContext(lv),y="string"===typeof p&&wy.test(p),x=!1;if("string"===typeof p&&y&&(n=p,yy))try{let e=new URL(window.location.href),t=p.startsWith("//")?new URL(e.protocol+p):new URL(p),n=Bm(t.pathname,v);t.origin===e.origin&&null!=n?p=n+t.search+t.hash:x=!0}catch(cF){dm(!1,'<Link to="'.concat(p,'"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.'))}let b=function(e){let{relative:t}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};hm(dv(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:r}=i.useContext(lv),{hash:o,pathname:s,search:a}=yv(e,{relative:t}),l=s;return"/"!==n&&(l="/"===s?n:Wm([n,s])),r.createHref({pathname:l,search:a,hash:o})}(p,{relative:a}),[w,_,S]=function(e,t){let n=i.useContext(ly),[r,o]=i.useState(!1),[s,a]=i.useState(!1),{onFocus:l,onBlur:c,onMouseEnter:u,onMouseLeave:h,onTouchStart:d}=t,p=i.useRef(null);i.useEffect((()=>{if("render"===e&&a(!0),"viewport"===e){let e=new IntersectionObserver((e=>{e.forEach((e=>{a(e.isIntersecting)}))}),{threshold:.5});return p.current&&e.observe(p.current),()=>{e.disconnect()}}}),[e]),i.useEffect((()=>{if(r){let e=setTimeout((()=>{a(!0)}),100);return()=>{clearTimeout(e)}}}),[r]);let f=()=>{o(!0)},m=()=>{o(!1),a(!1)};return n?"intent"!==e?[s,p,{}]:[s,p,{onFocus:uy(l,f),onBlur:uy(c,m),onMouseEnter:uy(u,f),onMouseLeave:uy(h,m),onTouchStart:uy(d,f)}]:[!1,p,{}]}(s,g),M=function(e){let{target:t,replace:n,state:r,preventScrollReset:o,relative:s,viewTransition:a}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},l=gv(),c=pv(),u=yv(e,{relative:s});return i.useCallback((i=>{if(function(e,t){return 0===e.button&&(!t||"_self"===t)&&!function(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}(e)}(i,t)){i.preventDefault();let t=void 0!==n?n:mm(c)===mm(u);l(e,{replace:t,state:r,preventScrollReset:o,relative:s,viewTransition:a})}}),[c,l,u,n,r,t,e,o,s,a])}(p,{replace:c,state:h,target:d,preventScrollReset:f,relative:a,viewTransition:m});let E=i.createElement("a",u(u(u({},g),S),{},{href:n||b,onClick:x||l?r:function(e){r&&r(e),e.defaultPrevented||M(e)},ref:vy(t,_),target:d,"data-discover":y||"render"!==o?void 0:"true"}));return w&&!y?i.createElement(i.Fragment,null,E,i.createElement(dy,{page:b})):E}));_y.displayName="Link";var Sy=i.forwardRef((function(e,t){let{"aria-current":n="page",caseSensitive:r=!1,className:o="",end:s=!1,style:a,to:l,viewTransition:c,children:h}=e,d=$f(e,rm),p=yv(l,{relative:d.relative}),f=pv(),m=i.useContext(rv),{navigator:g,basename:v}=i.useContext(lv),y=null!=m&&function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=i.useContext(ov);hm(null!=n,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=Ty("useViewTransitionState"),o=yv(e,{relative:t.relative});if(!n.isTransitioning)return!1;let s=Bm(n.currentLocation.pathname,r)||n.currentLocation.pathname,a=Bm(n.nextLocation.pathname,r)||n.nextLocation.pathname;return null!=Fm(o.pathname,a)||null!=Fm(o.pathname,s)}(p)&&!0===c,x=g.encodeLocation?g.encodeLocation(p).pathname:p.pathname,b=f.pathname,w=m&&m.navigation&&m.navigation.location?m.navigation.location.pathname:null;r||(b=b.toLowerCase(),w=w?w.toLowerCase():null,x=x.toLowerCase()),w&&v&&(w=Bm(w,v)||w);const _="/"!==x&&x.endsWith("/")?x.length-1:x.length;let S,M=b===x||!s&&b.startsWith(x)&&"/"===b.charAt(_),E=null!=w&&(w===x||!s&&w.startsWith(x)&&"/"===w.charAt(x.length)),T={isActive:M,isPending:E,isTransitioning:y},A=M?n:void 0;S="function"===typeof o?o(T):[o,M?"active":null,E?"pending":null,y?"transitioning":null].filter(Boolean).join(" ");let C="function"===typeof a?a(T):a;return i.createElement(_y,u(u({},d),{},{"aria-current":A,className:S,ref:t,style:C,to:l,viewTransition:c}),"function"===typeof h?h(T):h)}));Sy.displayName="NavLink";var My=i.forwardRef(((e,t)=>{let{discover:n="render",fetcherKey:r,navigate:o,reloadDocument:s,replace:a,state:l,method:c=Bv,action:h,onSubmit:d,relative:p,preventScrollReset:f,viewTransition:m}=e,g=$f(e,om),v=Ry(),y=function(e){let{relative:t}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{basename:n}=i.useContext(lv),r=i.useContext(uv);hm(r,"useFormAction must be used inside a RouteContext");let[o]=r.matches.slice(-1),s=u({},yv(e||".",{relative:t})),a=pv();if(null==e){s.search=a.search;let e=new URLSearchParams(s.search),t=e.getAll("index");if(t.some((e=>""===e))){e.delete("index"),t.filter((e=>e)).forEach((t=>e.append("index",t)));let n=e.toString();s.search=n?"?".concat(n):""}}e&&"."!==e||!o.route.index||(s.search=s.search?s.search.replace(/^\?/,"?index&"):"?index");"/"!==n&&(s.pathname="/"===s.pathname?n:Wm([n,s.pathname]));return mm(s)}(h,{relative:p}),x="get"===c.toLowerCase()?"get":"post",b="string"===typeof h&&wy.test(h);return i.createElement("form",u(u({ref:t,method:x,action:y,onSubmit:s?d:e=>{if(d&&d(e),e.defaultPrevented)return;e.preventDefault();let t=e.nativeEvent.submitter,n=(null===t||void 0===t?void 0:t.getAttribute("formmethod"))||c;v(t||e.currentTarget,{fetcherKey:r,method:n,navigate:o,replace:a,state:l,relative:p,preventScrollReset:f,viewTransition:m})}},g),{},{"data-discover":b||"render"!==n?void 0:"true"}))}));function Ey(e){return"".concat(e," must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.")}function Ty(e){let t=i.useContext(iv);return hm(t,Ey(e)),t}My.displayName="Form";var Ay=0,Cy=()=>"__".concat(String(++Ay),"__");function Ry(){let{router:e}=Ty("useSubmit"),{basename:t}=i.useContext(lv),n=Cv("useRouteId");return i.useCallback((async function(i){let r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{action:o,method:s,encType:a,formData:l,body:c}=qv(i,t);if(!1===r.navigate){let t=r.fetcherKey||Cy();await e.fetch(t,n,r.action||o,{preventScrollReset:r.preventScrollReset,formData:l,body:c,formMethod:r.method||s,formEncType:r.encType||a,flushSync:r.flushSync})}else await e.navigate(r.action||o,{preventScrollReset:r.preventScrollReset,formData:l,body:c,formMethod:r.method||s,formEncType:r.encType||a,replace:r.replace,state:r.state,fromRouteId:n,flushSync:r.flushSync,viewTransition:r.viewTransition})}),[e,t,n])}var Ly=n(579);const Py=e=>{let{size:t="medium",speed:n="normal",color:i="cosmic",glow:r=!0,className:o=""}=e;const s=["morphing-spinner","morphing-spinner--".concat(t),"morphing-spinner--".concat(n),"morphing-spinner--".concat(i),r?"morphing-spinner--glow":"",o].filter(Boolean).join(" ");return(0,Ly.jsx)("div",{className:s})},Ny=e=>e.replace(/\/+$/,""),ky={"movie-reservation-1.onrender.com":"https://movie-reservation-z2nv.onrender.com"},Oy=(()=>{var e;const t="http://localhost:5000".trim(),n=Ny(t);if(n)return n;if("undefined"!==typeof window&&null!==(e=window.location)&&void 0!==e&&e.origin){const e=ky[window.location.host];return Ny(e?e:window.location.origin)}return""})(),Dy=()=>{const t=(0,i.useRef)(null),n=(0,i.useRef)(null),r=gv(),[o,s]=(0,i.useState)(!1),a=pv();(0,i.useEffect)((()=>{window.scrollTo({top:0,left:0,behavior:"smooth"})}),[a.key]),(0,i.useEffect)((()=>{if(t.current&&!n.current)return n.current=Qf()({el:t.current,THREE:e,mouseControls:!0,touchControls:!0,minHeight:200,minWidth:200,scale:1,scaleMobile:1,color:1710638,shininess:10,waveHeight:20,waveSpeed:.5,zoom:1}),()=>{n.current&&(n.current.destroy(),n.current=null)}}),[]);const[l,c]=(0,i.useState)({email:"",password:""}),[h,d]=(0,i.useState)(""),[p,f]=(0,i.useState)(!1);let m=h?(0,Ly.jsx)("p",{className:"error-message",children:h}):null;h&&console.log(m),(0,i.useEffect)((()=>{const e=localStorage.getItem("rememberedEmail");e&&(c((t=>u(u({},t),{},{email:e}))),f(!0))}),[]);const g=e=>{c(u(u({},l),{},{[e.target.name]:e.target.value})),d("")};return(0,Ly.jsx)("div",{children:(0,Ly.jsx)("div",{ref:t,class:"container",children:(0,Ly.jsxs)("form",{onSubmit:e=>{if(e.preventDefault(),s(!0),!l.email||!l.password)return alert("Please fill in all fields."),s(!1),void d("Please fill in all fields.");(async()=>{try{const e=await fetch("".concat(Oy,"/api/login"),{method:"POST",headers:{"Content-type":"application/json"},body:JSON.stringify({email:l.email,password:l.password})}),t=await e.json();e.ok?(s(!1),localStorage.setItem("token",t.token),localStorage.setItem("username",t.user.username),localStorage.setItem("userEmail",t.user.email||l.email),alert("Login successful!"),r("/")):(s(!1),401===e.status&&alert("wrong email or password"),d(t.message||"Login failed"))}catch(e){d("Network error")}})(),p?localStorage.setItem("rememberedEmail",l.email):localStorage.removeItem("rememberedEmail")},class:"form",children:[(0,Ly.jsx)("h1",{style:{color:"white",textAlign:"center"},children:" Login"}),(0,Ly.jsxs)("div",{style:{display:"block",width:"80%"},children:[(0,Ly.jsx)("label",{for:"email",className:"label",children:"Email or Username"}),(0,Ly.jsx)("input",{className:"input",type:"text",id:"email",name:"email",placeholder:"user@gmail.com or user",value:l.email,onChange:g})]}),(0,Ly.jsxs)("div",{style:{display:"block",width:"80%"},children:[(0,Ly.jsx)("label",{for:"password",className:"label",children:"Password      "}),(0,Ly.jsx)("input",{className:"input",type:"password",id:"password",name:"password",placeholder:"user",value:l.password,onChange:g})]}),(0,Ly.jsxs)("label",{style:{display:"flex",alignItems:"center",gap:"0.5rem",fontSize:"1.55rem",color:"white",width:"80%"},children:[(0,Ly.jsxs)("div",{class:"liquid-checkbox",children:[(0,Ly.jsx)("input",{type:"checkbox",id:"remember",name:"remember",checked:p,onChange:e=>f(e.target.checked),style:{width:"20px",height:"20px"}}),(0,Ly.jsxs)("div",{class:"liquid-container",children:[(0,Ly.jsx)("div",{class:"liquid-fill"}),(0,Ly.jsx)("div",{class:"checkmark-float",children:"\u2713"})]})]}),"Remember Me"]}),(0,Ly.jsxs)("button",{type:"submit",disabled:o,className:"gradient-border",style:{width:"80%"},children:[o?(0,Ly.jsx)("h1",{style:{fontSize:"1.5rem",paddingRight:"1rem"},children:" Logging in...  "}):"Login",o?(0,Ly.jsx)(Py,{}):null]}),(0,Ly.jsxs)("div",{style:{marginTop:"1rem",textAlign:"center",fontSize:"1rem"},children:["Don't have an account yet?"," ",(0,Ly.jsx)(_y,{to:"/register",children:"Register"})]})]})})})},jy=()=>{const t=(0,i.useRef)(null),n=(0,i.useRef)(null);(0,i.useEffect)((()=>{if(t.current&&!n.current)return n.current=Qf()({el:t.current,THREE:e,mouseControls:!0,touchControls:!0,minHeight:200,minWidth:200,scale:1,scaleMobile:1,color:1710638,shininess:10,waveHeight:20,waveSpeed:.5,zoom:1}),()=>{n.current&&(n.current.destroy(),n.current=null)}}),[]);const[r,o]=(0,i.useState)({username:"",email:"",password:""}),[s,a]=(0,i.useState)(""),[l,c]=(0,i.useState)(!1),[h,d]=(0,i.useState)(!1),p=gv();(0,i.useEffect)((()=>{const e=localStorage.getItem("rememberedEmail");e&&(o((t=>u(u({},t),{},{email:e}))),c(!0))}),[]);const f=e=>{o(u(u({},r),{},{[e.target.name]:e.target.value})),a("")};return(0,Ly.jsx)("div",{children:(0,Ly.jsx)("div",{ref:t,class:"container",children:(0,Ly.jsxs)("form",{onSubmit:async e=>{if(e.preventDefault(),a(""),d(!0),!r.username||!r.email||!r.password)return a("Please fill in all fields."),alert("Please fill in all fields."),void d(!1);l?localStorage.setItem("rememberedEmail",r.email):localStorage.removeItem("rememberedEmail");try{const e=await fetch("".concat(Oy,"/api/register"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({username:r.username,email:r.email,password:r.password})}),t=await e.json();e.ok?(alert("Registration successful! You can now log in."),p("/login")):400===e.status?alert("Bad request: "+t.message):e.ok||alert("reservation error")}catch(t){alert(s.message)}d(!1)},class:"form",children:[(0,Ly.jsx)("h1",{style:{color:"white",textAlign:"center"},children:" Registration "}),(0,Ly.jsxs)("div",{style:{display:"block",width:"80%"},children:[(0,Ly.jsx)("label",{for:"username",className:"label",children:"Username   "}),(0,Ly.jsx)("input",{className:"input",type:"text",id:"username",name:"username",placeholder:"Username",value:r.username,onChange:f})]}),(0,Ly.jsxs)("div",{style:{display:"block",width:"80%"},children:[(0,Ly.jsx)("label",{for:"email",className:"label",children:"Email Address   "}),(0,Ly.jsx)("input",{className:"input",type:"email",id:"email",name:"email",placeholder:"Email",value:r.email,onChange:f})]}),(0,Ly.jsxs)("div",{style:{display:"block",width:"80%"},children:[(0,Ly.jsx)("label",{for:"password",className:"label",children:"Password     "}),(0,Ly.jsx)("input",{className:"input",type:"password",id:"password",name:"password",placeholder:"Password",value:r.password,onChange:f})]}),(0,Ly.jsxs)("label",{style:{display:"flex",alignItems:"center",gap:"0.5rem",fontSize:"1.55rem",color:"white",width:"80%"},children:[(0,Ly.jsxs)("div",{class:"liquid-checkbox",children:[(0,Ly.jsx)("input",{type:"checkbox",id:"remember",name:"remember",checked:l,onChange:e=>c(e.target.checked),style:{width:"20px",height:"20px"}}),(0,Ly.jsxs)("div",{class:"liquid-container",children:[(0,Ly.jsx)("div",{class:"liquid-fill"}),(0,Ly.jsx)("div",{class:"checkmark-float",children:"\u2713"})]})]}),"Remember Me"]}),(0,Ly.jsxs)("button",{type:"submit",disabled:h,className:"gradient-border",style:{width:"80%"},children:[h?(0,Ly.jsx)("h1",{style:{fontSize:"1.5rem",paddingRight:"1rem"},children:" loading...  "}):"RegIn",h?(0,Ly.jsx)(Py,{}):null]}),(0,Ly.jsxs)("div",{style:{marginTop:"1rem",textAlign:"center",fontSize:"1rem"},children:["Already have an account ?"," ",(0,Ly.jsx)(_y,{to:"/login",children:"Login"})]})]})})})};var Fy=n(950);function Iy(e){return i.createElement(Fv,u({flushSync:Fy.flushSync},e))}var zy=n(605),By=n.n(zy);const Uy=()=>(0,Ly.jsxs)("div",{className:"skeleton-card",children:[(0,Ly.jsx)("div",{className:"skeleton-image"}),(0,Ly.jsx)("div",{className:"skeleton-text"}),(0,Ly.jsx)("div",{className:"skeleton-text",style:{width:"60%"}}),(0,Ly.jsx)("div",{className:"skeleton-button"}),(0,Ly.jsx)("div",{className:"shimmer-wrapper"})]}),Hy={28:"Action",12:"Adventure",16:"Animation",35:"Comedy",80:"Crime",99:"Documentary",18:"Drama",10751:"Family",14:"Fantasy",36:"History",27:"Horror",10402:"Music",9648:"Mystery",10749:"Romance",878:"Science Fiction",10770:"TV Movie",53:"Thriller",10752:"War",37:"Western"};const Gy=e=>{const{movies:t,loading:n}=e,[r,o]=(0,i.useState)([]),[s,a]=(0,i.useState)(!1),[l,c]=(0,i.useState)(""),[u,h]=(0,i.useState)("date-desc"),[d,p]=(0,i.useState)("all"),f=(0,i.useMemo)((()=>t.filter((e=>{var t;return null===e||void 0===e||null===(t=e.title)||void 0===t?void 0:t.toLowerCase().includes(l.toLowerCase())})).filter((e=>function(e,t){if("all"===t)return e;let n=!1;return e.genre_ids.forEach((e=>{Hy[e]===t&&(n=!0)})),n}(e,d))).sort(((e,t)=>"rating-desc"===u?(null===t||void 0===t?void 0:t.rating)-(null===e||void 0===e?void 0:e.rating):"rating-asc"===u?(null===e||void 0===e?void 0:e.rating)-(null===t||void 0===t?void 0:t.rating):"date-desc"===u?new Date(null===t||void 0===t?void 0:t.date)-new Date(null===e||void 0===e?void 0:e.date):"date-asc"===u?new Date(null===e||void 0===e?void 0:e.date)-new Date(null===t||void 0===t?void 0:t.date):"title-az"===u?null===e||void 0===e?void 0:e.title.localeCompare(null===t||void 0===t?void 0:t.title):"title-za"===u?null===t||void 0===t?void 0:t.title.localeCompare(null===e||void 0===e?void 0:e.title):0))),[t,l,u,d]);return(0,Ly.jsxs)(Ly.Fragment,{children:[(0,Ly.jsxs)("div",{className:"movie-filter-bar",children:[(0,Ly.jsxs)("div",{className:"filter-group search-group",children:[(0,Ly.jsx)("span",{className:"search-icon",children:"\ud83d\udd0d"}),(0,Ly.jsx)("input",{type:"text",placeholder:"Search movies by name...",value:l,onChange:e=>c(e.target.value),className:"search-input"}),(0,Ly.jsx)("button",{type:"button",className:"heart-toggle".concat(s?" liked":""),onClick:()=>a((e=>!e)),title:s?"Show all movies":"Show only liked movies","aria-label":s?"Show all movies":"Show only liked movies",children:s?"\u2665":"\u2661"})]}),(0,Ly.jsxs)("div",{className:"filter-group",children:[(0,Ly.jsx)("label",{htmlFor:"genre-select",className:"sort-label",children:"Genre:"}),(0,Ly.jsxs)("select",{id:"genre-select",value:d,onChange:e=>p(e.target.value),className:"sort-dropdown",children:[(0,Ly.jsx)("option",{value:"all",children:"All"}),(0,Ly.jsx)("option",{value:"Action",children:"Action"}),(0,Ly.jsx)("option",{value:"Comedy",children:"Comedy"}),(0,Ly.jsx)("option",{value:"Science Fiction",children:"Science Fiction"}),(0,Ly.jsx)("option",{value:"Animation",children:"Animation"}),(0,Ly.jsx)("option",{value:"Adventure",children:"Adventure"}),(0,Ly.jsx)("option",{value:"Drama",children:"Drama"}),(0,Ly.jsx)("option",{value:"Family",children:"Family"})]})]}),(0,Ly.jsxs)("div",{className:"filter-group",children:[(0,Ly.jsx)("label",{htmlFor:"sort-select",className:"sort-label",children:"Sort by:"}),(0,Ly.jsxs)("select",{id:"sort-select",value:u,onChange:e=>h(e.target.value),className:"sort-dropdown",children:[(0,Ly.jsx)("option",{value:"date-desc",children:"Newest"}),(0,Ly.jsx)("option",{value:"date-asc",children:"Oldest"}),(0,Ly.jsx)("option",{value:"rating-desc",children:"Rating (High to Low)"}),(0,Ly.jsx)("option",{value:"rating-asc",children:"Rating (Low to High)"}),(0,Ly.jsx)("option",{value:"title-az",children:"Title (A-Z)"}),(0,Ly.jsx)("option",{value:"title-za",children:"Title (Z-A)"})]})]})]}),(0,Ly.jsx)("div",{className:"movie-grid",children:n?Array.from({length:12}).map(((e,t)=>(0,Ly.jsx)(Uy,{},t))):0===(s?f.filter((e=>r.includes(null===e||void 0===e?void 0:e.title))):f).length?(0,Ly.jsxs)("div",{className:"no-movies-msg",children:[(0,Ly.jsx)("span",{className:"no-movies-icon",children:"\ud83c\udfac"}),"There is nothing here.",(0,Ly.jsx)("div",{className:"no-movies-hint",children:"Try changing your search, filters, or like some movies to see them here!"})]}):(s?f.filter((e=>r.includes(null===e||void 0===e?void 0:e.title))):f).map(((e,t)=>(0,Ly.jsxs)("div",{className:"movie-grid-card",children:[(0,Ly.jsx)("span",{className:"heart-icon".concat(r.includes(null===e||void 0===e?void 0:e.title)?" liked":""),onClick:()=>{return t=null===e||void 0===e?void 0:e.title,void o((e=>e.includes(t)?e.filter((e=>e!==t)):[...e,t]));var t},title:r.includes(null===e||void 0===e?void 0:e.title)?"Unlike":"Like",children:r.includes(null===e||void 0===e?void 0:e.title)?"\u2764\ufe0f":"\ud83e\udd0d"}),(0,Ly.jsx)("img",{src:null===e||void 0===e?void 0:e.poster,alt:null===e||void 0===e?void 0:e.title,className:"movie-card-img",width:"500",height:"750"}),(0,Ly.jsx)("h3",{className:"movie-card-h2",style:{color:"#aaa",fontSize:"0.95rem",margin:"0.5rem 0"},children:null===e||void 0===e?void 0:e.title}),(0,Ly.jsxs)("div",{style:{color:"#aaa",fontSize:"0.95rem",margin:"0.5rem 0"},children:["Rating: ",null===e||void 0===e?void 0:e.rating," | ",null===e||void 0===e?void 0:e.date]}),(0,Ly.jsxs)(_y,{to:"/movie/".concat(null===e||void 0===e?void 0:e.id),children:["   ",(0,Ly.jsx)("div",{className:"movie-selection",children:"Book Now"})]})]},t)))})]})},Vy=i.memo(Gy),Wy=e=>{var t,n,r,o,s,a,l,c,u,h;const d=e.movies,[p,f]=(0,i.useState)(0),[m,g]=(0,i.useState)(!1),[v,y]=(0,i.useState)("right"),x=e=>d[(e+d.length)%d.length];return(0,Ly.jsxs)("div",{className:"carousel-bg",children:[(0,Ly.jsx)("div",{className:"movie-card-title",children:" Now Showing "}),(0,Ly.jsxs)("div",{className:"carousel-row",children:[(0,Ly.jsxs)("div",{className:"movie-card-side",children:[(0,Ly.jsx)("img",{src:null===(t=x(p-1))||void 0===t?void 0:t.poster,alt:null===(n=x(p-1))||void 0===n?void 0:n.title,className:"movie-card-img-side",width:"500",height:"750"}),(0,Ly.jsx)("div",{style:{color:"#fff",fontWeight:500,fontSize:"1rem"},children:null===(r=x(p-1))||void 0===r?void 0:r.title})]}),(0,Ly.jsxs)("div",{className:"movie-card-current".concat(m?"right"===v?" animating-right":" animating-left":""),children:[(0,Ly.jsx)("img",{src:null===(o=x(p))||void 0===o?void 0:o.poster,alt:null===(s=x(p))||void 0===s?void 0:s.title,className:"movie-card-img",width:"500",height:"750"}),(0,Ly.jsx)("h2",{className:"movie-card-h2",children:null===(a=x(p))||void 0===a?void 0:a.title}),(0,Ly.jsxs)("div",{className:"movie-card-controls",children:[(0,Ly.jsx)("button",{onClick:()=>{y("left"),g(!0),setTimeout((()=>{f((e=>0===e?d.length-1:e-1)),g(!1)}),250)},className:"carousel-arrow",style:{position:"static"},children:"<"}),(0,Ly.jsx)(_y,{to:"/movie/".concat(null===(l=x(p))||void 0===l?void 0:l.id),className:"movie-selection",children:"Book Now"}),(0,Ly.jsx)("button",{onClick:()=>{y("right"),g(!0),setTimeout((()=>{f((e=>e===d.length-1?0:e+1)),g(!1)}),250)},className:"carousel-arrow",style:{position:"static"},children:">"})]})]}),(0,Ly.jsxs)("div",{className:"movie-card-side",children:[(0,Ly.jsx)("img",{src:null===(c=x(p+1))||void 0===c?void 0:c.poster,alt:null===(u=x(p+1))||void 0===u?void 0:u.title,className:"movie-card-img-side",width:"500",height:"750"}),(0,Ly.jsx)("div",{style:{color:"#fff",fontWeight:500,fontSize:"1rem"},children:null===(h=x(p+1))||void 0===h?void 0:h.title})]})]})]})};function qy(e,t){if(t.has(e))throw new TypeError("Cannot initialize the same private elements twice on an object")}function Xy(e,t){qy(e,t),t.add(e)}function Yy(e,t,n){qy(e,t),t.set(e,n)}function Jy(e,t,n){if("function"==typeof e?e===t:e.has(t))return arguments.length<3?t:n;throw new TypeError("Private element is not present on this object")}function Zy(e,t){return e.get(Jy(e,t))}function Ky(e,t,n){return e.set(Jy(e,t),n),n}var Qy=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(e){return this.listeners.add(e),this.onSubscribe(),()=>{this.listeners.delete(e),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},$y="undefined"===typeof window||"Deno"in globalThis;function ex(){}function tx(e){return"number"===typeof e&&e>=0&&e!==1/0}function nx(e,t){return Math.max(e+(t||0)-Date.now(),0)}function ix(e,t){return"function"===typeof e?e(t):e}function rx(e,t){return"function"===typeof e?e(t):e}function ox(e,t){const{type:n="all",exact:i,fetchStatus:r,predicate:o,queryKey:s,stale:a}=e;if(s)if(i){if(t.queryHash!==ax(s,t.options))return!1}else if(!cx(t.queryKey,s))return!1;if("all"!==n){const e=t.isActive();if("active"===n&&!e)return!1;if("inactive"===n&&e)return!1}return("boolean"!==typeof a||t.isStale()===a)&&((!r||r===t.state.fetchStatus)&&!(o&&!o(t)))}function sx(e,t){const{exact:n,status:i,predicate:r,mutationKey:o}=e;if(o){if(!t.options.mutationKey)return!1;if(n){if(lx(t.options.mutationKey)!==lx(o))return!1}else if(!cx(t.options.mutationKey,o))return!1}return(!i||t.state.status===i)&&!(r&&!r(t))}function ax(e,t){return((null===t||void 0===t?void 0:t.queryKeyHashFn)||lx)(e)}function lx(e){return JSON.stringify(e,((e,t)=>px(t)?Object.keys(t).sort().reduce(((e,n)=>(e[n]=t[n],e)),{}):t))}function cx(e,t){return e===t||typeof e===typeof t&&(!(!e||!t||"object"!==typeof e||"object"!==typeof t)&&Object.keys(t).every((n=>cx(e[n],t[n]))))}function ux(e,t){if(e===t)return e;const n=dx(e)&&dx(t);if(n||px(e)&&px(t)){const i=n?e:Object.keys(e),r=i.length,o=n?t:Object.keys(t),s=o.length,a=n?[]:{},l=new Set(i);let c=0;for(let u=0;u<s;u++){const i=n?u:o[u];(!n&&l.has(i)||n)&&void 0===e[i]&&void 0===t[i]?(a[i]=void 0,c++):(a[i]=ux(e[i],t[i]),a[i]===e[i]&&void 0!==e[i]&&c++)}return r===s&&c===r?e:a}return t}function hx(e,t){if(!t||Object.keys(e).length!==Object.keys(t).length)return!1;for(const n in e)if(e[n]!==t[n])return!1;return!0}function dx(e){return Array.isArray(e)&&e.length===Object.keys(e).length}function px(e){if(!fx(e))return!1;const t=e.constructor;if(void 0===t)return!0;const n=t.prototype;return!!fx(n)&&(!!n.hasOwnProperty("isPrototypeOf")&&Object.getPrototypeOf(e)===Object.prototype)}function fx(e){return"[object Object]"===Object.prototype.toString.call(e)}function mx(e,t,n){return"function"===typeof n.structuralSharing?n.structuralSharing(e,t):!1!==n.structuralSharing?ux(e,t):t}function gx(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;const i=[...e,t];return n&&i.length>n?i.slice(1):i}function vx(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;const i=[t,...e];return n&&i.length>n?i.slice(0,-1):i}var yx,xx,bx,wx=Symbol();function _x(e,t){return!e.queryFn&&null!==t&&void 0!==t&&t.initialPromise?()=>t.initialPromise:e.queryFn&&e.queryFn!==wx?e.queryFn:()=>Promise.reject(new Error("Missing queryFn: '".concat(e.queryHash,"'")))}var Sx=new(yx=new WeakMap,xx=new WeakMap,bx=new WeakMap,class extends Qy{constructor(){super(),Yy(this,yx,void 0),Yy(this,xx,void 0),Yy(this,bx,void 0),Ky(bx,this,(e=>{if(!$y&&window.addEventListener){const t=()=>e();return window.addEventListener("visibilitychange",t,!1),()=>{window.removeEventListener("visibilitychange",t)}}}))}onSubscribe(){Zy(xx,this)||this.setEventListener(Zy(bx,this))}onUnsubscribe(){var e;this.hasListeners()||(null===(e=Zy(xx,this))||void 0===e||e.call(this),Ky(xx,this,void 0))}setEventListener(e){var t;Ky(bx,this,e),null===(t=Zy(xx,this))||void 0===t||t.call(this),Ky(xx,this,e((e=>{"boolean"===typeof e?this.setFocused(e):this.onFocus()})))}setFocused(e){Zy(yx,this)!==e&&(Ky(yx,this,e),this.onFocus())}onFocus(){const e=this.isFocused();this.listeners.forEach((t=>{t(e)}))}isFocused(){var e;return"boolean"===typeof Zy(yx,this)?Zy(yx,this):"hidden"!==(null===(e=globalThis.document)||void 0===e?void 0:e.visibilityState)}}),Mx=e=>setTimeout(e,0);var Ex,Tx,Ax,Cx=function(){let e=[],t=0,n=e=>{e()},i=e=>{e()},r=Mx;const o=i=>{t?e.push(i):r((()=>{n(i)}))};return{batch:o=>{let s;t++;try{s=o()}finally{t--,t||(()=>{const t=e;e=[],t.length&&r((()=>{i((()=>{t.forEach((e=>{n(e)}))}))}))})()}return s},batchCalls:e=>function(){for(var t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];o((()=>{e(...n)}))},schedule:o,setNotifyFunction:e=>{n=e},setBatchNotifyFunction:e=>{i=e},setScheduler:e=>{r=e}}}(),Rx=new(Ex=new WeakMap,Tx=new WeakMap,Ax=new WeakMap,class extends Qy{constructor(){super(),Yy(this,Ex,!0),Yy(this,Tx,void 0),Yy(this,Ax,void 0),Ky(Ax,this,(e=>{if(!$y&&window.addEventListener){const t=()=>e(!0),n=()=>e(!1);return window.addEventListener("online",t,!1),window.addEventListener("offline",n,!1),()=>{window.removeEventListener("online",t),window.removeEventListener("offline",n)}}}))}onSubscribe(){Zy(Tx,this)||this.setEventListener(Zy(Ax,this))}onUnsubscribe(){var e;this.hasListeners()||(null===(e=Zy(Tx,this))||void 0===e||e.call(this),Ky(Tx,this,void 0))}setEventListener(e){var t;Ky(Ax,this,e),null===(t=Zy(Tx,this))||void 0===t||t.call(this),Ky(Tx,this,e(this.setOnline.bind(this)))}setOnline(e){Zy(Ex,this)!==e&&(Ky(Ex,this,e),this.listeners.forEach((t=>{t(e)})))}isOnline(){return Zy(Ex,this)}});function Lx(){let e,t;const n=new Promise(((n,i)=>{e=n,t=i}));function i(e){Object.assign(n,e),delete n.resolve,delete n.reject}return n.status="pending",n.catch((()=>{})),n.resolve=t=>{i({status:"fulfilled",value:t}),e(t)},n.reject=e=>{i({status:"rejected",reason:e}),t(e)},n}function Px(e){return Math.min(1e3*2**e,3e4)}function Nx(e){return"online"!==(null!==e&&void 0!==e?e:"online")||Rx.isOnline()}var kx,Ox=class extends Error{constructor(e){super("CancelledError"),this.revert=null===e||void 0===e?void 0:e.revert,this.silent=null===e||void 0===e?void 0:e.silent}};function Dx(e){return e instanceof Ox}function jx(e){let t,n=!1,i=0,r=!1;const o=Lx(),s=()=>Sx.isFocused()&&("always"===e.networkMode||Rx.isOnline())&&e.canRun(),a=()=>Nx(e.networkMode)&&e.canRun(),l=n=>{var i,s;r||(r=!0,null===(i=e.onSuccess)||void 0===i||i.call(e,n),null===(s=t)||void 0===s||s(),o.resolve(n))},c=n=>{var i,s;r||(r=!0,null===(i=e.onError)||void 0===i||i.call(e,n),null===(s=t)||void 0===s||s(),o.reject(n))},u=()=>new Promise((n=>{var i;t=e=>{(r||s())&&n(e)},null===(i=e.onPause)||void 0===i||i.call(e)})).then((()=>{var n;(t=void 0,r)||(null===(n=e.onContinue)||void 0===n||n.call(e))})),h=()=>{if(r)return;let t;const o=0===i?e.initialPromise:void 0;try{t=null!==o&&void 0!==o?o:e.fn()}catch(a){t=Promise.reject(a)}Promise.resolve(t).then(l).catch((t=>{var o,a,l;if(r)return;const d=null!==(o=e.retry)&&void 0!==o?o:$y?0:3,p=null!==(a=e.retryDelay)&&void 0!==a?a:Px,f="function"===typeof p?p(i,t):p,m=!0===d||"number"===typeof d&&i<d||"function"===typeof d&&d(i,t);var g;!n&&m?(i++,null===(l=e.onFail)||void 0===l||l.call(e,i,t),(g=f,new Promise((e=>{setTimeout(e,g)}))).then((()=>s()?void 0:u())).then((()=>{n?c(t):h()}))):c(t)}))};return{promise:o,cancel:t=>{var n;r||(c(new Ox(t)),null===(n=e.abort)||void 0===n||n.call(e))},continue:()=>{var e;return null===(e=t)||void 0===e||e(),o},cancelRetry:()=>{n=!0},continueRetry:()=>{n=!1},canStart:a,start:()=>(a()?h():u().then(h),o)}}var Fx,Ix,zx,Bx,Ux,Hx,Gx,Vx,Wx,qx,Xx,Yx,Jx,Zx,Kx,Qx,$x,eb,tb,nb,ib,rb,ob,sb,ab=(kx=new WeakMap,class{constructor(){Yy(this,kx,void 0)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),tx(this.gcTime)&&Ky(kx,this,setTimeout((()=>{this.optionalRemove()}),this.gcTime))}updateGcTime(e){this.gcTime=Math.max(this.gcTime||0,null!==e&&void 0!==e?e:$y?1/0:3e5)}clearGcTimeout(){Zy(kx,this)&&(clearTimeout(Zy(kx,this)),Ky(kx,this,void 0))}}),lb=(Fx=new WeakMap,Ix=new WeakMap,zx=new WeakMap,Bx=new WeakMap,Ux=new WeakMap,Hx=new WeakMap,Gx=new WeakMap,Vx=new WeakSet,class extends ab{constructor(e){var t;super(),Xy(this,Vx),Yy(this,Fx,void 0),Yy(this,Ix,void 0),Yy(this,zx,void 0),Yy(this,Bx,void 0),Yy(this,Ux,void 0),Yy(this,Hx,void 0),Yy(this,Gx,void 0),Ky(Gx,this,!1),Ky(Hx,this,e.defaultOptions),this.setOptions(e.options),this.observers=[],Ky(Bx,this,e.client),Ky(zx,this,Zy(Bx,this).getQueryCache()),this.queryKey=e.queryKey,this.queryHash=e.queryHash,Ky(Fx,this,function(e){const t="function"===typeof e.initialData?e.initialData():e.initialData,n=void 0!==t,i=n?"function"===typeof e.initialDataUpdatedAt?e.initialDataUpdatedAt():e.initialDataUpdatedAt:0;return{data:t,dataUpdateCount:0,dataUpdatedAt:n?null!==i&&void 0!==i?i:Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:n?"success":"pending",fetchStatus:"idle"}}(this.options)),this.state=null!==(t=e.state)&&void 0!==t?t:Zy(Fx,this),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var e;return null===(e=Zy(Ux,this))||void 0===e?void 0:e.promise}setOptions(e){this.options=u(u({},Zy(Hx,this)),e),this.updateGcTime(this.options.gcTime)}optionalRemove(){this.observers.length||"idle"!==this.state.fetchStatus||Zy(zx,this).remove(this)}setData(e,t){const n=mx(this.state.data,e,this.options);return Jy(Vx,this,cb).call(this,{data:n,type:"success",dataUpdatedAt:null===t||void 0===t?void 0:t.updatedAt,manual:null===t||void 0===t?void 0:t.manual}),n}setState(e,t){Jy(Vx,this,cb).call(this,{type:"setState",state:e,setStateOptions:t})}cancel(e){var t,n;const i=null===(t=Zy(Ux,this))||void 0===t?void 0:t.promise;return null===(n=Zy(Ux,this))||void 0===n||n.cancel(e),i?i.then(ex).catch(ex):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(Zy(Fx,this))}isActive(){return this.observers.some((e=>!1!==rx(e.options.enabled,this)))}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===wx||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0&&this.observers.some((e=>"static"===ix(e.options.staleTime,this)))}isStale(){return this.getObserversCount()>0?this.observers.some((e=>e.getCurrentResult().isStale)):void 0===this.state.data||this.state.isInvalidated}isStaleByTime(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return void 0===this.state.data||"static"!==e&&(!!this.state.isInvalidated||!nx(this.state.dataUpdatedAt,e))}onFocus(){var e;const t=this.observers.find((e=>e.shouldFetchOnWindowFocus()));null===t||void 0===t||t.refetch({cancelRefetch:!1}),null===(e=Zy(Ux,this))||void 0===e||e.continue()}onOnline(){var e;const t=this.observers.find((e=>e.shouldFetchOnReconnect()));null===t||void 0===t||t.refetch({cancelRefetch:!1}),null===(e=Zy(Ux,this))||void 0===e||e.continue()}addObserver(e){this.observers.includes(e)||(this.observers.push(e),this.clearGcTimeout(),Zy(zx,this).notify({type:"observerAdded",query:this,observer:e}))}removeObserver(e){this.observers.includes(e)&&(this.observers=this.observers.filter((t=>t!==e)),this.observers.length||(Zy(Ux,this)&&(Zy(Gx,this)?Zy(Ux,this).cancel({revert:!0}):Zy(Ux,this).cancelRetry()),this.scheduleGc()),Zy(zx,this).notify({type:"observerRemoved",query:this,observer:e}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||Jy(Vx,this,cb).call(this,{type:"invalidate"})}fetch(e,t){var n,i;if("idle"!==this.state.fetchStatus)if(void 0!==this.state.data&&null!==t&&void 0!==t&&t.cancelRefetch)this.cancel({silent:!0});else if(Zy(Ux,this))return Zy(Ux,this).continueRetry(),Zy(Ux,this).promise;if(e&&this.setOptions(e),!this.options.queryFn){const e=this.observers.find((e=>e.options.queryFn));e&&this.setOptions(e.options)}const r=new AbortController,o=e=>{Object.defineProperty(e,"signal",{enumerable:!0,get:()=>(Ky(Gx,this,!0),r.signal)})},s=()=>{const e=_x(this.options,t),n=(()=>{const e={client:Zy(Bx,this),queryKey:this.queryKey,meta:this.meta};return o(e),e})();return Ky(Gx,this,!1),this.options.persister?this.options.persister(e,n,this):e(n)},a=(()=>{const e={fetchOptions:t,options:this.options,queryKey:this.queryKey,client:Zy(Bx,this),state:this.state,fetchFn:s};return o(e),e})();var l;(null===(n=this.options.behavior)||void 0===n||n.onFetch(a,this),Ky(Ix,this,this.state),"idle"===this.state.fetchStatus||this.state.fetchMeta!==(null===(i=a.fetchOptions)||void 0===i?void 0:i.meta))&&Jy(Vx,this,cb).call(this,{type:"fetch",meta:null===(l=a.fetchOptions)||void 0===l?void 0:l.meta});const c=e=>{var t,n,i,r;(Dx(e)&&e.silent||Jy(Vx,this,cb).call(this,{type:"error",error:e}),Dx(e))||(null===(t=(n=Zy(zx,this).config).onError)||void 0===t||t.call(n,e,this),null===(i=(r=Zy(zx,this).config).onSettled)||void 0===i||i.call(r,this.state.data,e,this));this.scheduleGc()};return Ky(Ux,this,jx({initialPromise:null===t||void 0===t?void 0:t.initialPromise,fn:a.fetchFn,abort:r.abort.bind(r),onSuccess:e=>{var t,n,i,r;if(void 0!==e){try{this.setData(e)}catch(o){return void c(o)}null===(t=(n=Zy(zx,this).config).onSuccess)||void 0===t||t.call(n,e,this),null===(i=(r=Zy(zx,this).config).onSettled)||void 0===i||i.call(r,e,this.state.error,this),this.scheduleGc()}else c(new Error("".concat(this.queryHash," data is undefined")))},onError:c,onFail:(e,t)=>{Jy(Vx,this,cb).call(this,{type:"failed",failureCount:e,error:t})},onPause:()=>{Jy(Vx,this,cb).call(this,{type:"pause"})},onContinue:()=>{Jy(Vx,this,cb).call(this,{type:"continue"})},retry:a.options.retry,retryDelay:a.options.retryDelay,networkMode:a.options.networkMode,canRun:()=>!0})),Zy(Ux,this).start()}});function cb(e){this.state=(t=>{var n,i;switch(e.type){case"failed":return u(u({},t),{},{fetchFailureCount:e.failureCount,fetchFailureReason:e.error});case"pause":return u(u({},t),{},{fetchStatus:"paused"});case"continue":return u(u({},t),{},{fetchStatus:"fetching"});case"fetch":return u(u(u({},t),ub(t.data,this.options)),{},{fetchMeta:null!==(n=e.meta)&&void 0!==n?n:null});case"success":return Ky(Ix,this,void 0),u(u({},t),{},{data:e.data,dataUpdateCount:t.dataUpdateCount+1,dataUpdatedAt:null!==(i=e.dataUpdatedAt)&&void 0!==i?i:Date.now(),error:null,isInvalidated:!1,status:"success"},!e.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null});case"error":const r=e.error;return Dx(r)&&r.revert&&Zy(Ix,this)?u(u({},Zy(Ix,this)),{},{fetchStatus:"idle"}):u(u({},t),{},{error:r,errorUpdateCount:t.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:t.fetchFailureCount+1,fetchFailureReason:r,fetchStatus:"idle",status:"error"});case"invalidate":return u(u({},t),{},{isInvalidated:!0});case"setState":return u(u({},t),e.state)}})(this.state),Cx.batch((()=>{this.observers.forEach((e=>{e.onQueryUpdate()})),Zy(zx,this).notify({query:this,type:"updated",action:e})}))}function ub(e,t){return u({fetchFailureCount:0,fetchFailureReason:null,fetchStatus:Nx(t.networkMode)?"fetching":"paused"},void 0===e&&{error:null,status:"pending"})}var hb=(Wx=new WeakMap,qx=new WeakMap,Xx=new WeakMap,Yx=new WeakMap,Jx=new WeakMap,Zx=new WeakMap,Kx=new WeakMap,Qx=new WeakMap,$x=new WeakMap,eb=new WeakMap,tb=new WeakMap,nb=new WeakMap,ib=new WeakMap,rb=new WeakMap,ob=new WeakMap,sb=new WeakSet,class extends Qy{constructor(e,t){super(),Xy(this,sb),Yy(this,Wx,void 0),Yy(this,qx,void 0),Yy(this,Xx,void 0),Yy(this,Yx,void 0),Yy(this,Jx,void 0),Yy(this,Zx,void 0),Yy(this,Kx,void 0),Yy(this,Qx,void 0),Yy(this,$x,void 0),Yy(this,eb,void 0),Yy(this,tb,void 0),Yy(this,nb,void 0),Yy(this,ib,void 0),Yy(this,rb,void 0),Yy(this,ob,new Set),this.options=t,Ky(Wx,this,e),Ky(Qx,this,null),Ky(Kx,this,Lx()),this.options.experimental_prefetchInRender||Zy(Kx,this).reject(new Error("experimental_prefetchInRender feature flag is not enabled")),this.bindMethods(),this.setOptions(t)}bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){1===this.listeners.size&&(Zy(qx,this).addObserver(this),wb(Zy(qx,this),this.options)?Jy(sb,this,db).call(this):this.updateResult(),Jy(sb,this,gb).call(this))}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return _b(Zy(qx,this),this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return _b(Zy(qx,this),this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,Jy(sb,this,vb).call(this),Jy(sb,this,yb).call(this),Zy(qx,this).removeObserver(this)}setOptions(e){const t=this.options,n=Zy(qx,this);if(this.options=Zy(Wx,this).defaultQueryOptions(e),void 0!==this.options.enabled&&"boolean"!==typeof this.options.enabled&&"function"!==typeof this.options.enabled&&"boolean"!==typeof rx(this.options.enabled,Zy(qx,this)))throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");Jy(sb,this,xb).call(this),Zy(qx,this).setOptions(this.options),t._defaulted&&!hx(this.options,t)&&Zy(Wx,this).getQueryCache().notify({type:"observerOptionsUpdated",query:Zy(qx,this),observer:this});const i=this.hasListeners();i&&Sb(Zy(qx,this),n,this.options,t)&&Jy(sb,this,db).call(this),this.updateResult(),!i||Zy(qx,this)===n&&rx(this.options.enabled,Zy(qx,this))===rx(t.enabled,Zy(qx,this))&&ix(this.options.staleTime,Zy(qx,this))===ix(t.staleTime,Zy(qx,this))||Jy(sb,this,pb).call(this);const r=Jy(sb,this,fb).call(this);!i||Zy(qx,this)===n&&rx(this.options.enabled,Zy(qx,this))===rx(t.enabled,Zy(qx,this))&&r===Zy(rb,this)||Jy(sb,this,mb).call(this,r)}getOptimisticResult(e){const t=Zy(Wx,this).getQueryCache().build(Zy(Wx,this),e),n=this.createResult(t,e);return function(e,t){if(!hx(e.getCurrentResult(),t))return!0;return!1}(this,n)&&(Ky(Yx,this,n),Ky(Zx,this,this.options),Ky(Jx,this,Zy(qx,this).state)),n}getCurrentResult(){return Zy(Yx,this)}trackResult(e,t){return new Proxy(e,{get:(e,n)=>(this.trackProp(n),null===t||void 0===t||t(n),Reflect.get(e,n))})}trackProp(e){Zy(ob,this).add(e)}getCurrentQuery(){return Zy(qx,this)}refetch(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=Object.assign({},(function(e){if(null==e)throw new TypeError("Cannot destructure "+e)}(e),e));return this.fetch(u({},t))}fetchOptimistic(e){const t=Zy(Wx,this).defaultQueryOptions(e),n=Zy(Wx,this).getQueryCache().build(Zy(Wx,this),t);return n.fetch().then((()=>this.createResult(n,t)))}fetch(e){var t;return Jy(sb,this,db).call(this,u(u({},e),{},{cancelRefetch:null===(t=e.cancelRefetch)||void 0===t||t})).then((()=>(this.updateResult(),Zy(Yx,this))))}createResult(e,t){const n=Zy(qx,this),i=this.options,r=Zy(Yx,this),o=Zy(Jx,this),s=Zy(Zx,this),a=e!==n?e.state:Zy(Xx,this),{state:l}=e;let c,h=u({},l),d=!1;if(t._optimisticResults){const r=this.hasListeners(),o=!r&&wb(e,t),s=r&&Sb(e,n,t,i);(o||s)&&(h=u(u({},h),ub(l.data,e.options))),"isRestoring"===t._optimisticResults&&(h.fetchStatus="idle")}let{error:p,errorUpdatedAt:f,status:m}=h;c=h.data;let g=!1;if(void 0!==t.placeholderData&&void 0===c&&"pending"===m){let e;var v;if(null!==r&&void 0!==r&&r.isPlaceholderData&&t.placeholderData===(null===s||void 0===s?void 0:s.placeholderData))e=r.data,g=!0;else e="function"===typeof t.placeholderData?t.placeholderData(null===(v=Zy(tb,this))||void 0===v?void 0:v.state.data,Zy(tb,this)):t.placeholderData;void 0!==e&&(m="success",c=mx(null===r||void 0===r?void 0:r.data,e,t),d=!0)}if(t.select&&void 0!==c&&!g)if(r&&c===(null===o||void 0===o?void 0:o.data)&&t.select===Zy($x,this))c=Zy(eb,this);else try{Ky($x,this,t.select),c=t.select(c),c=mx(null===r||void 0===r?void 0:r.data,c,t),Ky(eb,this,c),Ky(Qx,this,null)}catch(M){Ky(Qx,this,M)}Zy(Qx,this)&&(p=Zy(Qx,this),c=Zy(eb,this),f=Date.now(),m="error");const y="fetching"===h.fetchStatus,x="pending"===m,b="error"===m,w=x&&y,_=void 0!==c,S={status:m,fetchStatus:h.fetchStatus,isPending:x,isSuccess:"success"===m,isError:b,isInitialLoading:w,isLoading:w,data:c,dataUpdatedAt:h.dataUpdatedAt,error:p,errorUpdatedAt:f,failureCount:h.fetchFailureCount,failureReason:h.fetchFailureReason,errorUpdateCount:h.errorUpdateCount,isFetched:h.dataUpdateCount>0||h.errorUpdateCount>0,isFetchedAfterMount:h.dataUpdateCount>a.dataUpdateCount||h.errorUpdateCount>a.errorUpdateCount,isFetching:y,isRefetching:y&&!x,isLoadingError:b&&!_,isPaused:"paused"===h.fetchStatus,isPlaceholderData:d,isRefetchError:b&&_,isStale:Mb(e,t),refetch:this.refetch,promise:Zy(Kx,this),isEnabled:!1!==rx(t.enabled,e)};if(this.options.experimental_prefetchInRender){const t=e=>{"error"===S.status?e.reject(S.error):void 0!==S.data&&e.resolve(S.data)},i=()=>{const e=Ky(Kx,this,S.promise=Lx());t(e)},r=Zy(Kx,this);switch(r.status){case"pending":e.queryHash===n.queryHash&&t(r);break;case"fulfilled":"error"!==S.status&&S.data===r.value||i();break;case"rejected":"error"===S.status&&S.error===r.reason||i()}}return S}updateResult(){const e=Zy(Yx,this),t=this.createResult(Zy(qx,this),this.options);if(Ky(Jx,this,Zy(qx,this).state),Ky(Zx,this,this.options),void 0!==Zy(Jx,this).data&&Ky(tb,this,Zy(qx,this)),hx(t,e))return;Ky(Yx,this,t);Jy(sb,this,bb).call(this,{listeners:(()=>{if(!e)return!0;const{notifyOnChangeProps:t}=this.options,n="function"===typeof t?t():t;if("all"===n||!n&&!Zy(ob,this).size)return!0;const i=new Set(null!==n&&void 0!==n?n:Zy(ob,this));return this.options.throwOnError&&i.add("error"),Object.keys(Zy(Yx,this)).some((t=>{const n=t;return Zy(Yx,this)[n]!==e[n]&&i.has(n)}))})()})}onQueryUpdate(){this.updateResult(),this.hasListeners()&&Jy(sb,this,gb).call(this)}});function db(e){Jy(sb,this,xb).call(this);let t=Zy(qx,this).fetch(this.options,e);return null!==e&&void 0!==e&&e.throwOnError||(t=t.catch(ex)),t}function pb(){Jy(sb,this,vb).call(this);const e=ix(this.options.staleTime,Zy(qx,this));if($y||Zy(Yx,this).isStale||!tx(e))return;const t=nx(Zy(Yx,this).dataUpdatedAt,e);Ky(nb,this,setTimeout((()=>{Zy(Yx,this).isStale||this.updateResult()}),t+1))}function fb(){var e;return null!==(e="function"===typeof this.options.refetchInterval?this.options.refetchInterval(Zy(qx,this)):this.options.refetchInterval)&&void 0!==e&&e}function mb(e){Jy(sb,this,yb).call(this),Ky(rb,this,e),!$y&&!1!==rx(this.options.enabled,Zy(qx,this))&&tx(Zy(rb,this))&&0!==Zy(rb,this)&&Ky(ib,this,setInterval((()=>{(this.options.refetchIntervalInBackground||Sx.isFocused())&&Jy(sb,this,db).call(this)}),Zy(rb,this)))}function gb(){Jy(sb,this,pb).call(this),Jy(sb,this,mb).call(this,Jy(sb,this,fb).call(this))}function vb(){Zy(nb,this)&&(clearTimeout(Zy(nb,this)),Ky(nb,this,void 0))}function yb(){Zy(ib,this)&&(clearInterval(Zy(ib,this)),Ky(ib,this,void 0))}function xb(){const e=Zy(Wx,this).getQueryCache().build(Zy(Wx,this),this.options);if(e===Zy(qx,this))return;const t=Zy(qx,this);Ky(qx,this,e),Ky(Xx,this,e.state),this.hasListeners()&&(null===t||void 0===t||t.removeObserver(this),e.addObserver(this))}function bb(e){Cx.batch((()=>{e.listeners&&this.listeners.forEach((e=>{e(Zy(Yx,this))})),Zy(Wx,this).getQueryCache().notify({query:Zy(qx,this),type:"observerResultsUpdated"})}))}function wb(e,t){return function(e,t){return!1!==rx(t.enabled,e)&&void 0===e.state.data&&!("error"===e.state.status&&!1===t.retryOnMount)}(e,t)||void 0!==e.state.data&&_b(e,t,t.refetchOnMount)}function _b(e,t,n){if(!1!==rx(t.enabled,e)&&"static"!==ix(t.staleTime,e)){const i="function"===typeof n?n(e):n;return"always"===i||!1!==i&&Mb(e,t)}return!1}function Sb(e,t,n,i){return(e!==t||!1===rx(i.enabled,e))&&(!n.suspense||"error"!==e.state.status)&&Mb(e,n)}function Mb(e,t){return!1!==rx(t.enabled,e)&&e.isStaleByTime(ix(t.staleTime,e))}var Eb=i.createContext(void 0),Tb=e=>{let{client:t,children:n}=e;return i.useEffect((()=>(t.mount(),()=>{t.unmount()})),[t]),(0,Ly.jsx)(Eb.Provider,{value:t,children:n})};function Ab(){let e=!1;return{clearReset:()=>{e=!1},reset:()=>{e=!0},isReset:()=>e}}var Cb=i.createContext(Ab()),Rb=i.createContext(!1),Lb=(Rb.Provider,(e,t,n)=>t.fetchOptimistic(e).catch((()=>{n.clearReset()})));function Pb(e,t,n){var r,o,s,a;const l=i.useContext(Rb),c=i.useContext(Cb),u=(e=>{const t=i.useContext(Eb);if(e)return e;if(!t)throw new Error("No QueryClient set, use QueryClientProvider to set one");return t})(n),h=u.defaultQueryOptions(e);null===(r=u.getDefaultOptions().queries)||void 0===r||null===(o=r._experimental_beforeQuery)||void 0===o||o.call(r,h),h._optimisticResults=l?"isRestoring":"optimistic",(e=>{if(e.suspense){const t=e=>"static"===e?e:Math.max(null!==e&&void 0!==e?e:1e3,1e3),n=e.staleTime;e.staleTime="function"===typeof n?function(){return t(n(...arguments))}:t(n),"number"===typeof e.gcTime&&(e.gcTime=Math.max(e.gcTime,1e3))}})(h),((e,t)=>{(e.suspense||e.throwOnError||e.experimental_prefetchInRender)&&(t.isReset()||(e.retryOnMount=!1))})(h,c),(e=>{i.useEffect((()=>{e.clearReset()}),[e])})(c);const d=!u.getQueryCache().get(h.queryHash),[p]=i.useState((()=>new t(u,h))),f=p.getOptimisticResult(h),m=!l&&!1!==e.subscribed;if(i.useSyncExternalStore(i.useCallback((e=>{const t=m?p.subscribe(Cx.batchCalls(e)):ex;return p.updateResult(),t}),[p,m]),(()=>p.getCurrentResult()),(()=>p.getCurrentResult())),i.useEffect((()=>{p.setOptions(h)}),[h,p]),((e,t)=>(null===e||void 0===e?void 0:e.suspense)&&t.isPending)(h,f))throw Lb(h,p,c);if((e=>{let{result:t,errorResetBoundary:n,throwOnError:i,query:r,suspense:o}=e;return t.isError&&!n.isReset()&&!t.isFetching&&r&&(o&&void 0===t.data||function(e,t){return"function"===typeof e?e(...t):!!e}(i,[t.error,r]))})({result:f,errorResetBoundary:c,throwOnError:h.throwOnError,query:u.getQueryCache().get(h.queryHash),suspense:h.suspense}))throw f.error;if(null===(s=u.getDefaultOptions().queries)||void 0===s||null===(a=s._experimental_afterQuery)||void 0===a||a.call(s,h,f),h.experimental_prefetchInRender&&!$y&&((e,t)=>e.isLoading&&e.isFetching&&!t)(f,l)){var g;const e=d?Lb(h,p,c):null===(g=u.getQueryCache().get(h.queryHash))||void 0===g?void 0:g.promise;null===e||void 0===e||e.catch(ex).finally((()=>{p.updateResult()}))}return h.notifyOnChangeProps?f:p.trackResult(f)}function Nb(e,t){return function(){return e.apply(t,arguments)}}const{toString:kb}=Object.prototype,{getPrototypeOf:Ob}=Object,{iterator:Db,toStringTag:jb}=Symbol,Fb=(Ib=Object.create(null),e=>{const t=kb.call(e);return Ib[t]||(Ib[t]=t.slice(8,-1).toLowerCase())});var Ib;const zb=e=>(e=e.toLowerCase(),t=>Fb(t)===e),Bb=e=>t=>typeof t===e,{isArray:Ub}=Array,Hb=Bb("undefined");const Gb=zb("ArrayBuffer");const Vb=Bb("string"),Wb=Bb("function"),qb=Bb("number"),Xb=e=>null!==e&&"object"===typeof e,Yb=e=>{if("object"!==Fb(e))return!1;const t=Ob(e);return(null===t||t===Object.prototype||null===Object.getPrototypeOf(t))&&!(jb in e)&&!(Db in e)},Jb=zb("Date"),Zb=zb("File"),Kb=zb("Blob"),Qb=zb("FileList"),$b=zb("URLSearchParams"),[ew,tw,nw,iw]=["ReadableStream","Request","Response","Headers"].map(zb);function rw(e,t){let n,i,{allOwnKeys:r=!1}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(null!==e&&"undefined"!==typeof e)if("object"!==typeof e&&(e=[e]),Ub(e))for(n=0,i=e.length;n<i;n++)t.call(null,e[n],n,e);else{const i=r?Object.getOwnPropertyNames(e):Object.keys(e),o=i.length;let s;for(n=0;n<o;n++)s=i[n],t.call(null,e[s],s,e)}}function ow(e,t){t=t.toLowerCase();const n=Object.keys(e);let i,r=n.length;for(;r-- >0;)if(i=n[r],t===i.toLowerCase())return i;return null}const sw="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof self?self:"undefined"!==typeof window?window:global,aw=e=>!Hb(e)&&e!==sw;const lw=(cw="undefined"!==typeof Uint8Array&&Ob(Uint8Array),e=>cw&&e instanceof cw);var cw;const uw=zb("HTMLFormElement"),hw=(e=>{let{hasOwnProperty:t}=e;return(e,n)=>t.call(e,n)})(Object.prototype),dw=zb("RegExp"),pw=(e,t)=>{const n=Object.getOwnPropertyDescriptors(e),i={};rw(n,((n,r)=>{let o;!1!==(o=t(n,r,e))&&(i[r]=o||n)})),Object.defineProperties(e,i)};const fw=zb("AsyncFunction"),mw=((e,t)=>{return e?setImmediate:t?(n="axios@".concat(Math.random()),i=[],sw.addEventListener("message",(e=>{let{source:t,data:r}=e;t===sw&&r===n&&i.length&&i.shift()()}),!1),e=>{i.push(e),sw.postMessage(n,"*")}):e=>setTimeout(e);var n,i})("function"===typeof setImmediate,Wb(sw.postMessage)),gw="undefined"!==typeof queueMicrotask?queueMicrotask.bind(sw):"undefined"!==typeof process&&process.nextTick||mw,vw={isArray:Ub,isArrayBuffer:Gb,isBuffer:function(e){return null!==e&&!Hb(e)&&null!==e.constructor&&!Hb(e.constructor)&&Wb(e.constructor.isBuffer)&&e.constructor.isBuffer(e)},isFormData:e=>{let t;return e&&("function"===typeof FormData&&e instanceof FormData||Wb(e.append)&&("formdata"===(t=Fb(e))||"object"===t&&Wb(e.toString)&&"[object FormData]"===e.toString()))},isArrayBufferView:function(e){let t;return t="undefined"!==typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(e):e&&e.buffer&&Gb(e.buffer),t},isString:Vb,isNumber:qb,isBoolean:e=>!0===e||!1===e,isObject:Xb,isPlainObject:Yb,isReadableStream:ew,isRequest:tw,isResponse:nw,isHeaders:iw,isUndefined:Hb,isDate:Jb,isFile:Zb,isBlob:Kb,isRegExp:dw,isFunction:Wb,isStream:e=>Xb(e)&&Wb(e.pipe),isURLSearchParams:$b,isTypedArray:lw,isFileList:Qb,forEach:rw,merge:function e(){const{caseless:t}=aw(this)&&this||{},n={},i=(i,r)=>{const o=t&&ow(n,r)||r;Yb(n[o])&&Yb(i)?n[o]=e(n[o],i):Yb(i)?n[o]=e({},i):Ub(i)?n[o]=i.slice():n[o]=i};for(let r=0,o=arguments.length;r<o;r++)arguments[r]&&rw(arguments[r],i);return n},extend:function(e,t,n){let{allOwnKeys:i}=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return rw(t,((t,i)=>{n&&Wb(t)?e[i]=Nb(t,n):e[i]=t}),{allOwnKeys:i}),e},trim:e=>e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,""),stripBOM:e=>(65279===e.charCodeAt(0)&&(e=e.slice(1)),e),inherits:(e,t,n,i)=>{e.prototype=Object.create(t.prototype,i),e.prototype.constructor=e,Object.defineProperty(e,"super",{value:t.prototype}),n&&Object.assign(e.prototype,n)},toFlatObject:(e,t,n,i)=>{let r,o,s;const a={};if(t=t||{},null==e)return t;do{for(r=Object.getOwnPropertyNames(e),o=r.length;o-- >0;)s=r[o],i&&!i(s,e,t)||a[s]||(t[s]=e[s],a[s]=!0);e=!1!==n&&Ob(e)}while(e&&(!n||n(e,t))&&e!==Object.prototype);return t},kindOf:Fb,kindOfTest:zb,endsWith:(e,t,n)=>{e=String(e),(void 0===n||n>e.length)&&(n=e.length),n-=t.length;const i=e.indexOf(t,n);return-1!==i&&i===n},toArray:e=>{if(!e)return null;if(Ub(e))return e;let t=e.length;if(!qb(t))return null;const n=new Array(t);for(;t-- >0;)n[t]=e[t];return n},forEachEntry:(e,t)=>{const n=(e&&e[Db]).call(e);let i;for(;(i=n.next())&&!i.done;){const n=i.value;t.call(e,n[0],n[1])}},matchAll:(e,t)=>{let n;const i=[];for(;null!==(n=e.exec(t));)i.push(n);return i},isHTMLForm:uw,hasOwnProperty:hw,hasOwnProp:hw,reduceDescriptors:pw,freezeMethods:e=>{pw(e,((t,n)=>{if(Wb(e)&&-1!==["arguments","caller","callee"].indexOf(n))return!1;const i=e[n];Wb(i)&&(t.enumerable=!1,"writable"in t?t.writable=!1:t.set||(t.set=()=>{throw Error("Can not rewrite read-only method '"+n+"'")}))}))},toObjectSet:(e,t)=>{const n={},i=e=>{e.forEach((e=>{n[e]=!0}))};return Ub(e)?i(e):i(String(e).split(t)),n},toCamelCase:e=>e.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,(function(e,t,n){return t.toUpperCase()+n})),noop:()=>{},toFiniteNumber:(e,t)=>null!=e&&Number.isFinite(e=+e)?e:t,findKey:ow,global:sw,isContextDefined:aw,isSpecCompliantForm:function(e){return!!(e&&Wb(e.append)&&"FormData"===e[jb]&&e[Db])},toJSONObject:e=>{const t=new Array(10),n=(e,i)=>{if(Xb(e)){if(t.indexOf(e)>=0)return;if(!("toJSON"in e)){t[i]=e;const r=Ub(e)?[]:{};return rw(e,((e,t)=>{const o=n(e,i+1);!Hb(o)&&(r[t]=o)})),t[i]=void 0,r}}return e};return n(e,0)},isAsyncFn:fw,isThenable:e=>e&&(Xb(e)||Wb(e))&&Wb(e.then)&&Wb(e.catch),setImmediate:mw,asap:gw,isIterable:e=>null!=e&&Wb(e[Db])};function yw(e,t,n,i,r){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=(new Error).stack,this.message=e,this.name="AxiosError",t&&(this.code=t),n&&(this.config=n),i&&(this.request=i),r&&(this.response=r,this.status=r.status?r.status:null)}vw.inherits(yw,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:vw.toJSONObject(this.config),code:this.code,status:this.status}}});const xw=yw.prototype,bw={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach((e=>{bw[e]={value:e}})),Object.defineProperties(yw,bw),Object.defineProperty(xw,"isAxiosError",{value:!0}),yw.from=(e,t,n,i,r,o)=>{const s=Object.create(xw);return vw.toFlatObject(e,s,(function(e){return e!==Error.prototype}),(e=>"isAxiosError"!==e)),yw.call(s,e.message,t,n,i,r),s.cause=e,s.name=e.name,o&&Object.assign(s,o),s};const ww=yw;function _w(e){return vw.isPlainObject(e)||vw.isArray(e)}function Sw(e){return vw.endsWith(e,"[]")?e.slice(0,-2):e}function Mw(e,t,n){return e?e.concat(t).map((function(e,t){return e=Sw(e),!n&&t?"["+e+"]":e})).join(n?".":""):t}const Ew=vw.toFlatObject(vw,{},null,(function(e){return/^is[A-Z]/.test(e)}));const Tw=function(e,t,n){if(!vw.isObject(e))throw new TypeError("target must be an object");t=t||new FormData;const i=(n=vw.toFlatObject(n,{metaTokens:!0,dots:!1,indexes:!1},!1,(function(e,t){return!vw.isUndefined(t[e])}))).metaTokens,r=n.visitor||c,o=n.dots,s=n.indexes,a=(n.Blob||"undefined"!==typeof Blob&&Blob)&&vw.isSpecCompliantForm(t);if(!vw.isFunction(r))throw new TypeError("visitor must be a function");function l(e){if(null===e)return"";if(vw.isDate(e))return e.toISOString();if(vw.isBoolean(e))return e.toString();if(!a&&vw.isBlob(e))throw new ww("Blob is not supported. Use a Buffer instead.");return vw.isArrayBuffer(e)||vw.isTypedArray(e)?a&&"function"===typeof Blob?new Blob([e]):Buffer.from(e):e}function c(e,n,r){let a=e;if(e&&!r&&"object"===typeof e)if(vw.endsWith(n,"{}"))n=i?n:n.slice(0,-2),e=JSON.stringify(e);else if(vw.isArray(e)&&function(e){return vw.isArray(e)&&!e.some(_w)}(e)||(vw.isFileList(e)||vw.endsWith(n,"[]"))&&(a=vw.toArray(e)))return n=Sw(n),a.forEach((function(e,i){!vw.isUndefined(e)&&null!==e&&t.append(!0===s?Mw([n],i,o):null===s?n:n+"[]",l(e))})),!1;return!!_w(e)||(t.append(Mw(r,n,o),l(e)),!1)}const u=[],h=Object.assign(Ew,{defaultVisitor:c,convertValue:l,isVisitable:_w});if(!vw.isObject(e))throw new TypeError("data must be an object");return function e(n,i){if(!vw.isUndefined(n)){if(-1!==u.indexOf(n))throw Error("Circular reference detected in "+i.join("."));u.push(n),vw.forEach(n,(function(n,o){!0===(!(vw.isUndefined(n)||null===n)&&r.call(t,n,vw.isString(o)?o.trim():o,i,h))&&e(n,i?i.concat(o):[o])})),u.pop()}}(e),t};function Aw(e){const t={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,(function(e){return t[e]}))}function Cw(e,t){this._pairs=[],e&&Tw(e,this,t)}const Rw=Cw.prototype;Rw.append=function(e,t){this._pairs.push([e,t])},Rw.toString=function(e){const t=e?function(t){return e.call(this,t,Aw)}:Aw;return this._pairs.map((function(e){return t(e[0])+"="+t(e[1])}),"").join("&")};const Lw=Cw;function Pw(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function Nw(e,t,n){if(!t)return e;const i=n&&n.encode||Pw;vw.isFunction(n)&&(n={serialize:n});const r=n&&n.serialize;let o;if(o=r?r(t,n):vw.isURLSearchParams(t)?t.toString():new Lw(t,n).toString(i),o){const t=e.indexOf("#");-1!==t&&(e=e.slice(0,t)),e+=(-1===e.indexOf("?")?"?":"&")+o}return e}const kw=class{constructor(){this.handlers=[]}use(e,t,n){return this.handlers.push({fulfilled:e,rejected:t,synchronous:!!n&&n.synchronous,runWhen:n?n.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){vw.forEach(this.handlers,(function(t){null!==t&&e(t)}))}},Ow={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},Dw={isBrowser:!0,classes:{URLSearchParams:"undefined"!==typeof URLSearchParams?URLSearchParams:Lw,FormData:"undefined"!==typeof FormData?FormData:null,Blob:"undefined"!==typeof Blob?Blob:null},protocols:["http","https","file","blob","url","data"]},jw="undefined"!==typeof window&&"undefined"!==typeof document,Fw="object"===typeof navigator&&navigator||void 0,Iw=jw&&(!Fw||["ReactNative","NativeScript","NS"].indexOf(Fw.product)<0),zw="undefined"!==typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&"function"===typeof self.importScripts,Bw=jw&&window.location.href||"http://localhost",Uw=u(u({},t),Dw);const Hw=function(e){function t(e,n,i,r){let o=e[r++];if("__proto__"===o)return!0;const s=Number.isFinite(+o),a=r>=e.length;if(o=!o&&vw.isArray(i)?i.length:o,a)return vw.hasOwnProp(i,o)?i[o]=[i[o],n]:i[o]=n,!s;i[o]&&vw.isObject(i[o])||(i[o]=[]);return t(e,n,i[o],r)&&vw.isArray(i[o])&&(i[o]=function(e){const t={},n=Object.keys(e);let i;const r=n.length;let o;for(i=0;i<r;i++)o=n[i],t[o]=e[o];return t}(i[o])),!s}if(vw.isFormData(e)&&vw.isFunction(e.entries)){const n={};return vw.forEachEntry(e,((e,i)=>{t(function(e){return vw.matchAll(/\w+|\[(\w*)]/g,e).map((e=>"[]"===e[0]?"":e[1]||e[0]))}(e),i,n,0)})),n}return null};const Gw={transitional:Ow,adapter:["xhr","http","fetch"],transformRequest:[function(e,t){const n=t.getContentType()||"",i=n.indexOf("application/json")>-1,r=vw.isObject(e);r&&vw.isHTMLForm(e)&&(e=new FormData(e));if(vw.isFormData(e))return i?JSON.stringify(Hw(e)):e;if(vw.isArrayBuffer(e)||vw.isBuffer(e)||vw.isStream(e)||vw.isFile(e)||vw.isBlob(e)||vw.isReadableStream(e))return e;if(vw.isArrayBufferView(e))return e.buffer;if(vw.isURLSearchParams(e))return t.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let o;if(r){if(n.indexOf("application/x-www-form-urlencoded")>-1)return function(e,t){return Tw(e,new Uw.classes.URLSearchParams,Object.assign({visitor:function(e,t,n,i){return Uw.isNode&&vw.isBuffer(e)?(this.append(t,e.toString("base64")),!1):i.defaultVisitor.apply(this,arguments)}},t))}(e,this.formSerializer).toString();if((o=vw.isFileList(e))||n.indexOf("multipart/form-data")>-1){const t=this.env&&this.env.FormData;return Tw(o?{"files[]":e}:e,t&&new t,this.formSerializer)}}return r||i?(t.setContentType("application/json",!1),function(e,t,n){if(vw.isString(e))try{return(t||JSON.parse)(e),vw.trim(e)}catch(cF){if("SyntaxError"!==cF.name)throw cF}return(n||JSON.stringify)(e)}(e)):e}],transformResponse:[function(e){const t=this.transitional||Gw.transitional,n=t&&t.forcedJSONParsing,i="json"===this.responseType;if(vw.isResponse(e)||vw.isReadableStream(e))return e;if(e&&vw.isString(e)&&(n&&!this.responseType||i)){const n=!(t&&t.silentJSONParsing)&&i;try{return JSON.parse(e)}catch(cF){if(n){if("SyntaxError"===cF.name)throw ww.from(cF,ww.ERR_BAD_RESPONSE,this,null,this.response);throw cF}}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:Uw.classes.FormData,Blob:Uw.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};vw.forEach(["delete","get","head","post","put","patch"],(e=>{Gw.headers[e]={}}));const Vw=Gw,Ww=vw.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),qw=Symbol("internals");function Xw(e){return e&&String(e).trim().toLowerCase()}function Yw(e){return!1===e||null==e?e:vw.isArray(e)?e.map(Yw):String(e)}function Jw(e,t,n,i,r){return vw.isFunction(i)?i.call(this,t,n):(r&&(t=n),vw.isString(t)?vw.isString(i)?-1!==t.indexOf(i):vw.isRegExp(i)?i.test(t):void 0:void 0)}class Zw{constructor(e){e&&this.set(e)}set(e,t,n){const i=this;function r(e,t,n){const r=Xw(t);if(!r)throw new Error("header name must be a non-empty string");const o=vw.findKey(i,r);(!o||void 0===i[o]||!0===n||void 0===n&&!1!==i[o])&&(i[o||t]=Yw(e))}const o=(e,t)=>vw.forEach(e,((e,n)=>r(e,n,t)));if(vw.isPlainObject(e)||e instanceof this.constructor)o(e,t);else if(vw.isString(e)&&(e=e.trim())&&!/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(e.trim()))o((e=>{const t={};let n,i,r;return e&&e.split("\n").forEach((function(e){r=e.indexOf(":"),n=e.substring(0,r).trim().toLowerCase(),i=e.substring(r+1).trim(),!n||t[n]&&Ww[n]||("set-cookie"===n?t[n]?t[n].push(i):t[n]=[i]:t[n]=t[n]?t[n]+", "+i:i)})),t})(e),t);else if(vw.isObject(e)&&vw.isIterable(e)){let n,i,r={};for(const t of e){if(!vw.isArray(t))throw TypeError("Object iterator must return a key-value pair");r[i=t[0]]=(n=r[i])?vw.isArray(n)?[...n,t[1]]:[n,t[1]]:t[1]}o(r,t)}else null!=e&&r(t,e,n);return this}get(e,t){if(e=Xw(e)){const n=vw.findKey(this,e);if(n){const e=this[n];if(!t)return e;if(!0===t)return function(e){const t=Object.create(null),n=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let i;for(;i=n.exec(e);)t[i[1]]=i[2];return t}(e);if(vw.isFunction(t))return t.call(this,e,n);if(vw.isRegExp(t))return t.exec(e);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,t){if(e=Xw(e)){const n=vw.findKey(this,e);return!(!n||void 0===this[n]||t&&!Jw(0,this[n],n,t))}return!1}delete(e,t){const n=this;let i=!1;function r(e){if(e=Xw(e)){const r=vw.findKey(n,e);!r||t&&!Jw(0,n[r],r,t)||(delete n[r],i=!0)}}return vw.isArray(e)?e.forEach(r):r(e),i}clear(e){const t=Object.keys(this);let n=t.length,i=!1;for(;n--;){const r=t[n];e&&!Jw(0,this[r],r,e,!0)||(delete this[r],i=!0)}return i}normalize(e){const t=this,n={};return vw.forEach(this,((i,r)=>{const o=vw.findKey(n,r);if(o)return t[o]=Yw(i),void delete t[r];const s=e?function(e){return e.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,((e,t,n)=>t.toUpperCase()+n))}(r):String(r).trim();s!==r&&delete t[r],t[s]=Yw(i),n[s]=!0})),this}concat(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return this.constructor.concat(this,...t)}toJSON(e){const t=Object.create(null);return vw.forEach(this,((n,i)=>{null!=n&&!1!==n&&(t[i]=e&&vw.isArray(n)?n.join(", "):n)})),t}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map((e=>{let[t,n]=e;return t+": "+n})).join("\n")}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e){const t=new this(e);for(var n=arguments.length,i=new Array(n>1?n-1:0),r=1;r<n;r++)i[r-1]=arguments[r];return i.forEach((e=>t.set(e))),t}static accessor(e){const t=(this[qw]=this[qw]={accessors:{}}).accessors,n=this.prototype;function i(e){const i=Xw(e);t[i]||(!function(e,t){const n=vw.toCamelCase(" "+t);["get","set","has"].forEach((i=>{Object.defineProperty(e,i+n,{value:function(e,n,r){return this[i].call(this,t,e,n,r)},configurable:!0})}))}(n,e),t[i]=!0)}return vw.isArray(e)?e.forEach(i):i(e),this}}Zw.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]),vw.reduceDescriptors(Zw.prototype,((e,t)=>{let{value:n}=e,i=t[0].toUpperCase()+t.slice(1);return{get:()=>n,set(e){this[i]=e}}})),vw.freezeMethods(Zw);const Kw=Zw;function Qw(e,t){const n=this||Vw,i=t||n,r=Kw.from(i.headers);let o=i.data;return vw.forEach(e,(function(e){o=e.call(n,o,r.normalize(),t?t.status:void 0)})),r.normalize(),o}function $w(e){return!(!e||!e.__CANCEL__)}function e_(e,t,n){ww.call(this,null==e?"canceled":e,ww.ERR_CANCELED,t,n),this.name="CanceledError"}vw.inherits(e_,ww,{__CANCEL__:!0});const t_=e_;function n_(e,t,n){const i=n.config.validateStatus;n.status&&i&&!i(n.status)?t(new ww("Request failed with status code "+n.status,[ww.ERR_BAD_REQUEST,ww.ERR_BAD_RESPONSE][Math.floor(n.status/100)-4],n.config,n.request,n)):e(n)}const i_=function(e,t){e=e||10;const n=new Array(e),i=new Array(e);let r,o=0,s=0;return t=void 0!==t?t:1e3,function(a){const l=Date.now(),c=i[s];r||(r=l),n[o]=a,i[o]=l;let u=s,h=0;for(;u!==o;)h+=n[u++],u%=e;if(o=(o+1)%e,o===s&&(s=(s+1)%e),l-r<t)return;const d=c&&l-c;return d?Math.round(1e3*h/d):void 0}};const r_=function(e,t){let n,i,r=0,o=1e3/t;const s=function(t){let o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Date.now();r=o,n=null,i&&(clearTimeout(i),i=null),e.apply(null,t)};return[function(){const e=Date.now(),t=e-r;for(var a=arguments.length,l=new Array(a),c=0;c<a;c++)l[c]=arguments[c];t>=o?s(l,e):(n=l,i||(i=setTimeout((()=>{i=null,s(n)}),o-t)))},()=>n&&s(n)]},o_=function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:3,i=0;const r=i_(50,250);return r_((n=>{const o=n.loaded,s=n.lengthComputable?n.total:void 0,a=o-i,l=r(a);i=o;e({loaded:o,total:s,progress:s?o/s:void 0,bytes:a,rate:l||void 0,estimated:l&&s&&o<=s?(s-o)/l:void 0,event:n,lengthComputable:null!=s,[t?"download":"upload"]:!0})}),n)},s_=(e,t)=>{const n=null!=e;return[i=>t[0]({lengthComputable:n,total:e,loaded:i}),t[1]]},a_=e=>function(){for(var t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];return vw.asap((()=>e(...n)))},l_=Uw.hasStandardBrowserEnv?((e,t)=>n=>(n=new URL(n,Uw.origin),e.protocol===n.protocol&&e.host===n.host&&(t||e.port===n.port)))(new URL(Uw.origin),Uw.navigator&&/(msie|trident)/i.test(Uw.navigator.userAgent)):()=>!0,c_=Uw.hasStandardBrowserEnv?{write(e,t,n,i,r,o){const s=[e+"="+encodeURIComponent(t)];vw.isNumber(n)&&s.push("expires="+new Date(n).toGMTString()),vw.isString(i)&&s.push("path="+i),vw.isString(r)&&s.push("domain="+r),!0===o&&s.push("secure"),document.cookie=s.join("; ")},read(e){const t=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove(e){this.write(e,"",Date.now()-864e5)}}:{write(){},read:()=>null,remove(){}};function u_(e,t,n){let i=!/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t);return e&&(i||0==n)?function(e,t){return t?e.replace(/\/?\/$/,"")+"/"+t.replace(/^\/+/,""):e}(e,t):t}const h_=e=>e instanceof Kw?u({},e):e;function d_(e,t){t=t||{};const n={};function i(e,t,n,i){return vw.isPlainObject(e)&&vw.isPlainObject(t)?vw.merge.call({caseless:i},e,t):vw.isPlainObject(t)?vw.merge({},t):vw.isArray(t)?t.slice():t}function r(e,t,n,r){return vw.isUndefined(t)?vw.isUndefined(e)?void 0:i(void 0,e,0,r):i(e,t,0,r)}function o(e,t){if(!vw.isUndefined(t))return i(void 0,t)}function s(e,t){return vw.isUndefined(t)?vw.isUndefined(e)?void 0:i(void 0,e):i(void 0,t)}function a(n,r,o){return o in t?i(n,r):o in e?i(void 0,n):void 0}const l={url:o,method:o,data:o,baseURL:s,transformRequest:s,transformResponse:s,paramsSerializer:s,timeout:s,timeoutMessage:s,withCredentials:s,withXSRFToken:s,adapter:s,responseType:s,xsrfCookieName:s,xsrfHeaderName:s,onUploadProgress:s,onDownloadProgress:s,decompress:s,maxContentLength:s,maxBodyLength:s,beforeRedirect:s,transport:s,httpAgent:s,httpsAgent:s,cancelToken:s,socketPath:s,responseEncoding:s,validateStatus:a,headers:(e,t,n)=>r(h_(e),h_(t),0,!0)};return vw.forEach(Object.keys(Object.assign({},e,t)),(function(i){const o=l[i]||r,s=o(e[i],t[i],i);vw.isUndefined(s)&&o!==a||(n[i]=s)})),n}const p_=e=>{const t=d_({},e);let n,{data:i,withXSRFToken:r,xsrfHeaderName:o,xsrfCookieName:s,headers:a,auth:l}=t;if(t.headers=a=Kw.from(a),t.url=Nw(u_(t.baseURL,t.url,t.allowAbsoluteUrls),e.params,e.paramsSerializer),l&&a.set("Authorization","Basic "+btoa((l.username||"")+":"+(l.password?unescape(encodeURIComponent(l.password)):""))),vw.isFormData(i))if(Uw.hasStandardBrowserEnv||Uw.hasStandardBrowserWebWorkerEnv)a.setContentType(void 0);else if(!1!==(n=a.getContentType())){const[e,...t]=n?n.split(";").map((e=>e.trim())).filter(Boolean):[];a.setContentType([e||"multipart/form-data",...t].join("; "))}if(Uw.hasStandardBrowserEnv&&(r&&vw.isFunction(r)&&(r=r(t)),r||!1!==r&&l_(t.url))){const e=o&&s&&c_.read(s);e&&a.set(o,e)}return t},f_="undefined"!==typeof XMLHttpRequest&&function(e){return new Promise((function(t,n){const i=p_(e);let r=i.data;const o=Kw.from(i.headers).normalize();let s,a,l,c,u,{responseType:h,onUploadProgress:d,onDownloadProgress:p}=i;function f(){c&&c(),u&&u(),i.cancelToken&&i.cancelToken.unsubscribe(s),i.signal&&i.signal.removeEventListener("abort",s)}let m=new XMLHttpRequest;function g(){if(!m)return;const i=Kw.from("getAllResponseHeaders"in m&&m.getAllResponseHeaders());n_((function(e){t(e),f()}),(function(e){n(e),f()}),{data:h&&"text"!==h&&"json"!==h?m.response:m.responseText,status:m.status,statusText:m.statusText,headers:i,config:e,request:m}),m=null}m.open(i.method.toUpperCase(),i.url,!0),m.timeout=i.timeout,"onloadend"in m?m.onloadend=g:m.onreadystatechange=function(){m&&4===m.readyState&&(0!==m.status||m.responseURL&&0===m.responseURL.indexOf("file:"))&&setTimeout(g)},m.onabort=function(){m&&(n(new ww("Request aborted",ww.ECONNABORTED,e,m)),m=null)},m.onerror=function(){n(new ww("Network Error",ww.ERR_NETWORK,e,m)),m=null},m.ontimeout=function(){let t=i.timeout?"timeout of "+i.timeout+"ms exceeded":"timeout exceeded";const r=i.transitional||Ow;i.timeoutErrorMessage&&(t=i.timeoutErrorMessage),n(new ww(t,r.clarifyTimeoutError?ww.ETIMEDOUT:ww.ECONNABORTED,e,m)),m=null},void 0===r&&o.setContentType(null),"setRequestHeader"in m&&vw.forEach(o.toJSON(),(function(e,t){m.setRequestHeader(t,e)})),vw.isUndefined(i.withCredentials)||(m.withCredentials=!!i.withCredentials),h&&"json"!==h&&(m.responseType=i.responseType),p&&([l,u]=o_(p,!0),m.addEventListener("progress",l)),d&&m.upload&&([a,c]=o_(d),m.upload.addEventListener("progress",a),m.upload.addEventListener("loadend",c)),(i.cancelToken||i.signal)&&(s=t=>{m&&(n(!t||t.type?new t_(null,e,m):t),m.abort(),m=null)},i.cancelToken&&i.cancelToken.subscribe(s),i.signal&&(i.signal.aborted?s():i.signal.addEventListener("abort",s)));const v=function(e){const t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return t&&t[1]||""}(i.url);v&&-1===Uw.protocols.indexOf(v)?n(new ww("Unsupported protocol "+v+":",ww.ERR_BAD_REQUEST,e)):m.send(r||null)}))},m_=(e,t)=>{const{length:n}=e=e?e.filter(Boolean):[];if(t||n){let n,i=new AbortController;const r=function(e){if(!n){n=!0,s();const t=e instanceof Error?e:this.reason;i.abort(t instanceof ww?t:new t_(t instanceof Error?t.message:t))}};let o=t&&setTimeout((()=>{o=null,r(new ww("timeout ".concat(t," of ms exceeded"),ww.ETIMEDOUT))}),t);const s=()=>{e&&(o&&clearTimeout(o),o=null,e.forEach((e=>{e.unsubscribe?e.unsubscribe(r):e.removeEventListener("abort",r)})),e=null)};e.forEach((e=>e.addEventListener("abort",r)));const{signal:a}=i;return a.unsubscribe=()=>vw.asap(s),a}};function g_(e,t){this.v=e,this.k=t}function v_(e){return function(){return new y_(e.apply(this,arguments))}}function y_(e){var t,n;function i(t,n){try{var o=e[t](n),s=o.value,a=s instanceof g_;Promise.resolve(a?s.v:s).then((function(n){if(a){var l="return"===t?"return":"next";if(!s.k||n.done)return i(l,n);n=e[l](n).value}r(o.done?"return":"normal",n)}),(function(e){i("throw",e)}))}catch(e){r("throw",e)}}function r(e,r){switch(e){case"return":t.resolve({value:r,done:!0});break;case"throw":t.reject(r);break;default:t.resolve({value:r,done:!1})}(t=t.next)?i(t.key,t.arg):n=null}this._invoke=function(e,r){return new Promise((function(o,s){var a={key:e,arg:r,resolve:o,reject:s,next:null};n?n=n.next=a:(t=n=a,i(e,r))}))},"function"!=typeof e.return&&(this.return=void 0)}function x_(e){return new g_(e,0)}function b_(e){var t={},n=!1;function i(t,i){return n=!0,i=new Promise((function(n){n(e[t](i))})),{done:!1,value:new g_(i,1)}}return t["undefined"!=typeof Symbol&&Symbol.iterator||"@@iterator"]=function(){return this},t.next=function(e){return n?(n=!1,e):i("next",e)},"function"==typeof e.throw&&(t.throw=function(e){if(n)throw n=!1,e;return i("throw",e)}),"function"==typeof e.return&&(t.return=function(e){return n?(n=!1,e):i("return",e)}),t}function w_(e){var t,n,i,r=2;for("undefined"!=typeof Symbol&&(n=Symbol.asyncIterator,i=Symbol.iterator);r--;){if(n&&null!=(t=e[n]))return t.call(e);if(i&&null!=(t=e[i]))return new __(t.call(e));n="@@asyncIterator",i="@@iterator"}throw new TypeError("Object is not async iterable")}function __(e){function t(e){if(Object(e)!==e)return Promise.reject(new TypeError(e+" is not an object."));var t=e.done;return Promise.resolve(e.value).then((function(e){return{value:e,done:t}}))}return __=function(e){this.s=e,this.n=e.next},__.prototype={s:null,n:null,next:function(){return t(this.n.apply(this.s,arguments))},return:function(e){var n=this.s.return;return void 0===n?Promise.resolve({value:e,done:!0}):t(n.apply(this.s,arguments))},throw:function(e){var n=this.s.return;return void 0===n?Promise.reject(e):t(n.apply(this.s,arguments))}},new __(e)}y_.prototype["function"==typeof Symbol&&Symbol.asyncIterator||"@@asyncIterator"]=function(){return this},y_.prototype.next=function(e){return this._invoke("next",e)},y_.prototype.throw=function(e){return this._invoke("throw",e)},y_.prototype.return=function(e){return this._invoke("return",e)};const S_=function*(e,t){let n=e.byteLength;if(!t||n<t)return void(yield e);let i,r=0;for(;r<n;)i=r+t,yield e.slice(r,i),r=i},M_=function(){var e=v_((function*(e,t){var n,i=!1,r=!1;try{for(var o,s=w_(E_(e));i=!(o=yield x_(s.next())).done;i=!1){const e=o.value;yield*b_(w_(S_(e,t)))}}catch(a){r=!0,n=a}finally{try{i&&null!=s.return&&(yield x_(s.return()))}finally{if(r)throw n}}}));return function(t,n){return e.apply(this,arguments)}}(),E_=function(){var e=v_((function*(e){if(e[Symbol.asyncIterator])return void(yield*b_(w_(e)));const t=e.getReader();try{for(;;){const{done:e,value:n}=yield x_(t.read());if(e)break;yield n}}finally{yield x_(t.cancel())}}));return function(t){return e.apply(this,arguments)}}(),T_=(e,t,n,i)=>{const r=M_(e,t);let o,s=0,a=e=>{o||(o=!0,i&&i(e))};return new ReadableStream({async pull(e){try{const{done:t,value:i}=await r.next();if(t)return a(),void e.close();let o=i.byteLength;if(n){let e=s+=o;n(e)}e.enqueue(new Uint8Array(i))}catch(t){throw a(t),t}},cancel:e=>(a(e),r.return())},{highWaterMark:2})},A_="function"===typeof fetch&&"function"===typeof Request&&"function"===typeof Response,C_=A_&&"function"===typeof ReadableStream,R_=A_&&("function"===typeof TextEncoder?(e=>t=>e.encode(t))(new TextEncoder):async e=>new Uint8Array(await new Response(e).arrayBuffer())),L_=function(e){try{for(var t=arguments.length,n=new Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];return!!e(...n)}catch(cF){return!1}},P_=C_&&L_((()=>{let e=!1;const t=new Request(Uw.origin,{body:new ReadableStream,method:"POST",get duplex(){return e=!0,"half"}}).headers.has("Content-Type");return e&&!t})),N_=C_&&L_((()=>vw.isReadableStream(new Response("").body))),k_={stream:N_&&(e=>e.body)};var O_;A_&&(O_=new Response,["text","arrayBuffer","blob","formData","stream"].forEach((e=>{!k_[e]&&(k_[e]=vw.isFunction(O_[e])?t=>t[e]():(t,n)=>{throw new ww("Response type '".concat(e,"' is not supported"),ww.ERR_NOT_SUPPORT,n)})})));const D_=async(e,t)=>{const n=vw.toFiniteNumber(e.getContentLength());return null==n?(async e=>{if(null==e)return 0;if(vw.isBlob(e))return e.size;if(vw.isSpecCompliantForm(e)){const t=new Request(Uw.origin,{method:"POST",body:e});return(await t.arrayBuffer()).byteLength}return vw.isArrayBufferView(e)||vw.isArrayBuffer(e)?e.byteLength:(vw.isURLSearchParams(e)&&(e+=""),vw.isString(e)?(await R_(e)).byteLength:void 0)})(t):n},j_=A_&&(async e=>{let{url:t,method:n,data:i,signal:r,cancelToken:o,timeout:s,onDownloadProgress:a,onUploadProgress:l,responseType:c,headers:h,withCredentials:d="same-origin",fetchOptions:p}=p_(e);c=c?(c+"").toLowerCase():"text";let f,m=m_([r,o&&o.toAbortSignal()],s);const g=m&&m.unsubscribe&&(()=>{m.unsubscribe()});let v;try{if(l&&P_&&"get"!==n&&"head"!==n&&0!==(v=await D_(h,i))){let e,n=new Request(t,{method:"POST",body:i,duplex:"half"});if(vw.isFormData(i)&&(e=n.headers.get("content-type"))&&h.setContentType(e),n.body){const[e,t]=s_(v,o_(a_(l)));i=T_(n.body,65536,e,t)}}vw.isString(d)||(d=d?"include":"omit");const r="credentials"in Request.prototype;f=new Request(t,u(u({},p),{},{signal:m,method:n.toUpperCase(),headers:h.normalize().toJSON(),body:i,duplex:"half",credentials:r?d:void 0}));let o=await fetch(f,p);const s=N_&&("stream"===c||"response"===c);if(N_&&(a||s&&g)){const e={};["status","statusText","headers"].forEach((t=>{e[t]=o[t]}));const t=vw.toFiniteNumber(o.headers.get("content-length")),[n,i]=a&&s_(t,o_(a_(a),!0))||[];o=new Response(T_(o.body,65536,n,(()=>{i&&i(),g&&g()})),e)}c=c||"text";let y=await k_[vw.findKey(k_,c)||"text"](o,e);return!s&&g&&g(),await new Promise(((t,n)=>{n_(t,n,{data:y,headers:Kw.from(o.headers),status:o.status,statusText:o.statusText,config:e,request:f})}))}catch(y){if(g&&g(),y&&"TypeError"===y.name&&/Load failed|fetch/i.test(y.message))throw Object.assign(new ww("Network Error",ww.ERR_NETWORK,e,f),{cause:y.cause||y});throw ww.from(y,y&&y.code,e,f)}}),F_={http:null,xhr:f_,fetch:j_};vw.forEach(F_,((e,t)=>{if(e){try{Object.defineProperty(e,"name",{value:t})}catch(cF){}Object.defineProperty(e,"adapterName",{value:t})}}));const I_=e=>"- ".concat(e),z_=e=>vw.isFunction(e)||null===e||!1===e,B_=e=>{e=vw.isArray(e)?e:[e];const{length:t}=e;let n,i;const r={};for(let o=0;o<t;o++){let t;if(n=e[o],i=n,!z_(n)&&(i=F_[(t=String(n)).toLowerCase()],void 0===i))throw new ww("Unknown adapter '".concat(t,"'"));if(i)break;r[t||"#"+o]=i}if(!i){const e=Object.entries(r).map((e=>{let[t,n]=e;return"adapter ".concat(t," ")+(!1===n?"is not supported by the environment":"is not available in the build")}));let n=t?e.length>1?"since :\n"+e.map(I_).join("\n"):" "+I_(e[0]):"as no adapter specified";throw new ww("There is no suitable adapter to dispatch the request "+n,"ERR_NOT_SUPPORT")}return i};function U_(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new t_(null,e)}function H_(e){U_(e),e.headers=Kw.from(e.headers),e.data=Qw.call(e,e.transformRequest),-1!==["post","put","patch"].indexOf(e.method)&&e.headers.setContentType("application/x-www-form-urlencoded",!1);return B_(e.adapter||Vw.adapter)(e).then((function(t){return U_(e),t.data=Qw.call(e,e.transformResponse,t),t.headers=Kw.from(t.headers),t}),(function(t){return $w(t)||(U_(e),t&&t.response&&(t.response.data=Qw.call(e,e.transformResponse,t.response),t.response.headers=Kw.from(t.response.headers))),Promise.reject(t)}))}const G_="1.10.0",V_={};["object","boolean","number","function","string","symbol"].forEach(((e,t)=>{V_[e]=function(n){return typeof n===e||"a"+(t<1?"n ":" ")+e}}));const W_={};V_.transitional=function(e,t,n){function i(e,t){return"[Axios v"+G_+"] Transitional option '"+e+"'"+t+(n?". "+n:"")}return(n,r,o)=>{if(!1===e)throw new ww(i(r," has been removed"+(t?" in "+t:"")),ww.ERR_DEPRECATED);return t&&!W_[r]&&(W_[r]=!0,console.warn(i(r," has been deprecated since v"+t+" and will be removed in the near future"))),!e||e(n,r,o)}},V_.spelling=function(e){return(t,n)=>(console.warn("".concat(n," is likely a misspelling of ").concat(e)),!0)};const q_={assertOptions:function(e,t,n){if("object"!==typeof e)throw new ww("options must be an object",ww.ERR_BAD_OPTION_VALUE);const i=Object.keys(e);let r=i.length;for(;r-- >0;){const o=i[r],s=t[o];if(s){const t=e[o],n=void 0===t||s(t,o,e);if(!0!==n)throw new ww("option "+o+" must be "+n,ww.ERR_BAD_OPTION_VALUE)}else if(!0!==n)throw new ww("Unknown option "+o,ww.ERR_BAD_OPTION)}},validators:V_},X_=q_.validators;class Y_{constructor(e){this.defaults=e||{},this.interceptors={request:new kw,response:new kw}}async request(e,t){try{return await this._request(e,t)}catch(n){if(n instanceof Error){let e={};Error.captureStackTrace?Error.captureStackTrace(e):e=new Error;const t=e.stack?e.stack.replace(/^.+\n/,""):"";try{n.stack?t&&!String(n.stack).endsWith(t.replace(/^.+\n.+\n/,""))&&(n.stack+="\n"+t):n.stack=t}catch(cF){}}throw n}}_request(e,t){"string"===typeof e?(t=t||{}).url=e:t=e||{},t=d_(this.defaults,t);const{transitional:n,paramsSerializer:i,headers:r}=t;void 0!==n&&q_.assertOptions(n,{silentJSONParsing:X_.transitional(X_.boolean),forcedJSONParsing:X_.transitional(X_.boolean),clarifyTimeoutError:X_.transitional(X_.boolean)},!1),null!=i&&(vw.isFunction(i)?t.paramsSerializer={serialize:i}:q_.assertOptions(i,{encode:X_.function,serialize:X_.function},!0)),void 0!==t.allowAbsoluteUrls||(void 0!==this.defaults.allowAbsoluteUrls?t.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:t.allowAbsoluteUrls=!0),q_.assertOptions(t,{baseUrl:X_.spelling("baseURL"),withXsrfToken:X_.spelling("withXSRFToken")},!0),t.method=(t.method||this.defaults.method||"get").toLowerCase();let o=r&&vw.merge(r.common,r[t.method]);r&&vw.forEach(["delete","get","head","post","put","patch","common"],(e=>{delete r[e]})),t.headers=Kw.concat(o,r);const s=[];let a=!0;this.interceptors.request.forEach((function(e){"function"===typeof e.runWhen&&!1===e.runWhen(t)||(a=a&&e.synchronous,s.unshift(e.fulfilled,e.rejected))}));const l=[];let c;this.interceptors.response.forEach((function(e){l.push(e.fulfilled,e.rejected)}));let u,h=0;if(!a){const e=[H_.bind(this),void 0];for(e.unshift.apply(e,s),e.push.apply(e,l),u=e.length,c=Promise.resolve(t);h<u;)c=c.then(e[h++],e[h++]);return c}u=s.length;let d=t;for(h=0;h<u;){const e=s[h++],t=s[h++];try{d=e(d)}catch(p){t.call(this,p);break}}try{c=H_.call(this,d)}catch(p){return Promise.reject(p)}for(h=0,u=l.length;h<u;)c=c.then(l[h++],l[h++]);return c}getUri(e){return Nw(u_((e=d_(this.defaults,e)).baseURL,e.url,e.allowAbsoluteUrls),e.params,e.paramsSerializer)}}vw.forEach(["delete","get","head","options"],(function(e){Y_.prototype[e]=function(t,n){return this.request(d_(n||{},{method:e,url:t,data:(n||{}).data}))}})),vw.forEach(["post","put","patch"],(function(e){function t(t){return function(n,i,r){return this.request(d_(r||{},{method:e,headers:t?{"Content-Type":"multipart/form-data"}:{},url:n,data:i}))}}Y_.prototype[e]=t(),Y_.prototype[e+"Form"]=t(!0)}));const J_=Y_;class Z_{constructor(e){if("function"!==typeof e)throw new TypeError("executor must be a function.");let t;this.promise=new Promise((function(e){t=e}));const n=this;this.promise.then((e=>{if(!n._listeners)return;let t=n._listeners.length;for(;t-- >0;)n._listeners[t](e);n._listeners=null})),this.promise.then=e=>{let t;const i=new Promise((e=>{n.subscribe(e),t=e})).then(e);return i.cancel=function(){n.unsubscribe(t)},i},e((function(e,i,r){n.reason||(n.reason=new t_(e,i,r),t(n.reason))}))}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){this.reason?e(this.reason):this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const t=this._listeners.indexOf(e);-1!==t&&this._listeners.splice(t,1)}toAbortSignal(){const e=new AbortController,t=t=>{e.abort(t)};return this.subscribe(t),e.signal.unsubscribe=()=>this.unsubscribe(t),e.signal}static source(){let e;return{token:new Z_((function(t){e=t})),cancel:e}}}const K_=Z_;const Q_={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(Q_).forEach((e=>{let[t,n]=e;Q_[n]=t}));const $_=Q_;const eS=function e(t){const n=new J_(t),i=Nb(J_.prototype.request,n);return vw.extend(i,J_.prototype,n,{allOwnKeys:!0}),vw.extend(i,n,null,{allOwnKeys:!0}),i.create=function(n){return e(d_(t,n))},i}(Vw);eS.Axios=J_,eS.CanceledError=t_,eS.CancelToken=K_,eS.isCancel=$w,eS.VERSION=G_,eS.toFormData=Tw,eS.AxiosError=ww,eS.Cancel=eS.CanceledError,eS.all=function(e){return Promise.all(e)},eS.spread=function(e){return function(t){return e.apply(null,t)}},eS.isAxiosError=function(e){return vw.isObject(e)&&!0===e.isAxiosError},eS.mergeConfig=d_,eS.AxiosHeaders=Kw,eS.formToJSON=e=>Hw(vw.isHTMLForm(e)?new FormData(e):e),eS.getAdapter=B_,eS.HttpStatusCode=$_,eS.default=eS;const tS=eS,nS=["all","Action","Adventure","Animation","Comedy","Drama","Family","Fantasy","Horror","Science Fiction","Thriller"],iS=e=>{const t=new Date(e);return Number.isNaN(t.getTime())?null:t},rS=e=>{const t=iS(e);return t?t.toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"}):"Unknown date"},oS=e=>{const t=Number(e);return Number.isFinite(t)?t.toFixed(1):"N/A"},sS=e=>{let{movies:t,loading:n,hasMore:r,loadingMore:o,onLoadMore:s}=e;const[a,l]=(0,i.useState)(""),[c,u]=(0,i.useState)("all"),[h,d]=(0,i.useState)("date-desc"),p=(0,i.useMemo)((()=>{const e=t.filter((e=>{var t;return null===e||void 0===e||null===(t=e.title)||void 0===t?void 0:t.toLowerCase().includes(a.toLowerCase())})).filter((e=>"all"===c||(null===e||void 0===e?void 0:e.genre)===c));return e.sort(((e,t)=>{var n,i;if("rating-desc"===h)return(Number(null===t||void 0===t?void 0:t.rating)||0)-(Number(null===e||void 0===e?void 0:e.rating)||0);if("rating-asc"===h)return(Number(null===e||void 0===e?void 0:e.rating)||0)-(Number(null===t||void 0===t?void 0:t.rating)||0);if("title-az"===h)return((null===e||void 0===e?void 0:e.title)||"").localeCompare((null===t||void 0===t?void 0:t.title)||"");if("title-za"===h)return((null===t||void 0===t?void 0:t.title)||"").localeCompare((null===e||void 0===e?void 0:e.title)||"");const r=(null===(n=iS(null===e||void 0===e?void 0:e.date))||void 0===n?void 0:n.getTime())||0,o=(null===(i=iS(null===t||void 0===t?void 0:t.date))||void 0===i?void 0:i.getTime())||0;return"date-asc"===h?r-o:o-r}))}),[t,a,c,h]);return(0,Ly.jsxs)("section",{className:"mlm-shell",children:[(0,Ly.jsxs)("header",{className:"mlm-header",children:[(0,Ly.jsx)("h1",{className:"mlm-title",children:"All Movies"}),(0,Ly.jsxs)("p",{className:"mlm-subtitle",children:[p.length," available on this view"]})]}),(0,Ly.jsxs)("div",{className:"mlm-filters",children:[(0,Ly.jsx)("input",{type:"text",placeholder:"Search movies...",value:a,onChange:e=>l(e.target.value),className:"mlm-input"}),(0,Ly.jsxs)("div",{className:"mlm-row",children:[(0,Ly.jsx)("select",{className:"mlm-select",value:c,onChange:e=>u(e.target.value),children:nS.map((e=>(0,Ly.jsx)("option",{value:e,children:"all"===e?"All Genres":e},e)))}),(0,Ly.jsxs)("select",{className:"mlm-select",value:h,onChange:e=>d(e.target.value),children:[(0,Ly.jsx)("option",{value:"date-desc",children:"Newest"}),(0,Ly.jsx)("option",{value:"date-asc",children:"Oldest"}),(0,Ly.jsx)("option",{value:"rating-desc",children:"Rating High"}),(0,Ly.jsx)("option",{value:"rating-asc",children:"Rating Low"}),(0,Ly.jsx)("option",{value:"title-az",children:"Title A-Z"}),(0,Ly.jsx)("option",{value:"title-za",children:"Title Z-A"})]})]})]}),(0,Ly.jsx)("div",{className:"mlm-grid",children:n&&0===t.length?Array.from({length:6}).map(((e,t)=>(0,Ly.jsxs)("div",{className:"mlm-card mlm-skeleton",children:[(0,Ly.jsx)("div",{className:"mlm-skeleton-media"}),(0,Ly.jsx)("div",{className:"mlm-skeleton-line"}),(0,Ly.jsx)("div",{className:"mlm-skeleton-line short"})]},t))):0===p.length?(0,Ly.jsx)("div",{className:"mlm-empty",children:"No movies found for these filters."}):p.map((e=>(0,Ly.jsxs)("article",{className:"mlm-card",children:[(0,Ly.jsx)("img",{className:"mlm-poster",src:(null===e||void 0===e?void 0:e.poster)||"https://via.placeholder.com/500x750?text=No+Poster",alt:(null===e||void 0===e?void 0:e.title)||"Movie poster",loading:"lazy"}),(0,Ly.jsxs)("div",{className:"mlm-body",children:[(0,Ly.jsx)("h2",{className:"mlm-movie-title",children:(null===e||void 0===e?void 0:e.title)||"Untitled"}),(0,Ly.jsxs)("p",{className:"mlm-meta",children:[(null===e||void 0===e?void 0:e.genre)||"Unknown"," | ",oS(null===e||void 0===e?void 0:e.rating)]}),(0,Ly.jsx)("p",{className:"mlm-date",children:rS(null===e||void 0===e?void 0:e.date)}),(0,Ly.jsx)(_y,{to:"/movie/".concat(null===e||void 0===e?void 0:e.id),className:"mlm-book-btn",children:"Book Now"})]})]},(null===e||void 0===e?void 0:e.id)||(null===e||void 0===e?void 0:e.title))))}),r&&(0,Ly.jsx)("div",{className:"mlm-load-wrap",children:(0,Ly.jsx)("button",{type:"button",className:"mlm-load-btn",onClick:s,disabled:o,children:o?"Loading...":"See More"})})]})},aS="e6aac7b3f970bca71ffb91b889b4407a",lS=async()=>{const{data:e}=await tS.get("https://api.themoviedb.org/3/movie/popular?api_key=".concat(aS,"&include_adult=false"));return e.results.filter((e=>!e.adult))},cS={28:"Action",12:"Adventure",16:"Animation",35:"Comedy",80:"Crime",99:"Documentary",18:"Drama",10751:"Family",14:"Fantasy",36:"History",27:"Horror",10402:"Music",9648:"Mystery",10749:"Romance",878:"Science Fiction",10770:"TV Movie",53:"Thriller",10752:"War",37:"Western"};let uS=[{title:"Barbie",poster:"/assets/barbie-banner.jpg",rating:7.2,date:"2025-07-01",genre:"Comedy"},{title:"Dune",poster:"/assets/dune-banner.jpg",rating:8.4,date:"2025-07-10",genre:"Science Fiction"},{title:"Elemental",poster:"/assets/elemental-banner.jpg",rating:6.9,date:"2025-07-05",genre:"Animation"},{title:"Indiana Jones",poster:"/assets/indiana-jones-banner.jpg",rating:7,date:"2025-07-03",genre:"Adventure"},{title:"The Marvels",poster:"/assets/marvels-banner.jpg",rating:6.5,date:"2025-07-12",genre:"Action"},{title:"Mission Impossible 7",poster:"/assets/mi7-banner.jpg",rating:8.1,date:"2025-07-15",genre:"Action"},{title:"Oppenheimer",poster:"/assets/oppenheimer-banner.jpg",rating:9,date:"2025-07-08",genre:"Drama"},{title:"Spiderman",poster:"/assets/spiderman-banner.jpg",rating:7.8,date:"2025-07-02",genre:"Action"},{title:"Wonka",poster:"/assets/wonka-banner.jpg",rating:7.3,date:"2025-07-20",genre:"Family"}];const hS=()=>{const t=pv();(0,i.useEffect)((()=>{window.scrollTo({top:0,left:0,behavior:"smooth"})}),[t.key]);const{data:n,isLoading:r}=function(e,t){return Pb(e,hb,t)}({queryKey:["popularMovies"],queryFn:lS,staleTime:3e5,refetchOnWindowFocus:!1});let[o,s]=(0,i.useState)([]);const[a,l]=(0,i.useState)(1),[c,h]=(0,i.useState)(!1),[d,p]=(0,i.useState)(!0),[f,m]=(0,i.useState)((()=>"undefined"!==typeof window&&window.innerWidth<=768));(0,i.useEffect)((()=>{const e=()=>m(window.innerWidth<=768);return e(),window.addEventListener("resize",e),()=>window.removeEventListener("resize",e)}),[]),(0,i.useEffect)((()=>{let e=(null!==n&&void 0!==n?n:uS).filter((e=>!e.adult)).map((e=>{var t;return u(u({},e),{},{poster:e.poster_path?"https://image.tmdb.org/t/p/w500".concat(e.poster_path):null,rating:e.vote_average,date:e.release_date,genre:cS[null===(t=e.genre_ids)||void 0===t?void 0:t[0]]||"Unknown"})}));s(e)}),[n]);const g=async()=>{if(c||!d)return;h(!0);const e=a+1;try{const{data:t}=await tS.get("https://api.themoviedb.org/3/discover/movie?api_key=".concat(aS,"&sort_by=popularity.desc&page=").concat(e,"&include_adult=false"),{params:{api_key:aS,sort_by:"popularity.desc",page:e,include_adult:!1,certification_country:"US",certification_lte:"R",with_original_language:"en"}}),n=t.results.filter((e=>!e.adult&&"Intimacy"!==e.title)),i=n.map((e=>{var t;return u(u({},e),{},{poster:e.poster_path?"https://image.tmdb.org/t/p/w500".concat(e.poster_path):null,rating:e.vote_average,date:e.release_date,genre:cS[null===(t=e.genre_ids)||void 0===t?void 0:t[0]]||"Unknown"})}));i.length>0?(s((e=>[...e,...i])),l(e)):p(!1)}catch(t){console.error("Failed to fetch more movies:",t),p(!1)}h(!1)},v=(0,i.useRef)(null),y=(0,i.useRef)(null);return(0,i.useEffect)((()=>{if(f)return;if(!v.current||y.current)return;y.current=By()({el:v.current,mouseControls:!0,touchControls:!0,gyroControls:!1,minHeight:200,minWidth:200,highlightColor:0,midtoneColor:6641493,lowlightColor:3217803,baseColor:5780532,THREE:e,speed:1});const t=new ResizeObserver((()=>{var e;null!==(e=y.current)&&void 0!==e&&e.resize&&y.current.resize()}));return t.observe(v.current),()=>{t.disconnect(),y.current&&(y.current.destroy(),y.current=null)}}),[f]),f?(0,Ly.jsxs)("div",{className:"mlm-page-bg",children:[(0,Ly.jsx)("div",{style:{height:"88px"}}),(0,Ly.jsx)(sS,{movies:o,loading:r,hasMore:d,loadingMore:c,onLoadMore:g})]}):(0,Ly.jsx)("div",{children:(0,Ly.jsxs)("div",{ref:v,style:{width:"100%",minHeight:"100vh",overflow:"hidden"},children:[(0,Ly.jsx)("div",{style:{height:"100px"}}),(0,Ly.jsx)(Vy,{movies:o,loading:r}),(0,Ly.jsx)("div",{style:{textAlign:"center",margin:"20px",display:"flex",justifyContent:"center"},children:d&&(0,Ly.jsx)("button",{onClick:g,disabled:c,style:{padding:"10px 20px",fontSize:"30px",width:"15rem",height:"5rem"},children:c?"Loading...":"See More"})}),(0,Ly.jsx)(Wy,{movies:o})]})})};function dS(e){if("undefined"===typeof Proxy)return e;const t=new Map;return new Proxy((function(){return e(...arguments)}),{get:(n,i)=>"create"===i?e:(t.has(i)||t.set(i,e(i)),t.get(i))})}function pS(e){return null!==e&&"object"===typeof e&&"function"===typeof e.start}function fS(e){const t=[{},{}];return null===e||void 0===e||e.values.forEach(((e,n)=>{t[0][n]=e.get(),t[1][n]=e.getVelocity()})),t}function mS(e,t,n,i){if("function"===typeof t){const[r,o]=fS(i);t=t(void 0!==n?n:e.custom,r,o)}if("string"===typeof t&&(t=e.variants&&e.variants[t]),"function"===typeof t){const[r,o]=fS(i);t=t(void 0!==n?n:e.custom,r,o)}return t}function gS(e,t,n){const i=e.getProps();return mS(i,t,void 0!==n?n:i.custom,e)}function vS(e,t){var n,i;return null!==(n=null!==(i=null===e||void 0===e?void 0:e[t])&&void 0!==i?i:null===e||void 0===e?void 0:e.default)&&void 0!==n?n:e}const yS=e=>e,xS={},bS=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"],wS={value:null,addProjectionMetrics:null};function _S(e,t){let n=!1,i=!0;const r={delta:0,timestamp:0,isProcessing:!1},o=()=>n=!0,s=bS.reduce(((e,n)=>(e[n]=function(e,t){let n=new Set,i=new Set,r=!1,o=!1;const s=new WeakSet;let a={delta:0,timestamp:0,isProcessing:!1},l=0;function c(t){s.has(t)&&(u.schedule(t),e()),l++,t(a)}const u={schedule:function(e){const t=arguments.length>2&&void 0!==arguments[2]&&arguments[2]&&r?n:i;return arguments.length>1&&void 0!==arguments[1]&&arguments[1]&&s.add(e),t.has(e)||t.add(e),e},cancel:e=>{i.delete(e),s.delete(e)},process:e=>{a=e,r?o=!0:(r=!0,[n,i]=[i,n],n.forEach(c),t&&wS.value&&wS.value.frameloop[t].push(l),l=0,n.clear(),r=!1,o&&(o=!1,u.process(e)))}};return u}(o,t?n:void 0),e)),{}),{setup:a,read:l,resolveKeyframes:c,preUpdate:u,update:h,preRender:d,render:p,postRender:f}=s,m=()=>{const o=xS.useManualTiming?r.timestamp:performance.now();n=!1,xS.useManualTiming||(r.delta=i?1e3/60:Math.max(Math.min(o-r.timestamp,40),1)),r.timestamp=o,r.isProcessing=!0,a.process(r),l.process(r),c.process(r),u.process(r),h.process(r),d.process(r),p.process(r),f.process(r),r.isProcessing=!1,n&&t&&(i=!1,e(m))},g=bS.reduce(((t,o)=>{const a=s[o];return t[o]=function(t){let o=arguments.length>1&&void 0!==arguments[1]&&arguments[1],s=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return n||(n=!0,i=!0,r.isProcessing||e(m)),a.schedule(t,o,s)},t}),{});return{schedule:g,cancel:e=>{for(let t=0;t<bS.length;t++)s[bS[t]].cancel(e)},state:r,steps:s}}const{schedule:SS,cancel:MS,state:ES,steps:TS}=_S("undefined"!==typeof requestAnimationFrame?requestAnimationFrame:yS,!0),AS=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],CS=(()=>new Set(AS))(),RS=new Set(["width","height","top","left","right","bottom",...AS]);function LS(e,t){-1===e.indexOf(t)&&e.push(t)}function PS(e,t){const n=e.indexOf(t);n>-1&&e.splice(n,1)}class NS{constructor(){this.subscriptions=[]}add(e){return LS(this.subscriptions,e),()=>PS(this.subscriptions,e)}notify(e,t,n){const i=this.subscriptions.length;if(i)if(1===i)this.subscriptions[0](e,t,n);else for(let r=0;r<i;r++){const i=this.subscriptions[r];i&&i(e,t,n)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}function kS(e,t){return t?e*(1e3/t):0}let OS;function DS(){OS=void 0}const jS={now:()=>(void 0===OS&&jS.set(ES.isProcessing||xS.useManualTiming?ES.timestamp:performance.now()),OS),set:e=>{OS=e,queueMicrotask(DS)}},FS={current:void 0};class IS{constructor(e){var t=this;let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.canTrackVelocity=null,this.events={},this.updateAndNotify=function(e){let n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];const i=jS.now();var r,o;if((t.updatedAt!==i&&t.setPrevFrameValue(),t.prev=t.current,t.setCurrent(e),t.current!==t.prev)&&(null===(r=t.events.change)||void 0===r||r.notify(t.current),t.dependents))for(const s of t.dependents)s.dirty();n&&(null===(o=t.events.renderRequest)||void 0===o||o.notify(t.current))},this.hasAnimated=!1,this.setCurrent(e),this.owner=n.owner}setCurrent(e){var t;this.current=e,this.updatedAt=jS.now(),null===this.canTrackVelocity&&void 0!==e&&(this.canTrackVelocity=(t=this.current,!isNaN(parseFloat(t))))}setPrevFrameValue(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.current;this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,t){this.events[e]||(this.events[e]=new NS);const n=this.events[e].add(t);return"change"===e?()=>{n(),SS.read((()=>{this.events.change.getSize()||this.stop()}))}:n}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,t){this.passiveEffect=e,this.stopPassiveEffect=t}set(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];t&&this.passiveEffect?this.passiveEffect(e,this.updateAndNotify):this.updateAndNotify(e,t)}setWithVelocity(e,t,n){this.set(t),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-n}jump(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,t&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){var e;null===(e=this.events.change)||void 0===e||e.notify(this.current)}addDependent(e){this.dependents||(this.dependents=new Set),this.dependents.add(e)}removeDependent(e){this.dependents&&this.dependents.delete(e)}get(){return FS.current&&FS.current.push(this),this.current}getPrevious(){return this.prev}getVelocity(){const e=jS.now();if(!this.canTrackVelocity||void 0===this.prevFrameValue||e-this.updatedAt>30)return 0;const t=Math.min(this.updatedAt-this.prevUpdatedAt,30);return kS(parseFloat(this.current)-parseFloat(this.prevFrameValue),t)}start(e){return this.stop(),new Promise((t=>{this.hasAnimated=!0,this.animation=e(t),this.events.animationStart&&this.events.animationStart.notify()})).then((()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()}))}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){var e,t;null===(e=this.dependents)||void 0===e||e.clear(),null===(t=this.events.destroy)||void 0===t||t.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function zS(e,t){return new IS(e,t)}const BS=e=>Array.isArray(e),US=["transitionEnd","transition"];function HS(e,t,n){e.hasValue(t)?e.getValue(t).set(n):e.addValue(t,zS(n))}function GS(e,t){let n=gS(e,t)||{},{transitionEnd:i={},transition:r={}}=n,o=$f(n,US);o=u(u({},o),i);for(const a in o){HS(e,a,(s=o[a],BS(s)?s[s.length-1]||0:s))}var s}const VS=e=>Boolean(e&&e.getVelocity);function WS(e,t){const n=e.getValue("willChange");if(i=n,Boolean(VS(i)&&i.add))return n.add(t);if(!n&&xS.WillChange){const n=new xS.WillChange("auto");e.addValue("willChange",n),n.add(t)}var i}const qS=e=>e.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase(),XS="data-"+qS("framerAppearId");function YS(e){return e.props[XS]}const JS=(e,t)=>n=>t(e(n)),ZS=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.reduce(JS)},KS=(e,t,n)=>n>t?t:n<e?e:n,QS=e=>1e3*e,$S=e=>e/1e3,eM={layout:0,mainThread:0,waapi:0};const tM=e=>t=>"string"===typeof t&&t.startsWith(e),nM=tM("--"),iM=tM("var(--"),rM=e=>!!iM(e)&&oM.test(e.split("/*")[0].trim()),oM=/var\(--(?:[\x2D0-9A-Z_a-z\u017F\u212A]+[\t-\r \xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]*|[\x2D0-9A-Z_a-z\u017F\u212A]+[\t-\r \xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]*,(?:[\t-\r \xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]*(?:(?![\t-\r \(\)\xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uD800-\uDFFF\uFEFF])[^]|[\uD800-\uDBFF][\uDC00-\uDFFF])|[\t-\r \xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]*\((?:(?:(?![\(\)\uD800-\uDFFF])[^]|[\uD800-\uDBFF][\uDC00-\uDFFF])|\((?:(?![\(\)\uD800-\uDFFF])[^]|[\uD800-\uDBFF][\uDC00-\uDFFF])*\))*\))+[\t-\r \xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]*)\)$/i,sM={test:e=>"number"===typeof e,parse:parseFloat,transform:e=>e},aM=u(u({},sM),{},{transform:e=>KS(0,1,e)}),lM=u(u({},sM),{},{default:1}),cM=e=>Math.round(1e5*e)/1e5,uM=/-?(?:[0-9]+(?:\.[0-9]+)?|\.[0-9]+)/g;const hM=/^(?:#[0-9a-f]{3,8}|(?:rgb|h[s\u017F]l)a?\((?:-?[\.0-9]+%?[\t-\r ,\xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]+){2}-?[\.0-9]+%?[\t-\r \xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]*(?:[,\/][\t-\r \xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]*)?(?:\b[0-9]+(?:\.[0-9]+)?|\.[0-9]+)?%?\))$/i,dM=(e,t)=>n=>Boolean("string"===typeof n&&hM.test(n)&&n.startsWith(e)||t&&!function(e){return null==e}(n)&&Object.prototype.hasOwnProperty.call(n,t)),pM=(e,t,n)=>i=>{if("string"!==typeof i)return i;const[r,o,s,a]=i.match(uM);return{[e]:parseFloat(r),[t]:parseFloat(o),[n]:parseFloat(s),alpha:void 0!==a?parseFloat(a):1}},fM=u(u({},sM),{},{transform:e=>Math.round((e=>KS(0,255,e))(e))}),mM={test:dM("rgb","red"),parse:pM("red","green","blue"),transform:e=>{let{red:t,green:n,blue:i,alpha:r=1}=e;return"rgba("+fM.transform(t)+", "+fM.transform(n)+", "+fM.transform(i)+", "+cM(aM.transform(r))+")"}};const gM={test:dM("#"),parse:function(e){let t="",n="",i="",r="";return e.length>5?(t=e.substring(1,3),n=e.substring(3,5),i=e.substring(5,7),r=e.substring(7,9)):(t=e.substring(1,2),n=e.substring(2,3),i=e.substring(3,4),r=e.substring(4,5),t+=t,n+=n,i+=i,r+=r),{red:parseInt(t,16),green:parseInt(n,16),blue:parseInt(i,16),alpha:r?parseInt(r,16)/255:1}},transform:mM.transform},vM=e=>({test:t=>"string"===typeof t&&t.endsWith(e)&&1===t.split(" ").length,parse:parseFloat,transform:t=>"".concat(t).concat(e)}),yM=vM("deg"),xM=vM("%"),bM=vM("px"),wM=vM("vh"),_M=vM("vw"),SM=(()=>u(u({},xM),{},{parse:e=>xM.parse(e)/100,transform:e=>xM.transform(100*e)}))(),MM={test:dM("hsl","hue"),parse:pM("hue","saturation","lightness"),transform:e=>{let{hue:t,saturation:n,lightness:i,alpha:r=1}=e;return"hsla("+Math.round(t)+", "+xM.transform(cM(n))+", "+xM.transform(cM(i))+", "+cM(aM.transform(r))+")"}},EM={test:e=>mM.test(e)||gM.test(e)||MM.test(e),parse:e=>mM.test(e)?mM.parse(e):MM.test(e)?MM.parse(e):gM.parse(e),transform:e=>"string"===typeof e?e:e.hasOwnProperty("red")?mM.transform(e):MM.transform(e),getAnimatableNone:e=>{const t=EM.parse(e);return t.alpha=0,EM.transform(t)}},TM=/(?:#[0-9a-f]{3,8}|(?:rgb|h[s\u017F]l)a?\((?:-?[\.0-9]+%?[\t-\r ,\xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]+){2}-?[\.0-9]+%?[\t-\r \xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]*(?:[,\/][\t-\r \xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]*)?(?:\b[0-9]+(?:\.[0-9]+)?|\.[0-9]+)?%?\))/gi;const AM="number",CM="color",RM=/var[\t-\r \xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]*\([\t-\r \xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]*--(?:[\x2D0-9A-Z_a-z\u017F\u212A]+[\t-\r \xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]*|[\x2D0-9A-Z_a-z\u017F\u212A]+[\t-\r \xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]*,(?:[\t-\r \xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]*(?:(?![\t-\r \(\)\xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uD800-\uDFFF\uFEFF])[^]|[\uD800-\uDBFF][\uDC00-\uDFFF])|[\t-\r \xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]*\((?:(?:(?![\(\)\uD800-\uDFFF])[^]|[\uD800-\uDBFF][\uDC00-\uDFFF])|\((?:(?![\(\)\uD800-\uDFFF])[^]|[\uD800-\uDBFF][\uDC00-\uDFFF])*\))*\))+[\t-\r \xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]*)\)|#[0-9a-f]{3,8}|(?:rgb|h[s\u017F]l)a?\((?:-?[\.0-9]+%?[\t-\r ,\xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]+){2}-?[\.0-9]+%?[\t-\r \xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]*(?:[,\/][\t-\r \xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]*)?(?:\b[0-9]+(?:\.[0-9]+)?|\.[0-9]+)?%?\)|-?(?:[0-9]+(?:\.[0-9]+)?|\.[0-9]+)/gi;function LM(e){const t=e.toString(),n=[],i={color:[],number:[],var:[]},r=[];let o=0;const s=t.replace(RM,(e=>(EM.test(e)?(i.color.push(o),r.push(CM),n.push(EM.parse(e))):e.startsWith("var(")?(i.var.push(o),r.push("var"),n.push(e)):(i.number.push(o),r.push(AM),n.push(parseFloat(e))),++o,"${}"))).split("${}");return{values:n,split:s,indexes:i,types:r}}function PM(e){return LM(e).values}function NM(e){const{split:t,types:n}=LM(e),i=t.length;return e=>{let r="";for(let o=0;o<i;o++)if(r+=t[o],void 0!==e[o]){const t=n[o];r+=t===AM?cM(e[o]):t===CM?EM.transform(e[o]):e[o]}return r}}const kM=e=>"number"===typeof e?0:EM.test(e)?EM.getAnimatableNone(e):e;const OM={test:function(e){var t,n;return isNaN(e)&&"string"===typeof e&&((null===(t=e.match(uM))||void 0===t?void 0:t.length)||0)+((null===(n=e.match(TM))||void 0===n?void 0:n.length)||0)>0},parse:PM,createTransformer:NM,getAnimatableNone:function(e){const t=PM(e);return NM(e)(t.map(kM))}};function DM(e,t,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+6*(t-e)*n:n<.5?t:n<2/3?e+(t-e)*(2/3-n)*6:e}function jM(e,t){return n=>n>0?t:e}const FM=(e,t,n)=>e+(t-e)*n,IM=(e,t,n)=>{const i=e*e,r=n*(t*t-i)+i;return r<0?0:Math.sqrt(r)},zM=[gM,mM,MM];function BM(e){const t=(n=e,zM.find((e=>e.test(n))));var n;if(Boolean(t),"'".concat(e,"' is not an animatable color. Use the equivalent color code instead."),!Boolean(t))return!1;let i=t.parse(e);return t===MM&&(i=function(e){let{hue:t,saturation:n,lightness:i,alpha:r}=e;t/=360,n/=100,i/=100;let o=0,s=0,a=0;if(n){const e=i<.5?i*(1+n):i+n-i*n,r=2*i-e;o=DM(r,e,t+1/3),s=DM(r,e,t),a=DM(r,e,t-1/3)}else o=s=a=i;return{red:Math.round(255*o),green:Math.round(255*s),blue:Math.round(255*a),alpha:r}}(i)),i}const UM=(e,t)=>{const n=BM(e),i=BM(t);if(!n||!i)return jM(e,t);const r=u({},n);return e=>(r.red=IM(n.red,i.red,e),r.green=IM(n.green,i.green,e),r.blue=IM(n.blue,i.blue,e),r.alpha=FM(n.alpha,i.alpha,e),mM.transform(r))},HM=new Set(["none","hidden"]);function GM(e,t){return n=>FM(e,t,n)}function VM(e){return"number"===typeof e?GM:"string"===typeof e?rM(e)?jM:EM.test(e)?UM:XM:Array.isArray(e)?WM:"object"===typeof e?EM.test(e)?UM:qM:jM}function WM(e,t){const n=[...e],i=n.length,r=e.map(((e,n)=>VM(e)(e,t[n])));return e=>{for(let t=0;t<i;t++)n[t]=r[t](e);return n}}function qM(e,t){const n=u(u({},e),t),i={};for(const r in n)void 0!==e[r]&&void 0!==t[r]&&(i[r]=VM(e[r])(e[r],t[r]));return e=>{for(const t in i)n[t]=i[t](e);return n}}const XM=(e,t)=>{const n=OM.createTransformer(t),i=LM(e),r=LM(t);return i.indexes.var.length===r.indexes.var.length&&i.indexes.color.length===r.indexes.color.length&&i.indexes.number.length>=r.indexes.number.length?HM.has(e)&&!r.values.length||HM.has(t)&&!i.values.length?function(e,t){return HM.has(e)?n=>n<=0?e:t:n=>n>=1?t:e}(e,t):ZS(WM(function(e,t){const n=[],i={color:0,var:0,number:0};for(let o=0;o<t.values.length;o++){var r;const s=t.types[o],a=e.indexes[s][i[s]],l=null!==(r=e.values[a])&&void 0!==r?r:0;n[o]=l,i[s]++}return n}(i,r),r.values),n):("Complex values '".concat(e,"' and '").concat(t,"' too different to mix. Ensure all colors are of the same type, and that each contains the same quantity of number and color values. Falling back to instant transition."),jM(e,t))};function YM(e,t,n){if("number"===typeof e&&"number"===typeof t&&"number"===typeof n)return FM(e,t,n);return VM(e)(e,t)}const JM=e=>{const t=t=>{let{timestamp:n}=t;return e(n)};return{start:function(){let e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return SS.update(t,e)},stop:()=>MS(t),now:()=>ES.isProcessing?ES.timestamp:jS.now()}},ZM=function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:10,i="";const r=Math.max(Math.round(t/n),2);for(let o=0;o<r;o++)i+=Math.round(1e4*e(o/(r-1)))/1e4+", ";return"linear(".concat(i.substring(0,i.length-2),")")},KM=2e4;function QM(e){let t=0;let n=e.next(t);for(;!n.done&&t<KM;)t+=50,n=e.next(t);return t>=KM?1/0:t}function $M(e,t,n){const i=Math.max(t-5,0);return kS(n-e(i),t-i)}const eE={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},tE=.001;function nE(e){let t,n,{duration:i=eE.duration,bounce:r=eE.bounce,velocity:o=eE.velocity,mass:s=eE.mass}=e;QS(eE.maxDuration);let a=1-r;a=KS(eE.minDamping,eE.maxDamping,a),i=KS(eE.minDuration,eE.maxDuration,$S(i)),a<1?(t=e=>{const t=e*a,n=t*i,r=t-o,s=rE(e,a),l=Math.exp(-n);return tE-r/s*l},n=e=>{const n=e*a*i,r=n*o+o,s=Math.pow(a,2)*Math.pow(e,2)*i,l=Math.exp(-n),c=rE(Math.pow(e,2),a);return(-t(e)+tE>0?-1:1)*((r-s)*l)/c}):(t=e=>Math.exp(-e*i)*((e-o)*i+1)-.001,n=e=>Math.exp(-e*i)*(i*i*(o-e)));const l=function(e,t,n){let i=n;for(let r=1;r<iE;r++)i-=e(i)/t(i);return i}(t,n,5/i);if(i=QS(i),isNaN(l))return{stiffness:eE.stiffness,damping:eE.damping,duration:i};{const e=Math.pow(l,2)*s;return{stiffness:e,damping:2*a*Math.sqrt(s*e),duration:i}}}const iE=12;function rE(e,t){return e*Math.sqrt(1-t*t)}const oE=["duration","bounce"],sE=["stiffness","damping","mass"];function aE(e,t){return t.some((t=>void 0!==e[t]))}function lE(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:eE.visualDuration,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:eE.bounce;const n="object"!==typeof e?{visualDuration:e,keyframes:[0,1],bounce:t}:e;let{restSpeed:i,restDelta:r}=n;const o=n.keyframes[0],s=n.keyframes[n.keyframes.length-1],a={done:!1,value:o},{stiffness:l,damping:c,mass:h,duration:d,velocity:p,isResolvedFromDuration:f}=function(e){let t=u({velocity:eE.velocity,stiffness:eE.stiffness,damping:eE.damping,mass:eE.mass,isResolvedFromDuration:!1},e);if(!aE(e,sE)&&aE(e,oE))if(e.visualDuration){const n=e.visualDuration,i=2*Math.PI/(1.2*n),r=i*i,o=2*KS(.05,1,1-(e.bounce||0))*Math.sqrt(r);t=u(u({},t),{},{mass:eE.mass,stiffness:r,damping:o})}else{const n=nE(e);t=u(u(u({},t),n),{},{mass:eE.mass}),t.isResolvedFromDuration=!0}return t}(u(u({},n),{},{velocity:-$S(n.velocity||0)})),m=p||0,g=c/(2*Math.sqrt(l*h)),v=s-o,y=$S(Math.sqrt(l/h)),x=Math.abs(v)<5;let b;if(i||(i=x?eE.restSpeed.granular:eE.restSpeed.default),r||(r=x?eE.restDelta.granular:eE.restDelta.default),g<1){const e=rE(y,g);b=t=>{const n=Math.exp(-g*y*t);return s-n*((m+g*y*v)/e*Math.sin(e*t)+v*Math.cos(e*t))}}else if(1===g)b=e=>s-Math.exp(-y*e)*(v+(m+y*v)*e);else{const e=y*Math.sqrt(g*g-1);b=t=>{const n=Math.exp(-g*y*t),i=Math.min(e*t,300);return s-n*((m+g*y*v)*Math.sinh(i)+e*v*Math.cosh(i))/e}}const w={calculatedDuration:f&&d||null,next:e=>{const t=b(e);if(f)a.done=e>=d;else{let n=0===e?m:0;g<1&&(n=0===e?QS(m):$M(b,e,t));const o=Math.abs(n)<=i,l=Math.abs(s-t)<=r;a.done=o&&l}return a.value=a.done?s:t,a},toString:()=>{const e=Math.min(QM(w),KM),t=ZM((t=>w.next(e*t).value),e,30);return e+"ms "+t},toTransition:()=>{}};return w}function cE(e){let{keyframes:t,velocity:n=0,power:i=.8,timeConstant:r=325,bounceDamping:o=10,bounceStiffness:s=500,modifyTarget:a,min:l,max:c,restDelta:u=.5,restSpeed:h}=e;const d=t[0],p={done:!1,value:d},f=e=>void 0===l?c:void 0===c||Math.abs(l-e)<Math.abs(c-e)?l:c;let m=i*n;const g=d+m,v=void 0===a?g:a(g);v!==g&&(m=v-d);const y=e=>-m*Math.exp(-e/r),x=e=>v+y(e),b=e=>{const t=y(e),n=x(e);p.done=Math.abs(t)<=u,p.value=p.done?v:n};let w,_;const S=e=>{var t;(t=p.value,void 0!==l&&t<l||void 0!==c&&t>c)&&(w=e,_=lE({keyframes:[p.value,f(p.value)],velocity:$M(x,e,p.value),damping:o,stiffness:s,restDelta:u,restSpeed:h}))};return S(0),{calculatedDuration:null,next:e=>{let t=!1;return _||void 0!==w||(t=!0,b(e),S(e)),void 0!==w&&e>=w?_.next(e-w):(!t&&b(e),p)}}}lE.applyToOptions=e=>{const t=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:100;const n=(arguments.length>2?arguments[2]:void 0)(u(u({},e),{},{keyframes:[0,t]})),i=Math.min(QM(n),KM);return{type:"keyframes",ease:e=>n.next(i*e).value/t,duration:$S(i)}}(e,100,lE);return e.ease=t.ease,e.duration=QS(t.duration),e.type="keyframes",e};const uE=(e,t,n)=>(((1-3*n+3*t)*e+(3*n-6*t))*e+3*t)*e;function hE(e,t,n,i){if(e===t&&n===i)return yS;const r=t=>function(e,t,n,i,r){let o,s,a=0;do{s=t+(n-t)/2,o=uE(s,i,r)-e,o>0?n=s:t=s}while(Math.abs(o)>1e-7&&++a<12);return s}(t,0,1,e,n);return e=>0===e||1===e?e:uE(r(e),t,i)}const dE=hE(.42,0,1,1),pE=hE(0,0,.58,1),fE=hE(.42,0,.58,1),mE=e=>t=>t<=.5?e(2*t)/2:(2-e(2*(1-t)))/2,gE=e=>t=>1-e(1-t),vE=hE(.33,1.53,.69,.99),yE=gE(vE),xE=mE(yE),bE=e=>(e*=2)<1?.5*yE(e):.5*(2-Math.pow(2,-10*(e-1))),wE=e=>1-Math.sin(Math.acos(e)),_E=gE(wE),SE=mE(wE),ME=e=>Array.isArray(e)&&"number"===typeof e[0],EE={linear:yS,easeIn:dE,easeInOut:fE,easeOut:pE,circIn:wE,circInOut:SE,circOut:_E,backIn:yE,backInOut:xE,backOut:vE,anticipate:bE},TE=e=>{if(ME(e)){e.length;const[t,n,i,r]=e;return hE(t,n,i,r)}return"string"===typeof e?("Invalid easing type '".concat(e,"'"),EE[e]):e},AE=(e,t,n)=>{const i=t-e;return 0===i?1:(n-e)/i};function CE(e,t){let{clamp:n=!0,ease:i,mixer:r}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const o=e.length;if(t.length,1===o)return()=>t[0];if(2===o&&t[0]===t[1])return()=>t[1];const s=e[0]===e[1];e[0]>e[o-1]&&(e=[...e].reverse(),t=[...t].reverse());const a=function(e,t,n){const i=[],r=n||xS.mix||YM,o=e.length-1;for(let s=0;s<o;s++){let n=r(e[s],e[s+1]);if(t){const e=Array.isArray(t)?t[s]||yS:t;n=ZS(e,n)}i.push(n)}return i}(t,i,r),l=a.length,c=n=>{if(s&&n<e[0])return t[0];let i=0;if(l>1)for(;i<e.length-2&&!(n<e[i+1]);i++);const r=AE(e[i],e[i+1],n);return a[i](r)};return n?t=>c(KS(e[0],e[o-1],t)):c}function RE(e){const t=[0];return function(e,t){const n=e[e.length-1];for(let i=1;i<=t;i++){const r=AE(0,t,i);e.push(FM(n,1,r))}}(t,e.length-1),t}function LE(e){let{duration:t=300,keyframes:n,times:i,ease:r="easeInOut"}=e;const o=(e=>Array.isArray(e)&&"number"!==typeof e[0])(r)?r.map(TE):TE(r),s={done:!1,value:n[0]},a=function(e,t){return e.map((e=>e*t))}(i&&i.length===n.length?i:RE(n),t),l=CE(a,n,{ease:Array.isArray(o)?o:(c=n,u=o,c.map((()=>u||fE)).splice(0,c.length-1))});var c,u;return{calculatedDuration:t,next:e=>(s.value=l(e),s.done=e>=t,s)}}const PE=e=>null!==e;function NE(e,t,n){let{repeat:i,repeatType:r="loop"}=t,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1;const s=e.filter(PE),a=o<0||i&&"loop"!==r&&i%2===1?0:s.length-1;return a&&void 0!==n?n:s[a]}const kE={decay:cE,inertia:cE,tween:LE,keyframes:LE,spring:lE};function OE(e){"string"===typeof e.type&&(e.type=kE[e.type])}class DE{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise((e=>{this.resolve=e}))}notifyFinished(){this.resolve()}then(e,t){return this.finished.then(e,t)}}const jE=e=>e/100;class FE extends DE{constructor(e){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{var e,t;const{motionValue:n}=this.options;n&&n.updatedAt!==jS.now()&&this.tick(jS.now()),this.isStopped=!0,"idle"!==this.state&&(this.teardown(),null===(e=(t=this.options).onStop)||void 0===e||e.call(t))},eM.mainThread++,this.options=e,this.initAnimation(),this.play(),!1===e.autoplay&&this.pause()}initAnimation(){const{options:e}=this;OE(e);const{type:t=LE,repeat:n=0,repeatDelay:i=0,repeatType:r,velocity:o=0}=e;let{keyframes:s}=e;const a=t||LE;a!==LE&&"number"!==typeof s[0]&&(this.mixKeyframes=ZS(jE,YM(s[0],s[1])),s=[0,100]);const l=a(u(u({},e),{},{keyframes:s}));"mirror"===r&&(this.mirroredGenerator=a(u(u({},e),{},{keyframes:[...s].reverse(),velocity:-o}))),null===l.calculatedDuration&&(l.calculatedDuration=QM(l));const{calculatedDuration:c}=l;this.calculatedDuration=c,this.resolvedDuration=c+i,this.totalDuration=this.resolvedDuration*(n+1)-i,this.generator=l}updateTime(e){const t=Math.round(e-this.startTime)*this.playbackSpeed;null!==this.holdTime?this.currentTime=this.holdTime:this.currentTime=t}tick(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const{generator:n,totalDuration:i,mixKeyframes:r,mirroredGenerator:o,resolvedDuration:s,calculatedDuration:a}=this;if(null===this.startTime)return n.next(0);const{delay:l=0,keyframes:c,repeat:u,repeatType:h,repeatDelay:d,type:p,onUpdate:f,finalKeyframe:m}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-i/this.speed,this.startTime)),t?this.currentTime=e:this.updateTime(e);const g=this.currentTime-l*(this.playbackSpeed>=0?1:-1),v=this.playbackSpeed>=0?g<0:g>i;this.currentTime=Math.max(g,0),"finished"===this.state&&null===this.holdTime&&(this.currentTime=i);let y=this.currentTime,x=n;if(u){const e=Math.min(this.currentTime,i)/s;let t=Math.floor(e),n=e%1;!n&&e>=1&&(n=1),1===n&&t--,t=Math.min(t,u+1);Boolean(t%2)&&("reverse"===h?(n=1-n,d&&(n-=d/s)):"mirror"===h&&(x=o)),y=KS(0,1,n)*s}const b=v?{done:!1,value:c[0]}:x.next(y);r&&(b.value=r(b.value));let{done:w}=b;v||null===a||(w=this.playbackSpeed>=0?this.currentTime>=i:this.currentTime<=0);const _=null===this.holdTime&&("finished"===this.state||"running"===this.state&&w);return _&&p!==cE&&(b.value=NE(c,this.options,m,this.speed)),f&&f(b.value),_&&this.finish(),b}then(e,t){return this.finished.then(e,t)}get duration(){return $S(this.calculatedDuration)}get time(){return $S(this.currentTime)}set time(e){var t;e=QS(e),this.currentTime=e,null===this.startTime||null!==this.holdTime||0===this.playbackSpeed?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.playbackSpeed),null===(t=this.driver)||void 0===t||t.start(!1)}get speed(){return this.playbackSpeed}set speed(e){this.updateTime(jS.now());const t=this.playbackSpeed!==e;this.playbackSpeed=e,t&&(this.time=$S(this.currentTime))}play(){var e,t;if(this.isStopped)return;const{driver:n=JM,startTime:i}=this.options;this.driver||(this.driver=n((e=>this.tick(e)))),null===(e=(t=this.options).onPlay)||void 0===e||e.call(t);const r=this.driver.now();"finished"===this.state?(this.updateFinished(),this.startTime=r):null!==this.holdTime?this.startTime=r-this.holdTime:this.startTime||(this.startTime=null!==i&&void 0!==i?i:r),"finished"===this.state&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(jS.now()),this.holdTime=this.currentTime}complete(){"running"!==this.state&&this.play(),this.state="finished",this.holdTime=null}finish(){var e,t;this.notifyFinished(),this.teardown(),this.state="finished",null===(e=(t=this.options).onComplete)||void 0===e||e.call(t)}cancel(){var e,t;this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),null===(e=(t=this.options).onCancel)||void 0===e||e.call(t)}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null,eM.mainThread--}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}attachTimeline(e){var t;return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),null===(t=this.driver)||void 0===t||t.stop(),e.observe(this)}}const IE=e=>180*e/Math.PI,zE=e=>{const t=IE(Math.atan2(e[1],e[0]));return UE(t)},BE={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:e=>(Math.abs(e[0])+Math.abs(e[3]))/2,rotate:zE,rotateZ:zE,skewX:e=>IE(Math.atan(e[1])),skewY:e=>IE(Math.atan(e[2])),skew:e=>(Math.abs(e[1])+Math.abs(e[2]))/2},UE=e=>((e%=360)<0&&(e+=360),e),HE=e=>Math.sqrt(e[0]*e[0]+e[1]*e[1]),GE=e=>Math.sqrt(e[4]*e[4]+e[5]*e[5]),VE={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:HE,scaleY:GE,scale:e=>(HE(e)+GE(e))/2,rotateX:e=>UE(IE(Math.atan2(e[6],e[5]))),rotateY:e=>UE(IE(Math.atan2(-e[2],e[0]))),rotateZ:zE,rotate:zE,skewX:e=>IE(Math.atan(e[4])),skewY:e=>IE(Math.atan(e[1])),skew:e=>(Math.abs(e[1])+Math.abs(e[4]))/2};function WE(e){return e.includes("scale")?1:0}function qE(e,t){if(!e||"none"===e)return WE(t);const n=e.match(/^matrix3d\(([\t-\r ,-\.0-9e\xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]+)\)$/);let i,r;if(n)i=VE,r=n;else{const t=e.match(/^matrix\(([\t-\r ,-\.0-9e\xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]+)\)$/);i=BE,r=t}if(!r)return WE(t);const o=i[t],s=r[1].split(",").map(XE);return"function"===typeof o?o(s):s[o]}function XE(e){return parseFloat(e.trim())}const YE=e=>e===sM||e===bM,JE=new Set(["x","y","z"]),ZE=AS.filter((e=>!JE.has(e)));const KE={width:(e,t)=>{let{x:n}=e,{paddingLeft:i="0",paddingRight:r="0"}=t;return n.max-n.min-parseFloat(i)-parseFloat(r)},height:(e,t)=>{let{y:n}=e,{paddingTop:i="0",paddingBottom:r="0"}=t;return n.max-n.min-parseFloat(i)-parseFloat(r)},top:(e,t)=>{let{top:n}=t;return parseFloat(n)},left:(e,t)=>{let{left:n}=t;return parseFloat(n)},bottom:(e,t)=>{let{y:n}=e,{top:i}=t;return parseFloat(i)+(n.max-n.min)},right:(e,t)=>{let{x:n}=e,{left:i}=t;return parseFloat(i)+(n.max-n.min)},x:(e,t)=>{let{transform:n}=t;return qE(n,"x")},y:(e,t)=>{let{transform:n}=t;return qE(n,"y")}};KE.translateX=KE.x,KE.translateY=KE.y;const QE=new Set;let $E=!1,eT=!1,tT=!1;function nT(){if(eT){const e=Array.from(QE).filter((e=>e.needsMeasurement)),t=new Set(e.map((e=>e.element))),n=new Map;t.forEach((e=>{const t=function(e){const t=[];return ZE.forEach((n=>{const i=e.getValue(n);void 0!==i&&(t.push([n,i.get()]),i.set(n.startsWith("scale")?1:0))})),t}(e);t.length&&(n.set(e,t),e.render())})),e.forEach((e=>e.measureInitialState())),t.forEach((e=>{e.render();const t=n.get(e);t&&t.forEach((t=>{var n;let[i,r]=t;null===(n=e.getValue(i))||void 0===n||n.set(r)}))})),e.forEach((e=>e.measureEndState())),e.forEach((e=>{void 0!==e.suspendedScrollY&&window.scrollTo(0,e.suspendedScrollY)}))}eT=!1,$E=!1,QE.forEach((e=>e.complete(tT))),QE.clear()}function iT(){QE.forEach((e=>{e.readKeyframes(),e.needsMeasurement&&(eT=!0)}))}class rT{constructor(e,t,n,i,r){let o=arguments.length>5&&void 0!==arguments[5]&&arguments[5];this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...e],this.onComplete=t,this.name=n,this.motionValue=i,this.element=r,this.isAsync=o}scheduleResolve(){this.state="scheduled",this.isAsync?(QE.add(this),$E||($E=!0,SS.read(iT),SS.resolveKeyframes(nT))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:t,element:n,motionValue:i}=this;if(null===e[0]){const r=null===i||void 0===i?void 0:i.get(),o=e[e.length-1];if(void 0!==r)e[0]=r;else if(n&&t){const i=n.readValue(t,o);void 0!==i&&null!==i&&(e[0]=i)}void 0===e[0]&&(e[0]=o),i&&void 0===r&&i.set(e[0])}!function(e){for(let n=1;n<e.length;n++){var t;null!==(t=e[n])&&void 0!==t||(e[n]=e[n-1])}}(e)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,e),QE.delete(this)}cancel(){"scheduled"===this.state&&(QE.delete(this),this.state="pending")}resume(){"pending"===this.state&&this.scheduleResolve()}}function oT(e){let t;return()=>(void 0===t&&(t=e()),t)}const sT=oT((()=>void 0!==window.ScrollTimeline)),aT={};function lT(e,t){const n=oT(e);return()=>{var e;return null!==(e=aT[t])&&void 0!==e?e:n()}}const cT=lT((()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch(cF){return!1}return!0}),"linearEasing"),uT=e=>{let[t,n,i,r]=e;return"cubic-bezier(".concat(t,", ").concat(n,", ").concat(i,", ").concat(r,")")},hT={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:uT([0,.65,.55,1]),circOut:uT([.55,0,1,.45]),backIn:uT([.31,.01,.66,-.59]),backOut:uT([.33,1.53,.69,.99])};function dT(e,t){return e?"function"===typeof e?cT()?ZM(e,t):"ease-out":ME(e)?uT(e):Array.isArray(e)?e.map((e=>dT(e,t)||hT.easeOut)):hT[e]:void 0}function pT(e,t,n){let{delay:i=0,duration:r=300,repeat:o=0,repeatType:s="loop",ease:a="easeOut",times:l}=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},c=arguments.length>4&&void 0!==arguments[4]?arguments[4]:void 0;const u={[t]:n};l&&(u.offset=l);const h=dT(a,r);Array.isArray(h)&&(u.easing=h),wS.value&&eM.waapi++;const d={delay:i,duration:r,easing:Array.isArray(h)?"linear":h,fill:"both",iterations:o+1,direction:"reverse"===s?"alternate":"normal"};c&&(d.pseudoElement=c);const p=e.animate(u,d);return wS.value&&p.finished.finally((()=>{eM.waapi--})),p}function fT(e){return"function"===typeof e&&"applyToOptions"in e}const mT=["type"];class gT extends DE{constructor(e){if(super(),this.finishedTime=null,this.isStopped=!1,!e)return;const{element:t,name:n,keyframes:i,pseudoElement:r,allowFlatten:o=!1,finalKeyframe:s,onComplete:a}=e;this.isPseudoElement=Boolean(r),this.allowFlatten=o,this.options=e,e.type;const l=function(e){let{type:t}=e,n=$f(e,mT);return fT(t)&&cT()?t.applyToOptions(n):(null!==(i=n.duration)&&void 0!==i||(n.duration=300),null!==(r=n.ease)&&void 0!==r||(n.ease="easeOut"),n);var i,r}(e);this.animation=pT(t,n,i,l,r),!1===l.autoplay&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!r){const e=NE(i,this.options,s,this.speed);this.updateMotionValue?this.updateMotionValue(e):function(e,t,n){(e=>e.startsWith("--"))(t)?e.style.setProperty(t,n):e.style[t]=n}(t,n,e),this.animation.cancel()}null===a||void 0===a||a(),this.notifyFinished()}}play(){this.isStopped||(this.animation.play(),"finished"===this.state&&this.updateFinished())}pause(){this.animation.pause()}complete(){var e,t;null===(e=(t=this.animation).finish)||void 0===e||e.call(t)}cancel(){try{this.animation.cancel()}catch(cF){}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:e}=this;"idle"!==e&&"finished"!==e&&(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){var e,t;this.isPseudoElement||(null===(e=(t=this.animation).commitStyles)||void 0===e||e.call(t))}get duration(){var e,t;const n=(null===(e=this.animation.effect)||void 0===e||null===(t=e.getComputedTiming)||void 0===t?void 0:t.call(e).duration)||0;return $S(Number(n))}get time(){return $S(Number(this.animation.currentTime)||0)}set time(e){this.finishedTime=null,this.animation.currentTime=QS(e)}get speed(){return this.animation.playbackRate}set speed(e){e<0&&(this.finishedTime=null),this.animation.playbackRate=e}get state(){return null!==this.finishedTime?"finished":this.animation.playState}get startTime(){return Number(this.animation.startTime)}set startTime(e){this.animation.startTime=e}attachTimeline(e){let{timeline:t,observe:n}=e;var i;this.allowFlatten&&(null===(i=this.animation.effect)||void 0===i||i.updateTiming({easing:"linear"}));return this.animation.onfinish=null,t&&sT()?(this.animation.timeline=t,yS):n(this)}}const vT={anticipate:bE,backInOut:xE,circInOut:SE};function yT(e){"string"===typeof e.ease&&e.ease in vT&&(e.ease=vT[e.ease])}const xT=["motionValue","onUpdate","onComplete","element"];class bT extends gT{constructor(e){yT(e),OE(e),super(e),e.startTime&&(this.startTime=e.startTime),this.options=e}updateMotionValue(e){var t;const n=this.options,{motionValue:i,onUpdate:r,onComplete:o,element:s}=n,a=$f(n,xT);if(!i)return;if(void 0!==e)return void i.set(e);const l=new FE(u(u({},a),{},{autoplay:!1})),c=QS(null!==(t=this.finishedTime)&&void 0!==t?t:this.time);i.setWithVelocity(l.sample(c-10).value,l.sample(c).value,10),l.stop()}}const wT=(e,t)=>"zIndex"!==t&&(!("number"!==typeof e&&!Array.isArray(e))||!("string"!==typeof e||!OM.test(e)&&"0"!==e||e.startsWith("url(")));function _T(e){return"object"===typeof e&&null!==e}function ST(e){return _T(e)&&"offsetHeight"in e}const MT=new Set(["opacity","clipPath","filter","transform"]),ET=oT((()=>Object.hasOwnProperty.call(Element.prototype,"animate")));const TT=["autoplay","delay","type","repeat","repeatDelay","repeatType","keyframes","name","motionValue","element"];class AT extends DE{constructor(e){var t;let{autoplay:n=!0,delay:i=0,type:r="keyframes",repeat:o=0,repeatDelay:s=0,repeatType:a="loop",keyframes:l,name:c,motionValue:h,element:d}=e,p=$f(e,TT);super(),this.stop=()=>{var e,t;this._animation&&(this._animation.stop(),null===(t=this.stopTimeline)||void 0===t||t.call(this));null===(e=this.keyframeResolver)||void 0===e||e.cancel()},this.createdAt=jS.now();const f=u({autoplay:n,delay:i,type:r,repeat:o,repeatDelay:s,repeatType:a,name:c,motionValue:h,element:d},p),m=(null===d||void 0===d?void 0:d.KeyframeResolver)||rT;this.keyframeResolver=new m(l,((e,t,n)=>this.onKeyframesResolved(e,t,f,!n)),c,h,d),null===(t=this.keyframeResolver)||void 0===t||t.scheduleResolve()}onKeyframesResolved(e,t,n,i){this.keyframeResolver=void 0;const{name:r,type:o,velocity:s,delay:a,isHandoff:l,onUpdate:c}=n;this.resolvedAt=jS.now(),function(e,t,n,i){const r=e[0];if(null===r)return!1;if("display"===t||"visibility"===t)return!0;const o=e[e.length-1],s=wT(r,t),a=wT(o,t);return"You are trying to animate ".concat(t,' from "').concat(r,'" to "').concat(o,'". ').concat(r," is not an animatable value - to enable this animation set ").concat(r," to a value animatable to ").concat(o," via the `style` property."),!(!s||!a)&&(function(e){const t=e[0];if(1===e.length)return!0;for(let n=0;n<e.length;n++)if(e[n]!==t)return!0}(e)||("spring"===n||fT(n))&&i)}(e,r,o,s)||(!xS.instantAnimations&&a||null===c||void 0===c||c(NE(e,n,t)),e[0]=e[e.length-1],n.duration=0,n.repeat=0);const h=u(u({startTime:i?this.resolvedAt&&this.resolvedAt-this.createdAt>40?this.resolvedAt:this.createdAt:void 0,finalKeyframe:t},n),{},{keyframes:e}),d=!l&&function(e){var t;const{motionValue:n,name:i,repeatDelay:r,repeatType:o,damping:s,type:a}=e;if(!ST(null===n||void 0===n||null===(t=n.owner)||void 0===t?void 0:t.current))return!1;const{onUpdate:l,transformTemplate:c}=n.owner.getProps();return ET()&&i&&MT.has(i)&&("transform"!==i||!c)&&!l&&!r&&"mirror"!==o&&0!==s&&"inertia"!==a}(h)?new bT(u(u({},h),{},{element:h.motionValue.owner.current})):new FE(h);d.finished.then((()=>this.notifyFinished())).catch(yS),this.pendingTimeline&&(this.stopTimeline=d.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=d}get finished(){return this._animation?this.animation.finished:this._finished}then(e,t){return this.finished.finally(e).then((()=>{}))}get animation(){var e;this._animation||(null===(e=this.keyframeResolver)||void 0===e||e.resume(),tT=!0,iT(),nT(),tT=!1);return this._animation}get duration(){return this.animation.duration}get time(){return this.animation.time}set time(e){this.animation.time=e}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(e){this.animation.speed=e}get startTime(){return this.animation.startTime}attachTimeline(e){return this._animation?this.stopTimeline=this.animation.attachTimeline(e):this.pendingTimeline=e,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){var e;this._animation&&this.animation.cancel(),null===(e=this.keyframeResolver)||void 0===e||e.cancel()}}const CT=e=>null!==e;const RT={type:"spring",stiffness:500,damping:25,restSpeed:10},LT={type:"keyframes",duration:.8},PT={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},NT=(e,t)=>{let{keyframes:n}=t;return n.length>2?LT:CS.has(e)?e.startsWith("scale")?{type:"spring",stiffness:550,damping:0===n[1]?2*Math.sqrt(550):30,restSpeed:10}:RT:PT},kT=["when","delay","delayChildren","staggerChildren","staggerDirection","repeat","repeatType","repeatDelay","from","elapsed"];const OT=function(e,t,n){let i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},r=arguments.length>4?arguments[4]:void 0,o=arguments.length>5?arguments[5]:void 0;return s=>{const a=vS(i,e)||{},l=a.delay||i.delay||0;let{elapsed:c=0}=i;c-=QS(l);const h=u(u({keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:t.getVelocity()},a),{},{delay:-c,onUpdate:e=>{t.set(e),a.onUpdate&&a.onUpdate(e)},onComplete:()=>{s(),a.onComplete&&a.onComplete()},name:e,motionValue:t,element:o?void 0:r});(function(e){let{when:t,delay:n,delayChildren:i,staggerChildren:r,staggerDirection:o,repeat:s,repeatType:a,repeatDelay:l,from:c,elapsed:u}=e,h=$f(e,kT);return!!Object.keys(h).length})(a)||Object.assign(h,NT(e,h)),h.duration&&(h.duration=QS(h.duration)),h.repeatDelay&&(h.repeatDelay=QS(h.repeatDelay)),void 0!==h.from&&(h.keyframes[0]=h.from);let d=!1;if((!1===h.type||0===h.duration&&!h.repeatDelay)&&(h.duration=0,0===h.delay&&(d=!0)),(xS.instantAnimations||xS.skipAnimations)&&(d=!0,h.duration=0,h.delay=0),h.allowFlatten=!a.type&&!a.ease,d&&!o&&void 0!==t.get()){const e=function(e,t,n){let{repeat:i,repeatType:r="loop"}=t;const o=e.filter(CT),s=i&&"loop"!==r&&i%2===1?0:o.length-1;return s&&void 0!==n?n:o[s]}(h.keyframes,a);if(void 0!==e)return void SS.update((()=>{h.onUpdate(e),h.onComplete()}))}return a.isSync?new FE(h):new AT(h)}},DT=["transition","transitionEnd"];function jT(e,t){let{protectedKeys:n,needsAnimating:i}=e;const r=n.hasOwnProperty(t)&&!0!==i[t];return i[t]=!1,r}function FT(e,t){let{delay:n=0,transitionOverride:i,type:r}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},{transition:o=e.getDefaultTransition(),transitionEnd:s}=t,a=$f(t,DT);i&&(o=i);const l=[],c=r&&e.animationState&&e.animationState.getState()[r];for(const d in a){var h;const t=e.getValue(d,null!==(h=e.latestValues[d])&&void 0!==h?h:null),i=a[d];if(void 0===i||c&&jT(c,d))continue;const r=u({delay:n},vS(o||{},d)),s=t.get();if(void 0!==s&&!t.isAnimating&&!Array.isArray(i)&&i===s&&!r.velocity)continue;let p=!1;if(window.MotionHandoffAnimation){const t=YS(e);if(t){const e=window.MotionHandoffAnimation(t,d,SS);null!==e&&(r.startTime=e,p=!0)}}WS(e,d),t.start(OT(d,t,i,e.shouldReduceMotion&&RS.has(d)?{type:!1}:r,e,p));const f=t.animation;f&&l.push(f)}return s&&Promise.all(l).then((()=>{SS.update((()=>{s&&GS(e,s)}))})),l}function IT(e,t){var n;let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const r=gS(e,t,"exit"===i.type?null===(n=e.presenceContext)||void 0===n?void 0:n.custom:void 0);let{transition:o=e.getDefaultTransition()||{}}=r||{};i.transitionOverride&&(o=i.transitionOverride);const s=r?()=>Promise.all(FT(e,r,i)):()=>Promise.resolve(),a=e.variantChildren&&e.variantChildren.size?function(){let n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;const{delayChildren:r=0,staggerChildren:s,staggerDirection:a}=o;return function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:1,o=arguments.length>5?arguments[5]:void 0;const s=[],a=(e.variantChildren.size-1)*i,l=1===r?function(){return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:0)*i}:function(){return a-(arguments.length>0&&void 0!==arguments[0]?arguments[0]:0)*i};return Array.from(e.variantChildren).sort(zT).forEach(((e,i)=>{e.notify("AnimationStart",t),s.push(IT(e,t,u(u({},o),{},{delay:n+l(i)})).then((()=>e.notify("AnimationComplete",t))))})),Promise.all(s)}(e,t,r+n,s,a,i)}:()=>Promise.resolve(),{when:l}=o;if(l){const[e,t]="beforeChildren"===l?[s,a]:[a,s];return e().then((()=>t()))}return Promise.all([s(),a(i.delay)])}function zT(e,t){return e.sortNodePosition(t)}function BT(e,t){let n,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(e.notify("AnimationStart",t),Array.isArray(t)){const r=t.map((t=>IT(e,t,i)));n=Promise.all(r)}else if("string"===typeof t)n=IT(e,t,i);else{const r="function"===typeof t?gS(e,t,i.custom):t;n=Promise.all(FT(e,r,i))}return n.then((()=>{e.notify("AnimationComplete",t)}))}function UT(e,t){if(!Array.isArray(t))return!1;const n=t.length;if(n!==e.length)return!1;for(let i=0;i<n;i++)if(t[i]!==e[i])return!1;return!0}function HT(e){return"string"===typeof e||Array.isArray(e)}const GT=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],VT=["initial",...GT],WT=VT.length;function qT(e){if(!e)return;if(!e.isControllingVariants){const t=e.parent&&qT(e.parent)||{};return void 0!==e.props.initial&&(t.initial=e.props.initial),t}const t={};for(let n=0;n<WT;n++){const i=VT[n],r=e.props[i];(HT(r)||!1===r)&&(t[i]=r)}return t}const XT=["transition","transitionEnd"],YT=[...GT].reverse(),JT=GT.length;function ZT(e){let t=function(e){return t=>Promise.all(t.map((t=>{let{animation:n,options:i}=t;return BT(e,n,i)})))}(e),n=$T(),i=!0;const r=t=>(n,i)=>{var r;const o=gS(e,i,"exit"===t?null===(r=e.presenceContext)||void 0===r?void 0:r.custom:void 0);if(o){const{transition:e,transitionEnd:t}=o,i=$f(o,XT);n=u(u(u({},n),i),t)}return n};function o(o){const{props:s}=e,a=qT(e.parent)||{},l=[],c=new Set;let h={},d=1/0;for(let t=0;t<JT;t++){const p=YT[t],f=n[p],m=void 0!==s[p]?s[p]:a[p],g=HT(m),v=p===o?f.isActive:null;!1===v&&(d=t);let y=m===a[p]&&m!==s[p]&&g;if(y&&i&&e.manuallyAnimateOnMount&&(y=!1),f.protectedKeys=u({},h),!f.isActive&&null===v||!m&&!f.prevProp||pS(m)||"boolean"===typeof m)continue;const x=KT(f.prevProp,m);let b=x||p===o&&f.isActive&&!y&&g||t>d&&g,w=!1;const _=Array.isArray(m)?m:[m];let S=_.reduce(r(p),{});!1===v&&(S={});const{prevResolvedValues:M={}}=f,E=u(u({},M),S),T=t=>{b=!0,c.has(t)&&(w=!0,c.delete(t)),f.needsAnimating[t]=!0;const n=e.getValue(t);n&&(n.liveStyle=!1)};for(const e in E){const t=S[e],n=M[e];if(h.hasOwnProperty(e))continue;let i=!1;i=BS(t)&&BS(n)?!UT(t,n):t!==n,i?void 0!==t&&null!==t?T(e):c.add(e):void 0!==t&&c.has(e)?T(e):f.protectedKeys[e]=!0}f.prevProp=m,f.prevResolvedValues=S,f.isActive&&(h=u(u({},h),S)),i&&e.blockInitialAnimation&&(b=!1);b&&(!(y&&x)||w)&&l.push(..._.map((e=>({animation:e,options:{type:p}}))))}if(c.size){const t={};if("boolean"!==typeof s.initial){const n=gS(e,Array.isArray(s.initial)?s.initial[0]:s.initial);n&&n.transition&&(t.transition=n.transition)}c.forEach((n=>{const i=e.getBaseTarget(n),r=e.getValue(n);r&&(r.liveStyle=!0),t[n]=null!==i&&void 0!==i?i:null})),l.push({animation:t})}let p=Boolean(l.length);return!i||!1!==s.initial&&s.initial!==s.animate||e.manuallyAnimateOnMount||(p=!1),i=!1,p?t(l):Promise.resolve()}return{animateChanges:o,setActive:function(t,i){var r;if(n[t].isActive===i)return Promise.resolve();null===(r=e.variantChildren)||void 0===r||r.forEach((e=>{var n;return null===(n=e.animationState)||void 0===n?void 0:n.setActive(t,i)})),n[t].isActive=i;const s=o(t);for(const e in n)n[e].protectedKeys={};return s},setAnimateFunction:function(n){t=n(e)},getState:()=>n,reset:()=>{n=$T(),i=!0}}}function KT(e,t){return"string"===typeof t?t!==e:!!Array.isArray(t)&&!UT(t,e)}function QT(){return{isActive:arguments.length>0&&void 0!==arguments[0]&&arguments[0],protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function $T(){return{animate:QT(!0),whileInView:QT(),whileHover:QT(),whileTap:QT(),whileDrag:QT(),whileFocus:QT(),exit:QT()}}class eA{constructor(e){this.isMounted=!1,this.node=e}update(){}}let tA=0;const nA={animation:{Feature:class extends eA{constructor(e){super(e),e.animationState||(e.animationState=ZT(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();pS(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:t}=this.node.prevProps||{};e!==t&&this.updateAnimationControlsSubscription()}unmount(){var e;this.node.animationState.reset(),null===(e=this.unmountControls)||void 0===e||e.call(this)}}},exit:{Feature:class extends eA{constructor(){super(...arguments),this.id=tA++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:t}=this.node.presenceContext,{isPresent:n}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===n)return;const i=this.node.animationState.setActive("exit",!e);t&&!e&&i.then((()=>{t(this.id)}))}mount(){const{register:e,onExitComplete:t}=this.node.presenceContext||{};t&&t(this.id),e&&(this.unmount=e(this.id))}unmount(){}}}},iA={x:!1,y:!1};function rA(){return iA.x||iA.y}function oA(e,t,n){let i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{passive:!0};return e.addEventListener(t,n,i),()=>e.removeEventListener(t,n)}const sA=e=>"mouse"===e.pointerType?"number"!==typeof e.button||e.button<=0:!1!==e.isPrimary;function aA(e){return{point:{x:e.pageX,y:e.pageY}}}function lA(e,t,n,i){return oA(e,t,(e=>t=>sA(t)&&e(t,aA(t)))(n),i)}function cA(e){let{top:t,left:n,right:i,bottom:r}=e;return{x:{min:n,max:i},y:{min:t,max:r}}}function uA(e){return e.max-e.min}function hA(e,t,n){let i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:.5;e.origin=i,e.originPoint=FM(t.min,t.max,e.origin),e.scale=uA(n)/uA(t),e.translate=FM(n.min,n.max,e.origin)-e.originPoint,(e.scale>=.9999&&e.scale<=1.0001||isNaN(e.scale))&&(e.scale=1),(e.translate>=-.01&&e.translate<=.01||isNaN(e.translate))&&(e.translate=0)}function dA(e,t,n,i){hA(e.x,t.x,n.x,i?i.originX:void 0),hA(e.y,t.y,n.y,i?i.originY:void 0)}function pA(e,t,n){e.min=n.min+t.min,e.max=e.min+uA(t)}function fA(e,t,n){e.min=t.min-n.min,e.max=e.min+uA(t)}function mA(e,t,n){fA(e.x,t.x,n.x),fA(e.y,t.y,n.y)}const gA=()=>({x:{min:0,max:0},y:{min:0,max:0}});function vA(e){return[e("x"),e("y")]}function yA(e){return void 0===e||1===e}function xA(e){let{scale:t,scaleX:n,scaleY:i}=e;return!yA(t)||!yA(n)||!yA(i)}function bA(e){return xA(e)||wA(e)||e.z||e.rotate||e.rotateX||e.rotateY||e.skewX||e.skewY}function wA(e){return _A(e.x)||_A(e.y)}function _A(e){return e&&"0%"!==e}function SA(e,t,n){return n+t*(e-n)}function MA(e,t,n,i,r){return void 0!==r&&(e=SA(e,r,i)),SA(e,n,i)+t}function EA(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,i=arguments.length>3?arguments[3]:void 0,r=arguments.length>4?arguments[4]:void 0;e.min=MA(e.min,t,n,i,r),e.max=MA(e.max,t,n,i,r)}function TA(e,t){let{x:n,y:i}=t;EA(e.x,n.translate,n.scale,n.originPoint),EA(e.y,i.translate,i.scale,i.originPoint)}const AA=.999999999999,CA=1.0000000000001;function RA(e,t){e.min=e.min+t,e.max=e.max+t}function LA(e,t,n,i){let r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:.5;EA(e,t,n,FM(e.min,e.max,r),i)}function PA(e,t){LA(e.x,t.x,t.scaleX,t.scale,t.originX),LA(e.y,t.y,t.scaleY,t.scale,t.originY)}function NA(e,t){return cA(function(e,t){if(!t)return e;const n=t({x:e.left,y:e.top}),i=t({x:e.right,y:e.bottom});return{top:n.y,left:n.x,bottom:i.y,right:i.x}}(e.getBoundingClientRect(),t))}const kA=e=>{let{current:t}=e;return t?t.ownerDocument.defaultView:null};function OA(e){return e&&"object"===typeof e&&Object.prototype.hasOwnProperty.call(e,"current")}const DA=(e,t)=>Math.abs(e-t);class jA{constructor(e,t){let{transformPagePoint:n,contextWindow:i,dragSnapToOrigin:r=!1}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!this.lastMoveEvent||!this.lastMoveEventInfo)return;const e=zA(this.lastMoveEventInfo,this.history),t=null!==this.startEvent,n=function(e,t){const n=DA(e.x,t.x),i=DA(e.y,t.y);return Math.sqrt(n**2+i**2)}(e.offset,{x:0,y:0})>=3;if(!t&&!n)return;const{point:i}=e,{timestamp:r}=ES;this.history.push(u(u({},i),{},{timestamp:r}));const{onStart:o,onMove:s}=this.handlers;t||(o&&o(this.lastMoveEvent,e),this.startEvent=this.lastMoveEvent),s&&s(this.lastMoveEvent,e)},this.handlePointerMove=(e,t)=>{this.lastMoveEvent=e,this.lastMoveEventInfo=FA(t,this.transformPagePoint),SS.update(this.updatePoint,!0)},this.handlePointerUp=(e,t)=>{this.end();const{onEnd:n,onSessionEnd:i,resumeAnimation:r}=this.handlers;if(this.dragSnapToOrigin&&r&&r(),!this.lastMoveEvent||!this.lastMoveEventInfo)return;const o=zA("pointercancel"===e.type?this.lastMoveEventInfo:FA(t,this.transformPagePoint),this.history);this.startEvent&&n&&n(e,o),i&&i(e,o)},!sA(e))return;this.dragSnapToOrigin=r,this.handlers=t,this.transformPagePoint=n,this.contextWindow=i||window;const o=FA(aA(e),this.transformPagePoint),{point:s}=o,{timestamp:a}=ES;this.history=[u(u({},s),{},{timestamp:a})];const{onSessionStart:l}=t;l&&l(e,zA(o,this.history)),this.removeListeners=ZS(lA(this.contextWindow,"pointermove",this.handlePointerMove),lA(this.contextWindow,"pointerup",this.handlePointerUp),lA(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),MS(this.updatePoint)}}function FA(e,t){return t?{point:t(e.point)}:e}function IA(e,t){return{x:e.x-t.x,y:e.y-t.y}}function zA(e,t){let{point:n}=e;return{point:n,delta:IA(n,UA(t)),offset:IA(n,BA(t)),velocity:HA(t,.1)}}function BA(e){return e[0]}function UA(e){return e[e.length-1]}function HA(e,t){if(e.length<2)return{x:0,y:0};let n=e.length-1,i=null;const r=UA(e);for(;n>=0&&(i=e[n],!(r.timestamp-i.timestamp>QS(t)));)n--;if(!i)return{x:0,y:0};const o=$S(r.timestamp-i.timestamp);if(0===o)return{x:0,y:0};const s={x:(r.x-i.x)/o,y:(r.y-i.y)/o};return s.x===1/0&&(s.x=0),s.y===1/0&&(s.y=0),s}function GA(e,t,n){return{min:void 0!==t?e.min+t:void 0,max:void 0!==n?e.max+n-(e.max-e.min):void 0}}function VA(e,t){let n=t.min-e.min,i=t.max-e.max;return t.max-t.min<e.max-e.min&&([n,i]=[i,n]),{min:n,max:i}}const WA=.35;function qA(e,t,n){return{min:XA(e,t),max:XA(e,n)}}function XA(e,t){return"number"===typeof e?e:e[t]||0}const YA=new WeakMap;class JA{constructor(e){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic={x:{min:0,max:0},y:{min:0,max:0}},this.visualElement=e}start(e){let{snapToCursor:t=!1}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const{presenceContext:n}=this.visualElement;if(n&&!1===n.isPresent)return;const{dragSnapToOrigin:i}=this.getProps();this.panSession=new jA(e,{onSessionStart:e=>{const{dragSnapToOrigin:n}=this.getProps();n?this.pauseAnimation():this.stopAnimation(),t&&this.snapToCursor(aA(e).point)},onStart:(e,t)=>{const{drag:n,dragPropagation:i,onDragStart:r}=this.getProps();if(n&&!i&&(this.openDragLock&&this.openDragLock(),this.openDragLock="x"===(o=n)||"y"===o?iA[o]?null:(iA[o]=!0,()=>{iA[o]=!1}):iA.x||iA.y?null:(iA.x=iA.y=!0,()=>{iA.x=iA.y=!1}),!this.openDragLock))return;var o;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),vA((e=>{let t=this.getAxisMotionValue(e).get()||0;if(xM.test(t)){const{projection:n}=this.visualElement;if(n&&n.layout){const i=n.layout.layoutBox[e];if(i){t=uA(i)*(parseFloat(t)/100)}}}this.originPoint[e]=t})),r&&SS.postRender((()=>r(e,t))),WS(this.visualElement,"transform");const{animationState:s}=this.visualElement;s&&s.setActive("whileDrag",!0)},onMove:(e,t)=>{const{dragPropagation:n,dragDirectionLock:i,onDirectionLock:r,onDrag:o}=this.getProps();if(!n&&!this.openDragLock)return;const{offset:s}=t;if(i&&null===this.currentDirection)return this.currentDirection=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10,n=null;Math.abs(e.y)>t?n="y":Math.abs(e.x)>t&&(n="x");return n}(s),void(null!==this.currentDirection&&r&&r(this.currentDirection));this.updateAxis("x",t.point,s),this.updateAxis("y",t.point,s),this.visualElement.render(),o&&o(e,t)},onSessionEnd:(e,t)=>this.stop(e,t),resumeAnimation:()=>vA((e=>{var t;return"paused"===this.getAnimationState(e)&&(null===(t=this.getAxisMotionValue(e).animation)||void 0===t?void 0:t.play())}))},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:i,contextWindow:kA(this.visualElement)})}stop(e,t){const n=this.isDragging;if(this.cancel(),!n)return;const{velocity:i}=t;this.startAnimation(i);const{onDragEnd:r}=this.getProps();r&&SS.postRender((()=>r(e,t)))}cancel(){this.isDragging=!1;const{projection:e,animationState:t}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:n}=this.getProps();!n&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),t&&t.setActive("whileDrag",!1)}updateAxis(e,t,n){const{drag:i}=this.getProps();if(!n||!ZA(e,i,this.currentDirection))return;const r=this.getAxisMotionValue(e);let o=this.originPoint[e]+n[e];this.constraints&&this.constraints[e]&&(o=function(e,t,n){let{min:i,max:r}=t;return void 0!==i&&e<i?e=n?FM(i,e,n.min):Math.max(e,i):void 0!==r&&e>r&&(e=n?FM(r,e,n.max):Math.min(e,r)),e}(o,this.constraints[e],this.elastic[e])),r.set(o)}resolveConstraints(){var e;const{dragConstraints:t,dragElastic:n}=this.getProps(),i=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):null===(e=this.visualElement.projection)||void 0===e?void 0:e.layout,r=this.constraints;t&&OA(t)?this.constraints||(this.constraints=this.resolveRefConstraints()):this.constraints=!(!t||!i)&&function(e,t){let{top:n,left:i,bottom:r,right:o}=t;return{x:GA(e.x,i,o),y:GA(e.y,n,r)}}(i.layoutBox,t),this.elastic=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:WA;return!1===e?e=0:!0===e&&(e=WA),{x:qA(e,"left","right"),y:qA(e,"top","bottom")}}(n),r!==this.constraints&&i&&this.constraints&&!this.hasMutatedConstraints&&vA((e=>{!1!==this.constraints&&this.getAxisMotionValue(e)&&(this.constraints[e]=function(e,t){const n={};return void 0!==t.min&&(n.min=t.min-e.min),void 0!==t.max&&(n.max=t.max-e.min),n}(i.layoutBox[e],this.constraints[e]))}))}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:t}=this.getProps();if(!e||!OA(e))return!1;const n=e.current,{projection:i}=this.visualElement;if(!i||!i.layout)return!1;const r=function(e,t,n){const i=NA(e,n),{scroll:r}=t;return r&&(RA(i.x,r.offset.x),RA(i.y,r.offset.y)),i}(n,i.root,this.visualElement.getTransformPagePoint());let o=function(e,t){return{x:VA(e.x,t.x),y:VA(e.y,t.y)}}(i.layout.layoutBox,r);if(t){const e=t(function(e){let{x:t,y:n}=e;return{top:n.min,right:t.max,bottom:n.max,left:t.min}}(o));this.hasMutatedConstraints=!!e,e&&(o=cA(e))}return o}startAnimation(e){const{drag:t,dragMomentum:n,dragElastic:i,dragTransition:r,dragSnapToOrigin:o,onDragTransitionEnd:s}=this.getProps(),a=this.constraints||{},l=vA((s=>{if(!ZA(s,t,this.currentDirection))return;let l=a&&a[s]||{};o&&(l={min:0,max:0});const c=i?200:1e6,h=i?40:1e7,d=u(u({type:"inertia",velocity:n?e[s]:0,bounceStiffness:c,bounceDamping:h,timeConstant:750,restDelta:1,restSpeed:10},r),l);return this.startAxisValueAnimation(s,d)}));return Promise.all(l).then(s)}startAxisValueAnimation(e,t){const n=this.getAxisMotionValue(e);return WS(this.visualElement,e),n.start(OT(e,n,0,t,this.visualElement,!1))}stopAnimation(){vA((e=>this.getAxisMotionValue(e).stop()))}pauseAnimation(){vA((e=>{var t;return null===(t=this.getAxisMotionValue(e).animation)||void 0===t?void 0:t.pause()}))}getAnimationState(e){var t;return null===(t=this.getAxisMotionValue(e).animation)||void 0===t?void 0:t.state}getAxisMotionValue(e){const t="_drag".concat(e.toUpperCase()),n=this.visualElement.getProps(),i=n[t];return i||this.visualElement.getValue(e,(n.initial?n.initial[e]:void 0)||0)}snapToCursor(e){vA((t=>{const{drag:n}=this.getProps();if(!ZA(t,n,this.currentDirection))return;const{projection:i}=this.visualElement,r=this.getAxisMotionValue(t);if(i&&i.layout){const{min:n,max:o}=i.layout.layoutBox[t];r.set(e[t]-FM(n,o,.5))}}))}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:t}=this.getProps(),{projection:n}=this.visualElement;if(!OA(t)||!n||!this.constraints)return;this.stopAnimation();const i={x:0,y:0};vA((e=>{const t=this.getAxisMotionValue(e);if(t&&!1!==this.constraints){const n=t.get();i[e]=function(e,t){let n=.5;const i=uA(e),r=uA(t);return r>i?n=AE(t.min,t.max-i,e.min):i>r&&(n=AE(e.min,e.max-r,t.min)),KS(0,1,n)}({min:n,max:n},this.constraints[e])}}));const{transformTemplate:r}=this.visualElement.getProps();this.visualElement.current.style.transform=r?r({},""):"none",n.root&&n.root.updateScroll(),n.updateLayout(),this.resolveConstraints(),vA((t=>{if(!ZA(t,e,null))return;const n=this.getAxisMotionValue(t),{min:r,max:o}=this.constraints[t];n.set(FM(r,o,i[t]))}))}addListeners(){if(!this.visualElement.current)return;YA.set(this.visualElement,this);const e=lA(this.visualElement.current,"pointerdown",(e=>{const{drag:t,dragListener:n=!0}=this.getProps();t&&n&&this.start(e)})),t=()=>{const{dragConstraints:e}=this.getProps();OA(e)&&e.current&&(this.constraints=this.resolveRefConstraints())},{projection:n}=this.visualElement,i=n.addEventListener("measure",t);n&&!n.layout&&(n.root&&n.root.updateScroll(),n.updateLayout()),SS.read(t);const r=oA(window,"resize",(()=>this.scalePositionWithinConstraints())),o=n.addEventListener("didUpdate",(e=>{let{delta:t,hasLayoutChanged:n}=e;this.isDragging&&n&&(vA((e=>{const n=this.getAxisMotionValue(e);n&&(this.originPoint[e]+=t[e].translate,n.set(n.get()+t[e].translate))})),this.visualElement.render())}));return()=>{r(),e(),i(),o&&o()}}getProps(){const e=this.visualElement.getProps(),{drag:t=!1,dragDirectionLock:n=!1,dragPropagation:i=!1,dragConstraints:r=!1,dragElastic:o=WA,dragMomentum:s=!0}=e;return u(u({},e),{},{drag:t,dragDirectionLock:n,dragPropagation:i,dragConstraints:r,dragElastic:o,dragMomentum:s})}}function ZA(e,t,n){return(!0===t||t===e)&&(null===n||n===e)}const KA=e=>(t,n)=>{e&&SS.postRender((()=>e(t,n)))};const{schedule:QA,cancel:$A}=_S(queueMicrotask,!1),eC=(0,i.createContext)(null);function tC(){let e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];const t=(0,i.useContext)(eC);if(null===t)return[!0,null];const{isPresent:n,onExitComplete:r,register:o}=t,s=(0,i.useId)();(0,i.useEffect)((()=>{if(e)return o(s)}),[e]);const a=(0,i.useCallback)((()=>e&&r&&r(s)),[s,r,e]);return!n&&r?[!1,a]:[!0]}const nC=(0,i.createContext)({}),iC=(0,i.createContext)({}),rC={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function oC(e,t){return t.max===t.min?0:e/(t.max-t.min)*100}const sC={correct:(e,t)=>{if(!t.target)return e;if("string"===typeof e){if(!bM.test(e))return e;e=parseFloat(e)}const n=oC(e,t.target.x),i=oC(e,t.target.y);return"".concat(n,"% ").concat(i,"%")}},aC={correct:(e,t)=>{let{treeScale:n,projectionDelta:i}=t;const r=e,o=OM.parse(e);if(o.length>5)return r;const s=OM.createTransformer(e),a="number"!==typeof o[0]?1:0,l=i.x.scale*n.x,c=i.y.scale*n.y;o[0+a]/=l,o[1+a]/=c;const u=FM(l,c,.5);return"number"===typeof o[2+a]&&(o[2+a]/=u),"number"===typeof o[3+a]&&(o[3+a]/=u),s(o)}},lC={};class cC extends i.Component{componentDidMount(){const{visualElement:e,layoutGroup:t,switchLayoutGroup:n,layoutId:i}=this.props,{projection:r}=e;!function(e){for(const t in e)lC[t]=e[t],nM(t)&&(lC[t].isCSSVariable=!0)}(hC),r&&(t.group&&t.group.add(r),n&&n.register&&i&&n.register(r),r.root.didUpdate(),r.addEventListener("animationComplete",(()=>{this.safeToRemove()})),r.setOptions(u(u({},r.options),{},{onExitComplete:()=>this.safeToRemove()}))),rC.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:t,visualElement:n,drag:i,isPresent:r}=this.props,{projection:o}=n;return o?(o.isPresent=r,i||e.layoutDependency!==t||void 0===t||e.isPresent!==r?o.willUpdate():this.safeToRemove(),e.isPresent!==r&&(r?o.promote():o.relegate()||SS.postRender((()=>{const e=o.getStack();e&&e.members.length||this.safeToRemove()}))),null):null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),QA.postRender((()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()})))}componentWillUnmount(){const{visualElement:e,layoutGroup:t,switchLayoutGroup:n}=this.props,{projection:i}=e;i&&(i.scheduleCheckAfterUnmount(),t&&t.group&&t.group.remove(i),n&&n.deregister&&n.deregister(i))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function uC(e){const[t,n]=tC(),r=(0,i.useContext)(nC);return(0,Ly.jsx)(cC,u(u({},e),{},{layoutGroup:r,switchLayoutGroup:(0,i.useContext)(iC),isPresent:t,safeToRemove:n}))}const hC={borderRadius:u(u({},sC),{},{applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]}),borderTopLeftRadius:sC,borderTopRightRadius:sC,borderBottomLeftRadius:sC,borderBottomRightRadius:sC,boxShadow:aC};function dC(e){return _T(e)&&"ownerSVGElement"in e}const pC=(e,t)=>e.depth-t.depth;class fC{constructor(){this.children=[],this.isDirty=!1}add(e){LS(this.children,e),this.isDirty=!0}remove(e){PS(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(pC),this.isDirty=!1,this.children.forEach(e)}}function mC(e,t){const n=jS.now(),i=r=>{let{timestamp:o}=r;const s=o-n;s>=t&&(MS(i),e(s-t))};return SS.setup(i,!0),()=>MS(i)}function gC(e){return VS(e)?e.get():e}const vC=["TopLeft","TopRight","BottomLeft","BottomRight"],yC=vC.length,xC=e=>"string"===typeof e?parseFloat(e):e,bC=e=>"number"===typeof e||bM.test(e);function wC(e,t){return void 0!==e[t]?e[t]:e.borderRadius}const _C=MC(0,.5,_E),SC=MC(.5,.95,yS);function MC(e,t,n){return i=>i<e?0:i>t?1:n(AE(e,t,i))}function EC(e,t){e.min=t.min,e.max=t.max}function TC(e,t){EC(e.x,t.x),EC(e.y,t.y)}function AC(e,t){e.translate=t.translate,e.scale=t.scale,e.originPoint=t.originPoint,e.origin=t.origin}function CC(e,t,n,i,r){return e=SA(e-=t,1/n,i),void 0!==r&&(e=SA(e,1/r,i)),e}function RC(e,t,n,i,r){let[o,s,a]=n;!function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:.5,r=arguments.length>4?arguments[4]:void 0,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:e,s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:e;xM.test(t)&&(t=parseFloat(t),t=FM(s.min,s.max,t/100)-s.min);if("number"!==typeof t)return;let a=FM(o.min,o.max,i);e===o&&(a-=t),e.min=CC(e.min,t,n,a,r),e.max=CC(e.max,t,n,a,r)}(e,t[o],t[s],t[a],t.scale,i,r)}const LC=["x","scaleX","originX"],PC=["y","scaleY","originY"];function NC(e,t,n,i){RC(e.x,t,LC,n?n.x:void 0,i?i.x:void 0),RC(e.y,t,PC,n?n.y:void 0,i?i.y:void 0)}function kC(e){return 0===e.translate&&1===e.scale}function OC(e){return kC(e.x)&&kC(e.y)}function DC(e,t){return e.min===t.min&&e.max===t.max}function jC(e,t){return Math.round(e.min)===Math.round(t.min)&&Math.round(e.max)===Math.round(t.max)}function FC(e,t){return jC(e.x,t.x)&&jC(e.y,t.y)}function IC(e){return uA(e.x)/uA(e.y)}function zC(e,t){return e.translate===t.translate&&e.scale===t.scale&&e.originPoint===t.originPoint}class BC{constructor(){this.members=[]}add(e){LS(this.members,e),e.scheduleRender()}remove(e){if(PS(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const e=this.members[this.members.length-1];e&&this.promote(e)}}relegate(e){const t=this.members.findIndex((t=>e===t));if(0===t)return!1;let n;for(let i=t;i>=0;i--){const e=this.members[i];if(!1!==e.isPresent){n=e;break}}return!!n&&(this.promote(n),!0)}promote(e,t){const n=this.lead;if(e!==n&&(this.prevLead=n,this.lead=e,e.show(),n)){n.instance&&n.scheduleRender(),e.scheduleRender(),e.resumeFrom=n,t&&(e.resumeFrom.preserveOpacity=!0),n.snapshot&&(e.snapshot=n.snapshot,e.snapshot.latestValues=n.animationValues||n.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:i}=e.options;!1===i&&n.hide()}}exitAnimationComplete(){this.members.forEach((e=>{const{options:t,resumingFrom:n}=e;t.onExitComplete&&t.onExitComplete(),n&&n.options.onExitComplete&&n.options.onExitComplete()}))}scheduleRender(){this.members.forEach((e=>{e.instance&&e.scheduleRender(!1)}))}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}const UC={nodes:0,calculatedTargetDeltas:0,calculatedProjections:0},HC=["","X","Y","Z"],GC={visibility:"hidden"};let VC=0;function WC(e,t,n,i){const{latestValues:r}=t;r[e]&&(n[e]=r[e],t.setStaticValue(e,0),i&&(i[e]=0))}function qC(e){if(e.hasCheckedOptimisedAppear=!0,e.root===e)return;const{visualElement:t}=e.options;if(!t)return;const n=YS(t);if(window.MotionHasOptimisedAnimation(n,"transform")){const{layout:t,layoutId:i}=e.options;window.MotionCancelOptimisedAnimation(n,"transform",SS,!(t||i))}const{parent:i}=e;i&&!i.hasCheckedOptimisedAppear&&qC(i)}function XC(e){let{attachResizeListener:t,defaultParent:n,measureScroll:i,checkIsScrollRoot:r,resetTransform:o}=e;return class{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null===n||void 0===n?void 0:n();this.id=VC++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,wS.value&&(UC.nodes=UC.calculatedTargetDeltas=UC.calculatedProjections=0),this.nodes.forEach(ZC),this.nodes.forEach(iR),this.nodes.forEach(rR),this.nodes.forEach(KC),wS.addProjectionMetrics&&wS.addProjectionMetrics(UC)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=e,this.root=t?t.root||t:this,this.path=t?[...t.path,t]:[],this.parent=t,this.depth=t?t.depth+1:0;for(let n=0;n<this.path.length;n++)this.path[n].shouldResetTransform=!0;this.root===this&&(this.nodes=new fC)}addEventListener(e,t){return this.eventHandlers.has(e)||this.eventHandlers.set(e,new NS),this.eventHandlers.get(e).add(t)}notifyListeners(e){const t=this.eventHandlers.get(e);for(var n=arguments.length,i=new Array(n>1?n-1:0),r=1;r<n;r++)i[r-1]=arguments[r];t&&t.notify(...i)}hasListeners(e){return this.eventHandlers.has(e)}mount(e){if(this.instance)return;var n;this.isSVG=dC(e)&&!(dC(n=e)&&"svg"===n.tagName),this.instance=e;const{layoutId:i,layout:r,visualElement:o}=this.options;if(o&&!o.current&&o.mount(e),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(r||i)&&(this.isLayoutDirty=!0),t){let n;const i=()=>this.root.updateBlockedByResize=!1;t(e,(()=>{this.root.updateBlockedByResize=!0,n&&n(),n=mC(i,250),rC.hasAnimatedSinceResize&&(rC.hasAnimatedSinceResize=!1,this.nodes.forEach(nR))}))}i&&this.root.registerSharedNode(i,this),!1!==this.options.animate&&o&&(i||r)&&this.addEventListener("didUpdate",(e=>{let{delta:t,hasLayoutChanged:n,hasRelativeLayoutChanged:i,layout:r}=e;if(this.isTreeAnimationBlocked())return this.target=void 0,void(this.relativeTarget=void 0);const s=this.options.transition||o.getDefaultTransition()||uR,{onLayoutAnimationStart:a,onLayoutAnimationComplete:l}=o.getProps(),c=!this.targetLayout||!FC(this.targetLayout,r),h=!n&&i;if(this.options.layoutRoot||this.resumeFrom||h||n&&(c||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const e=u(u({},vS(s,"layout")),{},{onPlay:a,onComplete:l});(o.shouldReduceMotion||this.options.layoutRoot)&&(e.delay=0,e.type=!1),this.startAnimation(e),this.setAnimationOrigin(t,h)}else n||nR(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=r}))}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const e=this.getStack();e&&e.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),MS(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(oR),this.animationId++)}getTransformTemplate(){const{visualElement:e}=this.options;return e&&e.getProps().transformTemplate}willUpdate(){let e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked())return void(this.options.onExitComplete&&this.options.onExitComplete());if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&qC(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let r=0;r<this.path.length;r++){const e=this.path[r];e.shouldResetTransform=!0,e.updateScroll("snapshot"),e.options.layoutRoot&&e.willUpdate(!1)}const{layoutId:t,layout:n}=this.options;if(void 0===t&&!n)return;const i=this.getTransformTemplate();this.prevTransformTemplateValue=i?i(this.latestValues,""):void 0,this.updateSnapshot(),e&&this.notifyListeners("willUpdate")}update(){this.updateScheduled=!1;if(this.isUpdateBlocked())return this.unblockUpdate(),this.clearAllSnapshots(),void this.nodes.forEach($C);this.isUpdating||this.nodes.forEach(eR),this.isUpdating=!1,this.nodes.forEach(tR),this.nodes.forEach(YC),this.nodes.forEach(JC),this.clearAllSnapshots();const e=jS.now();ES.delta=KS(0,1e3/60,e-ES.timestamp),ES.timestamp=e,ES.isProcessing=!0,TS.update.process(ES),TS.preRender.process(ES),TS.render.process(ES),ES.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,QA.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(QC),this.sharedNodes.forEach(sR)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,SS.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){SS.postRender((()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()}))}updateSnapshot(){!this.snapshot&&this.instance&&(this.snapshot=this.measure(),!this.snapshot||uA(this.snapshot.measuredBox.x)||uA(this.snapshot.measuredBox.y)||(this.snapshot=void 0))}updateLayout(){if(!this.instance)return;if(this.updateScroll(),(!this.options.alwaysMeasureLayout||!this.isLead())&&!this.isLayoutDirty)return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let n=0;n<this.path.length;n++){this.path[n].updateScroll()}const e=this.layout;this.layout=this.measure(!1),this.layoutCorrected={x:{min:0,max:0},y:{min:0,max:0}},this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:t}=this.options;t&&t.notify("LayoutMeasure",this.layout.layoutBox,e?e.layoutBox:void 0)}updateScroll(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"measure",t=Boolean(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===e&&(t=!1),t&&this.instance){const t=r(this.instance);this.scroll={animationId:this.root.animationId,phase:e,isRoot:t,offset:i(this.instance),wasRoot:this.scroll?this.scroll.isRoot:t}}}resetTransform(){if(!o)return;const e=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,t=this.projectionDelta&&!OC(this.projectionDelta),n=this.getTransformTemplate(),i=n?n(this.latestValues,""):void 0,r=i!==this.prevTransformTemplateValue;e&&this.instance&&(t||bA(this.latestValues)||r)&&(o(this.instance,i),this.shouldResetTransform=!1,this.scheduleRender())}measure(){let e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];const t=this.measurePageBox();let n=this.removeElementScroll(t);var i;return e&&(n=this.removeTransform(n)),pR((i=n).x),pR(i.y),{animationId:this.root.animationId,measuredBox:t,layoutBox:n,latestValues:{},source:this.id}}measurePageBox(){var e;const{visualElement:t}=this.options;if(!t)return{x:{min:0,max:0},y:{min:0,max:0}};const n=t.measureViewportBox();if(!((null===(e=this.scroll)||void 0===e?void 0:e.wasRoot)||this.path.some(mR))){const{scroll:e}=this.root;e&&(RA(n.x,e.offset.x),RA(n.y,e.offset.y))}return n}removeElementScroll(e){var t;const n={x:{min:0,max:0},y:{min:0,max:0}};if(TC(n,e),null!==(t=this.scroll)&&void 0!==t&&t.wasRoot)return n;for(let i=0;i<this.path.length;i++){const t=this.path[i],{scroll:r,options:o}=t;t!==this.root&&r&&o.layoutScroll&&(r.wasRoot&&TC(n,e),RA(n.x,r.offset.x),RA(n.y,r.offset.y))}return n}applyTransform(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const n={x:{min:0,max:0},y:{min:0,max:0}};TC(n,e);for(let i=0;i<this.path.length;i++){const e=this.path[i];!t&&e.options.layoutScroll&&e.scroll&&e!==e.root&&PA(n,{x:-e.scroll.offset.x,y:-e.scroll.offset.y}),bA(e.latestValues)&&PA(n,e.latestValues)}return bA(this.latestValues)&&PA(n,this.latestValues),n}removeTransform(e){const t={x:{min:0,max:0},y:{min:0,max:0}};TC(t,e);for(let n=0;n<this.path.length;n++){const e=this.path[n];if(!e.instance)continue;if(!bA(e.latestValues))continue;xA(e.latestValues)&&e.updateSnapshot();const i={x:{min:0,max:0},y:{min:0,max:0}};TC(i,e.measurePageBox()),NC(t,e.latestValues,e.snapshot?e.snapshot.layoutBox:void 0,i)}return bA(this.latestValues)&&NC(t,this.latestValues),t}setTargetDelta(e){this.targetDelta=e,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(e){this.options=u(u(u({},this.options),e),{},{crossfade:void 0===e.crossfade||e.crossfade})}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==ES.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(){var e;let t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];const n=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=n.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=n.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=n.isSharedProjectionDirty);const i=Boolean(this.resumingFrom)||this!==n;if(!(t||i&&this.isSharedProjectionDirty||this.isProjectionDirty||null!==(e=this.parent)&&void 0!==e&&e.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:r,layoutId:o}=this.options;if(this.layout&&(r||o)){if(this.resolvedRelativeTargetAt=ES.timestamp,!this.targetDelta&&!this.relativeTarget){const e=this.getClosestProjectingParent();e&&e.layout&&1!==this.animationProgress?(this.relativeParent=e,this.forceRelativeParentToResolveTarget(),this.relativeTarget={x:{min:0,max:0},y:{min:0,max:0}},this.relativeTargetOrigin={x:{min:0,max:0},y:{min:0,max:0}},mA(this.relativeTargetOrigin,this.layout.layoutBox,e.layout.layoutBox),TC(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(this.relativeTarget||this.targetDelta){var s,a,l;if(this.target||(this.target={x:{min:0,max:0},y:{min:0,max:0}},this.targetWithTransforms={x:{min:0,max:0},y:{min:0,max:0}}),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),s=this.target,a=this.relativeTarget,l=this.relativeParent.target,pA(s.x,a.x,l.x),pA(s.y,a.y,l.y)):this.targetDelta?(Boolean(this.resumingFrom)?this.target=this.applyTransform(this.layout.layoutBox):TC(this.target,this.layout.layoutBox),TA(this.target,this.targetDelta)):TC(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget){this.attemptToResolveRelativeTarget=!1;const e=this.getClosestProjectingParent();e&&Boolean(e.resumingFrom)===Boolean(this.resumingFrom)&&!e.options.layoutScroll&&e.target&&1!==this.animationProgress?(this.relativeParent=e,this.forceRelativeParentToResolveTarget(),this.relativeTarget={x:{min:0,max:0},y:{min:0,max:0}},this.relativeTargetOrigin={x:{min:0,max:0},y:{min:0,max:0}},mA(this.relativeTargetOrigin,this.target,e.target),TC(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}wS.value&&UC.calculatedTargetDeltas++}}}getClosestProjectingParent(){if(this.parent&&!xA(this.parent.latestValues)&&!wA(this.parent.latestValues))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return Boolean((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var e;const t=this.getLead(),n=Boolean(this.resumingFrom)||this!==t;let i=!0;if((this.isProjectionDirty||null!==(e=this.parent)&&void 0!==e&&e.isProjectionDirty)&&(i=!1),n&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(i=!1),this.resolvedRelativeTargetAt===ES.timestamp&&(i=!1),i)return;const{layout:r,layoutId:o}=this.options;if(this.isTreeAnimating=Boolean(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!r&&!o)return;TC(this.layoutCorrected,this.layout.layoutBox);const s=this.treeScale.x,a=this.treeScale.y;!function(e,t,n){let i=arguments.length>3&&void 0!==arguments[3]&&arguments[3];const r=n.length;if(!r)return;let o,s;t.x=t.y=1;for(let a=0;a<r;a++){o=n[a],s=o.projectionDelta;const{visualElement:r}=o.options;r&&r.props.style&&"contents"===r.props.style.display||(i&&o.options.layoutScroll&&o.scroll&&o!==o.root&&PA(e,{x:-o.scroll.offset.x,y:-o.scroll.offset.y}),s&&(t.x*=s.x.scale,t.y*=s.y.scale,TA(e,s)),i&&bA(o.latestValues)&&PA(e,o.latestValues))}t.x<CA&&t.x>AA&&(t.x=1),t.y<CA&&t.y>AA&&(t.y=1)}(this.layoutCorrected,this.treeScale,this.path,n),!t.layout||t.target||1===this.treeScale.x&&1===this.treeScale.y||(t.target=t.layout.layoutBox,t.targetWithTransforms={x:{min:0,max:0},y:{min:0,max:0}});const{target:l}=t;l?(this.projectionDelta&&this.prevProjectionDelta?(AC(this.prevProjectionDelta.x,this.projectionDelta.x),AC(this.prevProjectionDelta.y,this.projectionDelta.y)):this.createProjectionDeltas(),dA(this.projectionDelta,this.layoutCorrected,l,this.latestValues),this.treeScale.x===s&&this.treeScale.y===a&&zC(this.projectionDelta.x,this.prevProjectionDelta.x)&&zC(this.projectionDelta.y,this.prevProjectionDelta.y)||(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",l)),wS.value&&UC.calculatedProjections++):this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender())}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(){var e;let t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];if(null===(e=this.options.visualElement)||void 0===e||e.scheduleRender(),t){const e=this.getStack();e&&e.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta={x:{translate:0,scale:1,origin:0,originPoint:0},y:{translate:0,scale:1,origin:0,originPoint:0}},this.projectionDelta={x:{translate:0,scale:1,origin:0,originPoint:0},y:{translate:0,scale:1,origin:0,originPoint:0}},this.projectionDeltaWithTransform={x:{translate:0,scale:1,origin:0,originPoint:0},y:{translate:0,scale:1,origin:0,originPoint:0}}}setAnimationOrigin(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const n=this.snapshot,i=n?n.latestValues:{},r=u({},this.latestValues),o={x:{translate:0,scale:1,origin:0,originPoint:0},y:{translate:0,scale:1,origin:0,originPoint:0}};this.relativeParent&&this.relativeParent.options.layoutRoot||(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!t;const s={x:{min:0,max:0},y:{min:0,max:0}},a=(n?n.source:void 0)!==(this.layout?this.layout.source:void 0),l=this.getStack(),c=!l||l.members.length<=1,h=Boolean(a&&!c&&!0===this.options.crossfade&&!this.path.some(cR));let d;this.animationProgress=0,this.mixTargetDelta=t=>{const n=t/1e3;var l,u,p,f,m,g;aR(o.x,e.x,n),aR(o.y,e.y,n),this.setTargetDelta(o),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(mA(s,this.layout.layoutBox,this.relativeParent.layout.layoutBox),p=this.relativeTarget,f=this.relativeTargetOrigin,m=s,g=n,lR(p.x,f.x,m.x,g),lR(p.y,f.y,m.y,g),d&&(l=this.relativeTarget,u=d,DC(l.x,u.x)&&DC(l.y,u.y))&&(this.isProjectionDirty=!1),d||(d={x:{min:0,max:0},y:{min:0,max:0}}),TC(d,this.relativeTarget)),a&&(this.animationValues=r,function(e,t,n,i,r,o){var s,a;if(r)e.opacity=FM(0,null!==(s=n.opacity)&&void 0!==s?s:1,_C(i)),e.opacityExit=FM(null!==(a=t.opacity)&&void 0!==a?a:1,0,SC(i));else if(o){var l,c;e.opacity=FM(null!==(l=t.opacity)&&void 0!==l?l:1,null!==(c=n.opacity)&&void 0!==c?c:1,i)}for(let u=0;u<yC;u++){const r="border".concat(vC[u],"Radius");let o=wC(t,r),s=wC(n,r);void 0===o&&void 0===s||(o||(o=0),s||(s=0),0===o||0===s||bC(o)===bC(s)?(e[r]=Math.max(FM(xC(o),xC(s),i),0),(xM.test(s)||xM.test(o))&&(e[r]+="%")):e[r]=s)}(t.rotate||n.rotate)&&(e.rotate=FM(t.rotate||0,n.rotate||0,i))}(r,i,this.latestValues,n,h,c)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=n},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(e){var t,n;this.notifyListeners("animationStart"),null===(t=this.currentAnimation)||void 0===t||t.stop(),null===(n=this.resumingFrom)||void 0===n||null===(n=n.currentAnimation)||void 0===n||n.stop(),this.pendingAnimation&&(MS(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=SS.update((()=>{rC.hasAnimatedSinceResize=!0,eM.layout++,this.motionValue||(this.motionValue=zS(0)),this.currentAnimation=function(e,t,n){const i=VS(e)?e:zS(e);return i.start(OT("",i,t,n)),i.animation}(this.motionValue,[0,1e3],u(u({},e),{},{velocity:0,isSync:!0,onUpdate:t=>{this.mixTargetDelta(t),e.onUpdate&&e.onUpdate(t)},onStop:()=>{eM.layout--},onComplete:()=>{eM.layout--,e.onComplete&&e.onComplete(),this.completeAnimation()}})),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0}))}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const e=this.getStack();e&&e.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(1e3),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const e=this.getLead();let{targetWithTransforms:t,target:n,layout:i,latestValues:r}=e;if(t&&n&&i){if(this!==e&&this.layout&&i&&fR(this.options.animationType,this.layout.layoutBox,i.layoutBox)){n=this.target||{x:{min:0,max:0},y:{min:0,max:0}};const t=uA(this.layout.layoutBox.x);n.x.min=e.target.x.min,n.x.max=n.x.min+t;const i=uA(this.layout.layoutBox.y);n.y.min=e.target.y.min,n.y.max=n.y.min+i}TC(t,n),PA(t,r),dA(this.projectionDeltaWithTransform,this.layoutCorrected,t,r)}}registerSharedNode(e,t){this.sharedNodes.has(e)||this.sharedNodes.set(e,new BC);this.sharedNodes.get(e).add(t);const n=t.options.initialPromotionConfig;t.promote({transition:n?n.transition:void 0,preserveFollowOpacity:n&&n.shouldPreserveFollowOpacity?n.shouldPreserveFollowOpacity(t):void 0})}isLead(){const e=this.getStack();return!e||e.lead===this}getLead(){var e;const{layoutId:t}=this.options;return t&&(null===(e=this.getStack())||void 0===e?void 0:e.lead)||this}getPrevLead(){var e;const{layoutId:t}=this.options;return t?null===(e=this.getStack())||void 0===e?void 0:e.prevLead:void 0}getStack(){const{layoutId:e}=this.options;if(e)return this.root.sharedNodes.get(e)}promote(){let{needsReset:e,transition:t,preserveFollowOpacity:n}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const i=this.getStack();i&&i.promote(this,n),e&&(this.projectionDelta=void 0,this.needsReset=!0),t&&this.setOptions({transition:t})}relegate(){const e=this.getStack();return!!e&&e.relegate(this)}resetSkewAndRotation(){const{visualElement:e}=this.options;if(!e)return;let t=!1;const{latestValues:n}=e;if((n.z||n.rotate||n.rotateX||n.rotateY||n.rotateZ||n.skewX||n.skewY)&&(t=!0),!t)return;const i={};n.z&&WC("z",e,i,this.animationValues);for(let r=0;r<HC.length;r++)WC("rotate".concat(HC[r]),e,i,this.animationValues),WC("skew".concat(HC[r]),e,i,this.animationValues);e.render();for(const r in i)e.setStaticValue(r,i[r]),this.animationValues&&(this.animationValues[r]=i[r]);e.scheduleRender()}getProjectionStyles(e){if(!this.instance||this.isSVG)return;if(!this.isVisible)return GC;const t={visibility:""},n=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,t.opacity="",t.pointerEvents=gC(null===e||void 0===e?void 0:e.pointerEvents)||"",t.transform=n?n(this.latestValues,""):"none",t;const i=this.getLead();if(!this.projectionDelta||!this.layout||!i.target){const t={};return this.options.layoutId&&(t.opacity=void 0!==this.latestValues.opacity?this.latestValues.opacity:1,t.pointerEvents=gC(null===e||void 0===e?void 0:e.pointerEvents)||""),this.hasProjected&&!bA(this.latestValues)&&(t.transform=n?n({},""):"none",this.hasProjected=!1),t}const r=i.animationValues||i.latestValues;this.applyTransformsToTarget(),t.transform=function(e,t,n){let i="";const r=e.x.translate/t.x,o=e.y.translate/t.y,s=(null===n||void 0===n?void 0:n.z)||0;if((r||o||s)&&(i="translate3d(".concat(r,"px, ").concat(o,"px, ").concat(s,"px) ")),1===t.x&&1===t.y||(i+="scale(".concat(1/t.x,", ").concat(1/t.y,") ")),n){const{transformPerspective:e,rotate:t,rotateX:r,rotateY:o,skewX:s,skewY:a}=n;e&&(i="perspective(".concat(e,"px) ").concat(i)),t&&(i+="rotate(".concat(t,"deg) ")),r&&(i+="rotateX(".concat(r,"deg) ")),o&&(i+="rotateY(".concat(o,"deg) ")),s&&(i+="skewX(".concat(s,"deg) ")),a&&(i+="skewY(".concat(a,"deg) "))}const a=e.x.scale*t.x,l=e.y.scale*t.y;return 1===a&&1===l||(i+="scale(".concat(a,", ").concat(l,")")),i||"none"}(this.projectionDeltaWithTransform,this.treeScale,r),n&&(t.transform=n(r,t.transform));const{x:o,y:s}=this.projectionDelta;var a,l;(t.transformOrigin="".concat(100*o.origin,"% ").concat(100*s.origin,"% 0"),i.animationValues)?t.opacity=i===this?null!==(a=null!==(l=r.opacity)&&void 0!==l?l:this.latestValues.opacity)&&void 0!==a?a:1:this.preserveOpacity?this.latestValues.opacity:r.opacityExit:t.opacity=i===this?void 0!==r.opacity?r.opacity:"":void 0!==r.opacityExit?r.opacityExit:0;for(const c in lC){if(void 0===r[c])continue;const{correct:e,applyTo:n,isCSSVariable:o}=lC[c],s="none"===t.transform?r[c]:e(r[c],i);if(n){const e=n.length;for(let i=0;i<e;i++)t[n[i]]=s}else o?this.options.visualElement.renderState.vars[c]=s:t[c]=s}return this.options.layoutId&&(t.pointerEvents=i===this?gC(null===e||void 0===e?void 0:e.pointerEvents)||"":"none"),t}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach((e=>{var t;return null===(t=e.currentAnimation)||void 0===t?void 0:t.stop()})),this.root.nodes.forEach($C),this.root.sharedNodes.clear()}}}function YC(e){e.updateLayout()}function JC(e){var t;const n=(null===(t=e.resumeFrom)||void 0===t?void 0:t.snapshot)||e.snapshot;if(e.isLead()&&e.layout&&n&&e.hasListeners("didUpdate")){const{layoutBox:t,measuredBox:i}=e.layout,{animationType:r}=e.options,o=n.source!==e.layout.source;"size"===r?vA((e=>{const i=o?n.measuredBox[e]:n.layoutBox[e],r=uA(i);i.min=t[e].min,i.max=i.min+r})):fR(r,n.layoutBox,t)&&vA((i=>{const r=o?n.measuredBox[i]:n.layoutBox[i],s=uA(t[i]);r.max=r.min+s,e.relativeTarget&&!e.currentAnimation&&(e.isProjectionDirty=!0,e.relativeTarget[i].max=e.relativeTarget[i].min+s)}));const s={x:{translate:0,scale:1,origin:0,originPoint:0},y:{translate:0,scale:1,origin:0,originPoint:0}};dA(s,t,n.layoutBox);const a={x:{translate:0,scale:1,origin:0,originPoint:0},y:{translate:0,scale:1,origin:0,originPoint:0}};o?dA(a,e.applyTransform(i,!0),n.measuredBox):dA(a,t,n.layoutBox);const l=!OC(s);let c=!1;if(!e.resumeFrom){const i=e.getClosestProjectingParent();if(i&&!i.resumeFrom){const{snapshot:r,layout:o}=i;if(r&&o){const s={x:{min:0,max:0},y:{min:0,max:0}};mA(s,n.layoutBox,r.layoutBox);const a={x:{min:0,max:0},y:{min:0,max:0}};mA(a,t,o.layoutBox),FC(s,a)||(c=!0),i.options.layoutRoot&&(e.relativeTarget=a,e.relativeTargetOrigin=s,e.relativeParent=i)}}}e.notifyListeners("didUpdate",{layout:t,snapshot:n,delta:a,layoutDelta:s,hasLayoutChanged:l,hasRelativeLayoutChanged:c})}else if(e.isLead()){const{onExitComplete:t}=e.options;t&&t()}e.options.transition=void 0}function ZC(e){wS.value&&UC.nodes++,e.parent&&(e.isProjecting()||(e.isProjectionDirty=e.parent.isProjectionDirty),e.isSharedProjectionDirty||(e.isSharedProjectionDirty=Boolean(e.isProjectionDirty||e.parent.isProjectionDirty||e.parent.isSharedProjectionDirty)),e.isTransformDirty||(e.isTransformDirty=e.parent.isTransformDirty))}function KC(e){e.isProjectionDirty=e.isSharedProjectionDirty=e.isTransformDirty=!1}function QC(e){e.clearSnapshot()}function $C(e){e.clearMeasurements()}function eR(e){e.isLayoutDirty=!1}function tR(e){const{visualElement:t}=e.options;t&&t.getProps().onBeforeLayoutMeasure&&t.notify("BeforeLayoutMeasure"),e.resetTransform()}function nR(e){e.finishAnimation(),e.targetDelta=e.relativeTarget=e.target=void 0,e.isProjectionDirty=!0}function iR(e){e.resolveTargetDelta()}function rR(e){e.calcProjection()}function oR(e){e.resetSkewAndRotation()}function sR(e){e.removeLeadSnapshot()}function aR(e,t,n){e.translate=FM(t.translate,0,n),e.scale=FM(t.scale,1,n),e.origin=t.origin,e.originPoint=t.originPoint}function lR(e,t,n,i){e.min=FM(t.min,n.min,i),e.max=FM(t.max,n.max,i)}function cR(e){return e.animationValues&&void 0!==e.animationValues.opacityExit}const uR={duration:.45,ease:[.4,0,.1,1]},hR=e=>"undefined"!==typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(e),dR=hR("applewebkit/")&&!hR("chrome/")?Math.round:yS;function pR(e){e.min=dR(e.min),e.max=dR(e.max)}function fR(e,t,n){return"position"===e||"preserve-aspect"===e&&(i=IC(t),r=IC(n),o=.2,!(Math.abs(i-r)<=o));var i,r,o}function mR(e){var t;return e!==e.root&&(null===(t=e.scroll)||void 0===t?void 0:t.wasRoot)}const gR=XC({attachResizeListener:(e,t)=>oA(e,"resize",t),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),vR={current:void 0},yR=XC({measureScroll:e=>({x:e.scrollLeft,y:e.scrollTop}),defaultParent:()=>{if(!vR.current){const e=new gR({});e.mount(window),e.setOptions({layoutScroll:!0}),vR.current=e}return vR.current},resetTransform:(e,t)=>{e.style.transform=void 0!==t?t:"none"},checkIsScrollRoot:e=>Boolean("fixed"===window.getComputedStyle(e).position)}),xR={pan:{Feature:class extends eA{constructor(){super(...arguments),this.removePointerDownListener=yS}onPointerDown(e){this.session=new jA(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:kA(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:t,onPan:n,onPanEnd:i}=this.node.getProps();return{onSessionStart:KA(e),onStart:KA(t),onMove:n,onEnd:(e,t)=>{delete this.session,i&&SS.postRender((()=>i(e,t)))}}}mount(){this.removePointerDownListener=lA(this.node.current,"pointerdown",(e=>this.onPointerDown(e)))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}},drag:{Feature:class extends eA{constructor(e){super(e),this.removeGroupControls=yS,this.removeListeners=yS,this.controls=new JA(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||yS}unmount(){this.removeGroupControls(),this.removeListeners()}},ProjectionNode:yR,MeasureLayout:uC}};function bR(e,t,n){if(e instanceof EventTarget)return[e];if("string"===typeof e){var i;let r=document;t&&(r=t.current);const o=null!==(i=null===n||void 0===n?void 0:n[e])&&void 0!==i?i:r.querySelectorAll(e);return o?Array.from(o):[]}return Array.from(e)}function wR(e,t){const n=bR(e),i=new AbortController;return[n,u(u({passive:!0},t),{},{signal:i.signal}),()=>i.abort()]}function _R(e){return!("touch"===e.pointerType||rA())}function SR(e,t,n){const{props:i}=e;e.animationState&&i.whileHover&&e.animationState.setActive("whileHover","Start"===n);const r=i["onHover"+n];r&&SS.postRender((()=>r(t,aA(t))))}const MR=(e,t)=>!!t&&(e===t||MR(e,t.parentElement)),ER=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);const TR=new WeakSet;function AR(e){return t=>{"Enter"===t.key&&e(t)}}function CR(e,t){e.dispatchEvent(new PointerEvent("pointer"+t,{isPrimary:!0,bubbles:!0}))}function RR(e){return sA(e)&&!rA()}function LR(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const[i,r,o]=wR(e,n),s=e=>{const i=e.currentTarget;if(!RR(e))return;TR.add(i);const o=t(i,e),s=(e,t)=>{window.removeEventListener("pointerup",a),window.removeEventListener("pointercancel",l),TR.has(i)&&TR.delete(i),RR(e)&&"function"===typeof o&&o(e,{success:t})},a=e=>{s(e,i===window||i===document||n.useGlobalTarget||MR(i,e.target))},l=e=>{s(e,!1)};window.addEventListener("pointerup",a,r),window.addEventListener("pointercancel",l,r)};return i.forEach((e=>{var t;(n.useGlobalTarget?window:e).addEventListener("pointerdown",s,r),ST(e)&&(e.addEventListener("focus",(e=>((e,t)=>{const n=e.currentTarget;if(!n)return;const i=AR((()=>{if(TR.has(n))return;CR(n,"down");const e=AR((()=>{CR(n,"up")}));n.addEventListener("keyup",e,t),n.addEventListener("blur",(()=>CR(n,"cancel")),t)}));n.addEventListener("keydown",i,t),n.addEventListener("blur",(()=>n.removeEventListener("keydown",i)),t)})(e,r))),t=e,ER.has(t.tagName)||-1!==t.tabIndex||e.hasAttribute("tabindex")||(e.tabIndex=0))})),o}function PR(e,t,n){const{props:i}=e;if(e.current instanceof HTMLButtonElement&&e.current.disabled)return;e.animationState&&i.whileTap&&e.animationState.setActive("whileTap","Start"===n);const r=i["onTap"+("End"===n?"":n)];r&&SS.postRender((()=>r(t,aA(t))))}const NR=["root"],kR=new WeakMap,OR=new WeakMap,DR=e=>{const t=kR.get(e.target);t&&t(e)},jR=e=>{e.forEach(DR)};function FR(e,t,n){const i=function(e){let{root:t}=e,n=$f(e,NR);const i=t||document;OR.has(i)||OR.set(i,{});const r=OR.get(i),o=JSON.stringify(n);return r[o]||(r[o]=new IntersectionObserver(jR,u({root:t},n))),r[o]}(t);return kR.set(e,n),i.observe(e),()=>{kR.delete(e),i.unobserve(e)}}const IR={some:0,all:1};const zR={inView:{Feature:class extends eA{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:t,margin:n,amount:i="some",once:r}=e,o={root:t?t.current:void 0,rootMargin:n,threshold:"number"===typeof i?i:IR[i]};return FR(this.node.current,o,(e=>{const{isIntersecting:t}=e;if(this.isInView===t)return;if(this.isInView=t,r&&!t&&this.hasEnteredView)return;t&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",t);const{onViewportEnter:n,onViewportLeave:i}=this.node.getProps(),o=t?n:i;o&&o(e)}))}mount(){this.startObserver()}update(){if("undefined"===typeof IntersectionObserver)return;const{props:e,prevProps:t}=this.node,n=["amount","margin","root"].some(function(e){let{viewport:t={}}=e,{viewport:n={}}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return e=>t[e]!==n[e]}(e,t));n&&this.startObserver()}unmount(){}}},tap:{Feature:class extends eA{mount(){const{current:e}=this.node;e&&(this.unmount=LR(e,((e,t)=>(PR(this.node,t,"Start"),(e,t)=>{let{success:n}=t;return PR(this.node,e,n?"End":"Cancel")})),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}},focus:{Feature:class extends eA{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch(cF){e=!0}e&&this.node.animationState&&(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){this.isActive&&this.node.animationState&&(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=ZS(oA(this.node.current,"focus",(()=>this.onFocus())),oA(this.node.current,"blur",(()=>this.onBlur())))}unmount(){}}},hover:{Feature:class extends eA{mount(){const{current:e}=this.node;e&&(this.unmount=function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const[i,r,o]=wR(e,n),s=e=>{if(!_R(e))return;const{target:n}=e,i=t(n,e);if("function"!==typeof i||!n)return;const o=e=>{_R(e)&&(i(e),n.removeEventListener("pointerleave",o))};n.addEventListener("pointerleave",o,r)};return i.forEach((e=>{e.addEventListener("pointerenter",s,r)})),o}(e,((e,t)=>(SR(this.node,t,"Start"),e=>SR(this.node,e,"End")))))}unmount(){}}}},BR={layout:{ProjectionNode:yR,MeasureLayout:uC}},UR=(0,i.createContext)({strict:!1}),HR=(0,i.createContext)({transformPagePoint:e=>e,isStatic:!1,reducedMotion:"never"}),GR=(0,i.createContext)({});function VR(e){return pS(e.animate)||VT.some((t=>HT(e[t])))}function WR(e){return Boolean(VR(e)||e.variants)}function qR(e){const{initial:t,animate:n}=function(e,t){if(VR(e)){const{initial:t,animate:n}=e;return{initial:!1===t||HT(t)?t:void 0,animate:HT(n)?n:void 0}}return!1!==e.inherit?t:{}}(e,(0,i.useContext)(GR));return(0,i.useMemo)((()=>({initial:t,animate:n})),[XR(t),XR(n)])}function XR(e){return Array.isArray(e)?e.join(" "):e}const YR="undefined"!==typeof window,JR={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},ZR={};for(const n in JR)ZR[n]={isEnabled:e=>JR[n].some((t=>!!e[t]))};const KR=Symbol.for("motionComponentSymbol");function QR(e,t,n){return(0,i.useCallback)((i=>{i&&e.onMount&&e.onMount(i),t&&(i?t.mount(i):t.unmount()),n&&("function"===typeof n?n(i):OA(n)&&(n.current=i))}),[t])}const $R=YR?i.useLayoutEffect:i.useEffect;function eL(e,t,n,r,o){var s,a,l,c;const{visualElement:u}=(0,i.useContext)(GR),h=(0,i.useContext)(UR),d=(0,i.useContext)(eC),p=(0,i.useContext)(HR).reducedMotion,f=(0,i.useRef)(null);r=r||h.renderer,!f.current&&r&&(f.current=r(e,{visualState:t,parent:u,props:n,presenceContext:d,blockInitialAnimation:!!d&&!1===d.initial,reducedMotionConfig:p}));const m=f.current,g=(0,i.useContext)(iC);!m||m.projection||!o||"html"!==m.type&&"svg"!==m.type||function(e,t,n,i){const{layoutId:r,layout:o,drag:s,dragConstraints:a,layoutScroll:l,layoutRoot:c,layoutCrossfade:u}=t;e.projection=new n(e.latestValues,t["data-framer-portal-id"]?void 0:tL(e.parent)),e.projection.setOptions({layoutId:r,layout:o,alwaysMeasureLayout:Boolean(s)||a&&OA(a),visualElement:e,animationType:"string"===typeof o?o:"both",initialPromotionConfig:i,crossfade:u,layoutScroll:l,layoutRoot:c})}(f.current,n,o,g);const v=(0,i.useRef)(!1);(0,i.useInsertionEffect)((()=>{m&&v.current&&m.update(n,d)}));const y=n[XS],x=(0,i.useRef)(Boolean(y)&&!(null!==(s=(a=window).MotionHandoffIsComplete)&&void 0!==s&&s.call(a,y))&&(null===(l=(c=window).MotionHasOptimisedAnimation)||void 0===l?void 0:l.call(c,y)));return $R((()=>{m&&(v.current=!0,window.MotionIsMounted=!0,m.updateFeatures(),QA.render(m.render),x.current&&m.animationState&&m.animationState.animateChanges())})),(0,i.useEffect)((()=>{m&&(!x.current&&m.animationState&&m.animationState.animateChanges(),x.current&&(queueMicrotask((()=>{var e,t;null===(e=(t=window).MotionHandoffMarkAsComplete)||void 0===e||e.call(t,y)})),x.current=!1))})),m}function tL(e){if(e)return!1!==e.options.allowProjection?e.projection:tL(e.parent)}function nL(e){var t,n;let{preloadedFeatures:r,createVisualElement:o,useRender:s,useVisualState:a,Component:l}=e;function c(e,t){let n;const r=u(u(u({},(0,i.useContext)(HR)),e),{},{layoutId:iL(e)}),{isStatic:c}=r,h=qR(e),d=a(e,c);if(!c&&YR){!function(){(0,i.useContext)(UR).strict;0}();const e=function(e){const{drag:t,layout:n}=ZR;if(!t&&!n)return{};const i=u(u({},t),n);return{MeasureLayout:null!==t&&void 0!==t&&t.isEnabled(e)||null!==n&&void 0!==n&&n.isEnabled(e)?i.MeasureLayout:void 0,ProjectionNode:i.ProjectionNode}}(r);n=e.MeasureLayout,h.visualElement=eL(l,d,r,o,e.ProjectionNode)}return(0,Ly.jsxs)(GR.Provider,{value:h,children:[n&&h.visualElement?(0,Ly.jsx)(n,u({visualElement:h.visualElement},r)):null,s(l,e,QR(d,h.visualElement,t),d,c,h.visualElement)]})}r&&function(e){for(const t in e)ZR[t]=u(u({},ZR[t]),e[t])}(r),c.displayName="motion.".concat("string"===typeof l?l:"create(".concat(null!==(t=null!==(n=l.displayName)&&void 0!==n?n:l.name)&&void 0!==t?t:"",")"));const h=(0,i.forwardRef)(c);return h[KR]=l,h}function iL(e){let{layoutId:t}=e;const n=(0,i.useContext)(nC).id;return n&&void 0!==t?n+"-"+t:t}function rL(e,t){let{layout:n,layoutId:i}=t;return CS.has(e)||e.startsWith("origin")||(n||void 0!==i)&&(!!lC[e]||"opacity"===e)}const oL=(e,t)=>t&&"number"===typeof e?t.transform(e):e,sL=u(u({},sM),{},{transform:Math.round}),aL=u(u({borderWidth:bM,borderTopWidth:bM,borderRightWidth:bM,borderBottomWidth:bM,borderLeftWidth:bM,borderRadius:bM,radius:bM,borderTopLeftRadius:bM,borderTopRightRadius:bM,borderBottomRightRadius:bM,borderBottomLeftRadius:bM,width:bM,maxWidth:bM,height:bM,maxHeight:bM,top:bM,right:bM,bottom:bM,left:bM,padding:bM,paddingTop:bM,paddingRight:bM,paddingBottom:bM,paddingLeft:bM,margin:bM,marginTop:bM,marginRight:bM,marginBottom:bM,marginLeft:bM,backgroundPositionX:bM,backgroundPositionY:bM},{rotate:yM,rotateX:yM,rotateY:yM,rotateZ:yM,scale:lM,scaleX:lM,scaleY:lM,scaleZ:lM,skew:yM,skewX:yM,skewY:yM,distance:bM,translateX:bM,translateY:bM,translateZ:bM,x:bM,y:bM,z:bM,perspective:bM,transformPerspective:bM,opacity:aM,originX:SM,originY:SM,originZ:bM}),{},{zIndex:sL,fillOpacity:aM,strokeOpacity:aM,numOctaves:sL}),lL={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},cL=AS.length;function uL(e,t,n){const{style:i,vars:r,transformOrigin:o}=e;let s=!1,a=!1;for(const l in t){const e=t[l];if(CS.has(l))s=!0;else if(nM(l))r[l]=e;else{const t=oL(e,aL[l]);l.startsWith("origin")?(a=!0,o[l]=t):i[l]=t}}if(t.transform||(s||n?i.transform=function(e,t,n){let i="",r=!0;for(let o=0;o<cL;o++){const s=AS[o],a=e[s];if(void 0===a)continue;let l=!0;if(l="number"===typeof a?a===(s.startsWith("scale")?1:0):0===parseFloat(a),!l||n){const e=oL(a,aL[s]);l||(r=!1,i+="".concat(lL[s]||s,"(").concat(e,") ")),n&&(t[s]=e)}}return i=i.trim(),n?i=n(t,r?"":i):r&&(i="none"),i}(t,e.transform,n):i.transform&&(i.transform="none")),a){const{originX:e="50%",originY:t="50%",originZ:n=0}=o;i.transformOrigin="".concat(e," ").concat(t," ").concat(n)}}const hL=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function dL(e,t,n){for(const i in t)VS(t[i])||rL(i,n)||(e[i]=t[i])}function pL(e,t){const n={};return dL(n,e.style||{},e),Object.assign(n,function(e,t){let{transformTemplate:n}=e;return(0,i.useMemo)((()=>{const e={style:{},transform:{},transformOrigin:{},vars:{}};return uL(e,t,n),Object.assign({},e.vars,e.style)}),[t])}(e,t)),n}function fL(e,t){const n={},i=pL(e,t);return e.drag&&!1!==e.dragListener&&(n.draggable=!1,i.userSelect=i.WebkitUserSelect=i.WebkitTouchCallout="none",i.touchAction=!0===e.drag?"none":"pan-".concat("x"===e.drag?"y":"x")),void 0===e.tabIndex&&(e.onTap||e.onTapStart||e.whileTap)&&(n.tabIndex=0),n.style=i,n}const mL={offset:"stroke-dashoffset",array:"stroke-dasharray"},gL={offset:"strokeDashoffset",array:"strokeDasharray"};const vL=["attrX","attrY","attrScale","pathLength","pathSpacing","pathOffset"];function yL(e,t,n,i,r){let{attrX:o,attrY:s,attrScale:a,pathLength:l,pathSpacing:c=1,pathOffset:u=0}=t;if(uL(e,$f(t,vL),i),n)return void(e.style.viewBox&&(e.attrs.viewBox=e.style.viewBox));e.attrs=e.style,e.style={};const{attrs:h,style:d}=e;var p,f;(h.transform&&(d.transform=h.transform,delete h.transform),d.transform||h.transformOrigin)&&(d.transformOrigin=null!==(p=h.transformOrigin)&&void 0!==p?p:"50% 50%",delete h.transformOrigin);d.transform&&(d.transformBox=null!==(f=null===r||void 0===r?void 0:r.transformBox)&&void 0!==f?f:"fill-box",delete h.transformBox);void 0!==o&&(h.x=o),void 0!==s&&(h.y=s),void 0!==a&&(h.scale=a),void 0!==l&&function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,r=!(arguments.length>4&&void 0!==arguments[4])||arguments[4];e.pathLength=1;const o=r?mL:gL;e[o.offset]=bM.transform(-i);const s=bM.transform(t),a=bM.transform(n);e[o.array]="".concat(s," ").concat(a)}(h,l,c,u,!1)}const xL=()=>u(u({},{style:{},transform:{},transformOrigin:{},vars:{}}),{},{attrs:{}}),bL=e=>"string"===typeof e&&"svg"===e.toLowerCase();function wL(e,t,n,r){const o=(0,i.useMemo)((()=>{const n=xL();return yL(n,t,bL(r),e.transformTemplate,e.style),u(u({},n.attrs),{},{style:u({},n.style)})}),[t]);if(e.style){const t={};dL(t,e.style,e),o.style=u(u({},t),o.style)}return o}const _L=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function SL(e){return e.startsWith("while")||e.startsWith("drag")&&"draggable"!==e||e.startsWith("layout")||e.startsWith("onTap")||e.startsWith("onPan")||e.startsWith("onLayout")||_L.has(e)}let ML=e=>!SL(e);try{"function"===typeof(EL=require("@emotion/is-prop-valid").default)&&(ML=e=>e.startsWith("on")?!SL(e):EL(e))}catch(uF){}var EL;const TL=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function AL(e){return"string"===typeof e&&!e.includes("-")&&!!(TL.indexOf(e)>-1||/[A-Z]/.test(e))}function CL(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return(t,n,r,o,s)=>{let{latestValues:a}=o;const l=(AL(t)?wL:fL)(n,a,s,t),c=function(e,t,n){const i={};for(const r in e)"values"===r&&"object"===typeof e.values||(ML(r)||!0===n&&SL(r)||!t&&!SL(r)||e.draggable&&r.startsWith("onDrag"))&&(i[r]=e[r]);return i}(n,"string"===typeof t,e),h=t!==i.Fragment?u(u(u({},c),l),{},{ref:r}):{},{children:d}=n,p=(0,i.useMemo)((()=>VS(d)?d.get():d),[d]);return(0,i.createElement)(t,u(u({},h),{},{children:p}))}}function RL(e){const t=(0,i.useRef)(null);return null===t.current&&(t.current=e()),t.current}const LL=["transitionEnd","transition"];const PL=e=>(t,n)=>{const r=(0,i.useContext)(GR),o=(0,i.useContext)(eC),s=()=>function(e,t,n,i){let{scrapeMotionValuesFromProps:r,createRenderState:o}=e;return{latestValues:NL(t,n,i,r),renderState:o()}}(e,t,r,o);return n?s():RL(s)};function NL(e,t,n,i){const r={},o=i(e,{});for(const d in o)r[d]=gC(o[d]);let{initial:s,animate:a}=e;const l=VR(e),c=WR(e);t&&c&&!l&&!1!==e.inherit&&(void 0===s&&(s=t.initial),void 0===a&&(a=t.animate));let u=!!n&&!1===n.initial;u=u||!1===s;const h=u?a:s;if(h&&"boolean"!==typeof h&&!pS(h)){const t=Array.isArray(h)?h:[h];for(let n=0;n<t.length;n++){const i=mS(e,t[n]);if(i){const{transitionEnd:e,transition:t}=i,n=$f(i,LL);for(const i in n){let e=n[i];if(Array.isArray(e)){e=e[u?e.length-1:0]}null!==e&&(r[i]=e)}for(const i in e)r[i]=e[i]}}}return r}function kL(e,t,n){const{style:i}=e,r={};for(const s in i){var o;(VS(i[s])||t.style&&VS(t.style[s])||rL(s,e)||void 0!==(null===n||void 0===n||null===(o=n.getValue(s))||void 0===o?void 0:o.liveStyle))&&(r[s]=i[s])}return r}const OL={useVisualState:PL({scrapeMotionValuesFromProps:kL,createRenderState:hL})};function DL(e,t,n){const i=kL(e,t,n);for(const r in e)if(VS(e[r])||VS(t[r])){i[-1!==AS.indexOf(r)?"attr"+r.charAt(0).toUpperCase()+r.substring(1):r]=e[r]}return i}const jL={useVisualState:PL({scrapeMotionValuesFromProps:DL,createRenderState:xL})};function FL(e,t){return function(n){let{forwardMotionProps:i}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{forwardMotionProps:!1};return nL(u(u({},AL(n)?jL:OL),{},{preloadedFeatures:e,useRender:CL(i),createVisualElement:t,Component:n}))}}const IL=e=>t=>t.test(e),zL=[sM,bM,xM,yM,_M,wM,{test:e=>"auto"===e,parse:e=>e}],BL=e=>zL.find(IL(e)),UL=e=>/^-?(?:[0-9]+(?:\.[0-9]+)?|\.[0-9]+)$/.test(e),HL=/^var\(--(?:([\x2D0-9A-Z_a-z]+)|([\x2D0-9A-Z_a-z]+), ?([ #%\(\),-\.0-9A-Za-z]+))\)/;function GL(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;'Max CSS variable fallback depth detected in property "'.concat(e,'". This may indicate a circular fallback dependency.');const[i,r]=function(e){const t=HL.exec(e);if(!t)return[,];const[,n,i,r]=t;return["--".concat(null!==n&&void 0!==n?n:i),r]}(e);if(!i)return;const o=window.getComputedStyle(t).getPropertyValue(i);if(o){const e=o.trim();return UL(e)?parseFloat(e):e}return rM(r)?GL(r,t,n+1):r}const VL=e=>/^0(?:[\0-\x08\x0E-\x1F!-\x2D\/-\x9F\xA1-\u167F\u1681-\u1FFF\u200B-\u2027\u202A-\u202E\u2030-\u205E\u2060-\u2FFF\u3001-\uD7FF\uE000-\uFEFE\uFF00-\uFFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])+$/.test(e);const WL=new Set(["brightness","contrast","saturate","opacity"]);function qL(e){const[t,n]=e.slice(0,-1).split("(");if("drop-shadow"===t)return e;const[i]=n.match(uM)||[];if(!i)return e;const r=n.replace(i,"");let o=WL.has(t)?1:0;return i!==n&&(o*=100),t+"("+o+r+")"}const XL=/\b([\x2Da-z]*)\((?:[\0-\t\x0B\f\x0E-\u2027\u202A-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])*?\)/g,YL=u(u({},OM),{},{getAnimatableNone:e=>{const t=e.match(XL);return t?t.map(qL).join(" "):e}}),JL=u(u({},aL),{},{color:EM,backgroundColor:EM,outlineColor:EM,fill:EM,stroke:EM,borderColor:EM,borderTopColor:EM,borderRightColor:EM,borderBottomColor:EM,borderLeftColor:EM,filter:YL,WebkitFilter:YL}),ZL=e=>JL[e];function KL(e,t){let n=ZL(e);return n!==YL&&(n=OM),n.getAnimatableNone?n.getAnimatableNone(t):void 0}const QL=new Set(["auto","none","0"]);class $L extends rT{constructor(e,t,n,i,r){super(e,t,n,i,r,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:t,name:n}=this;if(!t||!t.current)return;super.readKeyframes();for(let a=0;a<e.length;a++){let n=e[a];if("string"===typeof n&&(n=n.trim(),rM(n))){const i=GL(n,t.current);void 0!==i&&(e[a]=i),a===e.length-1&&(this.finalKeyframe=n)}}if(this.resolveNoneKeyframes(),!RS.has(n)||2!==e.length)return;const[i,r]=e,o=BL(i),s=BL(r);if(o!==s)if(YE(o)&&YE(s))for(let a=0;a<e.length;a++){const t=e[a];"string"===typeof t&&(e[a]=parseFloat(t))}else KE[n]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:t}=this,n=[];for(let r=0;r<e.length;r++)(null===e[r]||("number"===typeof(i=e[r])?0===i:null===i||"none"===i||"0"===i||VL(i)))&&n.push(r);var i;n.length&&function(e,t,n){let i,r=0;for(;r<e.length&&!i;){const t=e[r];"string"===typeof t&&!QL.has(t)&&LM(t).values.length&&(i=e[r]),r++}if(i&&n)for(const o of t)e[o]=KL(n,i)}(e,n,t)}measureInitialState(){const{element:e,unresolvedKeyframes:t,name:n}=this;if(!e||!e.current)return;"height"===n&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=KE[n](e.measureViewportBox(),window.getComputedStyle(e.current)),t[0]=this.measuredOrigin;const i=t[t.length-1];void 0!==i&&e.getValue(n,i).jump(i,!1)}measureEndState(){var e;const{element:t,name:n,unresolvedKeyframes:i}=this;if(!t||!t.current)return;const r=t.getValue(n);r&&r.jump(this.measuredOrigin,!1);const o=i.length-1,s=i[o];i[o]=KE[n](t.measureViewportBox(),window.getComputedStyle(t.current)),null!==s&&void 0===this.finalKeyframe&&(this.finalKeyframe=s),null!==(e=this.removedTransforms)&&void 0!==e&&e.length&&this.removedTransforms.forEach((e=>{let[n,i]=e;t.getValue(n).set(i)})),this.resolveNoneKeyframes()}}const eP=[...zL,EM,OM],tP={current:null},nP={current:!1};const iP=new WeakMap;const rP=["willChange"],oP=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class sP{scrapeMotionValuesFromProps(e,t,n){return{}}constructor(e){let{parent:t,props:n,presenceContext:i,reducedMotionConfig:r,blockInitialAnimation:o,visualState:s}=e,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=rT,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const e=jS.now();this.renderScheduledAt<e&&(this.renderScheduledAt=e,SS.render(this.render,!1,!0))};const{latestValues:l,renderState:c}=s;this.latestValues=l,this.baseTarget=u({},l),this.initialValues=n.initial?u({},l):{},this.renderState=c,this.parent=t,this.props=n,this.presenceContext=i,this.depth=t?t.depth+1:0,this.reducedMotionConfig=r,this.options=a,this.blockInitialAnimation=Boolean(o),this.isControllingVariants=VR(n),this.isVariantNode=WR(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=Boolean(t&&t.current);const h=this.scrapeMotionValuesFromProps(n,{},this),{willChange:d}=h,p=$f(h,rP);for(const u in p){const e=p[u];void 0!==l[u]&&VS(e)&&e.set(l[u],!1)}}mount(e){this.current=e,iP.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach(((e,t)=>this.bindToMotionValue(t,e))),nP.current||function(){if(nP.current=!0,YR)if(window.matchMedia){const e=window.matchMedia("(prefers-reduced-motion)"),t=()=>tP.current=e.matches;e.addListener(t),t()}else tP.current=!1}(),this.shouldReduceMotion="never"!==this.reducedMotionConfig&&("always"===this.reducedMotionConfig||tP.current),this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){this.projection&&this.projection.unmount(),MS(this.notifyUpdate),MS(this.render),this.valueSubscriptions.forEach((e=>e())),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const e in this.events)this.events[e].clear();for(const e in this.features){const t=this.features[e];t&&(t.unmount(),t.isMounted=!1)}this.current=null}bindToMotionValue(e,t){this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)();const n=CS.has(e);n&&this.onBindTransform&&this.onBindTransform();const i=t.on("change",(t=>{this.latestValues[e]=t,this.props.onUpdate&&SS.preRender(this.notifyUpdate),n&&this.projection&&(this.projection.isTransformDirty=!0)})),r=t.on("renderRequest",this.scheduleRender);let o;window.MotionCheckAppearSync&&(o=window.MotionCheckAppearSync(this,e,t)),this.valueSubscriptions.set(e,(()=>{i(),r(),o&&o(),t.owner&&t.stop()}))}sortNodePosition(e){return this.current&&this.sortInstanceNodePosition&&this.type===e.type?this.sortInstanceNodePosition(this.current,e.current):0}updateFeatures(){let e="animation";for(e in ZR){const t=ZR[e];if(!t)continue;const{isEnabled:n,Feature:i}=t;if(!this.features[e]&&i&&n(this.props)&&(this.features[e]=new i(this)),this.features[e]){const t=this.features[e];t.isMounted?t.update():(t.mount(),t.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):{x:{min:0,max:0},y:{min:0,max:0}}}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,t){this.latestValues[e]=t}update(e,t){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=t;for(let n=0;n<oP.length;n++){const t=oP[n];this.propEventSubscriptions[t]&&(this.propEventSubscriptions[t](),delete this.propEventSubscriptions[t]);const i=e["on"+t];i&&(this.propEventSubscriptions[t]=this.on(t,i))}this.prevMotionValues=function(e,t,n){for(const i in t){const r=t[i],o=n[i];if(VS(r))e.addValue(i,r);else if(VS(o))e.addValue(i,zS(r,{owner:e}));else if(o!==r)if(e.hasValue(i)){const t=e.getValue(i);!0===t.liveStyle?t.jump(r):t.hasAnimated||t.set(r)}else{const t=e.getStaticValue(i);e.addValue(i,zS(void 0!==t?t:r,{owner:e}))}}for(const i in n)void 0===t[i]&&e.removeValue(i);return t}(this,this.scrapeMotionValuesFromProps(e,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){const t=this.getClosestVariantNode();if(t)return t.variantChildren&&t.variantChildren.add(e),()=>t.variantChildren.delete(e)}addValue(e,t){const n=this.values.get(e);t!==n&&(n&&this.removeValue(e),this.bindToMotionValue(e,t),this.values.set(e,t),this.latestValues[e]=t.get())}removeValue(e){this.values.delete(e);const t=this.valueSubscriptions.get(e);t&&(t(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,t){if(this.props.values&&this.props.values[e])return this.props.values[e];let n=this.values.get(e);return void 0===n&&void 0!==t&&(n=zS(null===t?void 0:t,{owner:this}),this.addValue(e,n)),n}readValue(e,t){var n;let i=void 0===this.latestValues[e]&&this.current?null!==(n=this.getBaseTargetFromProps(this.props,e))&&void 0!==n?n:this.readValueFromInstance(this.current,e,this.options):this.latestValues[e];var r;return void 0!==i&&null!==i&&("string"===typeof i&&(UL(i)||VL(i))?i=parseFloat(i):(r=i,!eP.find(IL(r))&&OM.test(t)&&(i=KL(e,t))),this.setBaseTarget(e,VS(i)?i.get():i)),VS(i)?i.get():i}setBaseTarget(e,t){this.baseTarget[e]=t}getBaseTarget(e){const{initial:t}=this.props;let n;if("string"===typeof t||"object"===typeof t){var i;const r=mS(this.props,t,null===(i=this.presenceContext)||void 0===i?void 0:i.custom);r&&(n=r[e])}if(t&&void 0!==n)return n;const r=this.getBaseTargetFromProps(this.props,e);return void 0===r||VS(r)?void 0!==this.initialValues[e]&&void 0===n?void 0:this.baseTarget[e]:r}on(e,t){return this.events[e]||(this.events[e]=new NS),this.events[e].add(t)}notify(e){if(this.events[e]){for(var t=arguments.length,n=new Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];this.events[e].notify(...n)}}}class aP extends sP{constructor(){super(...arguments),this.KeyframeResolver=$L}sortInstanceNodePosition(e,t){return 2&e.compareDocumentPosition(t)?1:-1}getBaseTargetFromProps(e,t){return e.style?e.style[t]:void 0}removeValueFromRenderState(e,t){let{vars:n,style:i}=t;delete n[e],delete i[e]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;VS(e)&&(this.childSubscription=e.on("change",(e=>{this.current&&(this.current.textContent="".concat(e))})))}}function lP(e,t,n,i){let{style:r,vars:o}=t;Object.assign(e.style,r,i&&i.getProjectionStyles(n));for(const s in o)e.style.setProperty(s,o[s])}class cP extends aP{constructor(){super(...arguments),this.type="html",this.renderInstance=lP}readValueFromInstance(e,t){var n,i;if(CS.has(t))return null!==(n=this.projection)&&void 0!==n&&n.isProjecting?WE(t):((e,t)=>{const{transform:n="none"}=getComputedStyle(e);return qE(n,t)})(e,t);{const n=(i=e,window.getComputedStyle(i)),r=(nM(t)?n.getPropertyValue(t):n[t])||0;return"string"===typeof r?r.trim():r}}measureInstanceViewportBox(e,t){let{transformPagePoint:n}=t;return NA(e,n)}build(e,t,n){uL(e,t,n.transformTemplate)}scrapeMotionValuesFromProps(e,t,n){return kL(e,t,n)}}const uP=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);class hP extends aP{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=gA}getBaseTargetFromProps(e,t){return e[t]}readValueFromInstance(e,t){if(CS.has(t)){const e=ZL(t);return e&&e.default||0}return t=uP.has(t)?t:qS(t),e.getAttribute(t)}scrapeMotionValuesFromProps(e,t,n){return DL(e,t,n)}build(e,t,n){yL(e,t,this.isSVGTag,n.transformTemplate,n.style)}renderInstance(e,t,n,i){!function(e,t,n,i){lP(e,t,void 0,i);for(const r in t.attrs)e.setAttribute(uP.has(r)?r:qS(r),t.attrs[r])}(e,t,0,i)}mount(e){this.isSVGTag=bL(e.tagName),super.mount(e)}}const dP=(e,t)=>AL(e)?new hP(t):new cP(t,{allowProjection:e!==i.Fragment}),pP=dS(FL(u(u(u(u({},nA),zR),xR),BR),dP));class fP extends i.Component{getSnapshotBeforeUpdate(e){const t=this.props.childRef.current;if(t&&e.isPresent&&!this.props.isPresent){const e=t.offsetParent,n=ST(e)&&e.offsetWidth||0,i=this.props.sizeRef.current;i.height=t.offsetHeight||0,i.width=t.offsetWidth||0,i.top=t.offsetTop,i.left=t.offsetLeft,i.right=n-i.width-i.left}return null}componentDidUpdate(){}render(){return this.props.children}}function mP(e){let{children:t,isPresent:n,anchorX:r}=e;const o=(0,i.useId)(),s=(0,i.useRef)(null),a=(0,i.useRef)({width:0,height:0,top:0,left:0,right:0}),{nonce:l}=(0,i.useContext)(HR);return(0,i.useInsertionEffect)((()=>{const{width:e,height:t,top:i,left:c,right:u}=a.current;if(n||!s.current||!e||!t)return;const h="left"===r?"left: ".concat(c):"right: ".concat(u);s.current.dataset.motionPopId=o;const d=document.createElement("style");return l&&(d.nonce=l),document.head.appendChild(d),d.sheet&&d.sheet.insertRule('\n          [data-motion-pop-id="'.concat(o,'"] {\n            position: absolute !important;\n            width: ').concat(e,"px !important;\n            height: ").concat(t,"px !important;\n            ").concat(h,"px !important;\n            top: ").concat(i,"px !important;\n          }\n        ")),()=>{document.head.contains(d)&&document.head.removeChild(d)}}),[n]),(0,Ly.jsx)(fP,{isPresent:n,childRef:s,sizeRef:a,children:i.cloneElement(t,{ref:s})})}const gP=e=>{let{children:t,initial:n,isPresent:r,onExitComplete:o,custom:s,presenceAffectsLayout:a,mode:l,anchorX:c}=e;const h=RL(vP),d=(0,i.useId)();let p=!0,f=(0,i.useMemo)((()=>(p=!1,{id:d,initial:n,isPresent:r,custom:s,onExitComplete:e=>{h.set(e,!0);for(const t of h.values())if(!t)return;o&&o()},register:e=>(h.set(e,!1),()=>h.delete(e))})),[r,h,o]);return a&&p&&(f=u({},f)),(0,i.useMemo)((()=>{h.forEach(((e,t)=>h.set(t,!1)))}),[r]),i.useEffect((()=>{!r&&!h.size&&o&&o()}),[r]),"popLayout"===l&&(t=(0,Ly.jsx)(mP,{isPresent:r,anchorX:c,children:t})),(0,Ly.jsx)(eC.Provider,{value:f,children:t})};function vP(){return new Map}const yP=e=>e.key||"";function xP(e){const t=[];return i.Children.forEach(e,(e=>{(0,i.isValidElement)(e)&&t.push(e)})),t}const bP=e=>{let{children:t,custom:n,initial:r=!0,onExitComplete:o,presenceAffectsLayout:s=!0,mode:a="sync",propagate:l=!1,anchorX:c="left"}=e;const[u,h]=tC(l),d=(0,i.useMemo)((()=>xP(t)),[t]),p=l&&!u?[]:d.map(yP),f=(0,i.useRef)(!0),m=(0,i.useRef)(d),g=RL((()=>new Map)),[v,y]=(0,i.useState)(d),[x,b]=(0,i.useState)(d);$R((()=>{f.current=!1,m.current=d;for(let e=0;e<x.length;e++){const t=yP(x[e]);p.includes(t)?g.delete(t):!0!==g.get(t)&&g.set(t,!1)}}),[x,p.length,p.join("-")]);const w=[];if(d!==v){let e=[...d];for(let t=0;t<x.length;t++){const n=x[t],i=yP(n);p.includes(i)||(e.splice(t,0,n),w.push(n))}return"wait"===a&&w.length&&(e=w),b(xP(e)),y(d),null}const{forceRender:_}=(0,i.useContext)(nC);return(0,Ly.jsx)(Ly.Fragment,{children:x.map((e=>{const t=yP(e),i=!(l&&!u)&&(d===x||p.includes(t));return(0,Ly.jsx)(gP,{isPresent:i,initial:!(f.current&&!r)&&void 0,custom:n,presenceAffectsLayout:s,mode:a,onExitComplete:i?void 0:()=>{if(!g.has(t))return;g.set(t,!0);let e=!0;g.forEach((t=>{t||(e=!1)})),e&&(null===_||void 0===_||_(),b(m.current),l&&(null===h||void 0===h||h()),o&&o())},anchorX:c,children:e},t)}))})};var wP={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},_P=i.createContext&&i.createContext(wP),SP=["attr","size","title"];function MP(e,t){if(null==e)return{};var n,i,r=function(e,t){if(null==e)return{};var n={};for(var i in e)if(Object.prototype.hasOwnProperty.call(e,i)){if(t.indexOf(i)>=0)continue;n[i]=e[i]}return n}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)n=o[i],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function EP(){return EP=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},EP.apply(this,arguments)}function TP(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function AP(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?TP(Object(n),!0).forEach((function(t){CP(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):TP(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function CP(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function RP(e){return e&&e.map(((e,t)=>i.createElement(e.tag,AP({key:t},e.attr),RP(e.child))))}function LP(e){return t=>i.createElement(PP,EP({attr:AP({},e.attr)},t),RP(e.child))}function PP(e){var t=t=>{var n,{attr:r,size:o,title:s}=e,a=MP(e,SP),l=o||t.size||"1em";return t.className&&(n=t.className),e.className&&(n=(n?n+" ":"")+e.className),i.createElement("svg",EP({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},t.attr,r,a,{className:n,style:AP(AP({color:e.color||t.color},t.style),e.style),height:l,width:l,xmlns:"http://www.w3.org/2000/svg"}),s&&i.createElement("title",null,s),e.children)};return void 0!==_P?i.createElement(_P.Consumer,null,(e=>t(e))):t(wP)}function NP(e){return LP({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M504 256C504 119 393 8 256 8S8 119 8 256c0 123.78 90.69 226.38 209.25 245V327.69h-63V256h63v-54.64c0-62.15 37-96.48 93.67-96.48 27.14 0 55.52 4.84 55.52 4.84v61h-31.28c-30.8 0-40.41 19.12-40.41 38.73V256h68.78l-11 71.69h-57.78V501C413.31 482.38 504 379.78 504 256z"},child:[]}]})(e)}function kP(e){return LP({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M224.1 141c-63.6 0-114.9 51.3-114.9 114.9s51.3 114.9 114.9 114.9S339 319.5 339 255.9 287.7 141 224.1 141zm0 189.6c-41.1 0-74.7-33.5-74.7-74.7s33.5-74.7 74.7-74.7 74.7 33.5 74.7 74.7-33.6 74.7-74.7 74.7zm146.4-194.3c0 14.9-12 26.8-26.8 26.8-14.9 0-26.8-12-26.8-26.8s12-26.8 26.8-26.8 26.8 12 26.8 26.8zm76.1 27.2c-1.7-35.9-9.9-67.7-36.2-93.9-26.2-26.2-58-34.4-93.9-36.2-37-2.1-147.9-2.1-184.9 0-35.8 1.7-67.6 9.9-93.9 36.1s-34.4 58-36.2 93.9c-2.1 37-2.1 147.9 0 184.9 1.7 35.9 9.9 67.7 36.2 93.9s58 34.4 93.9 36.2c37 2.1 147.9 2.1 184.9 0 35.9-1.7 67.7-9.9 93.9-36.2 26.2-26.2 34.4-58 36.2-93.9 2.1-37 2.1-147.8 0-184.8zM398.8 388c-7.8 19.6-22.9 34.7-42.6 42.6-29.5 11.7-99.5 9-132.1 9s-102.7 2.6-132.1-9c-19.6-7.8-34.7-22.9-42.6-42.6-11.7-29.5-9-99.5-9-132.1s-2.6-102.7 9-132.1c7.8-19.6 22.9-34.7 42.6-42.6 29.5-11.7 99.5-9 132.1-9s102.7-2.6 132.1 9c19.6 7.8 34.7 22.9 42.6 42.6 11.7 29.5 9 99.5 9 132.1s2.7 102.7-9 132.1z"},child:[]}]})(e)}function OP(e){return LP({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M459.37 151.716c.325 4.548.325 9.097.325 13.645 0 138.72-105.583 298.558-298.558 298.558-59.452 0-114.68-17.219-161.137-47.106 8.447.974 16.568 1.299 25.34 1.299 49.055 0 94.213-16.568 130.274-44.832-46.132-.975-84.792-31.188-98.112-72.772 6.498.974 12.995 1.624 19.818 1.624 9.421 0 18.843-1.3 27.614-3.573-48.081-9.747-84.143-51.98-84.143-102.985v-1.299c13.969 7.797 30.214 12.67 47.431 13.319-28.264-18.843-46.781-51.005-46.781-87.391 0-19.492 5.197-37.36 14.294-52.954 51.655 63.675 129.3 105.258 216.365 109.807-1.624-7.797-2.599-15.918-2.599-24.04 0-57.828 46.782-104.934 104.934-104.934 30.213 0 57.502 12.67 76.67 33.137 23.715-4.548 46.456-13.32 66.599-25.34-7.798 24.366-24.366 44.833-46.132 57.827 21.117-2.273 41.584-8.122 60.426-16.243-14.292 20.791-32.161 39.308-52.628 54.253z"},child:[]}]})(e)}function DP(e){return LP({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M257.5 445.1l-22.2 22.2c-9.4 9.4-24.6 9.4-33.9 0L7 273c-9.4-9.4-9.4-24.6 0-33.9L201.4 44.7c9.4-9.4 24.6-9.4 33.9 0l22.2 22.2c9.5 9.5 9.3 25-.4 34.3L136.6 216H424c13.3 0 24 10.7 24 24v32c0 13.3-10.7 24-24 24H136.6l120.5 114.8c9.8 9.3 10 24.8.4 34.3z"},child:[]}]})(e)}function jP(e){return LP({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M16 132h416c8.837 0 16-7.163 16-16V76c0-8.837-7.163-16-16-16H16C7.163 60 0 67.163 0 76v40c0 8.837 7.163 16 16 16zm0 160h416c8.837 0 16-7.163 16-16v-40c0-8.837-7.163-16-16-16H16c-8.837 0-16 7.163-16 16v40c0 8.837 7.163 16 16 16zm0 160h416c8.837 0 16-7.163 16-16v-40c0-8.837-7.163-16-16-16H16c-8.837 0-16 7.163-16 16v40c0 8.837 7.163 16 16 16z"},child:[]}]})(e)}function FP(e){return LP({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M0 464c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48V192H0v272zm320-196c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v40c0 6.6-5.4 12-12 12h-40c-6.6 0-12-5.4-12-12v-40zm0 128c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v40c0 6.6-5.4 12-12 12h-40c-6.6 0-12-5.4-12-12v-40zM192 268c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v40c0 6.6-5.4 12-12 12h-40c-6.6 0-12-5.4-12-12v-40zm0 128c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v40c0 6.6-5.4 12-12 12h-40c-6.6 0-12-5.4-12-12v-40zM64 268c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v40c0 6.6-5.4 12-12 12H76c-6.6 0-12-5.4-12-12v-40zm0 128c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v40c0 6.6-5.4 12-12 12H76c-6.6 0-12-5.4-12-12v-40zM400 64h-48V16c0-8.8-7.2-16-16-16h-32c-8.8 0-16 7.2-16 16v48H160V16c0-8.8-7.2-16-16-16h-32c-8.8 0-16 7.2-16 16v48H48C21.5 64 0 85.5 0 112v48h448v-48c0-26.5-21.5-48-48-48z"},child:[]}]})(e)}function IP(e){return LP({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M256,8C119,8,8,119,8,256S119,504,256,504,504,393,504,256,393,8,256,8Zm92.49,313h0l-20,25a16,16,0,0,1-22.49,2.5h0l-67-49.72a40,40,0,0,1-15-31.23V112a16,16,0,0,1,16-16h32a16,16,0,0,1,16,16V256l58,42.5A16,16,0,0,1,348.49,321Z"},child:[]}]})(e)}function zP(e){return LP({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M488 64h-8v20c0 6.6-5.4 12-12 12h-40c-6.6 0-12-5.4-12-12V64H96v20c0 6.6-5.4 12-12 12H44c-6.6 0-12-5.4-12-12V64h-8C10.7 64 0 74.7 0 88v336c0 13.3 10.7 24 24 24h8v-20c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v20h320v-20c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v20h8c13.3 0 24-10.7 24-24V88c0-13.3-10.7-24-24-24zM96 372c0 6.6-5.4 12-12 12H44c-6.6 0-12-5.4-12-12v-40c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v40zm0-96c0 6.6-5.4 12-12 12H44c-6.6 0-12-5.4-12-12v-40c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v40zm0-96c0 6.6-5.4 12-12 12H44c-6.6 0-12-5.4-12-12v-40c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v40zm272 208c0 6.6-5.4 12-12 12H156c-6.6 0-12-5.4-12-12v-96c0-6.6 5.4-12 12-12h200c6.6 0 12 5.4 12 12v96zm0-168c0 6.6-5.4 12-12 12H156c-6.6 0-12-5.4-12-12v-96c0-6.6 5.4-12 12-12h200c6.6 0 12 5.4 12 12v96zm112 152c0 6.6-5.4 12-12 12h-40c-6.6 0-12-5.4-12-12v-40c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v40zm0-96c0 6.6-5.4 12-12 12h-40c-6.6 0-12-5.4-12-12v-40c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v40zm0-96c0 6.6-5.4 12-12 12h-40c-6.6 0-12-5.4-12-12v-40c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v40z"},child:[]}]})(e)}function BP(e){return LP({tag:"svg",attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M574.1 280.37L528.75 98.66c-5.91-23.7-21.59-44.05-43-55.81-21.44-11.73-46.97-14.11-70.19-6.33l-15.25 5.08c-8.39 2.79-12.92 11.86-10.12 20.24l5.06 15.18c2.79 8.38 11.85 12.91 20.23 10.12l13.18-4.39c10.87-3.62 23-3.57 33.16 1.73 10.29 5.37 17.57 14.56 20.37 25.82l38.46 153.82c-22.19-6.81-49.79-12.46-81.2-12.46-34.77 0-73.98 7.02-114.85 26.74h-73.18c-40.87-19.74-80.08-26.75-114.86-26.75-31.42 0-59.02 5.65-81.21 12.46l38.46-153.83c2.79-11.25 10.09-20.45 20.38-25.81 10.16-5.3 22.28-5.35 33.15-1.73l13.17 4.39c8.38 2.79 17.44-1.74 20.23-10.12l5.06-15.18c2.8-8.38-1.73-17.45-10.12-20.24l-15.25-5.08c-23.22-7.78-48.75-5.41-70.19 6.33-21.41 11.77-37.09 32.11-43 55.8L1.9 280.37A64.218 64.218 0 0 0 0 295.86v70.25C0 429.01 51.58 480 115.2 480h37.12c60.28 0 110.37-45.94 114.88-105.37l2.93-38.63h35.75l2.93 38.63C313.31 434.06 363.4 480 423.68 480h37.12c63.62 0 115.2-50.99 115.2-113.88v-70.25c0-5.23-.64-10.43-1.9-15.5zm-370.72 89.42c-1.97 25.91-24.4 46.21-51.06 46.21H115.2C86.97 416 64 393.62 64 366.11v-37.54c18.12-6.49 43.42-12.92 72.58-12.92 23.86 0 47.26 4.33 69.93 12.92l-3.13 41.22zM512 366.12c0 27.51-22.97 49.88-51.2 49.88h-37.12c-26.67 0-49.1-20.3-51.06-46.21l-3.13-41.22c22.67-8.59 46.08-12.92 69.95-12.92 29.12 0 54.43 6.44 72.55 12.93v37.54z"},child:[]}]})(e)}function UP(e){return LP({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M256 8C119.043 8 8 119.083 8 256c0 136.997 111.043 248 248 248s248-111.003 248-248C504 119.083 392.957 8 256 8zm0 110c23.196 0 42 18.804 42 42s-18.804 42-42 42-42-18.804-42-42 18.804-42 42-42zm56 254c0 6.627-5.373 12-12 12h-88c-6.627 0-12-5.373-12-12v-24c0-6.627 5.373-12 12-12h12v-64h-12c-6.627 0-12-5.373-12-12v-24c0-6.627 5.373-12 12-12h64c6.627 0 12 5.373 12 12v100h12c6.627 0 12 5.373 12 12v24z"},child:[]}]})(e)}function HP(e){return LP({tag:"svg",attr:{viewBox:"0 0 384 512"},child:[{tag:"path",attr:{d:"M172.268 501.67C26.97 291.031 0 269.413 0 192 0 85.961 85.961 0 192 0s192 85.961 192 192c0 77.413-26.97 99.031-172.268 309.67-9.535 13.774-29.93 13.773-39.464 0zM192 272c44.183 0 80-35.817 80-80s-35.817-80-80-80-80 35.817-80 80 35.817 80 80 80z"},child:[]}]})(e)}function GP(e){return LP({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M424.4 214.7L72.4 6.6C43.8-10.3 0 6.1 0 47.9V464c0 37.5 40.7 60.1 72.4 41.3l352-208c31.4-18.5 31.5-64.1 0-82.6z"},child:[]}]})(e)}function VP(e){return LP({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M505 442.7L405.3 343c-4.5-4.5-10.6-7-17-7H372c27.6-35.3 44-79.7 44-128C416 93.1 322.9 0 208 0S0 93.1 0 208s93.1 208 208 208c48.3 0 92.7-16.4 128-44v16.3c0 6.4 2.5 12.5 7 17l99.7 99.7c9.4 9.4 24.6 9.4 33.9 0l28.3-28.3c9.4-9.4 9.4-24.6.1-34zM208 336c-70.7 0-128-57.2-128-128 0-70.7 57.2-128 128-128 70.7 0 128 57.2 128 128 0 70.7-57.2 128-128 128z"},child:[]}]})(e)}function WP(e){return LP({tag:"svg",attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M259.3 17.8L194 150.2 47.9 171.5c-26.2 3.8-36.7 36.1-17.7 54.6l105.7 103-25 145.5c-4.5 26.3 23.2 46 46.4 33.7L288 439.6l130.7 68.7c23.2 12.2 50.9-7.4 46.4-33.7l-25-145.5 105.7-103c19-18.5 8.5-50.8-17.7-54.6L382 150.2 316.7 17.8c-11.7-23.6-45.6-23.9-57.4 0z"},child:[]}]})(e)}function qP(e){return LP({tag:"svg",attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M128 160h320v192H128V160zm400 96c0 26.51 21.49 48 48 48v96c0 26.51-21.49 48-48 48H48c-26.51 0-48-21.49-48-48v-96c26.51 0 48-21.49 48-48s-21.49-48-48-48v-96c0-26.51 21.49-48 48-48h480c26.51 0 48 21.49 48 48v96c-26.51 0-48 21.49-48 48zm-48-104c0-13.255-10.745-24-24-24H120c-13.255 0-24 10.745-24 24v208c0 13.255 10.745 24 24 24h336c13.255 0 24-10.745 24-24V152z"},child:[]}]})(e)}function XP(e){return LP({tag:"svg",attr:{viewBox:"0 0 352 512"},child:[{tag:"path",attr:{d:"M242.72 256l100.07-100.07c12.28-12.28 12.28-32.19 0-44.48l-22.24-22.24c-12.28-12.28-32.19-12.28-44.48 0L176 189.28 75.93 89.21c-12.28-12.28-32.19-12.28-44.48 0L9.21 111.45c-12.28 12.28-12.28 32.19 0 44.48L109.28 256 9.21 356.07c-12.28 12.28-12.28 32.19 0 44.48l22.24 22.24c12.28 12.28 32.2 12.28 44.48 0L176 322.72l100.07 100.07c12.28 12.28 32.2 12.28 44.48 0l22.24-22.24c12.28-12.28 12.28-32.19 0-44.48L242.72 256z"},child:[]}]})(e)}function YP(e){return LP({tag:"svg",attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M96 224c35.3 0 64-28.7 64-64s-28.7-64-64-64-64 28.7-64 64 28.7 64 64 64zm448 0c35.3 0 64-28.7 64-64s-28.7-64-64-64-64 28.7-64 64 28.7 64 64 64zm32 32h-64c-17.6 0-33.5 7.1-45.1 18.6 40.3 22.1 68.9 62 75.1 109.4h66c17.7 0 32-14.3 32-32v-32c0-35.3-28.7-64-64-64zm-256 0c61.9 0 112-50.1 112-112S381.9 32 320 32 208 82.1 208 144s50.1 112 112 112zm76.8 32h-8.3c-20.8 10-43.9 16-68.5 16s-47.6-6-68.5-16h-8.3C179.6 288 128 339.6 128 403.2V432c0 26.5 21.5 48 48 48h288c26.5 0 48-21.5 48-48v-28.8c0-63.6-51.6-115.2-115.2-115.2zm-223.7-13.4C161.5 263.1 145.6 256 128 256H64c-35.3 0-64 28.7-64 64v32c0 17.7 14.3 32 32 32h65.9c6.3-47.4 34.9-87.3 75.2-109.4z"},child:[]}]})(e)}function JP(e){return LP({tag:"svg",attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M336.2 64H47.8C21.4 64 0 85.4 0 111.8v288.4C0 426.6 21.4 448 47.8 448h288.4c26.4 0 47.8-21.4 47.8-47.8V111.8c0-26.4-21.4-47.8-47.8-47.8zm189.4 37.7L416 177.3v157.4l109.6 75.5c21.2 14.6 50.4-.3 50.4-25.8V127.5c0-25.4-29.1-40.4-50.4-25.8z"},child:[]}]})(e)}const ZP=e=>{const[t,n]=(0,i.useState)(""),[r,o]=(0,i.useState)(!1),[s,a]=(0,i.useState)({top:0,right:0}),l=(0,i.useRef)(null),c=(0,i.useRef)(null);var u,h;u=l,h=()=>o(!1),(0,i.useEffect)((()=>{const e=e=>{u.current&&!u.current.contains(e.target)&&h()};return document.addEventListener("mousedown",e),()=>{document.removeEventListener("mousedown",e)}}),[u,h]),(0,i.useEffect)((()=>{const e=localStorage.getItem("username");e&&n(e)}),[]);const d=e=>e?e.charAt(0).toUpperCase():"";return(0,Ly.jsxs)("div",{ref:l,children:[(0,Ly.jsxs)("div",{className:"user-profile-container",ref:c,onClick:()=>{if(c.current){const e=c.current.getBoundingClientRect();a({top:e.bottom+8,right:window.innerWidth-e.right})}o(!r)},children:[(0,Ly.jsx)("div",{className:"user-icon",children:d(t)}),(0,Ly.jsx)("span",{className:"header-username",children:t})]}),(0,Ly.jsx)(bP,{children:r&&(0,Ly.jsxs)(pP.div,{className:"dropdown-menu",style:{top:s.top,right:s.right},initial:{opacity:0,y:-10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10,transition:{duration:.2}},children:[(0,Ly.jsxs)("div",{className:"dropdown-header",children:[(0,Ly.jsx)("div",{className:"dropdown-user-icon",children:d(t)}),(0,Ly.jsx)("span",{className:"dropdown-username",children:t})]}),(0,Ly.jsx)("div",{className:"dropdown-separator"}),(0,Ly.jsx)(_y,{to:"/profile",className:"dropdown-item",children:"Profile"}),(0,Ly.jsx)(_y,{to:"/my-reservations",className:"dropdown-item",children:"My Reservations"}),(0,Ly.jsx)("div",{className:"dropdown-separator"}),(0,Ly.jsx)("button",{className:"dropdown-item",onClick:e.onLogout,children:"Logout"})]})})]})},KP=()=>{const[e,t]=(0,i.useState)(window.innerWidth<768);(0,i.useEffect)((()=>{const e=()=>t(window.innerWidth<768);return window.addEventListener("resize",e),()=>window.removeEventListener("resize",e)}),[]);const n={fontWeight:"bold",fontSize:e?"1rem":"1.5rem",background:"linear-gradient(to right, #ef4444, #f59e0b)",WebkitBackgroundClip:"text",color:"transparent"};return(0,Ly.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"0.5rem"},children:[(0,Ly.jsx)(qP,{style:{fontSize:"2rem",color:"#ef4444",display:e?"none":"block"}}),(0,Ly.jsx)("span",{style:n,children:"CineReserve"})]})},QP=()=>{const[e,t]=(0,i.useState)(!1),[n,r]=(0,i.useState)(!1),[o,s]=(0,i.useState)(""),[a,l]=(0,i.useState)(!1),c=pv(),[u,h]=(0,i.useState)(window.innerWidth<768),d=(0,i.useRef)(!1);(0,i.useEffect)((()=>{let e=null;const t=()=>{null===e&&(e=window.requestAnimationFrame((()=>{h(window.innerWidth<768),e=null})))};return window.addEventListener("resize",t,{passive:!0}),()=>{window.removeEventListener("resize",t),null!==e&&window.cancelAnimationFrame(e)}}),[]);const p={color:"white",fontWeight:"bold",fontSize:u?"0.8rem":"1.5rem",width:u?"50px":"150px",height:"2rem",padding:"0"};(0,i.useEffect)((()=>{const e=localStorage.getItem("token");e&&(l(!0),console.log("token",e))}),[c]),(0,i.useEffect)((()=>{const e=()=>{const e=window.scrollY>10;e!==d.current&&(d.current=e,r(e))};return e(),window.addEventListener("scroll",e,{passive:!0}),()=>window.removeEventListener("scroll",e)}),[]);const f=[{name:"Home page ",href:"/",icon:(0,Ly.jsx)(qP,{})},{name:"Now playing",href:"/movie_list",icon:(0,Ly.jsx)(qP,{})},{name:"Theaters",href:"/theaters",icon:(0,Ly.jsx)(qP,{})},{name:"Special Offers",href:"/pricing",icon:(0,Ly.jsx)(qP,{})}],m={hidden:{opacity:0,x:-20},visible:{opacity:1,x:0}};return(0,Ly.jsxs)(pP.header,{initial:"hidden",animate:["visible",n?"scrolled":""],variants:{hidden:{opacity:0,y:-20},visible:{opacity:1,y:0,transition:{duration:1.5}},scrolled:{backgroundColor:"rgba(17, 24, 39, 0.95)",boxShadow:"0 4px 6px rgba(0, 0, 0, 0.1)"}},style:{position:"fixed",top:0,left:0,right:0,padding:"1rem 2rem",display:"flex",justifyContent:"space-between",alignItems:"center",zIndex:1e3,backgroundColor:"#111827",color:"white"},children:[(0,Ly.jsx)(pP.div,{whileHover:{scale:1.05},whileTap:{scale:.95},style:{display:"flex",alignItems:"center",gap:"0.5rem"},children:(0,Ly.jsx)(KP,{})}),(0,Ly.jsx)("nav",{style:{display:"none",gap:"2rem",alignItems:"center"},children:f.map((e=>(0,Ly.jsxs)(pP.a,{href:e.href,whileHover:{color:"#ef4444",y:-2},whileTap:{scale:.95},style:{display:"flex",alignItems:"center",gap:"0.5rem",fontWeight:500,textDecoration:"none",color:"white"},children:[e.icon,e.name]},e.name)))}),(0,Ly.jsxs)(pP.div,{whileFocus:{scale:1.02},style:{display:"none",alignItems:"center",background:"#1f2937",borderRadius:"2rem",padding:"0.5rem 1rem",width:"300px"},children:[(0,Ly.jsx)(VP,{style:{color:"#9ca3af",marginRight:"0.5rem"}}),(0,Ly.jsx)("input",{type:"text",placeholder:"Search movies...",value:o,onChange:e=>s(e.target.value),style:{background:"transparent",border:"none",outline:"none",color:"white",width:"100%"}})]}),(0,Ly.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"0.5 rem"},children:[a?(0,Ly.jsx)(ZP,{onLogout:()=>{localStorage.removeItem("token"),l(!1)}}):(0,Ly.jsx)(pP.button,{whileHover:{scale:1.05},whileTap:{scale:.95},style:{background:"#ef4444",color:"white",border:"none",borderRadius:"0.5rem",fontWeight:"bold",cursor:"pointer"},children:(0,Ly.jsx)(_y,{to:"/login",style:p,children:"Sign In"})}),(0,Ly.jsx)(pP.button,{onClick:()=>t(!e),whileHover:{scale:1.1},whileTap:{scale:.9},style:{background:"none",border:"none",color:"white",fontSize:"1.5rem",cursor:"pointer"},children:e?(0,Ly.jsx)(XP,{}):(0,Ly.jsx)(jP,{})})]}),(0,Ly.jsx)(bP,{children:e&&(0,Ly.jsx)(pP.div,{initial:"hidden",animate:"visible",exit:"exit",variants:{hidden:{opacity:0,height:0},visible:{opacity:1,height:"auto",transition:{duration:.3,when:"beforeChildren",staggerChildren:.1}},exit:{opacity:0,height:0}},style:{position:"absolute",top:"100%",left:0,right:0,background:"#1f2937",zIndex:999},children:(0,Ly.jsx)("div",{style:{padding:"1rem 2rem",display:"flex",flexDirection:"column",gap:"1rem"},children:f.map((e=>(0,Ly.jsx)(_y,{to:e.href,children:(0,Ly.jsxs)(pP.a,{href:e.href,variants:m,whileHover:{color:"#ef4444"},style:{display:"flex",alignItems:"center",gap:"0.5rem",color:"white",textDecoration:"none",padding:"0.5rem 0",fontWeight:500},onClick:()=>t(!1),children:[e.icon,e.name]},e.name)})))})})})]})};function $P(){return(0,Ly.jsxs)("footer",{className:"footer",children:[(0,Ly.jsxs)("div",{className:"footer-container",children:[(0,Ly.jsxs)("div",{className:"footer-section",children:[(0,Ly.jsx)("h3",{children:"CINEPLEX"}),(0,Ly.jsx)("p",{children:"Your ultimate movie experience"})]}),(0,Ly.jsxs)("div",{className:"footer-section",children:[(0,Ly.jsx)("h4",{children:"Quick Links"}),(0,Ly.jsxs)("ul",{className:"footer-links",children:[(0,Ly.jsx)("li",{children:(0,Ly.jsx)(_y,{to:"/movie_list",children:"Movies"})}),(0,Ly.jsx)("li",{children:(0,Ly.jsx)(_y,{to:"/theaters",children:"Theaters"})}),(0,Ly.jsx)("li",{children:(0,Ly.jsx)(_y,{to:"/pricing",children:"Pricing"})})]})]}),(0,Ly.jsxs)("div",{className:"footer-section",children:[(0,Ly.jsx)("h4",{children:"Legal"}),(0,Ly.jsxs)("ul",{className:"footer-links",children:[(0,Ly.jsxs)("li",{children:[" ",(0,Ly.jsx)(_y,{to:"/terms",children:"Terms"})]}),(0,Ly.jsx)("li",{children:(0,Ly.jsx)(_y,{to:"/terms",children:"Privacy"})})]})]}),(0,Ly.jsxs)("div",{className:"footer-section",children:[(0,Ly.jsx)("h4",{children:"Connect"}),(0,Ly.jsxs)("div",{className:"footer-social",children:[(0,Ly.jsx)("a",{href:"/",children:(0,Ly.jsx)(NP,{})}),(0,Ly.jsx)("a",{href:"/",children:(0,Ly.jsx)(OP,{})}),(0,Ly.jsx)("a",{href:"/",children:(0,Ly.jsx)(kP,{})})]})]})]}),(0,Ly.jsx)("div",{className:"footer-bottom",children:(0,Ly.jsx)("p",{children:"\xa9 2023 Cineplex. All rights reserved."})})]})}var eN,tN,nN,iN,rN,oN,sN,aN,lN=(eN=new WeakMap,class extends Qy{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};super(),Yy(this,eN,void 0),this.config=e,Ky(eN,this,new Map)}build(e,t,n){var i;const r=t.queryKey,o=null!==(i=t.queryHash)&&void 0!==i?i:ax(r,t);let s=this.get(o);return s||(s=new lb({client:e,queryKey:r,queryHash:o,options:e.defaultQueryOptions(t),state:n,defaultOptions:e.getQueryDefaults(r)}),this.add(s)),s}add(e){Zy(eN,this).has(e.queryHash)||(Zy(eN,this).set(e.queryHash,e),this.notify({type:"added",query:e}))}remove(e){const t=Zy(eN,this).get(e.queryHash);t&&(e.destroy(),t===e&&Zy(eN,this).delete(e.queryHash),this.notify({type:"removed",query:e}))}clear(){Cx.batch((()=>{this.getAll().forEach((e=>{this.remove(e)}))}))}get(e){return Zy(eN,this).get(e)}getAll(){return[...Zy(eN,this).values()]}find(e){const t=u({exact:!0},e);return this.getAll().find((e=>ox(t,e)))}findAll(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const t=this.getAll();return Object.keys(e).length>0?t.filter((t=>ox(e,t))):t}notify(e){Cx.batch((()=>{this.listeners.forEach((t=>{t(e)}))}))}onFocus(){Cx.batch((()=>{this.getAll().forEach((e=>{e.onFocus()}))}))}onOnline(){Cx.batch((()=>{this.getAll().forEach((e=>{e.onOnline()}))}))}}),cN=(tN=new WeakMap,nN=new WeakMap,iN=new WeakMap,rN=new WeakSet,class extends ab{constructor(e){super(),Xy(this,rN),Yy(this,tN,void 0),Yy(this,nN,void 0),Yy(this,iN,void 0),this.mutationId=e.mutationId,Ky(nN,this,e.mutationCache),Ky(tN,this,[]),this.state=e.state||{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0},this.setOptions(e.options),this.scheduleGc()}setOptions(e){this.options=e,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(e){Zy(tN,this).includes(e)||(Zy(tN,this).push(e),this.clearGcTimeout(),Zy(nN,this).notify({type:"observerAdded",mutation:this,observer:e}))}removeObserver(e){Ky(tN,this,Zy(tN,this).filter((t=>t!==e))),this.scheduleGc(),Zy(nN,this).notify({type:"observerRemoved",mutation:this,observer:e})}optionalRemove(){Zy(tN,this).length||("pending"===this.state.status?this.scheduleGc():Zy(nN,this).remove(this))}continue(){var e,t;return null!==(e=null===(t=Zy(iN,this))||void 0===t?void 0:t.continue())&&void 0!==e?e:this.execute(this.state.variables)}async execute(e){var t;const n=()=>{Jy(rN,this,uN).call(this,{type:"continue"})};Ky(iN,this,jx({fn:()=>this.options.mutationFn?this.options.mutationFn(e):Promise.reject(new Error("No mutationFn found")),onFail:(e,t)=>{Jy(rN,this,uN).call(this,{type:"failed",failureCount:e,error:t})},onPause:()=>{Jy(rN,this,uN).call(this,{type:"pause"})},onContinue:n,retry:null!==(t=this.options.retry)&&void 0!==t?t:0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>Zy(nN,this).canRun(this)}));const i="pending"===this.state.status,r=!Zy(iN,this).canStart();try{var o,s,a,l,c,u,h,d;if(i)n();else{var p,f,m,g;Jy(rN,this,uN).call(this,{type:"pending",variables:e,isPaused:r}),await(null===(p=(f=Zy(nN,this).config).onMutate)||void 0===p?void 0:p.call(f,e,this));const t=await(null===(m=(g=this.options).onMutate)||void 0===m?void 0:m.call(g,e));t!==this.state.context&&Jy(rN,this,uN).call(this,{type:"pending",context:t,variables:e,isPaused:r})}const t=await Zy(iN,this).start();return await(null===(o=(s=Zy(nN,this).config).onSuccess)||void 0===o?void 0:o.call(s,t,e,this.state.context,this)),await(null===(a=(l=this.options).onSuccess)||void 0===a?void 0:a.call(l,t,e,this.state.context)),await(null===(c=(u=Zy(nN,this).config).onSettled)||void 0===c?void 0:c.call(u,t,null,this.state.variables,this.state.context,this)),await(null===(h=(d=this.options).onSettled)||void 0===h?void 0:h.call(d,t,null,e,this.state.context)),Jy(rN,this,uN).call(this,{type:"success",data:t}),t}catch(E){try{var v,y,x,b,w,_,S,M;throw await(null===(v=(y=Zy(nN,this).config).onError)||void 0===v?void 0:v.call(y,E,e,this.state.context,this)),await(null===(x=(b=this.options).onError)||void 0===x?void 0:x.call(b,E,e,this.state.context)),await(null===(w=(_=Zy(nN,this).config).onSettled)||void 0===w?void 0:w.call(_,void 0,E,this.state.variables,this.state.context,this)),await(null===(S=(M=this.options).onSettled)||void 0===S?void 0:S.call(M,void 0,E,e,this.state.context)),E}finally{Jy(rN,this,uN).call(this,{type:"error",error:E})}}finally{Zy(nN,this).runNext(this)}}});function uN(e){this.state=(t=>{switch(e.type){case"failed":return u(u({},t),{},{failureCount:e.failureCount,failureReason:e.error});case"pause":return u(u({},t),{},{isPaused:!0});case"continue":return u(u({},t),{},{isPaused:!1});case"pending":return u(u({},t),{},{context:e.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:e.isPaused,status:"pending",variables:e.variables,submittedAt:Date.now()});case"success":return u(u({},t),{},{data:e.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1});case"error":return u(u({},t),{},{data:void 0,error:e.error,failureCount:t.failureCount+1,failureReason:e.error,isPaused:!1,status:"error"})}})(this.state),Cx.batch((()=>{Zy(tN,this).forEach((t=>{t.onMutationUpdate(e)})),Zy(nN,this).notify({mutation:this,type:"updated",action:e})}))}var hN,dN,pN,fN,mN,gN,vN,yN,xN=(oN=new WeakMap,sN=new WeakMap,aN=new WeakMap,class extends Qy{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};super(),Yy(this,oN,void 0),Yy(this,sN,void 0),Yy(this,aN,void 0),this.config=e,Ky(oN,this,new Set),Ky(sN,this,new Map),Ky(aN,this,0)}build(e,t,n){var i;const r=new cN({mutationCache:this,mutationId:Ky(aN,this,(i=Zy(aN,this),++i)),options:e.defaultMutationOptions(t),state:n});return this.add(r),r}add(e){Zy(oN,this).add(e);const t=bN(e);if("string"===typeof t){const n=Zy(sN,this).get(t);n?n.push(e):Zy(sN,this).set(t,[e])}this.notify({type:"added",mutation:e})}remove(e){if(Zy(oN,this).delete(e)){const t=bN(e);if("string"===typeof t){const n=Zy(sN,this).get(t);if(n)if(n.length>1){const t=n.indexOf(e);-1!==t&&n.splice(t,1)}else n[0]===e&&Zy(sN,this).delete(t)}}this.notify({type:"removed",mutation:e})}canRun(e){const t=bN(e);if("string"===typeof t){const n=Zy(sN,this).get(t),i=null===n||void 0===n?void 0:n.find((e=>"pending"===e.state.status));return!i||i===e}return!0}runNext(e){const t=bN(e);if("string"===typeof t){var n,i;const r=null===(n=Zy(sN,this).get(t))||void 0===n?void 0:n.find((t=>t!==e&&t.state.isPaused));return null!==(i=null===r||void 0===r?void 0:r.continue())&&void 0!==i?i:Promise.resolve()}return Promise.resolve()}clear(){Cx.batch((()=>{Zy(oN,this).forEach((e=>{this.notify({type:"removed",mutation:e})})),Zy(oN,this).clear(),Zy(sN,this).clear()}))}getAll(){return Array.from(Zy(oN,this))}find(e){const t=u({exact:!0},e);return this.getAll().find((e=>sx(t,e)))}findAll(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return this.getAll().filter((t=>sx(e,t)))}notify(e){Cx.batch((()=>{this.listeners.forEach((t=>{t(e)}))}))}resumePausedMutations(){const e=this.getAll().filter((e=>e.state.isPaused));return Cx.batch((()=>Promise.all(e.map((e=>e.continue().catch(ex))))))}});function bN(e){var t;return null===(t=e.options.scope)||void 0===t?void 0:t.id}function wN(e){return{onFetch:(t,n)=>{var i,r,o;const s=t.options,a=null===(i=t.fetchOptions)||void 0===i||null===(i=i.meta)||void 0===i||null===(i=i.fetchMore)||void 0===i?void 0:i.direction,l=(null===(r=t.state.data)||void 0===r?void 0:r.pages)||[],c=(null===(o=t.state.data)||void 0===o?void 0:o.pageParams)||[];let u={pages:[],pageParams:[]},h=0;const d=async()=>{let n=!1;const i=_x(t.options,t.fetchOptions),r=async(e,r,o)=>{if(n)return Promise.reject();if(null==r&&e.pages.length)return Promise.resolve(e);const s=(()=>{const e={client:t.client,queryKey:t.queryKey,pageParam:r,direction:o?"backward":"forward",meta:t.options.meta};var i;return i=e,Object.defineProperty(i,"signal",{enumerable:!0,get:()=>(t.signal.aborted?n=!0:t.signal.addEventListener("abort",(()=>{n=!0})),t.signal)}),e})(),a=await i(s),{maxPages:l}=t.options,c=o?vx:gx;return{pages:c(e.pages,a,l),pageParams:c(e.pageParams,r,l)}};if(a&&l.length){const e="backward"===a,t={pages:l,pageParams:c},n=(e?SN:_N)(s,t);u=await r(t,n,e)}else{const t=null!==e&&void 0!==e?e:l.length;do{var o;const e=0===h?null!==(o=c[0])&&void 0!==o?o:s.initialPageParam:_N(s,u);if(h>0&&null==e)break;u=await r(u,e),h++}while(h<t)}return u};t.options.persister?t.fetchFn=()=>{var e,i;return null===(e=(i=t.options).persister)||void 0===e?void 0:e.call(i,d,{client:t.client,queryKey:t.queryKey,meta:t.options.meta,signal:t.signal},n)}:t.fetchFn=d}}}function _N(e,t){let{pages:n,pageParams:i}=t;const r=n.length-1;return n.length>0?e.getNextPageParam(n[r],n,i[r],i):void 0}function SN(e,t){var n;let{pages:i,pageParams:r}=t;return i.length>0?null===(n=e.getPreviousPageParam)||void 0===n?void 0:n.call(e,i[0],i,r[0],r):void 0}var MN=(hN=new WeakMap,dN=new WeakMap,pN=new WeakMap,fN=new WeakMap,mN=new WeakMap,gN=new WeakMap,vN=new WeakMap,yN=new WeakMap,class{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};Yy(this,hN,void 0),Yy(this,dN,void 0),Yy(this,pN,void 0),Yy(this,fN,void 0),Yy(this,mN,void 0),Yy(this,gN,void 0),Yy(this,vN,void 0),Yy(this,yN,void 0),Ky(hN,this,e.queryCache||new lN),Ky(dN,this,e.mutationCache||new xN),Ky(pN,this,e.defaultOptions||{}),Ky(fN,this,new Map),Ky(mN,this,new Map),Ky(gN,this,0)}mount(){var e;Ky(gN,this,(e=Zy(gN,this),e++,e)),1===Zy(gN,this)&&(Ky(vN,this,Sx.subscribe((async e=>{e&&(await this.resumePausedMutations(),Zy(hN,this).onFocus())}))),Ky(yN,this,Rx.subscribe((async e=>{e&&(await this.resumePausedMutations(),Zy(hN,this).onOnline())}))))}unmount(){var e,t,n;Ky(gN,this,(e=Zy(gN,this),e--,e)),0===Zy(gN,this)&&(null===(t=Zy(vN,this))||void 0===t||t.call(this),Ky(vN,this,void 0),null===(n=Zy(yN,this))||void 0===n||n.call(this),Ky(yN,this,void 0))}isFetching(e){return Zy(hN,this).findAll(u(u({},e),{},{fetchStatus:"fetching"})).length}isMutating(e){return Zy(dN,this).findAll(u(u({},e),{},{status:"pending"})).length}getQueryData(e){var t;const n=this.defaultQueryOptions({queryKey:e});return null===(t=Zy(hN,this).get(n.queryHash))||void 0===t?void 0:t.state.data}ensureQueryData(e){const t=this.defaultQueryOptions(e),n=Zy(hN,this).build(this,t),i=n.state.data;return void 0===i?this.fetchQuery(e):(e.revalidateIfStale&&n.isStaleByTime(ix(t.staleTime,n))&&this.prefetchQuery(t),Promise.resolve(i))}getQueriesData(e){return Zy(hN,this).findAll(e).map((e=>{let{queryKey:t,state:n}=e;return[t,n.data]}))}setQueryData(e,t,n){const i=this.defaultQueryOptions({queryKey:e}),r=Zy(hN,this).get(i.queryHash),o=function(e,t){return"function"===typeof e?e(t):e}(t,null===r||void 0===r?void 0:r.state.data);if(void 0!==o)return Zy(hN,this).build(this,i).setData(o,u(u({},n),{},{manual:!0}))}setQueriesData(e,t,n){return Cx.batch((()=>Zy(hN,this).findAll(e).map((e=>{let{queryKey:i}=e;return[i,this.setQueryData(i,t,n)]}))))}getQueryState(e){var t;const n=this.defaultQueryOptions({queryKey:e});return null===(t=Zy(hN,this).get(n.queryHash))||void 0===t?void 0:t.state}removeQueries(e){const t=Zy(hN,this);Cx.batch((()=>{t.findAll(e).forEach((e=>{t.remove(e)}))}))}resetQueries(e,t){const n=Zy(hN,this);return Cx.batch((()=>(n.findAll(e).forEach((e=>{e.reset()})),this.refetchQueries(u({type:"active"},e),t))))}cancelQueries(e){const t=u({revert:!0},arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}),n=Cx.batch((()=>Zy(hN,this).findAll(e).map((e=>e.cancel(t)))));return Promise.all(n).then(ex).catch(ex)}invalidateQueries(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return Cx.batch((()=>{var n,i;return Zy(hN,this).findAll(e).forEach((e=>{e.invalidate()})),"none"===(null===e||void 0===e?void 0:e.refetchType)?Promise.resolve():this.refetchQueries(u(u({},e),{},{type:null!==(n=null!==(i=null===e||void 0===e?void 0:e.refetchType)&&void 0!==i?i:null===e||void 0===e?void 0:e.type)&&void 0!==n?n:"active"}),t)}))}refetchQueries(e){var t;let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const i=u(u({},n),{},{cancelRefetch:null===(t=n.cancelRefetch)||void 0===t||t}),r=Cx.batch((()=>Zy(hN,this).findAll(e).filter((e=>!e.isDisabled()&&!e.isStatic())).map((e=>{let t=e.fetch(void 0,i);return i.throwOnError||(t=t.catch(ex)),"paused"===e.state.fetchStatus?Promise.resolve():t}))));return Promise.all(r).then(ex)}fetchQuery(e){const t=this.defaultQueryOptions(e);void 0===t.retry&&(t.retry=!1);const n=Zy(hN,this).build(this,t);return n.isStaleByTime(ix(t.staleTime,n))?n.fetch(t):Promise.resolve(n.state.data)}prefetchQuery(e){return this.fetchQuery(e).then(ex).catch(ex)}fetchInfiniteQuery(e){return e.behavior=wN(e.pages),this.fetchQuery(e)}prefetchInfiniteQuery(e){return this.fetchInfiniteQuery(e).then(ex).catch(ex)}ensureInfiniteQueryData(e){return e.behavior=wN(e.pages),this.ensureQueryData(e)}resumePausedMutations(){return Rx.isOnline()?Zy(dN,this).resumePausedMutations():Promise.resolve()}getQueryCache(){return Zy(hN,this)}getMutationCache(){return Zy(dN,this)}getDefaultOptions(){return Zy(pN,this)}setDefaultOptions(e){Ky(pN,this,e)}setQueryDefaults(e,t){Zy(fN,this).set(lx(e),{queryKey:e,defaultOptions:t})}getQueryDefaults(e){const t=[...Zy(fN,this).values()],n={};return t.forEach((t=>{cx(e,t.queryKey)&&Object.assign(n,t.defaultOptions)})),n}setMutationDefaults(e,t){Zy(mN,this).set(lx(e),{mutationKey:e,defaultOptions:t})}getMutationDefaults(e){const t=[...Zy(mN,this).values()],n={};return t.forEach((t=>{cx(e,t.mutationKey)&&Object.assign(n,t.defaultOptions)})),n}defaultQueryOptions(e){if(e._defaulted)return e;const t=u(u(u(u({},Zy(pN,this).queries),this.getQueryDefaults(e.queryKey)),e),{},{_defaulted:!0});return t.queryHash||(t.queryHash=ax(t.queryKey,t)),void 0===t.refetchOnReconnect&&(t.refetchOnReconnect="always"!==t.networkMode),void 0===t.throwOnError&&(t.throwOnError=!!t.suspense),!t.networkMode&&t.persister&&(t.networkMode="offlineFirst"),t.queryFn===wx&&(t.enabled=!1),t}defaultMutationOptions(e){return null!==e&&void 0!==e&&e._defaulted?e:u(u(u(u({},Zy(pN,this).mutations),(null===e||void 0===e?void 0:e.mutationKey)&&this.getMutationDefaults(e.mutationKey)),e),{},{_defaulted:!0})}clear(){Zy(hN,this).clear(),Zy(dN,this).clear()}});const EN="movie_moviePage__Ww7Jv",TN="movie_movieHero__IPaxY",AN="movie_heroContent__ugQGh",CN="movie_movieContainer__iITvv",RN="movie_backButton__v8WS2",LN="movie_movieHeader__Y137e",PN="movie_moviePoster__6s6KJ",NN="movie_posterPlaceholder__YIsS-",kN="movie_movieInfo__4zHME",ON="movie_movieMeta__ibegK",DN="movie_metaItem__WPKy-",jN="movie_metaIcon__y6Yzy",FN="movie_rating__Khvso",IN="movie_genres__S6RNr",zN="movie_genreTag__CXtr4",BN="movie_overview__bxxng",UN="movie_movieDetails__-UxIq",HN="movie_detail__ZkFhD",GN="movie_detailLabel__hE7KF",VN="movie_bookingSection__y2nTQ",WN="movie_bookingOption__wzbMK",qN="movie_sectionHeader__cUZsx",XN="movie_sectionIcon__S0ZJA",YN="movie_seatCounter__mTVFO",JN="movie_seatSyncWarning__IJaKZ",ZN="movie_theaterOptions__G66ge",KN="movie_theaterOption__7b8KY",QN="movie_theaterInfo__zQ0DH",$N="movie_selectedIndicator__l+CBb",ek="movie_selected__bg7Gr",tk="movie_dateOptions__mluhE",nk="movie_dateOption__ODfoX",ik="movie_day__vGlZi",rk="movie_month__j7H2F",ok="movie_date__A8tX1",sk="movie_timeOptions__Y1ZXP",ak="movie_timeOption__6igS7",lk="movie_timeIcon__z6d0C",ck="movie_seatSelection__ote7E",uk="movie_screen__EaZm0",hk="movie_seatMap__DeRx1",dk="movie_seatRow__t8sbm",pk="movie_rowLabel__h+tWA",fk="movie_seats__+GTeu",mk="movie_seat__abTj3",gk="movie_booked__cs0bg",vk="movie_seatLegend__uMldK",yk="movie_legendItem__pB6mQ",xk="movie_available__e1omM",bk="movie_bookingSummary__I0i75",wk="movie_summaryDetails__2ibAl",_k="movie_summaryRow__7Pi03",Sk="movie_summaryTotal__jTJD5",Mk="movie_bookButton__dsaW0",Ek="movie_buttonIcon__uZ7U6",Tk="movie_loadingContainer__dj4nJ",Ak="movie_errorContainer__F95gi",Ck="movie_spinner__9hnT5",Rk="movie_alert_backdrop__HZOZC",Lk="movie_alert_dialog__RInQA",Pk="movie_alert_header__L2lhp",Nk="movie_alert_badge__iIamp",kk="movie_alert_title__I226C",Ok="movie_alert_description__ay-fm",Dk="movie_alert_actions__dMPGe",jk="movie_alert_primaryButton__g9Cat",Fk="movie_alert_secondaryButton__f5NMT";function Ik(e){let{open:t,movieTitle:n,theaterName:r,seat:o,showtime:s,onViewReservation:a,onBack:l}=e;const c=(0,i.useRef)(null),u=Array.isArray(o)?o.join(", "):o;return(0,i.useEffect)((()=>{t&&c.current&&c.current.focus()}),[t]),(0,i.useEffect)((()=>{const e=e=>{t&&"Escape"===e.key&&(null===l||void 0===l||l())};return document.addEventListener("keydown",e),()=>document.removeEventListener("keydown",e)}),[t,l]),t?(0,Ly.jsx)("div",{className:Rk,children:(0,Ly.jsxs)("div",{className:Lk,role:"alertdialog","aria-modal":"true","aria-labelledby":"alertTitle","aria-describedby":"alertDescription",children:[(0,Ly.jsx)("div",{className:Pk,children:(0,Ly.jsx)("span",{className:Nk,children:"Success"})}),(0,Ly.jsx)("h2",{id:"alertTitle",className:kk,children:"Reservation Confirmed"}),(0,Ly.jsxs)("p",{id:"alertDescription",className:Ok,children:["You booked seat ",(0,Ly.jsx)("strong",{children:u}),n&&(0,Ly.jsxs)(Ly.Fragment,{children:[" for ",(0,Ly.jsx)("strong",{children:n})]}),r&&(0,Ly.jsxs)(Ly.Fragment,{children:[" at ",(0,Ly.jsx)("strong",{children:r})]}),s&&(0,Ly.jsxs)(Ly.Fragment,{children:[" on ",(0,Ly.jsx)("strong",{children:s})]}),"."]}),(0,Ly.jsxs)("div",{className:Dk,children:[(0,Ly.jsx)(_y,{to:"/my-reservations",className:jk,ref:c,children:"View my reservation"}),(0,Ly.jsx)("button",{className:Fk,onClick:l,children:"Back"})]})]})}):null}const zk=[{id:1,name:"Cineplex Downtown",location:"123 Movie St, City"},{id:2,name:"MegaPlex Mall",location:"456 Cinema Ave, Town"},{id:3,name:"Starlight Theater",location:"789 Film Blvd, Village"}],Bk=["10:00 AM","1:00 PM","4:00 PM","7:00 PM","10:00 PM"],Uk=["A","B","C","D","E","F","G"],Hk=e=>{const t=e.getFullYear(),n=String(e.getMonth()+1).padStart(2,"0"),i=String(e.getDate()).padStart(2,"0");return"".concat(t,"-").concat(n,"-").concat(i)},Gk=()=>{var e,t,n,r,o,s,a,l;const{id:c}=vv(),u=gv(),h=pv(),[d,p]=(0,i.useState)(null),[f,m]=(0,i.useState)(!0),[g,v]=(0,i.useState)(null),[y,x]=(0,i.useState)(zk[0].id),[b,w]=(0,i.useState)(new Date),[_,S]=(0,i.useState)(Bk[0]),[M,E]=(0,i.useState)([]),[T,A]=(0,i.useState)(new Set),[C,R]=(0,i.useState)(!1),[L,P]=(0,i.useState)(""),[N,k]=(0,i.useState)(!1),[O,D]=(0,i.useState)(null);(0,i.useEffect)((()=>{window.scrollTo({top:0,left:0,behavior:"smooth"})}),[h.key]),(0,i.useEffect)((()=>{(async()=>{try{m(!0);const{data:e}=await tS.get("https://api.themoviedb.org/3/movie/".concat(c),{params:{api_key:"e6aac7b3f970bca71ffb91b889b4407a",append_to_response:"credits,videos,images"}});p(e)}catch(e){console.error("Error fetching movie details:",e),v("Failed to load movie details. Please try again later.")}finally{m(!1)}})()}),[c]);const j=(0,i.useCallback)((async()=>{if(!Oy||!c)return;const e=localStorage.getItem("token"),t={params:{movieId:c,theaterId:y,date:Hk(b),time:_},headers:{}};e&&(t.headers.Authorization="Bearer ".concat(e));try{var n;const e=await tS.get("".concat(Oy,"/api/reservation/seats"),t),i=Array.isArray(null===(n=e.data)||void 0===n?void 0:n.bookedSeats)?e.data.bookedSeats:[],r=new Set(i);R(!1),P(""),A(r),E((e=>e.filter((e=>!r.has(e)))))}catch(r){var i;const e=null===(i=r.response)||void 0===i?void 0:i.status;if(401===e)return R(!1),P(""),void A(new Set);if(404===e)return R(!0),P("Live seat sync unavailable: backend deployment is missing /api/reservation/seats."),void A(new Set);console.error("Error fetching booked seats:",r),R(!0),P("Live seat sync unavailable. Please try again later.")}}),[c,y,b,_]);(0,i.useEffect)((()=>{j()}),[j]);return f?(0,Ly.jsxs)("div",{className:Tk,children:[(0,Ly.jsx)("div",{className:Ck}),(0,Ly.jsx)("p",{children:"Loading movie details..."})]}):g?(0,Ly.jsxs)("div",{className:Ak,children:[(0,Ly.jsx)("h2",{children:"Error"}),(0,Ly.jsx)("p",{children:g}),(0,Ly.jsx)("button",{onClick:()=>window.location.reload(),children:"Try Again"})]}):(0,Ly.jsxs)("div",{className:EN,children:[(0,Ly.jsx)("div",{className:TN,style:{backgroundImage:d.backdrop_path?"linear-gradient(rgba(0,0,0,0.7), rgba(0,0,0,0.8)), url(https://image.tmdb.org/t/p/original".concat(d.backdrop_path,")"):"linear-gradient(135deg, #667eea 0%, #764ba2 100%)"},children:(0,Ly.jsxs)("div",{className:AN,children:[(0,Ly.jsxs)("button",{className:RN,onClick:()=>u(-1),children:[(0,Ly.jsx)(DP,{})," Back to Movies"]}),(0,Ly.jsxs)("div",{className:LN,children:[(0,Ly.jsx)("div",{className:PN,children:d.poster_path?(0,Ly.jsx)("img",{src:"https://image.tmdb.org/t/p/w500".concat(d.poster_path),alt:d.title}):(0,Ly.jsxs)("div",{className:NN,children:[(0,Ly.jsx)(GP,{size:40}),(0,Ly.jsx)("span",{children:"No Image Available"})]})}),(0,Ly.jsxs)("div",{className:kN,children:[(0,Ly.jsx)("h1",{children:d.title}),(0,Ly.jsxs)("div",{className:ON,children:[(0,Ly.jsxs)("div",{className:DN,children:[(0,Ly.jsx)(WP,{className:jN}),(0,Ly.jsxs)("span",{className:FN,children:[null===(e=d.vote_average)||void 0===e?void 0:e.toFixed(1),"/10"]})]}),(0,Ly.jsxs)("div",{className:DN,children:[(0,Ly.jsx)(IP,{className:jN}),(0,Ly.jsxs)("span",{children:[d.runtime," min"]})]}),(0,Ly.jsxs)("div",{className:DN,children:[(0,Ly.jsx)(FP,{className:jN}),(0,Ly.jsx)("span",{children:new Date(d.release_date).getFullYear()})]})]}),(0,Ly.jsx)("div",{className:IN,children:null===(t=d.genres)||void 0===t?void 0:t.map((e=>(0,Ly.jsx)("span",{className:zN,children:e.name},e.id)))}),(0,Ly.jsx)("p",{className:BN,children:d.overview}),(0,Ly.jsxs)("div",{className:UN,children:[(0,Ly.jsxs)("div",{className:HN,children:[(0,Ly.jsx)("span",{className:GN,children:"Director:"}),(0,Ly.jsx)("span",{children:(null===(n=d.credits)||void 0===n||null===(r=n.crew)||void 0===r||null===(o=r.find((e=>"Director"===e.job)))||void 0===o?void 0:o.name)||"N/A"})]}),(0,Ly.jsxs)("div",{className:HN,children:[(0,Ly.jsx)("span",{className:GN,children:"Cast:"}),(0,Ly.jsx)("span",{children:(null===(s=d.credits)||void 0===s||null===(a=s.cast)||void 0===a?void 0:a.slice(0,3).map((e=>e.name)).join(", "))||"N/A"})]})]})]})]})]})}),(0,Ly.jsx)("div",{className:CN,children:(0,Ly.jsxs)("div",{className:VN,children:[(0,Ly.jsx)("h2",{children:"Book Your Tickets"}),(0,Ly.jsxs)("div",{className:WN,children:[(0,Ly.jsxs)("div",{className:qN,children:[(0,Ly.jsx)(HP,{className:XN}),(0,Ly.jsx)("h3",{children:"Select Theater"})]}),(0,Ly.jsx)("div",{className:ZN,children:zk.map((e=>(0,Ly.jsxs)("button",{className:"".concat(KN," ").concat(y===e.id?ek:""),onClick:()=>x(e.id),children:[(0,Ly.jsxs)("div",{className:QN,children:[(0,Ly.jsx)("h4",{children:e.name}),(0,Ly.jsxs)("p",{children:[(0,Ly.jsx)(HP,{})," ",e.location]})]}),y===e.id&&(0,Ly.jsx)("div",{className:$N,children:"\u2713"})]},e.id)))})]}),(0,Ly.jsxs)("div",{className:WN,children:[(0,Ly.jsxs)("div",{className:qN,children:[(0,Ly.jsx)(FP,{className:XN}),(0,Ly.jsx)("h3",{children:"Select Date"})]}),(0,Ly.jsx)("div",{className:tk,children:(()=>{const e=[];for(let t=0;t<7;t+=1){const n=new Date;n.setDate(n.getDate()+t),e.push(n)}return e})().map(((e,t)=>(0,Ly.jsxs)("button",{className:"".concat(nk," ").concat(b.toDateString()===e.toDateString()?ek:""),onClick:()=>w(e),children:[(0,Ly.jsx)("span",{className:ik,children:e.toLocaleDateString("en-US",{weekday:"short"})}),(0,Ly.jsx)("span",{className:ok,children:e.getDate()}),(0,Ly.jsx)("span",{className:rk,children:e.toLocaleDateString("en-US",{month:"short"})})]},t)))})]}),(0,Ly.jsxs)("div",{className:WN,children:[(0,Ly.jsxs)("div",{className:qN,children:[(0,Ly.jsx)(IP,{className:XN}),(0,Ly.jsx)("h3",{children:"Select Time"})]}),(0,Ly.jsx)("div",{className:sk,children:Bk.map(((e,t)=>(0,Ly.jsxs)("button",{className:"".concat(ak," ").concat(_===e?ek:""),onClick:()=>S(e),children:[(0,Ly.jsx)(IP,{className:lk}),e]},t)))})]}),(0,Ly.jsxs)("div",{className:ck,children:[(0,Ly.jsxs)("div",{className:qN,children:[(0,Ly.jsx)(YP,{className:XN}),(0,Ly.jsx)("h3",{children:"Select Seats"}),(0,Ly.jsxs)("div",{className:YN,children:[M.length," seat",1!==M.length?"s":""," selected"]})]}),C&&(0,Ly.jsx)("div",{className:JN,children:L||"Live seat sync unavailable."}),(0,Ly.jsx)("div",{className:uk,children:"\ud83c\udfac SCREEN \ud83c\udfac"}),(0,Ly.jsx)("div",{className:hk,children:Uk.map((e=>(0,Ly.jsxs)("div",{className:dk,children:[(0,Ly.jsx)("span",{className:pk,children:e}),(0,Ly.jsx)("div",{className:fk,children:Array.from({length:10},((t,n)=>{const i="".concat(e).concat(n+1),r=T.has(i),o=M.includes(i);return(0,Ly.jsx)("button",{className:"".concat(mk," ").concat(r?gk:""," ").concat(o?ek:""),onClick:()=>(e=>{T.has(e)||E((t=>t.includes(e)?t.filter((t=>t!==e)):[...t,e]))})(i),disabled:r,"aria-label":"Seat ".concat(i).concat(r?" (Booked)":"")},i)}))})]},e)))}),(0,Ly.jsxs)("div",{className:vk,children:[(0,Ly.jsxs)("div",{className:yk,children:[(0,Ly.jsx)("div",{className:"".concat(mk," ").concat(xk)}),(0,Ly.jsx)("span",{children:"Available"})]}),(0,Ly.jsxs)("div",{className:yk,children:[(0,Ly.jsx)("div",{className:"".concat(mk," ").concat(ek)}),(0,Ly.jsx)("span",{children:"Selected"})]}),(0,Ly.jsxs)("div",{className:yk,children:[(0,Ly.jsx)("div",{className:"".concat(mk," ").concat(gk)}),(0,Ly.jsx)("span",{children:"Booked"})]})]})]}),O&&(0,Ly.jsx)(Ik,{open:!0,movieTitle:O.movieTitle,theaterName:O.theaterName,seat:O.seat,showtime:O.showtime,onViewReservation:()=>console.log("Go to reservations"),onBack:()=>D(null)}),(0,Ly.jsxs)("div",{className:bk,children:[(0,Ly.jsxs)("div",{className:qN,children:[(0,Ly.jsx)(qP,{className:XN}),(0,Ly.jsx)("h3",{children:"Order Summary"})]}),(0,Ly.jsxs)("div",{className:wk,children:[(0,Ly.jsxs)("div",{className:_k,children:[(0,Ly.jsx)("span",{children:"Movie:"}),(0,Ly.jsx)("span",{children:d.title})]}),(0,Ly.jsxs)("div",{className:_k,children:[(0,Ly.jsx)("span",{children:"Theater:"}),(0,Ly.jsx)("span",{children:null===(l=zk.find((e=>e.id===y)))||void 0===l?void 0:l.name})]}),(0,Ly.jsxs)("div",{className:_k,children:[(0,Ly.jsx)("span",{children:"Date & Time:"}),(0,Ly.jsxs)("span",{children:[(F=b,F.toLocaleDateString("en-US",{weekday:"long",year:"numeric",month:"long",day:"numeric"}))," at ",_]})]}),(0,Ly.jsxs)("div",{className:_k,children:[(0,Ly.jsxs)("span",{children:["Seats (",M.length,"):"]}),(0,Ly.jsx)("span",{children:M.join(", ")||"None selected"})]}),(0,Ly.jsxs)("div",{className:Sk,children:[(0,Ly.jsx)("span",{children:"Total:"}),(0,Ly.jsxs)("span",{children:["$",(12.99*M.length).toFixed(2)]})]})]}),(0,Ly.jsxs)("button",{className:Mk,onClick:()=>{0!==M.length?((async()=>{k(!0);const e=localStorage.getItem("token");if(!e)return alert("Please log in to make a reservation"),u("/login"),void k(!1);try{var t,n;const r={jwt:e,movieId:c,movieName:d.title,moviePoster:d.poster_path?"https://image.tmdb.org/t/p/w500".concat(d.poster_path):"https://via.placeholder.com/500x750?text=No+Poster",theaterId:y,theaterName:null===(t=zk.find((e=>e.id===y)))||void 0===t?void 0:t.name,movieDuration:d.runtime,movieGenre:(null===(n=d.genres)||void 0===n?void 0:n.map((e=>e.name)).join(", "))||"N/A",bookingDate:(h=b,"".concat(Hk(h),"T12:00:00.000Z")),showtime:_,seats:M,totalPrice:(12.99*M.length).toFixed(2),isLoggedIN:!0};var i;201===(await tS.post("".concat(Oy,"/api/reservation"),r,{headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(e)}})).status&&(A((e=>{const t=new Set(e);return M.forEach((e=>t.add(e))),t})),D({movieTitle:d.title,theaterName:null===(i=zk.find((e=>e.id===y)))||void 0===i?void 0:i.name,seat:M,showtime:_}),E([]),await j())}catch(p){var r;const e=null===(r=p.response)||void 0===r?void 0:r.status;if(401===e)alert("Please log in to make a reservation"),u("/login");else if(409===e){var o,s;const e=(null===(o=p.response)||void 0===o||null===(s=o.data)||void 0===s?void 0:s.conflictingSeats)||[];alert(e.length?"Seats already taken: ".concat(e.join(", ")):"Some seats were just taken. Please pick different seats."),await j()}else{var a,l;alert((null===(a=p.response)||void 0===a||null===(l=a.data)||void 0===l?void 0:l.message)||"Reservation failed. Please try again.")}console.log(p)}finally{k(!1)}var h})(),window.scrollTo({top:0,left:0,behavior:"smooth"})):alert("Please select at least one seat")},disabled:0===M.length||N,children:[(0,Ly.jsx)(qP,{className:Ek}),0===M.length?"Select Seats to Continue":null,M.length>0&&!1===N?"Book ".concat(M.length," Ticket").concat(1!==M.length?"s":""):null,N?"Booking... ":null,N?(0,Ly.jsx)(Py,{}):null]})]})]})})]});var F},Vk=()=>{const e=pv();return(0,i.useEffect)((()=>{window.scrollTo({top:0,left:0,behavior:"smooth"})}),[e.key]),(0,Ly.jsxs)("div",{className:"terms-container",children:[(0,Ly.jsx)("h1",{children:"Terms of Service"}),(0,Ly.jsx)("p",{children:"Last updated: August 6, 2025"}),(0,Ly.jsx)("h2",{children:"1. Introduction"}),(0,Ly.jsx)("p",{children:"Welcome to our Movie Reservation System. By using our service, you agree to these Terms of Service. Please read them carefully."}),(0,Ly.jsx)("h2",{children:"2. User Responsibilities"}),(0,Ly.jsxs)("ul",{children:[(0,Ly.jsx)("li",{children:"You must provide accurate information during registration."}),(0,Ly.jsx)("li",{children:"Do not share your account credentials with others."}),(0,Ly.jsx)("li",{children:"Use the service in compliance with all applicable laws."})]}),(0,Ly.jsx)("h2",{children:"3. Reservations"}),(0,Ly.jsxs)("ul",{children:[(0,Ly.jsx)("li",{children:"Reservations are subject to availability."}),(0,Ly.jsx)("li",{children:"We reserve the right to cancel reservations under certain circumstances."})]}),(0,Ly.jsx)("h2",{children:"4. Privacy Policy"}),(0,Ly.jsx)("h3",{children:"4.1 Introduction"}),(0,Ly.jsx)("p",{children:"Your privacy is important to us. This Privacy Policy explains how we collect, use, share, and protect your personal information when you use our Movie Reservation System."}),(0,Ly.jsx)("h3",{children:"4.2 Information We Collect"}),(0,Ly.jsxs)("ul",{children:[(0,Ly.jsxs)("li",{children:[(0,Ly.jsx)("strong",{children:"Personal Information:"})," Name, email address, and other information you provide during registration or while using our services."]}),(0,Ly.jsxs)("li",{children:[(0,Ly.jsx)("strong",{children:"Usage Data:"})," Details of your reservations, interactions with the site, and preferences."]}),(0,Ly.jsxs)("li",{children:[(0,Ly.jsx)("strong",{children:"Technical Data:"})," Browser type, IP address, device information, and cookies."]})]}),(0,Ly.jsx)("h3",{children:"4.3 How We Use Information"}),(0,Ly.jsxs)("ul",{children:[(0,Ly.jsx)("li",{children:"To create and manage your account"}),(0,Ly.jsx)("li",{children:"To process your reservations and provide customer support"}),(0,Ly.jsx)("li",{children:"To improve and personalize your experience"}),(0,Ly.jsx)("li",{children:"To communicate with you about your account, reservations, or updates"}),(0,Ly.jsx)("li",{children:"To comply with legal obligations"})]}),(0,Ly.jsx)("h3",{children:"4.4 Data Sharing and Disclosure"}),(0,Ly.jsx)("p",{children:"We do not sell or rent your personal information. We may share your data only with service providers who help us operate our service, or if required by law."}),(0,Ly.jsx)("h3",{children:"4.5 Data Security"}),(0,Ly.jsx)("p",{children:"We use appropriate security measures to protect your data from unauthorized access, alteration, disclosure, or destruction."}),(0,Ly.jsx)("h3",{children:"4.6 Cookies and Tracking Technologies"}),(0,Ly.jsx)("p",{children:"We use cookies and similar technologies to enhance your experience. You can control cookies through your browser settings, but disabling them may affect site functionality."}),(0,Ly.jsx)("h3",{children:"4.7 Your Rights"}),(0,Ly.jsxs)("ul",{children:[(0,Ly.jsx)("li",{children:"You may access, update, or delete your personal information by contacting us."}),(0,Ly.jsx)("li",{children:"You may opt out of certain communications at any time."})]}),(0,Ly.jsx)("h3",{children:"4.8 Changes to This Policy"}),(0,Ly.jsx)("p",{children:"We may update this Privacy Policy from time to time. We will notify you of significant changes, and your continued use of the service means you accept the updated policy."}),(0,Ly.jsx)("h3",{children:"4.9 Contact Us"}),(0,Ly.jsx)("p",{children:"If you have questions about this Privacy Policy, please contact us via the support page."}),(0,Ly.jsx)("h2",{children:"5. Changes to Terms"}),(0,Ly.jsx)("p",{children:"We may update these Terms from time to time. Continued use of the service means you accept the changes."}),(0,Ly.jsx)("h2",{children:"6. Contact"}),(0,Ly.jsx)("p",{children:"If you have any questions about these Terms, please contact us via the support page."})]})};var Wk=n(694),qk=n.n(Wk);const Xk=()=>{const t=(0,i.useRef)(null),n=(0,i.useRef)(null),[r,o]=(0,i.useState)(!1);(0,i.useEffect)((()=>{if(t.current&&!n.current){try{n.current=qk()({el:t.current,THREE:e,mouseControls:!0,touchControls:!0,gyroControls:!1,minHeight:200,minWidth:200,scale:1,scaleMobile:1,color:9647082,backgroundColor:657935,points:12,maxDistance:23,spacing:18,showDots:!0}),o(!0)}catch(i){console.error("Failed to initialize Vanta NET effect:",i),o(!1)}return()=>{n.current&&(n.current.destroy(),n.current=null)}}}),[]);const s=()=>{window.location.href="/"};return(0,Ly.jsxs)("div",{ref:t,className:"not-found-container ".concat(r?"":"fallback-bg"),children:[(0,Ly.jsx)("div",{className:"overlay"}),(0,Ly.jsxs)("div",{className:"main-content",children:[(0,Ly.jsx)("div",{className:"error-number-container",children:(0,Ly.jsx)("h1",{className:"error-number",children:"404"})}),(0,Ly.jsxs)("h2",{className:"error-title",children:["Lost in the"," ",(0,Ly.jsx)("span",{className:"gradient-text",children:"Network"})]}),(0,Ly.jsxs)("div",{className:"subtitle-container",children:[(0,Ly.jsx)("div",{className:"status-dot status-dot-red"}),(0,Ly.jsx)("p",{className:"subtitle",children:"Connection Lost \u2022 Page Not Found"}),(0,Ly.jsx)("div",{className:"status-dot status-dot-red"})]}),(0,Ly.jsx)("p",{className:"description",children:"The requested node has been disconnected from the network. You've wandered into uncharted digital territory, but our navigation system can help you find your way back to the main grid."}),(0,Ly.jsxs)("div",{className:"button-container",children:[(0,Ly.jsxs)("button",{onClick:s,className:"btn btn-primary",children:[(0,Ly.jsx)("div",{className:"btn-overlay"}),(0,Ly.jsxs)("span",{className:"btn-content",children:[(0,Ly.jsx)("span",{className:"btn-icon",children:"\ud83c\udfe0"}),(0,Ly.jsx)("span",{children:"Return to Network Hub"})]})]}),(0,Ly.jsx)("button",{onClick:()=>{window.history.length>1?window.history.back():s()},className:"btn btn-secondary",children:(0,Ly.jsxs)("span",{className:"btn-content",children:[(0,Ly.jsx)("span",{className:"btn-icon",children:"\u21b6"}),(0,Ly.jsx)("span",{children:"Previous Node"})]})})]})]})]})},Yk="pricing_container__RUsuF",Jk="pricing_animatedBackground__sspl8",Zk="pricing_bgOrb1__apZWb",Kk="pricing_bgOrb2__AJsRS",Qk="pricing_bgOrb3__S6GEY",$k="pricing_header__SQgP0",eO="pricing_headerContainer__0VHOa",tO="pricing_headerContent__oTJ9z",nO="pricing_mainTitle__lIs3r",iO="pricing_subtitle__PvjeQ",rO="pricing_headerInfo__rnciz",oO="pricing_infoItem__-jrB1",sO="pricing_mainContent__peaom",aO="pricing_grid__b8TZw",lO="pricing_priceCard__WBM7D",cO="pricing_cardTitle__XqNiW",uO="pricing_itemsGrid__yHy70",hO="pricing_priceItem__NU1ng",dO="pricing_discountItem__M79us",pO="pricing_beverageItem__-Qwr0",fO="pricing_popcornItem__MVq3N",mO="pricing_snackItem__dlqTg",gO="pricing_popularBadge__dHwWW",vO="pricing_popularItem__4W+69",yO="pricing_itemContent__XN6Na",xO="pricing_itemInfo__qQz8-",bO="pricing_itemIcon__cxP12",wO="pricing_itemName__ivf+u",_O="pricing_itemPrice__5cIv6",SO="pricing_comboSection__s1Ug3",MO="pricing_comboTitle__zTayA",EO="pricing_comboGrid__V5hOb",TO="pricing_comboCard__ToZHD",AO="pricing_comboBlue__i1s7o",CO="pricing_comboPurple__kDktI",RO="pricing_comboOrange__AvFtE",LO="pricing_comboPink__qcLeC",PO="pricing_comboPopular__wa8iI",NO="pricing_bestDealBadge__LKoIP",kO="pricing_comboContent__S7Sk+",OO="pricing_comboIcon__9fQTm",DO="pricing_comboName__zDsLj",jO="pricing_comboItems__B6teg",FO="pricing_comboPricing__DQ11C",IO="pricing_comboPrice__2RYND",zO="pricing_comboSavings__zWHZp",BO="pricing_infoSection__2S+Zv",UO="pricing_infoTitle__KBymk",HO="pricing_infoTitleIcon__h04g-",GO="pricing_infoGrid__0PJIr",VO="pricing_infoSubsection__d0noY",WO="pricing_infoList__dbbo2";function qO(){const[e,t]=(0,i.useState)(null),n=pv();(0,i.useEffect)((()=>{window.scrollTo({top:0,left:0,behavior:"smooth"})}),[n.key]);const r=[{name:"Small Combo",items:"Small popcorn + Small drink",price:"$9.50",savings:"Save $1.00",gradient:AO,icon:"\ud83c\udfaf"},{name:"Medium Combo",items:"Medium popcorn + Medium drink",price:"$11.50",savings:"Save $1.50",gradient:CO,popular:!0,icon:"\u2b50"},{name:"Large Combo",items:"Large popcorn + Large drink",price:"$13.50",savings:"Save $2.00",gradient:RO,icon:"\ud83d\udd25"},{name:"Date Night",items:"Large popcorn + 2 Medium drinks",price:"$17.00",savings:"Save $2.00",gradient:LO,icon:"\ud83d\udc95"}],o=e=>e.includes("Discounts")?dO:e.includes("Beverages")?pO:e.includes("Popcorn")?fO:e.includes("Snacks")?mO:"",s=e=>{let{title:n,items:i}=e;return(0,Ly.jsxs)("div",{className:lO,children:[(0,Ly.jsx)("h2",{className:cO,children:n}),(0,Ly.jsx)("div",{className:uO,children:i.map(((e,i)=>(0,Ly.jsxs)("div",{className:"".concat(hO," ").concat(o(n)," ").concat(e.popular?vO:""),onMouseEnter:()=>t("".concat(n,"-").concat(i)),onMouseLeave:()=>t(null),children:[e.popular&&(0,Ly.jsx)("div",{className:gO,children:"POPULAR"}),(0,Ly.jsxs)("div",{className:yO,children:[(0,Ly.jsxs)("div",{className:xO,children:[(0,Ly.jsx)("span",{className:bO,children:e.icon}),(0,Ly.jsx)("span",{className:wO,children:e.type||e.item})]}),(0,Ly.jsx)("span",{className:_O,children:e.price})]})]},i)))})]})};return(0,Ly.jsxs)("div",{className:Yk,children:[(0,Ly.jsxs)("div",{className:Jk,children:[(0,Ly.jsx)("div",{className:Zk}),(0,Ly.jsx)("div",{className:Kk}),(0,Ly.jsx)("div",{className:Qk})]}),(0,Ly.jsx)("header",{className:$k,children:(0,Ly.jsx)("div",{className:eO,children:(0,Ly.jsxs)("div",{className:tO,children:[(0,Ly.jsx)("h1",{className:nO,children:"\ud83c\udfac CINEMA DELUXE \ud83c\udf7f"}),(0,Ly.jsx)("p",{className:iO,children:"Premium Movie Experience \u2022 Fresh Snacks \u2022 Great Prices"}),(0,Ly.jsxs)("div",{className:rO,children:[(0,Ly.jsx)("div",{className:oO,children:(0,Ly.jsx)("span",{children:"Open Daily"})}),(0,Ly.jsx)("div",{className:oO,children:(0,Ly.jsx)("span",{children:"All Ages Welcome"})}),(0,Ly.jsx)("div",{className:oO,children:(0,Ly.jsx)("span",{children:"5-Star Experience"})})]})]})})}),(0,Ly.jsxs)("main",{className:sO,children:[(0,Ly.jsxs)("div",{className:aO,children:[(0,Ly.jsx)(s,{title:"\ud83d\udcb8 Special Discounts",items:[{type:"Student Discount",price:"25% OFF",icon:"\ud83c\udf93",popular:!0},{type:"Senior Discount (65+)",price:"20% OFF",icon:"\ud83d\udc74",popular:!1},{type:"Child Discount (12 & under)",price:"30% OFF",icon:"\ud83d\udc76",popular:!1},{type:"Matinee Special",price:"35% OFF",icon:"\u2600\ufe0f",popular:!1},{type:"Group Booking (10+)",price:"15% OFF",icon:"\ud83d\udc65",popular:!1}]}),(0,Ly.jsx)(s,{title:"\ud83e\udd64 Beverages",items:[{item:"Small Soft Drink",price:"$4.50",icon:"\ud83e\udd64",size:"small"},{item:"Medium Soft Drink",price:"$5.50",icon:"\ud83e\udd64",size:"medium"},{item:"Large Soft Drink",price:"$6.50",icon:"\ud83e\udd64",size:"large"},{item:"Small Coffee",price:"$3.75",icon:"\u2615",size:"small"},{item:"Large Coffee",price:"$4.75",icon:"\u2615",size:"large"},{item:"Bottled Water",price:"$3.00",icon:"\ud83d\udca7",size:"regular"}]})]}),(0,Ly.jsxs)("div",{className:aO,children:[(0,Ly.jsx)(s,{title:"\ud83c\udf7f Fresh Popcorn",items:[{item:"Small Popcorn",price:"$6.00",icon:"\ud83c\udf7f",size:"small"},{item:"Medium Popcorn",price:"$7.50",icon:"\ud83c\udf7f",size:"medium"},{item:"Large Popcorn",price:"$9.00",icon:"\ud83c\udf7f",size:"large",popular:!0},{item:"Extra Butter",price:"$0.50",icon:"\ud83e\uddc8",size:"addon"},{item:"Seasoning",price:"$0.75",icon:"\ud83e\uddc2",size:"addon"}]}),(0,Ly.jsx)(s,{title:"\ud83c\udf6d Delicious Snacks",items:[{item:"Nachos",price:"$7.50",icon:"\ud83e\uddc0"},{item:"Hot Dog",price:"$6.00",icon:"\ud83c\udf2d"},{item:"Pretzel",price:"$5.50",icon:"\ud83e\udd68"},{item:"Candy (assorted)",price:"$4.50",icon:"\ud83c\udf6c"},{item:"Ice Cream Cup",price:"$5.00",icon:"\ud83c\udf66"},{item:"Chips",price:"$3.50",icon:"\ud83c\udf5f"}]})]}),(0,Ly.jsxs)("div",{className:SO,children:[(0,Ly.jsx)("h2",{className:MO,children:"\ud83d\udca5 COMBO DEALS - BEST VALUE! \ud83d\udca5"}),(0,Ly.jsx)("div",{className:EO,children:r.map(((e,t)=>(0,Ly.jsxs)("div",{className:"".concat(TO," ").concat(e.gradient," ").concat(e.popular?PO:""),children:[e.popular&&(0,Ly.jsx)("div",{className:NO,children:"\ud83c\udf1f BEST DEAL \ud83c\udf1f"}),(0,Ly.jsxs)("div",{className:kO,children:[(0,Ly.jsx)("div",{className:OO,children:e.icon}),(0,Ly.jsx)("h3",{className:DO,children:e.name}),(0,Ly.jsx)("p",{className:jO,children:e.items}),(0,Ly.jsxs)("div",{className:FO,children:[(0,Ly.jsx)("div",{className:IO,children:e.price}),(0,Ly.jsx)("div",{className:zO,children:e.savings})]})]})]},t)))})]}),(0,Ly.jsxs)("div",{className:BO,children:[(0,Ly.jsxs)("h2",{className:UO,children:[(0,Ly.jsx)("span",{className:HO,children:"\u2139\ufe0f"}),"Important Information"]}),(0,Ly.jsxs)("div",{className:GO,children:[(0,Ly.jsxs)("div",{className:VO,children:[(0,Ly.jsx)("h3",{children:"\ud83d\udcb0 Pricing Details"}),(0,Ly.jsxs)("ul",{className:WO,children:[(0,Ly.jsx)("li",{children:"\u2022 All prices include taxes"}),(0,Ly.jsx)("li",{children:"\u2022 Group discounts for 20+ people"}),(0,Ly.jsx)("li",{children:"\u2022 Large refills only $2.00"}),(0,Ly.jsx)("li",{children:"\u2022 Student & Senior ID required"})]})]}),(0,Ly.jsxs)("div",{className:VO,children:[(0,Ly.jsx)("h3",{children:"\ud83d\udccb Theater Policies"}),(0,Ly.jsxs)("ul",{className:WO,children:[(0,Ly.jsx)("li",{children:"\u2022 No outside food or drinks"}),(0,Ly.jsx)("li",{children:"\u2022 Premium seating available"}),(0,Ly.jsx)("li",{children:"\u2022 Mobile ordering coming soon"}),(0,Ly.jsx)("li",{children:"\u2022 Clean theaters guaranteed"})]})]})]})]})]})]})}const XO="profile_container__5f+Yu",YO="profile_animatedBackground__tgZby",JO="profile_bgOrb1__Ubocn",ZO="profile_bgOrb2__1qn74",KO="profile_bgOrb3__yuDUa",QO="profile_profileContainer__lOb-N",$O="profile_profileHeader__brhpZ",eD="profile_avatarSection__LuU-t",tD="profile_avatarWrapper__dfAgP",nD="profile_avatar__VTROn",iD="profile_avatarFallback__vM+HO",rD="profile_avatarBadge__kiBOI",oD="profile_userInfo__koO05",sD="profile_userName__rsnhE",aD="profile_userEmail__AlXet",lD="profile_memberSince__1-ngf",cD="profile_userStats__V1CfD",uD="profile_stat__0bh55",hD="profile_statNumber__MWYuG",dD="profile_statLabel__xI0Qk",pD="profile_tabNavigation__LEF1Y",fD="profile_tabBtn__CCwR4",mD="profile_activeTab__ixCkq",gD="profile_tabContent__t8d8E",vD="profile_sectionTitle__iH93o",yD="profile_overviewTab__g7PW0",xD="profile_quickActions__dxqTg",bD="profile_actionGrid__PRds5",wD="profile_actionCard__KvLFK",_D="profile_actionIcon__jZj5B",SD="profile_actionText__EvLiS",MD="profile_recentActivity__Qt1gz",ED="profile_activityList__JPO9n",TD="profile_activityItem__3spcV",AD="profile_activityIcon__kjGnG",CD="profile_activityText__gHeB8",RD="profile_activityTime__o9S-1",LD="profile_reservationsTab__0yfMN",PD="profile_reservationsList__mqWzv",ND="profile_reservationCard__o2HJK",kD="profile_pastReservation__bz8PD",OD="profile_moviePoster__Kda5F",DD="profile_reservationDetails__2zWkY",jD="profile_movieTitle__EI+UR",FD="profile_reservationInfo__1HIM3",ID="profile_infoItem__8O7bN",zD="profile_reservationActions__ma310",BD="profile_actionBtnSecondary__JdfKx",UD="profile_emptyState__66qU4",HD="profile_emptyIcon__7Aqba",GD="profile_emptyText__07gja",VD="profile_bookNowBtn__RdZp7",WD="profile_loadingContainer__qdUbi",qD="profile_errorContainer__7bLum",XD="profile_loadingSpinner__XLKRN",YD="profile_loadingText__pK0dO",JD="profile_loginBtn__MhPwr",ZD=e=>{try{if(!e)return null;const t=e.split(".");if(3!==t.length)return null;const n=t[1],i=n+"=".repeat((4-n.length%4)%4);return JSON.parse(atob(i))}catch(t){return console.error("Error decoding JWT:",t),null}},KD=()=>{try{const e=localStorage.getItem("token");if(!e)return null;const t=ZD(e);return t?t.exp&&t.exp<Date.now()/1e3?(console.warn("JWT token has expired"),localStorage.removeItem("token"),null):(console.log("Decoded JWT:",t),u({id:t.id||t.userId||t.sub,name:t.name||t.username||t.displayName,email:t.userEmail,avatar:t.avatar||t.picture,role:t.role,memberSince:t.memberSince||t.createdAt},t)):null}catch(e){return console.error("Error getting user from token:",e),null}},QD=()=>null!==KD();var $D=n(245);const ej=e=>{let{reservationData:t,isVisible:n,onClose:i,size:r=256}=e;if(!n||!t)return null;const o=JSON.stringify({ticketId:t.id,movie:t.movie,date:t.date,time:t.time,seat:t.seat,theater:t.theater,verification:"TICKET-".concat(t.id,"-").concat(Date.now())});return(0,Ly.jsx)("div",{className:"qr-overlay",children:(0,Ly.jsxs)("div",{className:"qr-modal",children:[(0,Ly.jsx)("button",{className:"qr-close-btn",onClick:i,children:"\u2715"}),(0,Ly.jsx)("div",{className:"qr-code-container",children:(0,Ly.jsx)($D.Ay,{value:o,size:r,style:{height:"auto",maxWidth:"100%",width:"100%",background:"white",padding:"16px",borderRadius:"12px"},fgColor:"#000000",bgColor:"#ffffff",level:"M"})})]})})};function tj(){const[e,t]=(0,i.useState)("overview"),[n,r]=(0,i.useState)(null),[o,s]=(0,i.useState)(!0),a=pv(),[l,c]=(0,i.useState)([]),[u,h]=(0,i.useState)(null),d=KD(),p=null===d||void 0===d?void 0:d.id,f=null===d||void 0===d?void 0:d.name,m=null===d||void 0===d?void 0:d.email,g=null===d||void 0===d?void 0:d.avatar,v=null===d||void 0===d?void 0:d.role,y=null===d||void 0===d?void 0:d.iat,x=gv();if((0,i.useEffect)((()=>{(async()=>{const e=localStorage.getItem("token");if(!QD()||!e||!p)return x("/login"),void s(!1);let t=[];try{t=(await tS.post("".concat(Oy,"/api/reservation/id"),{},{headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(e)}})).data.data||[]}catch(a){var n;if(console.error("Error fetching reservations:",a),401===(null===(n=a.response)||void 0===n?void 0:n.status))return x("/login"),void s(!1)}c(t);try{const n=(await tS.post("".concat(Oy,"/api/userInfo"),{userId:p},{headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(e)}})).data,i={name:(null===n||void 0===n?void 0:n.name)||(null===n||void 0===n?void 0:n.username)||"User",email:(null===n||void 0===n?void 0:n.email)||localStorage.getItem("userEmail")||"No email provided",avatar:(null===n||void 0===n?void 0:n.avatar)||(null===n||void 0===n?void 0:n.picture)||"",memberSince:null!==n&&void 0!==n&&n.createdAt?new Date(n.createdAt).getFullYear():"2024",totalReservations:t.length,favoriteGenre:(null===n||void 0===n?void 0:n.favoriteGenre)||"Action",reservations:t,id:(null===n||void 0===n?void 0:n.id)||p,role:(null===n||void 0===n?void 0:n.role)||v};r(i)}catch(a){var i,o;if(401===(null===(i=a.response)||void 0===i?void 0:i.status))return x("/login"),void s(!1);404===(null===(o=a.response)||void 0===o?void 0:o.status)?console.warn("User profile was not found on backend. Falling back to token/local storage data."):console.error("Error fetching user profile:",a),r(function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return{name:f||localStorage.getItem("username")||"User",email:m||localStorage.getItem("userEmail")||"No email provided",avatar:g||"",memberSince:y?new Date(1e3*y).getFullYear():"2024",totalReservations:e.length,favoriteGenre:"Action",reservations:e,id:p,role:v}}(t))}s(!1)})()}),[x,y,g,m,p,f,v]),console.log("Reservations:",l),(0,i.useEffect)((()=>{window.scrollTo({top:0,left:0,behavior:"smooth"})}),[a.key]),o)return(0,Ly.jsx)("div",{className:XO,children:(0,Ly.jsxs)("div",{className:WD,children:[(0,Ly.jsx)("div",{className:XD}),(0,Ly.jsx)("p",{className:YD,children:"Loading profile..."})]})});if(!n)return(0,Ly.jsx)("div",{className:XO,children:(0,Ly.jsxs)("div",{className:qD,children:[(0,Ly.jsx)("h2",{children:"Unable to load profile"}),(0,Ly.jsx)("p",{children:"Please try logging in again."}),(0,Ly.jsx)("button",{onClick:()=>x("/login"),className:JD,children:"Go to Login"})]})});const b=n.reservations.filter((e=>"upcoming"===e.status)),w=n.reservations.filter((e=>"completed"===e.status));return(0,Ly.jsxs)("div",{className:XO,children:[(0,Ly.jsxs)("div",{className:YO,children:[(0,Ly.jsx)("div",{className:JO}),(0,Ly.jsx)("div",{className:ZO}),(0,Ly.jsx)("div",{className:KO})]}),(0,Ly.jsxs)("div",{className:QO,children:[(0,Ly.jsxs)("div",{className:$O,children:[(0,Ly.jsx)("div",{className:eD,children:(0,Ly.jsxs)("div",{className:tD,children:[n.avatar?(0,Ly.jsx)("img",{src:n.avatar,alt:"Avatar",className:nD}):(0,Ly.jsx)("div",{className:iD,children:n.name.split(" ").map((e=>e[0])).join("")}),(0,Ly.jsx)("div",{className:rD,children:"\ud83d\udc51"})]})}),(0,Ly.jsxs)("div",{className:oD,children:[(0,Ly.jsx)("h1",{className:sD,children:n.name}),(0,Ly.jsxs)("p",{className:aD,children:["\u2709\ufe0f ",n.email]}),(0,Ly.jsxs)("p",{className:lD,children:["\ud83c\udfad Member since ",n.memberSince]}),(0,Ly.jsxs)("div",{className:cD,children:[(0,Ly.jsxs)("div",{className:uD,children:[(0,Ly.jsx)("span",{className:hD,children:l.reduce(((e,t,n)=>("completed"===t.status&&e++,e)),0)}),(0,Ly.jsx)("span",{className:dD,children:"Movies Watched"})]}),(0,Ly.jsxs)("div",{className:uD,children:[(0,Ly.jsx)("span",{className:hD,children:b.length}),(0,Ly.jsx)("span",{className:dD,children:"Upcoming"})]}),(0,Ly.jsxs)("div",{className:uD,children:[(0,Ly.jsx)("span",{className:hD,children:n.favoriteGenre}),(0,Ly.jsx)("span",{className:dD,children:"Favorite Genre"})]})]})]})]}),(0,Ly.jsxs)("div",{className:pD,children:[(0,Ly.jsx)("button",{className:"".concat(fD," ").concat("overview"===e?mD:""),onClick:()=>t("overview"),children:"\ud83d\udcca Overview"}),(0,Ly.jsxs)("button",{className:"".concat(fD," ").concat("upcoming"===e?mD:""),onClick:()=>t("upcoming"),children:["\ud83c\udfac Upcoming (",b.length,")"]}),(0,Ly.jsxs)("button",{className:"".concat(fD," ").concat("history"===e?mD:""),onClick:()=>t("history"),children:["\ud83d\udcda History (",w.length,")"]})]}),(0,Ly.jsxs)("div",{className:gD,children:["overview"===e&&(0,Ly.jsxs)("div",{className:yD,children:[(0,Ly.jsxs)("div",{className:xD,children:[(0,Ly.jsx)("h3",{className:vD,children:"\ud83d\ude80 Quick Actions"}),(0,Ly.jsxs)("div",{className:bD,children:[(0,Ly.jsxs)(_y,{to:"/movie_list",className:wD,children:[(0,Ly.jsx)("span",{className:_D,children:"\ud83c\udfab"}),(0,Ly.jsx)("span",{className:SD,children:"Book New Ticket"})]}),(0,Ly.jsxs)(_y,{to:"/pricing",className:wD,children:[(0,Ly.jsx)("span",{className:_D,children:"\ud83d\udcb0"}),(0,Ly.jsx)("span",{className:SD,children:"View Pricing"})]}),(0,Ly.jsxs)(_y,{to:"/pricing",className:wD,children:[(0,Ly.jsx)("span",{className:_D,children:"\ud83c\udf81"}),(0,Ly.jsx)("span",{className:SD,children:"Rewards & Offers"})]})]})]}),(0,Ly.jsxs)("div",{className:MD,children:[(0,Ly.jsx)("h3",{className:vD,children:"\ud83d\udcc8 Recent Activity"}),(0,Ly.jsxs)("div",{className:ED,children:[(0,Ly.jsxs)("div",{className:TD,children:[(0,Ly.jsx)("span",{className:AD,children:"\ud83c\udf81"}),(0,Ly.jsx)("span",{className:CD,children:"Earned loyalty points"}),(0,Ly.jsx)("span",{className:RD,children:"1 weeks ago"})]})," ",(0,Ly.jsxs)("div",{className:TD,children:[(0,Ly.jsx)("span",{className:AD,children:"\ud83c\udf81"}),(0,Ly.jsx)("span",{className:CD,children:"Earned loyalty points"}),(0,Ly.jsx)("span",{className:RD,children:"2 weeks ago"})]}),(0,Ly.jsxs)("div",{className:TD,children:[(0,Ly.jsx)("span",{className:AD,children:"\ud83c\udf81"}),(0,Ly.jsx)("span",{className:CD,children:"Earned loyalty points"}),(0,Ly.jsx)("span",{className:RD,children:"3 weeks ago"})]})]})]})]}),"upcoming"===e&&(0,Ly.jsxs)("div",{className:LD,children:[(0,Ly.jsx)("h3",{className:vD,children:"\ud83c\udfac Upcoming Movies"}),0===b.length?(0,Ly.jsxs)("div",{className:UD,children:[(0,Ly.jsx)("span",{className:HD,children:"\ud83c\udfad"}),(0,Ly.jsx)("p",{className:GD,children:"No upcoming reservations"}),(0,Ly.jsx)("button",{className:VD,children:"\ud83d\udcc5 Book Now"})]}):(0,Ly.jsx)("div",{className:PD,children:b.map((e=>(0,Ly.jsxs)("div",{className:ND,children:[(0,Ly.jsx)("div",{className:OD,children:(0,Ly.jsx)("img",{style:{width:"100%"},src:e.poster,alt:"failed to load"})}),(0,Ly.jsx)(ej,{reservationData:e,isVisible:u===e.id,onClose:()=>h(!1)}),(0,Ly.jsxs)("div",{className:DD,children:[(0,Ly.jsx)("h4",{className:jD,children:e.movie}),(0,Ly.jsxs)("div",{className:FD,children:[(0,Ly.jsxs)("span",{className:ID,children:["\ud83d\udcc5 ",e.date]}),(0,Ly.jsxs)("span",{className:ID,children:["\ud83d\udd50 ",e.time]}),(0,Ly.jsxs)("span",{className:ID,children:["\ud83c\udfaa ",e.theater]}),(0,Ly.jsxs)("span",{className:ID,children:["\ud83d\udcba Seat ",e.seat]})]})]}),(0,Ly.jsx)("div",{className:zD,children:(0,Ly.jsx)("button",{className:BD,onClick:()=>{h(e.id)},children:"\ud83d\udcf1 QR Code"})})]},e.id)))})]}),"history"===e&&(0,Ly.jsxs)("div",{className:LD,children:[(0,Ly.jsx)("h3",{className:vD,children:"\ud83d\udcda Movie History"}),0===w.length?(0,Ly.jsxs)("div",{className:UD,children:[(0,Ly.jsx)("span",{className:HD,children:"\ud83d\udcfd\ufe0f"}),(0,Ly.jsx)("p",{className:GD,children:"No movie history yet"})]}):(0,Ly.jsx)("div",{className:PD,children:w.map((e=>(0,Ly.jsxs)("div",{className:"".concat(ND," ").concat(kD),children:[(0,Ly.jsx)("div",{className:OD,children:(0,Ly.jsx)("img",{style:{width:"100%"},src:e.poster,alt:"failed to load"})}),(0,Ly.jsxs)("div",{className:DD,children:[(0,Ly.jsx)("h4",{className:jD,children:e.movie}),(0,Ly.jsxs)("div",{className:FD,children:[(0,Ly.jsxs)("span",{className:ID,children:["\ud83d\udcc5 ",e.date]}),(0,Ly.jsxs)("span",{className:ID,children:["\ud83d\udd50 ",e.time]}),(0,Ly.jsxs)("span",{className:ID,children:["\ud83c\udfaa ",e.theater]}),(0,Ly.jsxs)("span",{className:ID,children:["\ud83d\udcba Seat ",e.seat]})]})]}),(0,Ly.jsxs)("div",{className:zD,children:[(0,Ly.jsx)("button",{className:BD,children:"\u2b50 Rate Movie"}),(0,Ly.jsx)("button",{className:BD,children:"\ud83d\udd04 Book Again"})]})]},e.id)))})]})]})]})]})}const nj="myReservations_container__T-FPj",ij="myReservations_animatedBackground__LtxWb",rj="myReservations_bgOrb1__T2ZQQ",oj="myReservations_bgOrb2__mAIdI",sj="myReservations_bgOrb3__6PHox",aj="myReservations_reservationsContainer__k2QZl",lj="myReservations_header__2O8rF",cj="myReservations_pageTitle__xiks0",uj="myReservations_subtitle__fpVSm",hj="myReservations_statsGrid__UwoBO",dj="myReservations_statCard__DdSR8",pj="myReservations_statNumber__RGZBF",fj="myReservations_statLabel__G7zsF",mj="myReservations_filterTabs__DFKXa",gj="myReservations_filterBtn__kvOv3",vj="myReservations_activeFilter__RPUhn",yj="myReservations_reservationsList__36b9Q",xj="myReservations_reservationCard__13yFJ",bj="myReservations_moviePoster__R4KTc",wj="myReservations_reservationDetails__SsYf1",_j="myReservations_movieHeader__0ACg9",Sj="myReservations_movieTitle__3tD1D",Mj="myReservations_upcomingBadge__xh5i2",Ej="myReservations_completedBadge__iaMjJ",Tj="myReservations_cancelledBadge__ZNKXJ",Aj="myReservations_movieInfo__eYaPD",Cj="myReservations_infoItem__l8IF4",Rj="myReservations_bookingDetails__dWnYb",Lj="myReservations_detailRow__qnkVz",Pj="myReservations_detailLabel__w0fnP",Nj="myReservations_detailValue__G81cW",kj="myReservations_reservationActions__NeETh",Oj="myReservations_primaryBtn__Vx+4X",Dj="myReservations_secondaryBtn__swa+y",jj="myReservations_dangerBtn__1jwxM",Fj="myReservations_ratingDisplay__htrqK",Ij="myReservations_stars__nSZpd",zj="myReservations_emptyState__B5rbn",Bj="myReservations_emptyIcon__DdPJS",Uj="myReservations_emptyTitle__ZiCVr",Hj="myReservations_emptyText__5YlDO",Gj="myReservations_bookNowBtn__5Tngl",Vj="myReservations_loadingContainer__s946a",Wj="myReservations_errorContainer__iVftZ",qj="myReservations_loadingSpinner__ui8Ov",Xj="myReservations_loadingText__SC0YA",Yj="myReservations_loginBtn__8XiHE";function Jj(){const[e,t]=(0,i.useState)("all"),[n,r]=(0,i.useState)(null),[o,s]=(0,i.useState)(!0),[a,l]=(0,i.useState)([]),c=pv(),h=gv(),[d,p]=(0,i.useState)(null);(0,i.useEffect)((()=>{(async()=>{const e=localStorage.getItem("token");if(!QD()||!e)return h("/login"),void s(!1);const t=KD();if(!t)return h("/login"),void s(!1);r(t);try{const t=await tS.post("".concat(Oy,"/api/reservation/id"),{},{headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(e)}});t.data.success&&(l(t.data.data),console.log("Reservations fetched successfully:",t.data.data))}catch(i){var n;console.log("Error fetching reservations:",i),401===(null===(n=i.response)||void 0===n?void 0:n.status)&&h("/login")}finally{s(!1)}})()}),[h]),console.log("Reservations:",a),(0,i.useEffect)((()=>{window.scrollTo({top:0,left:0,behavior:"smooth"})}),[c.key]);const f=a.filter((t=>"all"===e||t.status===e));if(o)return(0,Ly.jsx)("div",{className:nj,children:(0,Ly.jsxs)("div",{className:Vj,children:[(0,Ly.jsx)("div",{className:qj}),(0,Ly.jsx)("p",{className:Xj,children:"Loading your reservations..."})]})});if(!n)return(0,Ly.jsx)("div",{className:nj,children:(0,Ly.jsxs)("div",{className:Wj,children:[(0,Ly.jsx)("h2",{children:"Unable to load reservations"}),(0,Ly.jsx)("p",{children:"Please try logging in again."}),(0,Ly.jsx)("button",{onClick:()=>h("/login"),className:Yj,children:"Go to Login"})]})});const m=a.filter((e=>"upcoming"===e.status)).length,g=a.filter((e=>"completed"===e.status)).length,v=a.filter((e=>"cancelled"===e.status)).length;return(0,Ly.jsxs)("div",{className:nj,children:[(0,Ly.jsxs)("div",{className:ij,children:[(0,Ly.jsx)("div",{className:rj}),(0,Ly.jsx)("div",{className:oj}),(0,Ly.jsx)("div",{className:sj})]}),(0,Ly.jsxs)("div",{className:aj,children:[(0,Ly.jsxs)("div",{className:lj,children:[(0,Ly.jsx)("h1",{className:cj,children:"\ud83c\udfab My Reservations"}),(0,Ly.jsx)("p",{className:uj,children:"Manage your movie bookings and tickets"}),(0,Ly.jsxs)("div",{className:hj,children:[(0,Ly.jsxs)("div",{className:dj,children:[(0,Ly.jsx)("span",{className:pj,children:a.length}),(0,Ly.jsx)("span",{className:fj,children:"Total Bookings"})]}),(0,Ly.jsxs)("div",{className:dj,children:[(0,Ly.jsx)("span",{className:pj,children:m}),(0,Ly.jsx)("span",{className:fj,children:"Upcoming"})]}),(0,Ly.jsxs)("div",{className:dj,children:[(0,Ly.jsx)("span",{className:pj,children:g}),(0,Ly.jsx)("span",{className:fj,children:"Completed"})]}),(0,Ly.jsxs)("div",{className:dj,children:[(0,Ly.jsx)("span",{className:pj,children:v}),(0,Ly.jsx)("span",{className:fj,children:"Cancelled"})]})]})]}),(0,Ly.jsxs)("div",{className:mj,children:[(0,Ly.jsxs)("button",{className:"".concat(gj," ").concat("all"===e?vj:""),onClick:()=>t("all"),children:["\ud83d\udccb All (",a.length,")"]}),(0,Ly.jsxs)("button",{className:"".concat(gj," ").concat("upcoming"===e?vj:""),onClick:()=>t("upcoming"),children:["\ud83c\udfac Upcoming (",m,")"]}),(0,Ly.jsxs)("button",{className:"".concat(gj," ").concat("completed"===e?vj:""),onClick:()=>t("completed"),children:["\u2705 Completed (",g,")"]}),(0,Ly.jsxs)("button",{className:"".concat(gj," ").concat("cancelled"===e?vj:""),onClick:()=>t("cancelled"),children:["\u274c Cancelled (",v,")"]})]}),(0,Ly.jsx)("div",{className:yj,children:0===f.length?(0,Ly.jsxs)("div",{className:zj,children:[(0,Ly.jsx)("span",{className:Bj,children:"\ud83c\udfad"}),(0,Ly.jsx)("h3",{className:Uj,children:"No reservations found"}),(0,Ly.jsx)("p",{className:Hj,children:"all"===e?"You haven't made any movie reservations yet.":"No ".concat(e," reservations found.")}),(0,Ly.jsx)("button",{onClick:()=>h("/movie_list"),className:Gj,children:"\ud83c\udfac Browse Movies"})]}):f.map((e=>{const t=(e=>{const t={upcoming:{text:"\ud83c\udfac Upcoming",class:Mj},completed:{text:"\u2705 Completed",class:Ej},cancelled:{text:"\u274c Cancelled",class:Tj}};return t[e]||t.upcoming})(e.status);return(0,Ly.jsxs)("div",{className:xj,children:[(0,Ly.jsxs)("div",{className:bj,children:[(0,Ly.jsx)("img",{style:{width:"100%"},src:e.poster,alt:"failed to load"})," "]}),(0,Ly.jsx)(ej,{reservationData:e,isVisible:d===e.id,onClose:()=>p(!1)}),(0,Ly.jsxs)("div",{className:wj,children:[(0,Ly.jsxs)("div",{className:_j,children:[(0,Ly.jsx)("h3",{className:Sj,children:e.movie}),(0,Ly.jsx)("span",{className:t.class,children:t.text})]}),(0,Ly.jsxs)("div",{className:Aj,children:[(0,Ly.jsxs)("span",{className:Cj,children:["\ud83c\udfad ",e.genre]}),(0,Ly.jsxs)("span",{className:Cj,children:["\u23f1\ufe0f ",e.duration]}),(0,Ly.jsxs)("span",{className:Cj,children:["\ud83d\udd1e ",e.rating]})]}),(0,Ly.jsxs)("div",{className:Rj,children:[(0,Ly.jsxs)("div",{className:Lj,children:[(0,Ly.jsx)("span",{className:Pj,children:"\ud83d\udcc5 Show Date:"}),(0,Ly.jsxs)("span",{className:Nj,children:[e.date," at ",e.time]})]}),(0,Ly.jsxs)("div",{className:Lj,children:[(0,Ly.jsx)("span",{className:Pj,children:"\ud83c\udfaa Theater:"}),(0,Ly.jsx)("span",{className:Nj,children:e.theater})]}),(0,Ly.jsxs)("div",{className:Lj,children:[(0,Ly.jsx)("span",{className:Pj,children:"\ud83d\udcba Seat:"}),(0,Ly.jsx)("span",{className:Nj,children:e.seat})]}),(0,Ly.jsxs)("div",{className:Lj,children:[(0,Ly.jsx)("span",{className:Pj,children:"\ud83d\udcb0 Price:"}),(0,Ly.jsx)("span",{className:Nj,children:e.price})]}),(0,Ly.jsxs)("div",{className:Lj,children:[(0,Ly.jsx)("span",{className:Pj,children:"\ud83d\udcdd Booked:"}),(0,Ly.jsx)("span",{className:Nj,children:e.bookingDate})]})]})]}),(0,Ly.jsxs)("div",{className:kj,children:["upcoming"===e.status&&(0,Ly.jsxs)(Ly.Fragment,{children:[(0,Ly.jsx)("button",{className:Dj,onClick:()=>p(e.id),children:"\ud83d\udcf1 QR Code"}),(0,Ly.jsx)("button",{className:jj,onClick:()=>(e=>{if(window.confirm("Are you sure you want to cancel this reservation?")){l((t=>t.map((t=>t.id===e?u(u({},t),{},{status:"cancelled"}):t))));try{tS.delete("".concat(Oy,"/api/reservation/delete/").concat(e),{headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(localStorage.getItem("token"))}})}catch(t){console.error("Error cancelling reservation:",t),alert("Failed to cancel reservation. Please try again later.")}}})(e.id),children:"\u274c Cancel"})]}),"completed"===e.status&&(0,Ly.jsxs)(Ly.Fragment,{children:[(0,Ly.jsxs)(_y,{to:"/movie_list",children:[(0,Ly.jsx)("button",{className:Dj,children:"\ud83d\udd04 Book Again"})," "]}),e.userRating?(0,Ly.jsxs)("div",{className:Fj,children:[(0,Ly.jsx)("span",{children:"Your Rating: "}),(0,Ly.jsx)("span",{className:Ij,children:"\u2b50".repeat(e.userRating)})]}):(0,Ly.jsx)("button",{className:Oj,onClick:()=>{return t=e.id,n=5,void l((e=>e.map((e=>e.id===t?u(u({},e),{},{userRating:n}):e))));var t,n},children:"\u2b50 Rate Movie"})]}),"cancelled"===e.status&&(0,Ly.jsx)(_y,{to:"/movie_list",children:(0,Ly.jsx)("button",{className:Dj,children:"\ud83d\udd04 Book Again"})})]})]},e.id)}))})]})]})}const Zj=[[{id:1,title:"Dune: Part Two",backdrop:"/assets/dune-banner.jpg",desc:"The epic continuation of Paul Atreides' journey"},{id:2,title:"Oppenheimer",backdrop:"/assets/oppenheimer-banner.jpg",desc:"A dramatic look at the father of the atomic bomb"},{id:3,title:"Barbie",backdrop:"/assets/barbie-banner.jpg",desc:"A fun and colorful adventure in Barbie Land"}],[{id:4,title:"Spider-Man: Across the Spider-Verse",backdrop:"/assets/spiderman-banner.jpg",desc:"Miles Morales returns for an epic multiverse adventure."},{id:5,title:"Wonka",backdrop:"/assets/wonka-banner.jpg",desc:"Discover the origin story of Willy Wonka and his chocolate factory."},{id:6,title:"The Marvels",backdrop:"/assets/marvels-banner.jpg",desc:"Captain Marvel teams up with new heroes to save the universe."}],[{id:7,title:"Mission: Impossible ",backdrop:"/assets/mi7-banner.jpg",desc:"Ethan Hunt faces his most dangerous mission yet."},{id:8,title:"Elemental",backdrop:"/assets/elemental-banner.jpg",desc:"A Pixar adventure where fire, water, land, and air live together."},{id:9,title:"Indiana Jones and the Dial of Destiny",backdrop:"/assets/indiana-jones-banner.jpg",desc:"Indiana Jones returns for one last globe-trotting adventure."}]];function Kj(e){let{variant:t}=e;const[n,r]=(0,i.useState)(0);return(0,i.useEffect)((()=>{const e=setInterval((()=>{r((e=>(e+1)%Zj[t-1].length))}),18e3);return()=>clearInterval(e)}),[t]),(0,Ly.jsxs)("section",{className:"hero-section",children:[(0,Ly.jsx)("div",{className:"hero-slider",children:(0,Ly.jsx)(bP,{mode:"wait",children:Zj[t-1].map(((e,t)=>t===n&&(0,Ly.jsx)(pP.div,{className:"hero-slide active",style:{backgroundImage:"url(".concat(e.backdrop,")")},initial:{opacity:0,x:100},animate:{opacity:1,x:0},exit:{opacity:0,x:-100},transition:{duration:.7},"aria-hidden":t!==n,children:(0,Ly.jsx)("div",{className:"hero-content",children:(0,Ly.jsxs)(pP.div,{initial:{y:30,opacity:0},animate:{y:0,opacity:1},transition:{duration:.7,delay:.3},className:"hero-text-content",children:[(0,Ly.jsx)("h1",{children:null===e||void 0===e?void 0:e.title}),(0,Ly.jsx)("p",{children:null===e||void 0===e?void 0:e.desc}),(0,Ly.jsxs)("div",{className:"hero-actions",children:[(0,Ly.jsxs)(_y,{to:"/movie_list",className:"hero-btn play",children:[(0,Ly.jsx)(GP,{})," explore"]}),(0,Ly.jsxs)(_y,{to:"/pricing",className:"hero-btn info",children:[(0,Ly.jsx)(UP,{})," More Info"]})]})]})})},e.id)))})}),(0,Ly.jsx)("div",{className:"hero-indicators",children:Zj[t-1].map(((e,t)=>(0,Ly.jsx)("button",{className:t===n?"active":"",onClick:()=>r(t),"aria-label":"Go to slide ".concat(t+1)},t)))})]})}const Qj={some:0,all:1};function $j(e){let{root:t,margin:n,amount:r,once:o=!1,initial:s=!1}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const[a,l]=(0,i.useState)(s);return(0,i.useEffect)((()=>{if(!e.current||o&&a)return;const i={root:t&&t.current||void 0,margin:n,amount:r};return function(e,t){let{root:n,margin:i,amount:r="some"}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const o=bR(e),s=new WeakMap,a=new IntersectionObserver((e=>{e.forEach((e=>{const n=s.get(e.target);if(e.isIntersecting!==Boolean(n))if(e.isIntersecting){const n=t(e.target,e);"function"===typeof n?s.set(e.target,n):a.unobserve(e.target)}else"function"===typeof n&&(n(e),s.delete(e.target))}))}),{root:n,rootMargin:i,threshold:"number"===typeof r?r:Qj[r]});return o.forEach((e=>a.observe(e))),()=>a.disconnect()}(e.current,(()=>(l(!0),o?void 0:()=>l(!1))),i)}),[t,e,n,o,r]),a}function eF(e,t){[...t].reverse().forEach((n=>{const i=e.getVariant(n);i&&GS(e,i),e.variantChildren&&e.variantChildren.forEach((e=>{eF(e,t)}))}))}function tF(){let e=!1;const t=new Set,n={subscribe:e=>(t.add(e),()=>{t.delete(e)}),start(e,n){const i=[];return t.forEach((t=>{i.push(BT(t,e,{transitionOverride:n}))})),Promise.all(i)},set:e=>t.forEach((t=>{!function(e,t){Array.isArray(t)?eF(e,t):"string"===typeof t?eF(e,[t]):GS(e,t)}(t,e)})),stop(){t.forEach((e=>{!function(e){e.values.forEach((e=>e.stop()))}(e)}))},mount:()=>(e=!0,()=>{e=!1,n.stop()})};return n}const nF=function(){const e=RL(tF);return $R(e.mount,[]),e};function iF(){const e=(0,i.useRef)(null),t=$j(e,{margin:"-20%"}),n=nF(),r=nF(),o=pv();return(0,i.useEffect)((()=>{window.scrollTo({top:0,left:0,behavior:"smooth"})}),[o.key]),(0,i.useEffect)((()=>{t?(r.start("visible"),n.start("visible")):(r.start("hidden"),n.start("hidden"))}),[t]),(0,i.useEffect)((()=>{if(window.innerWidth<=1024||/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent))return;const e=document.querySelectorAll(".parallax-section");let t=null,n=window.pageYOffset;const i=()=>{const i=-.2*n;e.forEach((e=>{e.style.backgroundPosition="center ".concat(i,"px")})),t=null},r=()=>{n=window.pageYOffset,null===t&&(t=window.requestAnimationFrame(i))};return r(),window.addEventListener("scroll",r,{passive:!0}),()=>{window.removeEventListener("scroll",r),null!==t&&window.cancelAnimationFrame(t)}}),[]),(0,i.useEffect)((()=>{["/images/cinema-1.jpg","/images/cinema-2.jpg"].forEach((e=>{(new Image).src=e}))}),[]),(0,Ly.jsxs)("div",{className:"app",children:[(0,Ly.jsx)("img",{src:"/images/cinema-1.jpg",alt:"","aria-hidden":"true",fetchPriority:"high",loading:"eager",style:{position:"absolute",width:0,height:0,opacity:0,pointerEvents:"none"}}),(0,Ly.jsxs)("main",{className:"main-content",children:[(0,Ly.jsxs)("section",{className:"parallax-section now-showing",ref:e,style:{overflow:"hidden"},children:[(0,Ly.jsxs)(pP.div,{className:"content",variants:{hidden:{opacity:0,y:40},visible:{opacity:1,y:0}},initial:"hidden",animate:"visible",transition:{duration:1.5,delay:2},style:{position:"absolute"},children:[(0,Ly.jsx)("h2",{children:"\ud83c\udf7f Your Perfect Movie Night Starts With One Click"}),(0,Ly.jsxs)("div",{className:"movie-grid-homepage",children:[(0,Ly.jsx)(zP,{className:"Icon"}),(0,Ly.jsx)(qP,{className:"Icon"}),(0,Ly.jsx)(JP,{className:"Icon"}),(0,Ly.jsx)(BP,{className:"Icon"})]})]}),(0,Ly.jsx)(pP.div,{variants:{hidden:{left:0},visible:{left:"100%"}},initial:"hidden",animate:"visible",transition:{duration:1.5,ease:"easeInOut",delay:1.5},style:{position:"absolute",top:"50",left:"0",right:"0",background:"linear-gradient(to right,rgb(131, 56, 38),rgb(172, 157, 145))",padding:"10px",borderRadius:"50px",color:"#fff",textAlign:"center",zIndex:1,boxShadow:"0 4px 8px rgba(0,0,0,0.2)",width:"80%",height:"30%"},children:(0,Ly.jsxs)("div",{style:{fontSize:"20px",display:"flex"},children:[(0,Ly.jsx)("h2",{style:{justifyContent:"center",alignItems:"center",color:"black",paddingRight:"20px"},children:" Get Started "})," "]})})]}),(0,Ly.jsx)("section",{className:"info-section",children:(0,Ly.jsxs)("div",{className:"content",ref:e,style:{position:"relative",overflow:"hidden",width:"100%",height:"100px"},children:[(0,Ly.jsx)(pP.div,{variants:{hidden:{opacity:0,y:40},visible:{opacity:1,y:0}},initial:"hidden",animate:r,transition:{duration:1.5,delay:.5},style:{position:"absolute"},children:(0,Ly.jsxs)("div",{children:[" ",(0,Ly.jsx)("h2",{children:"Experience Cinema Like Never Before "}),(0,Ly.jsx)("p",{children:"Book your tickets online and enjoy exclusive deals"})," "]})}),(0,Ly.jsx)(pP.div,{variants:{hidden:{left:0},visible:{left:"100%"}},initial:"hidden",animate:n,transition:{duration:1.5,ease:"easeInOut",delay:.5},style:{position:"absolute",top:"5",left:"0",right:"0",background:"linear-gradient(to right, #ff7e5f,rgb(172, 157, 145))",padding:"10px",borderRadius:"20px",color:"#fff",textAlign:"center",zIndex:1,boxShadow:"0 4px 8px rgba(0,0,0,0.2)",width:"60%",height:"100%"},children:(0,Ly.jsxs)("div",{style:{display:"flex",justifyContent:"center",alignItems:"center"},children:[(0,Ly.jsx)("div",{style:{color:"black",fontSize:"2rem"},children:" \ud83c\udfa5 Where Every Frame Comes to Life "})," "]})})]})}),(0,Ly.jsx)("section",{className:"parallax-section coming-soon",width:"100%",height:"100%",style:{overflow:"hidden"},children:(0,Ly.jsx)(pP.div,{variants:{hidden:{opacity:1,y:0},visible:{opacity:0,y:20}},initial:"hidden",animate:r,transition:{duration:1.5,delay:.5},style:{position:"absolute",width:"100%",height:"100%",backgroundImage:"url(/assets/coming-soon-banner.jpg)",backgroundSize:"cover",backgroundPosition:"center",display:"flex",justifyContent:"center",alignItems:"center",color:"#fff",textAlign:"center"},children:(0,Ly.jsxs)("div",{className:"content",children:[(0,Ly.jsx)("h2",{children:"Coming Soon"}),(0,Ly.jsx)("div",{className:"movie-grid",children:(0,Ly.jsx)(Kj,{variant:"1"})})]})})}),(0,Ly.jsxs)("section",{className:"features-section",children:[(0,Ly.jsxs)("div",{className:"content",children:[(0,Ly.jsx)("h2",{style:{color:"#fff"},children:(0,Ly.jsx)("span",{className:"underline-transition",children:"Why Choose Us"})}),(0,Ly.jsxs)("div",{className:"features-grid",children:[(0,Ly.jsxs)("div",{className:"feature",children:[(0,Ly.jsx)("h3",{children:"Premium Experience"}),(0,Ly.jsx)("p",{children:(0,Ly.jsx)("span",{className:"underline-transition",children:"State-of-the-art screens and sound systems"})})]}),(0,Ly.jsxs)("div",{className:"feature",children:[(0,Ly.jsx)("h3",{children:"Easy Booking"}),(0,Ly.jsx)("p",{children:(0,Ly.jsx)("span",{className:"underline-transition",children:"Book tickets in seconds with our intuitive platform"})})]}),(0,Ly.jsxs)("div",{className:"feature",children:[(0,Ly.jsx)("h3",{children:"Great Deals"}),(0,Ly.jsx)("p",{children:(0,Ly.jsx)("span",{className:"underline-transition",children:" Regular discounts and special offers"})})]})]})]}),(0,Ly.jsx)("div",{style:{display:"flex",justifyContent:"center",alignItems:"center"},children:(0,Ly.jsx)(_y,{to:"/movie_list",children:(0,Ly.jsx)("div",{class:"cta-section",children:(0,Ly.jsxs)("div",{class:"book-now",children:["Book Now",(0,Ly.jsx)("span",{class:"arrow",children:" \u2192 "})]})})})})]})]})]})}const rF=new MN,oF=e=>e.element.type===Xk?(0,Ly.jsx)(Xk,{}):(0,Ly.jsxs)("div",{children:[(0,Ly.jsx)(QP,{}),e.element,(0,Ly.jsx)($P,{})]}),sF=(aF=[{path:"/",element:(0,Ly.jsx)(oF,{element:(0,Ly.jsx)(iF,{})})},{path:"/home",element:(0,Ly.jsx)(oF,{element:(0,Ly.jsx)(iF,{})})},{path:"/login",element:(0,Ly.jsx)(oF,{element:(0,Ly.jsx)(Dy,{})})},{path:"/register",element:(0,Ly.jsx)(oF,{element:(0,Ly.jsx)(jy,{})})},{path:"/movie_list",element:(0,Ly.jsx)(oF,{element:(0,Ly.jsx)(hS,{})})},{path:"/movie/:id",element:(0,Ly.jsx)(oF,{element:(0,Ly.jsx)(Gk,{})})},{path:"/terms",element:(0,Ly.jsx)(oF,{element:(0,Ly.jsx)(Vk,{})})},{path:"/pricing",element:(0,Ly.jsx)(oF,{element:(0,Ly.jsx)(qO,{})})},{path:"/profile",element:(0,Ly.jsx)(oF,{element:(0,Ly.jsx)(tj,{})})},{path:"/my-reservations",element:(0,Ly.jsx)(oF,{element:(0,Ly.jsx)(Jj,{})})},{path:"*",element:(0,Ly.jsx)(oF,{element:(0,Ly.jsx)(Xk,{})})}],ug({basename:null===lF||void 0===lF?void 0:lF.basename,unstable_getContext:null===lF||void 0===lF?void 0:lF.unstable_getContext,future:null===lF||void 0===lF?void 0:lF.future,history:um({window:null===lF||void 0===lF?void 0:lF.window}),hydrationData:(null===lF||void 0===lF?void 0:lF.hydrationData)||xy(),routes:aF,mapRouteProperties:Ov,hydrationRouteProperties:Dv,dataStrategy:null===lF||void 0===lF?void 0:lF.dataStrategy,patchRoutesOnNavigation:null===lF||void 0===lF?void 0:lF.patchRoutesOnNavigation,window:null===lF||void 0===lF?void 0:lF.window}).initialize());var aF,lF;r.createRoot(document.getElementById("root")).render((0,Ly.jsx)(i.StrictMode,{children:(0,Ly.jsx)(Tb,{client:rF,children:(0,Ly.jsx)(Iy,{router:sF})})})),o()})()})();
//# sourceMappingURL=main.d234f12a.js.map